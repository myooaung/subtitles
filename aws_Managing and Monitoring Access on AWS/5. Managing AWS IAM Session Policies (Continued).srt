1
00:00:01,040 --> 00:00:04,600
[Autogenerated] in this section we will go on with a couple of addiction.

2
00:00:04,600 --> 00:00:11,230
Aleshin Aires related to session Policy topic In this scenario

3
00:00:11,230 --> 00:00:14,740
which we will denote as the inter account scenario,

4
00:00:14,740 --> 00:00:19,980
Robert is a user residing in AWS account of global Mantex partner,

5
00:00:19,980 --> 00:00:24,150
your task is an 80 administrator off Global Mantex is to provide

6
00:00:24,150 --> 00:00:28,580
Robert temporary access with full of me in power.

7
00:00:28,580 --> 00:00:32,360
As you can see, I'm locked as Bob in AWS account.

8
00:00:32,360 --> 00:00:39,440
We have used the so far which we will call our main AWS account.

9
00:00:39,440 --> 00:00:44,440
We moved to the role tabs and let's start to create a role.

10
00:00:44,440 --> 00:00:50,110
First thing you have to decide is the type of trusted entity For these scenario.

11
00:00:50,110 --> 00:00:54,740
We use the second tub named another AWS account.

12
00:00:54,740 --> 00:00:58,680
We are asked to enter the AWS account i d.

13
00:00:58,680 --> 00:01:03,350
And here I would provided the ideal off my secondary AWS account.

14
00:01:03,350 --> 00:01:03,990
Also,

15
00:01:03,990 --> 00:01:08,000
I will request that user covert in this role must have MF a

16
00:01:08,000 --> 00:01:10,920
device enabled just to increase security,

17
00:01:10,920 --> 00:01:11,390
you know,

18
00:01:11,390 --> 00:01:15,480
Then we moved to permissions and provided as requested

19
00:01:15,480 --> 00:01:18,320
by the task full admin privileges.

20
00:01:18,320 --> 00:01:24,130
Let's keep for the moment the tag page and let's provide a meaningful name.

21
00:01:24,130 --> 00:01:29,350
I think, Robert Dash External feats here role is created.

22
00:01:29,350 --> 00:01:34,540
Let me just point out if you click on role and enter the trust tub,

23
00:01:34,540 --> 00:01:37,810
you see that the trust relationship has been created between

24
00:01:37,810 --> 00:01:41,780
current account and another AWS account.

25
00:01:41,780 --> 00:01:45,580
Bay means off the roll object.

26
00:01:45,580 --> 00:01:48,040
Now the fun part.

27
00:01:48,040 --> 00:01:53,510
Let me log into my secondary alias account as Robert let me over in

28
00:01:53,510 --> 00:01:59,140
the drop down menu and click the switch roll button.

29
00:01:59,140 --> 00:02:03,800
You are asked to provide the I d off the AWS account where

30
00:02:03,800 --> 00:02:08,940
we're landing and the rule name and done.

31
00:02:08,940 --> 00:02:14,160
We have been magically redirected to the main AWS account and we are

32
00:02:14,160 --> 00:02:19,350
lorded here as Robert let me check as three resources.

33
00:02:19,350 --> 00:02:23,800
All s three boxes creates so far are here Does proving that we have

34
00:02:23,800 --> 00:02:29,080
successfully implemented across account authorization by means of roles and

35
00:02:29,080 --> 00:02:32,950
the session policy finally to leave the assume it roll.

36
00:02:32,950 --> 00:02:35,550
All we have to do is to hit to the bottom,

37
00:02:35,550 --> 00:02:42,480
name the back to Robert, and we are redirected to the secondary AWS account.

38
00:02:42,480 --> 00:02:45,830
And is she an area which we will denote as the service rolled

39
00:02:45,830 --> 00:02:50,810
scenario Global Mantex developer has some instances which needs

40
00:02:50,810 --> 00:02:53,040
to connect it to s three buckets.

41
00:02:53,040 --> 00:02:56,510
Your task as an 80 administrator off Global Mantex

42
00:02:56,510 --> 00:02:58,480
is to provide easy to instance,

43
00:02:58,480 --> 00:03:03,240
proper temporary privileges to access s three results is

44
00:03:03,240 --> 00:03:07,450
let's look in as Bob on our main AWS account.

45
00:03:07,450 --> 00:03:10,140
And let's move too easy to dashboard.

46
00:03:10,140 --> 00:03:13,460
I have already my test Easy to instance, in place.

47
00:03:13,460 --> 00:03:16,340
Let's attach a roll on it.

48
00:03:16,340 --> 00:03:18,900
Let's create a new role.

49
00:03:18,900 --> 00:03:22,820
Let me specify the trust entity type, which in this case,

50
00:03:22,820 --> 00:03:26,140
is AWS easy to service.

51
00:03:26,140 --> 00:03:29,550
Now we move to the permission tub and we selected the pre

52
00:03:29,550 --> 00:03:33,140
configure the S three full access policy.

53
00:03:33,140 --> 00:03:37,720
Let me skip the tag page and let me provide a meaningful name here.

54
00:03:37,720 --> 00:03:43,490
Something like easy to dash role will feet back to easy to

55
00:03:43,490 --> 00:03:47,540
dashboard window was selected the role we have just created

56
00:03:47,540 --> 00:03:53,880
and in a matter of seconds, the role is associated with our easy to instance.

57
00:03:53,880 --> 00:03:58,760
Now we move to see a lie I have broken figured that the easy to machine

58
00:03:58,760 --> 00:04:04,580
with Aws Pitre Necessity K called the boat or three and I have created a

59
00:04:04,580 --> 00:04:09,100
very simple script which least all the buckets residing in the current

60
00:04:09,100 --> 00:04:13,170
AWS account when we run this creep that we can see that all buckets are

61
00:04:13,170 --> 00:04:14,580
chronically listed.

62
00:04:14,580 --> 00:04:15,740
Okay, One moment.

63
00:04:15,740 --> 00:04:20,510
Who has provide the easy to with credentials to access to the S three buckets?

64
00:04:20,510 --> 00:04:24,640
If we retrieve security, metadata off the easy to instance,

65
00:04:24,640 --> 00:04:28,410
we can see that a complete set of credential as being pushed to

66
00:04:28,410 --> 00:04:30,930
the instance when we have attached the role.

67
00:04:30,930 --> 00:04:32,540
With this set of credential,

68
00:04:32,540 --> 00:04:37,040
we have been able to run the script and to retrieve the least of markets.

69
00:04:37,040 --> 00:04:38,930
Just a final note.

70
00:04:38,930 --> 00:04:42,520
Let me switch to the dashboard in the role description

71
00:04:42,520 --> 00:04:46,240
and go to revoke session bucket.

72
00:04:46,240 --> 00:04:51,530
Let me here to the revoke session button and confirm now it was which again,

73
00:04:51,530 --> 00:04:53,970
Back to seal interface and run again.

74
00:04:53,970 --> 00:04:59,060
The same bite on script will receive a never does proving that the

75
00:04:59,060 --> 00:05:07,000
set of credential granted by the role is temporary and can be revoked at any time by an administrator

