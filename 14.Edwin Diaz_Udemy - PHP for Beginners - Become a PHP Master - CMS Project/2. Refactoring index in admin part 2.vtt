WEBVTT
1
00:00:00.660 --> 00:00:04.700
All right welcome back my students on the last lecture we refactor a lot of cold here.

2
00:00:04.720 --> 00:00:05.960
Looks a lot better like this.

3
00:00:05.960 --> 00:00:06.850
All right.

4
00:00:07.020 --> 00:00:09.540
Now let's work on this real quick here.

5
00:00:09.540 --> 00:00:09.990
All right.

6
00:00:09.990 --> 00:00:16.170
We can create a function that will give us the status of all this three pieces of code here and take

7
00:00:16.170 --> 00:00:18.630
all this off and just have a function here right.

8
00:00:18.630 --> 00:00:21.660
Just one little function call.

9
00:00:21.660 --> 00:00:22.110
All right.

10
00:00:22.230 --> 00:00:23.240
So how can we do this.

11
00:00:23.250 --> 00:00:26.420
Well first of all let's create a function.

12
00:00:26.430 --> 00:00:26.990
All right.

13
00:00:27.240 --> 00:00:30.420
So we can name the function whatever we want.

14
00:00:30.420 --> 00:00:39.480
All right let's just go to functions of BHB and come back here and say something like a function check

15
00:00:39.480 --> 00:00:40.260
status

16
00:00:44.100 --> 00:00:46.900
and this function is going to take a couple of parameters right.

17
00:00:47.160 --> 00:00:59.360
Because we have here we have we have the the table we have the column name and we have this status.

18
00:00:59.490 --> 00:01:00.030
Right.

19
00:01:00.180 --> 00:01:03.630
The value.

20
00:01:03.630 --> 00:01:03.900
All right.

21
00:01:03.900 --> 00:01:06.180
Let's just do this.

22
00:01:06.570 --> 00:01:10.000
So let's give it and make this a little bigger.

23
00:01:10.080 --> 00:01:11.960
Just in case you don't see a

24
00:01:16.200 --> 00:01:16.710
table

25
00:01:19.320 --> 00:01:25.530
and column name hopefully I'm spelling that correctly.

26
00:01:25.680 --> 00:01:32.430
And the next thing would be the status.

27
00:01:32.430 --> 00:01:34.200
All right.

28
00:01:34.200 --> 00:01:34.890
Perfect.

29
00:01:34.950 --> 00:01:39.810
So let's grab all this coal that we have here.

30
00:01:40.230 --> 00:01:41.940
I'm sitting here.

31
00:01:41.940 --> 00:01:45.280
We are also going to grab this guy right here.

32
00:01:45.280 --> 00:01:49.620
Place it in there and we are going to grab this

33
00:01:52.120 --> 00:01:57.820
Bastet in here.

34
00:01:58.580 --> 00:02:00.840
We're going to be returning this guy right here.

35
00:02:00.870 --> 00:02:05.530
You should know how to do this already.

36
00:02:06.810 --> 00:02:13.140
So we're going to be returning from the table and column

37
00:02:17.040 --> 00:02:18.300
and status.

38
00:02:18.300 --> 00:02:19.550
There we go.

39
00:02:19.560 --> 00:02:20.350
All right.

40
00:02:20.670 --> 00:02:28.500
Beautiful I think it makes a lot of sense like this and this could be called the resort.

41
00:02:28.520 --> 00:02:30.380
There we go.

42
00:02:32.400 --> 00:02:36.500
Whoops.

43
00:02:36.510 --> 00:02:38.290
If you want to do that.

44
00:02:39.200 --> 00:02:40.030
All right.

45
00:02:40.350 --> 00:02:50.010
Now here we need to change the name of this two polls because that's the table that we are requesting

46
00:02:50.010 --> 00:02:51.590
information from right.

47
00:02:51.870 --> 00:02:55.880
And the status is the column name.

48
00:02:57.270 --> 00:03:04.820
And this will be published because we are want to know the status of the published.

49
00:03:04.830 --> 00:03:06.170
All right.

50
00:03:06.360 --> 00:03:07.570
And I think we're good.

51
00:03:07.570 --> 00:03:11.690
Make sure that you save your files.

52
00:03:11.790 --> 00:03:13.260
All right.

53
00:03:13.460 --> 00:03:15.930
And it's come back here real quick and see

54
00:03:19.460 --> 00:03:20.920
come back here.

55
00:03:20.930 --> 00:03:28.540
And I think we all knew I was forgetting something little connection.

56
00:03:28.680 --> 00:03:43.380
I'll save it and let's come back here and whoops back thing 239.

57
00:03:48.390 --> 00:03:49.830
We have an error somewhere here.

58
00:03:49.830 --> 00:03:51.410
I don't see.

59
00:03:51.910 --> 00:03:57.690
Oh of course we're forgetting the dollar symbol there.

60
00:03:57.700 --> 00:03:58.670
There we go.

61
00:03:59.040 --> 00:04:05.370
And then we have a problem with my squall line to 46 stories for some reason he's not getting the Querrey

62
00:04:05.620 --> 00:04:08.620
the gnome rolls.

63
00:04:08.720 --> 00:04:14.010
It's we we have a problem with equerry So in this case we're going to grab this confirm Querrey function

64
00:04:14.010 --> 00:04:17.430
just to make sure that we know what in the is going on.

65
00:04:17.430 --> 00:04:21.250
Save it come back here and refresh it.

66
00:04:21.330 --> 00:04:24.120
And he says I have a syntax problem somewhere.

67
00:04:24.140 --> 00:04:24.590
All right.

68
00:04:24.600 --> 00:04:28.200
I wish you would tell me exactly what the syntax problem is.

69
00:04:28.500 --> 00:04:34.920
So that way I don't have to you know go crazy trying to find out but I know what the syntax problem

70
00:04:34.920 --> 00:04:35.130
is.

71
00:04:35.130 --> 00:04:37.320
It's just this little dollar symbol here.

72
00:04:37.550 --> 00:04:39.470
And you guys probably already saw that.

73
00:04:39.540 --> 00:04:41.600
Good.

74
00:04:41.640 --> 00:04:51.220
So you're telling me that I have another problem where column equal status and we are missing a single

75
00:04:51.240 --> 00:04:51.450
call.

76
00:04:51.450 --> 00:04:53.970
There we go.

77
00:04:53.970 --> 00:04:54.660
There we go.

78
00:04:54.660 --> 00:04:56.500
Now it's working.

79
00:04:56.550 --> 00:04:57.030
All right.

80
00:04:57.120 --> 00:05:03.170
So right now he's saying that we have a draft draft plus one.

81
00:05:03.300 --> 00:05:05.670
So if I change this to draft let's see what happens.

82
00:05:05.700 --> 00:05:12.450
So let's check this going change the status he had to draft on this function Let's see if it works save

83
00:05:12.450 --> 00:05:14.870
it come back and refresh it.

84
00:05:14.940 --> 00:05:16.760
And as you can see a change.

85
00:05:17.160 --> 00:05:17.490
All right.

86
00:05:17.490 --> 00:05:18.780
So that function is working.

87
00:05:18.780 --> 00:05:20.330
That's beautiful.

88
00:05:20.430 --> 00:05:35.200
So let's do this here and now what we gotta do is grab this guy right here at change is to draft look

89
00:05:35.200 --> 00:05:41.260
at that come back here still working.

90
00:05:41.300 --> 00:05:49.090
Right now we've got to come back here again and come in remember these columns are I just going to paste

91
00:05:49.090 --> 00:05:51.950
that in here so that we're working.

92
00:05:52.120 --> 00:06:01.890
Remember these columns so we gonna grab everything from comments come in status right here and we're

93
00:06:01.900 --> 00:06:03.260
looking for on the proof.

94
00:06:03.280 --> 00:06:03.640
Oops

95
00:06:06.830 --> 00:06:08.530
there we go.

96
00:06:09.880 --> 00:06:11.630
Let's just take that off.

97
00:06:11.650 --> 00:06:12.680
Save it.

98
00:06:12.730 --> 00:06:17.560
Come back here and you stay the same.

99
00:06:17.560 --> 00:06:19.780
Look at that.

100
00:06:19.780 --> 00:06:20.720
All right.

101
00:06:20.830 --> 00:06:22.390
Beautiful.

102
00:06:22.390 --> 00:06:28.080
So just in case.

103
00:06:28.090 --> 00:06:32.370
No this is not.

104
00:06:33.400 --> 00:06:35.680
See that hole.

105
00:06:35.920 --> 00:06:37.430
Beautiful.

106
00:06:37.480 --> 00:06:46.260
So just in case you want to find the approved one now we refactor all this into smaller functions here.

107
00:06:46.420 --> 00:06:51.840
And you can again come in your cold and you know make sure that you know exactly what this is doing

108
00:06:51.850 --> 00:06:55.720
so that way you don't have all this mess later on.

109
00:06:55.720 --> 00:06:58.840
Now we can refactor this one as well.

110
00:06:58.840 --> 00:06:59.570
All right.

111
00:06:59.740 --> 00:07:06.100
And I'm going to give that to you because this is super easy.

112
00:07:06.100 --> 00:07:06.910
All right.

113
00:07:07.330 --> 00:07:07.600
All right.

114
00:07:07.600 --> 00:07:10.480
You know what let's just do it right now real quick.

115
00:07:11.140 --> 00:07:16.400
Let's just do a function check use or roll.

116
00:07:16.420 --> 00:07:17.900
I loved doing this stuff.

117
00:07:17.920 --> 00:07:21.210
So this is got to take how many parameters is it going to take.

118
00:07:21.220 --> 00:07:24.580
And if I can find the function again that would be nice.

119
00:07:24.580 --> 00:07:29.200
All right we're going to take three Look at that and just kind of copy this so I know how many parameters

120
00:07:29.200 --> 00:07:30.440
it's going to take.

121
00:07:30.520 --> 00:07:42.520
So it's going to take a table name the parameters as the one almost right roll and the actually that

122
00:07:43.240 --> 00:07:44.230
would be the column name.

123
00:07:44.230 --> 00:07:49.120
Sorry about that column.

124
00:07:50.220 --> 00:07:52.730
All right.

125
00:07:55.210 --> 00:08:16.420
So just going with these here and so what else is take is out of here.

126
00:08:24.290 --> 00:08:24.490
I

127
00:08:30.430 --> 00:08:31.630
hope you see what I'm doing.

128
00:08:32.530 --> 00:08:36.330
It's super simple.

129
00:08:36.490 --> 00:08:37.570
Then we're going to replace this.

130
00:08:37.570 --> 00:08:39.750
We're going to do basically the same thing we did in the

131
00:08:43.220 --> 00:08:46.890
U.S. Remember this is a user rule right.

132
00:08:48.030 --> 00:08:48.670
And the rule

133
00:08:51.850 --> 00:08:59.140
is super simple.

134
00:08:59.350 --> 00:09:00.400
All right.

135
00:09:00.400 --> 00:09:04.540
So what is a table users right.

136
00:09:05.050 --> 00:09:07.210
What is the column.

137
00:09:07.630 --> 00:09:12.460
I already forgot you see that I think is user rule and

138
00:09:15.340 --> 00:09:22.610
subscriber I guess subscriber.

139
00:09:23.520 --> 00:09:25.000
See I don't think we should see.

140
00:09:25.000 --> 00:09:27.400
Let me show you save your file.

141
00:09:27.400 --> 00:09:30.750
We shouldn't see that much change because we have zero subscribers there.

142
00:09:30.770 --> 00:09:39.990
But oops again again again guys I'm trying to do this fast because I just got a message from wife Ann

143
00:09:44.220 --> 00:09:50.300
and she just wants me to go and eat with her or something like that so subscriber's.

144
00:09:50.400 --> 00:09:59.600
So then we're going to come here and we can check for admin ups here but here at me.

145
00:10:00.730 --> 00:10:03.980
Let's check this out real quick and see what happens.

146
00:10:04.600 --> 00:10:06.370
Oh look at that.

147
00:10:06.370 --> 00:10:08.630
He says we have two admins here.

148
00:10:08.750 --> 00:10:09.680
Hmm.

149
00:10:09.820 --> 00:10:10.850
Beautiful.

150
00:10:10.970 --> 00:10:11.690
Let's.

151
00:10:11.800 --> 00:10:15.020
So now we can check for user rules.

152
00:10:15.120 --> 00:10:15.810
All right.

153
00:10:16.150 --> 00:10:22.900
Without too much hassle let's create a subscriber's and see this thing actually a little better.

154
00:10:22.900 --> 00:10:24.910
So let's making our subscriber.

155
00:10:25.180 --> 00:10:30.490
Let's go back to our dash war and we're going to see a subscriber.

156
00:10:30.490 --> 00:10:32.950
All right and we can make another column here and put.

157
00:10:32.950 --> 00:10:34.300
How many minutes we got.

158
00:10:34.300 --> 00:10:34.660
All right.

159
00:10:34.660 --> 00:10:39.820
So hopefully you can see how beautiful this is when we are refactoring our code.

160
00:10:39.880 --> 00:10:42.700
You know how everything looks a lot better.

161
00:10:42.700 --> 00:10:47.010
Let's just take this idea there.

162
00:10:47.020 --> 00:10:48.410
All right.

163
00:10:48.520 --> 00:10:55.150
So beautiful hopefully hopefully you learn a lot and hopefully you can keep doing this through our your

164
00:10:55.900 --> 00:10:58.540
your application to make everything work better.

165
00:10:58.540 --> 00:11:01.700
All right you can try to do something here as well if you want.

166
00:11:02.110 --> 00:11:03.570
All right.

167
00:11:04.450 --> 00:11:09.510
And refactor your code to make just look better.

168
00:11:11.190 --> 00:11:17.640
All right so thank you so much for watching and I'll see you in the net lectures
