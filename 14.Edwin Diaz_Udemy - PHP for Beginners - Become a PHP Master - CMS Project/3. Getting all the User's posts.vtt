WEBVTT
1
00:00:01.160 --> 00:00:01.980
OK.

2
00:00:02.080 --> 00:00:05.290
So let's start again now.

3
00:00:05.320 --> 00:00:10.930
We're going to be working on my data on the index that BHB more than the other for now because it starts

4
00:00:10.930 --> 00:00:11.920
from the top down.

5
00:00:11.950 --> 00:00:18.170
We're going to start from there and we're going to start from this botches first grade we study here

6
00:00:18.170 --> 00:00:18.680
already.

7
00:00:18.730 --> 00:00:26.320
Going to start with the post comments and stuff and other things but I want to create a really cool

8
00:00:26.350 --> 00:00:31.290
helper functions that are going to help us personalize this better for the user.

9
00:00:31.300 --> 00:00:41.560
So let me just come back here and minimize this and then the make sure my code is a little bit more

10
00:00:41.560 --> 00:00:42.670
organized there.

11
00:00:42.790 --> 00:00:48.170
Now the next one is this one here we're going to we need to get depost what we can.

12
00:00:48.190 --> 00:00:52.210
We don't want to get all the polls when we get the polls for this specific use or that's low then.

13
00:00:52.240 --> 00:00:52.940
OK.

14
00:00:53.200 --> 00:01:02.620
So what I'm going to do is I'm going to copy this stuff OK and I'm going to take it to the back so I

15
00:01:02.620 --> 00:01:03.360
can play with it.

16
00:01:03.400 --> 00:01:05.210
And then I take it to the functions.

17
00:01:05.640 --> 00:01:10.020
OK now let's make a nother separation here.

18
00:01:12.790 --> 00:01:20.290
I'm going to make sure that this is and here and and I'm going to

19
00:01:25.540 --> 00:01:32.070
this should be a general function the helper function should be their general function should be above

20
00:01:34.330 --> 00:01:39.200
that's fine should be their identification functions here.

21
00:01:39.370 --> 00:01:43.310
And more specific functions should be down below that indication.

22
00:01:43.880 --> 00:01:44.420
OK.

23
00:01:44.470 --> 00:01:45.940
So this would be

24
00:01:50.020 --> 00:01:55.630
user specific help or specific help.

25
00:01:57.670 --> 00:02:05.600
And they all should have a nice day anyway so let's grab the code that we pasted from the back from

26
00:02:05.600 --> 00:02:11.210
the index and let's put it

27
00:02:14.610 --> 00:02:15.420
right here.

28
00:02:15.460 --> 00:02:19.280
Make sure you have you and comments here.

29
00:02:21.140 --> 00:02:22.940
OK.

30
00:02:23.400 --> 00:02:29.530
We're going to create what is it that we want to do first let's just move this here.

31
00:02:29.810 --> 00:02:34.930
We want to grab all the user's posts so let's name a function or something similar to that.

32
00:02:35.000 --> 00:02:44.360
So get user posts or let's be more specific it doesn't matter how long it is as long as it's very specific

33
00:02:44.360 --> 00:02:49.370
it's good get all user posts simple.

34
00:02:49.410 --> 00:02:57.240
And now let's move that code to the top here and you guys know what we need to do here.

35
00:02:57.350 --> 00:02:58.750
We can use Querrey

36
00:03:02.960 --> 00:03:10.660
here and we don't need any of these stuff and we just changed the name here to a.

37
00:03:10.850 --> 00:03:12.300
That's what that is.

38
00:03:13.750 --> 00:03:18.010
It's a matter of fact and we don't know this stuff.

39
00:03:18.220 --> 00:03:20.250
Let's just return it just like that.

40
00:03:20.260 --> 00:03:21.530
What do you guys think.

41
00:03:21.610 --> 00:03:30.520
I think dashes of fi's should be sufficient to do what we want but we are missing a we're missing a

42
00:03:30.520 --> 00:03:31.930
very key ingredient.

43
00:03:32.110 --> 00:03:33.700
We don't want to return.

44
00:03:33.850 --> 00:03:42.420
And what is the we go we are we don't want to return all the posts like we were before.

45
00:03:42.600 --> 00:03:46.770
Well we want to do is return to pose for the use of that a little den.

46
00:03:46.960 --> 00:03:52.770
So we're going to select all from polls where the user ID.

47
00:03:53.480 --> 00:04:01.810
OK equals the logged in user ID and we have a function for that that we created in there like in the

48
00:04:01.810 --> 00:04:03.670
likes section.

49
00:04:03.760 --> 00:04:04.420
Right.

50
00:04:04.720 --> 00:04:09.940
So its called logged in user ID which is beautiful right.

51
00:04:09.980 --> 00:04:12.240
The Help Help us out a lot.

52
00:04:12.910 --> 00:04:20.660
And that said thats all we can remember that we have this user ID in the post and we created that was

53
00:04:20.660 --> 00:04:22.160
on the life section.

54
00:04:22.240 --> 00:04:31.960
So now that we have a function we can go to the index and remove all this stuff here and paste out there.

55
00:04:32.290 --> 00:04:32.930
OK.

56
00:04:33.250 --> 00:04:36.140
Now all this cold.

57
00:04:36.140 --> 00:04:41.060
Are you going to see a lot of code in between here and that's fine because we are actually echoing how

58
00:04:42.350 --> 00:04:50.600
that information but for the for this data here that we have we're going to put all that stuff all the

59
00:04:50.600 --> 00:04:53.330
way on the top of just to make a little bit more organized.

60
00:04:53.330 --> 00:04:58.160
I'm going to put this in one line so you could see it.

61
00:05:07.500 --> 00:05:13.600
It's a matter of fact we can even minimize this a little further.

62
00:05:14.890 --> 00:05:20.080
We don't even know that we can use separate this here.

63
00:05:21.200 --> 00:05:29.300
Like that and put that in there but we're not going to get the users post yet the count because we need

64
00:05:29.300 --> 00:05:31.440
to make sure that we are counting it.

65
00:05:31.460 --> 00:05:32.630
So let's go to functions here.

66
00:05:32.630 --> 00:05:40.580
We don't have we have a fetch records and we've got to use my ask you apply known rules to count it.

67
00:05:40.630 --> 00:05:42.230
Why not just build the functions for that.

68
00:05:42.230 --> 00:05:43.600
I thought I did have it.

69
00:05:43.630 --> 00:05:49.070
Let me just search you just in case count I don't have it.

70
00:05:49.330 --> 00:05:51.700
So let's use create it.

71
00:05:51.730 --> 00:05:59.190
If you guys don't have it create one and I'm going to use my escalating on Rose.

72
00:05:59.220 --> 00:05:59.820
OK.

73
00:05:59.970 --> 00:06:04.150
But I want to wrap it with his general function here.

74
00:06:04.160 --> 00:06:04.560
So

75
00:06:07.560 --> 00:06:11.160
this is going to actually this is going to be a database function.

76
00:06:11.250 --> 00:06:13.290
We are going to count records.

77
00:06:13.290 --> 00:06:14.490
That's what we're going to do.

78
00:06:16.960 --> 00:06:24.020
And we want to return my issue a lie known Rose.

79
00:06:24.180 --> 00:06:24.900
Now that one

80
00:06:29.990 --> 00:06:35.190
and we're going to count the records that are coming in

81
00:06:38.510 --> 00:06:42.800
actually with time records and we're just going to say here.

82
00:06:43.880 --> 00:06:47.340
And resort simple as a

83
00:06:50.200 --> 00:06:51.410
ok.

84
00:06:52.190 --> 00:07:01.640
You guys are welcome to wrap this you know to use as a.p statements or prepare statements but for what

85
00:07:01.640 --> 00:07:03.830
we are doing right now we don't need it.

86
00:07:03.860 --> 00:07:05.310
OK.

87
00:07:05.600 --> 00:07:09.260
Right now we're just getting stuff from the database.

88
00:07:09.410 --> 00:07:15.380
If we were doing so maybe getting data from outside in a form or something like that maybe we can think

89
00:07:15.380 --> 00:07:16.740
about prepare statements.

90
00:07:16.850 --> 00:07:21.500
It's not that big of an issue here and we're being used in my life where they're remaining on the course.

91
00:07:21.890 --> 00:07:25.250
So don't stress it.

92
00:07:25.380 --> 00:07:29.590
So we've got this count records guys remember that.

93
00:07:29.820 --> 00:07:35.580
I'm out in this section here because I want you guys to know to learn how to personalize see a mess

94
00:07:35.580 --> 00:07:37.390
for every user.

95
00:07:37.410 --> 00:07:38.030
OK.

96
00:07:39.420 --> 00:07:50.450
So count records and we go here and we'll just do that and like that OK.

97
00:07:57.450 --> 00:08:02.430
We have here we go.

98
00:08:03.520 --> 00:08:09.940
So refresh and you can see that we get some type of error here.

99
00:08:09.960 --> 00:08:11.830
I'm going to right click on it.

100
00:08:13.440 --> 00:08:21.690
On page source I'm going to see if it shows me where the error count records.

101
00:08:21.690 --> 00:08:28.080
Well I think I have an idea why my graph went down because I don't have the post count variable which

102
00:08:28.080 --> 00:08:29.800
is needed unfortunately.

103
00:08:29.850 --> 00:08:33.540
So I'm going to save PPOs count

104
00:08:36.210 --> 00:08:38.220
OK.

105
00:08:38.400 --> 00:08:43.720
And if we go all the way to the top this is where we can put that there.

106
00:08:44.000 --> 00:08:45.000
Put it.

107
00:08:45.280 --> 00:08:56.090
So open and the BHB tag here I'm going to put the post count first just to check to see if that's the

108
00:08:56.090 --> 00:08:56.720
problem.

109
00:08:56.720 --> 00:08:58.430
And then I make it 10.

110
00:08:58.430 --> 00:09:00.930
Let's go back here.

111
00:09:00.930 --> 00:09:02.750
Refresh Whoops.

112
00:09:02.750 --> 00:09:03.110
There we go.

113
00:09:03.110 --> 00:09:05.840
That was the problem you see now.

114
00:09:05.960 --> 00:09:16.650
It's 10:00 here on my data so I'm going to paste that in here.

115
00:09:16.700 --> 00:09:18.620
Refresh.

116
00:09:18.790 --> 00:09:24.590
And now you can see that it says it doesn't have any posts that use are those who have any posts.

117
00:09:25.590 --> 00:09:27.430
OK.

118
00:09:28.520 --> 00:09:33.770
I know for a fact that is it shouldn't be true because I use it should have a pulse.

119
00:09:34.490 --> 00:09:40.470
As a matter of fact let's go to your users and use these twenty eight.

120
00:09:40.850 --> 00:09:46.880
Let's go to the database and let's see where my mistaking.

121
00:09:47.180 --> 00:09:49.910
And they use it twenty eight doesn't have any posts.

122
00:09:49.910 --> 00:09:51.620
All right.

123
00:09:51.770 --> 00:09:56.810
Let's make it let's give them one poll so I added the user ID on the post table.

124
00:09:57.990 --> 00:10:02.330
And now if I go to my data you can see they does have one post.

125
00:10:02.340 --> 00:10:05.400
Now it's reflecting here in here.

126
00:10:05.460 --> 00:10:06.030
OK.

127
00:10:06.180 --> 00:10:08.990
We've still got a long way to go with the rest.

128
00:10:09.420 --> 00:10:12.060
But you get an idea on how we are doing this right.

129
00:10:12.440 --> 00:10:13.290
Okay perfect.

130
00:10:13.290 --> 00:10:14.550
I'll see you in the next lecture guys.

131
00:10:14.550 --> 00:10:15.260
Take care.
