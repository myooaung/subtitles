WEBVTT
1

00:00:00.600  -->  00:00:03.060
All right let's get this homework started.

2

00:00:03.060  -->  00:00:08.190
So here I've got the files and if we open up the CAC file you can see that the delimiter is different

3

00:00:08.190  -->  00:00:08.280
.

4

00:00:08.280  -->  00:00:09.980
It's a semi-colon this time.

5

00:00:10.170  -->  00:00:17.270
And if you go to the very bottom of the file you will see that it's quite substantial.

6

00:00:17.430  -->  00:00:24.290
And there's over a million rows there's a million rows million and 50000 rows in total.

7

00:00:24.330  -->  00:00:26.000
So how are we going to go about this.

8

00:00:26.190  -->  00:00:32.090
Well we have our standard process so let's go ahead and follow that.

9

00:00:32.100  -->  00:00:41.000
So we're going to take this and copy it to the prepared folder and rename it to 60.

10

00:00:41.070  -->  00:00:43.690
We're going to open up Excel.

11

00:00:43.690  -->  00:00:47.610
We're going to open our file.

12

00:00:47.910  -->  00:00:50.110
Where is it.

13

00:00:50.130  -->  00:00:52.500
There it is.

14

00:00:52.500  -->  00:00:54.840
And let's look for all files.

15

00:00:54.840  -->  00:01:01.810
There is Biechele 16 next semi-colon delimited.

16

00:01:02.370  -->  00:01:09.490
And so here let's just have a look through it works all.

17

00:01:09.510  -->  00:01:16.860
Looks like you can see there's some empty ones here but that's normal because this customer simply wasn't

18

00:01:16.920  -->  00:01:18.340
a customer in 2014.

19

00:01:18.330  -->  00:01:21.350
Here you can see he only became a customer in 2015.

20

00:01:21.480  -->  00:01:26.300
So obviously he won't have a revenue value in that field.

21

00:01:26.400  -->  00:01:34.420
So his go next is going to be all tax rights we're inside to all of them so the text really click Finish

22

00:01:35.000  -->  00:01:38.660
and let's see what happens.

23

00:01:38.850  -->  00:01:43.920
Might take a few moments since the fall is that big.

24

00:01:45.830  -->  00:01:46.570
All right.

25

00:01:46.570  -->  00:01:49.410
It's getting there you can see the progress bar here.

26

00:01:49.950  -->  00:01:51.400
And we got an error.

27

00:01:51.510  -->  00:01:52.050
What happened.

28

00:01:52.050  -->  00:01:54.360
File not load completely.

29

00:01:54.650  -->  00:01:55.180
That's correct.

30

00:01:55.200  -->  00:01:55.990
OK.

31

00:01:56.340  -->  00:02:02.610
And you'll see here that if you scroll to the bottom of your spreadsheet that there simply wasn't enough

32

00:02:02.610  -->  00:02:04.050
space in Excel.

33

00:02:04.110  -->  00:02:11.210
There's already talked about that Excel can only fit in resume in Excel can only fit one million forty

34

00:02:11.220  -->  00:02:13.030
eight thousand five hundred seventy six rows.

35

00:02:13.090  -->  00:02:19.050
There's going to be the case in even the most recent versions of Excel there is a limited number of

36

00:02:19.050  -->  00:02:20.070
rows.

37

00:02:20.070  -->  00:02:22.020
And so what does that mean.

38

00:02:22.020  -->  00:02:26.430
Well first of all we've got to close this because this can lead to errors we can't continue from here

39

00:02:26.540  -->  00:02:27.010
.

40

00:02:27.350  -->  00:02:29.080
Like often happens right.

41

00:02:29.080  -->  00:02:33.520
We can we hit a roadblock we have to take a step back.

42

00:02:33.620  -->  00:02:33.880
OK.

43

00:02:33.900  -->  00:02:40.950
So let's open up again and hear what we can see is that this fall actually looks like it's already prepared

44

00:02:40.950  -->  00:02:41.070
.

45

00:02:41.100  -->  00:02:47.730
Like here the dates are in the correct format just like we want them year month day.

46

00:02:47.730  -->  00:02:55.710
Then the values the dollar values they are they're all in there got two decimal two digits after the

47

00:02:55.950  -->  00:02:59.370
decimal point and they don't have to all are signs.

48

00:02:59.430  -->  00:03:07.080
And in fact there is no there is even no qualified text qualifiers because they're not required here

49

00:03:07.080  -->  00:03:13.080
because there is there isn't any substantial textfield that might include a semi-colon.

50

00:03:13.080  -->  00:03:21.180
So it is very very tempting at this stage to know I was kind of relying on this as you might be tempted

51

00:03:21.180  -->  00:03:28.850
to take this file and upload it right away as it is into your database and you're free to do that.

52

00:03:28.870  -->  00:03:35.520
You're more than welcome to create your own processes and in fact you're encouraged to create your own

53

00:03:35.520  -->  00:03:41.150
processes for dry cleaning and you know your own habits your own ways of doing things.

54

00:03:41.370  -->  00:03:50.200
But be careful of that because this file actually contains an error where there isn't one semicolon

55

00:03:50.220  -->  00:03:55.830
which is out of place one extra semicolon which causes a row to shift and the template that I have shown

56

00:03:55.830  -->  00:04:03.800
in it helps you identify where that happens because as I remember when we import the files into Excel

57

00:04:03.830  -->  00:04:10.470
and save them again if there was a shift to the right then excel creates this extra empty call for us

58

00:04:10.470  -->  00:04:10.530
.

59

00:04:10.530  -->  00:04:15.270
So that is a red flag for us telling us that there has been a shift.

60

00:04:15.390  -->  00:04:22.210
If you upload this file directly then Sosias won't help you find that error.

61

00:04:22.500  -->  00:04:29.610
And even though you can do that you just have to come up with other ways of looking for anomalies like

62

00:04:29.610  -->  00:04:32.020
that that cause your daughter to shift.

63

00:04:32.020  -->  00:04:38.850
And if you did go ahead and try to upload the file directly you would have noticed that your last column

64

00:04:39.170  -->  00:04:40.630
it doesn't add up.

65

00:04:40.830  -->  00:04:47.820
It doesn't add up to the total value that we have in our challenge so that quality assurance check doesn't

66

00:04:47.820  -->  00:04:49.840
pass and therefore something is wrong.

67

00:04:49.840  -->  00:04:56.940
And in cases like this where every single row is important it is very crucial to make sure that you

68

00:04:56.940  -->  00:05:01.210
check for everything and that's why even though there's so few errors.

69

00:05:01.320  -->  00:05:02.310
Oops.

70

00:05:02.310  -->  00:05:10.950
Even though there's so few errors in this file it is a quite a tough upload quite a tough data cleaning

71

00:05:10.980  -->  00:05:14.730
exercise because every single row counts.

72

00:05:14.970  -->  00:05:22.020
And let's see how we can use our existing template to still upload this fall even though it's that big

73

00:05:22.030  -->  00:05:22.450
.

74

00:05:22.830  -->  00:05:30.020
So I'm going to close this and what are we going to do is we're going to break it up into two and then

75

00:05:30.020  -->  00:05:31.250
we'll glue back together.

76

00:05:31.280  -->  00:05:34.130
So let's make two copies right.

77

00:05:34.130  -->  00:05:39.990
So the original we'll call it because we're in the prepared article that we can basically do all these

78

00:05:39.990  -->  00:05:45.130
things because we always have a reserve copy in our original folder.

79

00:05:45.380  -->  00:05:53.880
So this was going to be part one and this one is going to be part two.

80

00:05:55.280  -->  00:05:57.300
All right so now we're going to break them up.

81

00:05:57.300  -->  00:06:02.750
Let's open this one with notepad plus plus it's really up to how you break up because we're going to

82

00:06:02.750  -->  00:06:03.970
glue them together anyway.

83

00:06:03.990  -->  00:06:09.860
What I'm going to do is I'm going to go to one million so if you press contrl g in Notepad Plus I'll

84

00:06:10.640  -->  00:06:18.510
take you to the role that you want to go to and I'm going to from Saturn from one million onwards.

85

00:06:18.830  -->  00:06:23.450
Actually just so I remember I'm going to leave a one million records in the first one so that means

86

00:06:23.450  -->  00:06:27.990
one million and one stays included because we do have a hetero's.

87

00:06:28.040  -->  00:06:34.050
So if I want to leave 1 million I'm going to take everything out from here from one million to onwards

88

00:06:34.120  -->  00:06:34.510
.

89

00:06:34.840  -->  00:06:35.320
OK.

90

00:06:35.330  -->  00:06:37.760
So I can save that.

91

00:06:38.060  -->  00:06:39.960
That's part one and part two.

92

00:06:39.990  -->  00:06:46.270
I want to go to same place one million.

93

00:06:47.250  -->  00:06:52.980
And so last time we kept everything from 1 million up to 1 million one this summer.

94

00:06:53.210  -->  00:06:58.010
Everything up to here and still keep the headers.

95

00:06:58.110  -->  00:06:58.460
All right.

96

00:06:58.460  -->  00:07:01.440
So that's our new fall.

97

00:07:01.480  -->  00:07:06.710
I'm going to save that and I'm just going to open up the first one so we can visually compare where

98

00:07:06.710  -->  00:07:08.610
they glued together.

99

00:07:08.620  -->  00:07:11.440
That's that's one that goes up to this row.

100

00:07:11.440  -->  00:07:12.640
Three five three.

101

00:07:12.830  -->  00:07:19.770
Well this customer 3 5 3 4 8 4 4 and this one starts at 3 5 3 4 8 4 5.

102

00:07:20.060  -->  00:07:20.660
That's great.

103

00:07:20.660  -->  00:07:22.020
So let's close that.

104

00:07:22.010  -->  00:07:25.090
And now each one of them should be fine open in Excel.

105

00:07:25.400  -->  00:07:31.190
So let's go ahead and do the first one open.

106

00:07:31.370  -->  00:07:31.580
We

107

00:07:34.560  -->  00:07:37.140
all files Part 1.

108

00:07:37.120  -->  00:07:42.190
All right delimited semi-colon

109

00:07:45.320  -->  00:07:50.860
and all of them as text finish.

110

00:07:50.880  -->  00:07:57.940
All right so the files in Excel and well what can we do here.

111

00:07:57.950  -->  00:08:05.820
Everything looks prepared as we needed but we can still go ahead and do our standard process.

112

00:08:06.240  -->  00:08:16.960
So the dates All right we're going to go to data takes two columns delimited no delimiter and date.

113

00:08:16.980  -->  00:08:19.660
What do we want we want.

114

00:08:19.940  -->  00:08:23.780
Well it's already in the right form and so it's already year month day.

115

00:08:24.140  -->  00:08:25.260
So click Finish

116

00:08:29.610  -->  00:08:32.970
and now you can see recognize it as a date.

117

00:08:33.140  -->  00:08:43.250
And it's given its own format so we're going to Format Cells custom y y m m d d.

118

00:08:43.280  -->  00:08:44.960
OK.

119

00:08:46.250  -->  00:08:50.330
Basically if we went back to its original but that's still OK.

120

00:08:50.660  -->  00:08:56.660
You know in case we don't we are not 100 percent sure it was all of it was like we wanted it.

121

00:08:56.660  -->  00:08:58.650
So now this is going to be a bit interesting.

122

00:08:58.670  -->  00:09:04.400
So I'm going to do text to columns right delimited no delimiter general when you when you're just doing

123

00:09:04.400  -->  00:09:08.460
general you can basically go like this.

124

00:09:08.490  -->  00:09:13.740
Finish right away because you're not changing any any of the set a set of sayings.

125

00:09:13.830  -->  00:09:16.100
So there we go.

126

00:09:16.350  -->  00:09:24.120
Now we need to format them as numbers as we need as we normally do Format Cells Number to no decimal

127

00:09:24.120  -->  00:09:24.230
.

128

00:09:24.240  -->  00:09:24.960
Awesome.

129

00:09:24.990  -->  00:09:28.870
Well you'll see as these ones get format as well we don't want that.

130

00:09:29.220  -->  00:09:33.630
We want a general because their dates are.

131

00:09:33.630  -->  00:09:34.970
They're called names.

132

00:09:34.980  -->  00:09:36.910
All right so that looks good.

133

00:09:37.600  -->  00:09:39.580
And now we can just save this.

134

00:09:39.620  -->  00:09:42.700
But this time we're saving it as a CAC file.

135

00:09:43.130  -->  00:09:49.180
And this is what files are going to have the correct delimiter or commas.

136

00:09:49.280  -->  00:09:50.550
In our case.

137

00:09:50.550  -->  00:09:51.640
All right.

138

00:09:52.010  -->  00:09:54.840
So that's done.

139

00:09:56.880  -->  00:10:03.170
Now we want to close that and do the same for the other file.

140

00:10:03.200  -->  00:10:08.400
Part 2 TXI the next semi-colon next.

141

00:10:08.510  -->  00:10:10.540
All of them text.

142

00:10:10.580  -->  00:10:11.160
Finish

143

00:10:14.180  -->  00:10:16.350
this is going to be fossick is smaller.

144

00:10:16.740  -->  00:10:22.330
All right so this one daughter text to columns delimited no delimiter.

145

00:10:22.880  -->  00:10:35.910
And this is going to be date is going to be year month day finish format date no custom should.

146

00:10:35.940  -->  00:10:36.650
So here.

147

00:10:36.680  -->  00:10:39.540
So why MMD.

148

00:10:40.280  -->  00:10:41.600
OK.

149

00:10:41.780  -->  00:10:50.340
Now these ones text the columns finish text columns finish and text the columns finish.

150

00:10:50.340  -->  00:10:53.960
Now if we take all of them format number.

151

00:10:53.960  -->  00:10:55.090
Good.

152

00:10:55.190  -->  00:11:00.940
Now these ones format them back to General.

153

00:11:00.950  -->  00:11:01.460
All right.

154

00:11:01.590  -->  00:11:06.070
So once again that looks good.

155

00:11:06.140  -->  00:11:14.040
So far the fall looks really good right so it doesn't seem that there's lots of errors in it or problems

156

00:11:14.030  -->  00:11:14.810
.

157

00:11:14.810  -->  00:11:15.850
Looks like an ice file.

158

00:11:15.860  -->  00:11:17.810
Ok so CSP.

159

00:11:18.590  -->  00:11:19.430
Yep.

160

00:11:19.820  -->  00:11:22.600
OK good so we've done the Excel part.

161

00:11:22.620  -->  00:11:24.520
Now I want to glue them back together.

162

00:11:24.560  -->  00:11:27.300
Let's take part one and we'll say

163

00:11:30.600  -->  00:11:37.140
let's say back now back together let's say combined.

164

00:11:37.350  -->  00:11:38.060
There you go.

165

00:11:38.300  -->  00:11:47.470
And then we'll obviously need to open combined and open parts to seeis we then we go to the bottom of

166

00:11:47.490  -->  00:11:51.110
combined you'll see 8:04 form right.

167

00:11:51.130  -->  00:11:56.240
And this empty row which means nothing.

168

00:11:56.250  -->  00:12:01.530
So we'll take it up to here and paste it in.

169

00:12:02.000  -->  00:12:02.380
All right.

170

00:12:02.380  -->  00:12:07.310
So we're back at the correct total one million and 50000 rows.

171

00:12:07.310  -->  00:12:08.790
We can close that file.

172

00:12:08.900  -->  00:12:12.160
We're going to save this file and we can close it.

173

00:12:12.360  -->  00:12:19.180
So we did what we were supposed to do in Excel and now we can proceed to SOSIAS.

174

00:12:19.230  -->  00:12:19.810
OK.

175

00:12:19.880  -->  00:12:23.420
We're going to take this combined file We're going to go to upload it.

176

00:12:23.420  -->  00:12:28.220
We're going to create it today's date what is today's date.

177

00:12:28.250  -->  00:12:30.650
0 9 12 of September.

178

00:12:30.890  -->  00:12:31.400
OK.

179

00:12:31.620  -->  00:12:32.690
There it is.

180

00:12:32.690  -->  00:12:38.280
And now I'm going to find my SOSIAS.

181

00:12:38.270  -->  00:12:42.700
There it is.

182

00:12:42.950  -->  00:12:44.740
We're going to create new projects.

183

00:12:44.810  -->  00:12:47.220
This one we're going to call.

184

00:12:47.540  -->  00:12:54.430
What is it called vehicle service vehicle service.

185

00:12:57.350  -->  00:13:01.390
That's created data flow task.

186

00:13:01.830  -->  00:13:08.960
I'll even give this one a name 12.

187

00:13:11.180  -->  00:13:20.340
Now as usual floodwall soars you've probably done this a couple of times by now and getting good at

188

00:13:20.340  -->  00:13:22.070
it.

189

00:13:22.110  -->  00:13:22.460
All right.

190

00:13:22.500  -->  00:13:25.600
So that's 054 source as a destination.

191

00:13:26.000  -->  00:13:29.040
We might even have a conditional split.

192

00:13:29.060  -->  00:13:42.680
But let's start with the flat passer's so flat all source is our file somewhere in here right so we

193

00:13:43.460  -->  00:13:53.090
combined good takes qualifier delimited columns and this is a moment of truth.

194

00:13:53.420  -->  00:13:54.010
Voila.

195

00:13:54.120  -->  00:13:59.690
This is what we are looking for right somewhere or there somewhere in these million and fifty thousand

196

00:13:59.690  -->  00:14:00.230
records.

197

00:14:00.240  -->  00:14:03.440
There was a shift and that is proof.

198

00:14:03.440  -->  00:14:05.580
Excel helped us find it.

199

00:14:05.690  -->  00:14:10.270
Once again you don't have to do this for the rest of your life.

200

00:14:10.300  -->  00:14:15.890
Do it this way you might have other better ways of finding these Roche's and dealing of errors like

201

00:14:15.890  -->  00:14:16.100
this.

202

00:14:16.110  -->  00:14:20.530
This is just one of the ways that I'm showing you change in this course.

203

00:14:20.540  -->  00:14:26.660
If you get good at this then you know you can experiment and create your own ways as as the time is

204

00:14:26.660  -->  00:14:27.020
right.

205

00:14:27.260  -->  00:14:34.270
But for now we're doing it this way or this is the suggested method and as you can see somewhere there

206

00:14:34.270  -->  00:14:36.870
there is a road shift and we're going to pick it up.

207

00:14:36.890  -->  00:14:40.850
We are going to find it now again.

208

00:14:40.880  -->  00:14:45.750
Just quickly do everything as we properly as we normally do.

209

00:14:45.750  -->  00:14:47.080
All right all good.

210

00:14:47.170  -->  00:14:48.080
OK.

211

00:14:48.800  -->  00:14:50.820
Columns are output good.

212

00:14:50.850  -->  00:14:55.280
So since there is a should shift let's take it out here right.

213

00:14:55.370  -->  00:15:00.000
So we're going to get our.

214

00:15:00.650  -->  00:15:01.680
What is it called.

215

00:15:01.700  -->  00:15:10.280
It's called a conditional split and I think I put it somewhere in transforms last time.

216

00:15:10.460  -->  00:15:11.340
There it is.

217

00:15:11.540  -->  00:15:19.860
So let's take conditional split and we will also need a destination flat file this donation.

218

00:15:19.860  -->  00:15:20.930
There it is.

219

00:15:20.950  -->  00:15:22.190
All right.

220

00:15:22.190  -->  00:15:25.430
So this goes in here.

221

00:15:26.250  -->  00:15:31.850
Then to set up the conditional split we want to look at columns and we want to say so output name will

222

00:15:31.860  -->  00:15:35.690
be bad records right.

223

00:15:35.870  -->  00:15:44.810
And as usual we want to check for a Len Len of this one.

224

00:15:44.820  -->  00:15:48.000
The main one we're looking for is greater than zero.

225

00:15:48.890  -->  00:15:56.800
Or we might want to also check for Lenn of this one so if there was a shift to the left which is unlikely

226

00:15:56.820  -->  00:16:04.940
in this data set but still let me just check if I'm using the right operator.

227

00:16:05.100  -->  00:16:05.590
OK.

228

00:16:05.650  -->  00:16:06.390
Cool.

229

00:16:06.410  -->  00:16:07.610
So those are bad records.

230

00:16:07.620  -->  00:16:10.580
The rest will be good records.

231

00:16:11.620  -->  00:16:12.470
OK.

232

00:16:12.870  -->  00:16:21.230
So here we want the bad records and let's create a new file where we're going to create it's going to

233

00:16:21.230  -->  00:16:22.960
be a delimited file.

234

00:16:23.300  -->  00:16:37.330
It's going to go into analysis and we're going to create X looted rolls and here we're going to code

235

00:16:37.720  -->  00:16:41.100
in 15 or 9 12.

236

00:16:41.930  -->  00:16:44.610
And what is our

237

00:16:47.850  -->  00:16:51.210
vehicle service.

238

00:16:51.450  -->  00:16:52.790
OK.

239

00:16:54.020  -->  00:16:59.960
So that way we can match the upload using the date text qualifier.

240

00:17:00.360  -->  00:17:04.140
Make sure we check that column's advanced.

241

00:17:04.280  -->  00:17:05.270
Everything is good.

242

00:17:05.360  -->  00:17:06.150
OK.

243

00:17:06.890  -->  00:17:07.950
Mappings.

244

00:17:08.180  -->  00:17:09.320
Perfect.

245

00:17:09.470  -->  00:17:11.150
Then the rest will go in here.

246

00:17:11.150  -->  00:17:17.710
So we're not going to have a second conditional split because we don't have a row that's crucial.

247

00:17:18.050  -->  00:17:26.090
We know that the last call the A column that's crucial not the last column is definitely filled and

248

00:17:26.150  -->  00:17:33.360
we'll make sure that it's populated properly so let's go to all the DBI destination.

249

00:17:33.600  -->  00:17:42.650
And now we are going to create a new place for this data new what are we going to call it.

250

00:17:42.650  -->  00:17:56.760
We're going to call it roll underscore we call service 2015 or 9 12 and give us one or row number and

251

00:17:57.330  -->  00:18:00.200
identity.

252

00:18:00.230  -->  00:18:00.550
All right.

253

00:18:00.570  -->  00:18:07.790
So that looks good mappings and the key here is like when you're doing a new project is to take things

254

00:18:07.800  -->  00:18:09.790
slow and not rush.

255

00:18:09.950  -->  00:18:13.120
So you don't have to redo things again.

256

00:18:13.120  -->  00:18:14.220
All right.

257

00:18:14.210  -->  00:18:15.730
So that looks all good.

258

00:18:15.780  -->  00:18:20.420
Let's go ahead and kick this off.

259

00:18:20.820  -->  00:18:27.660
We should pick up at least one bad record and as we know there's a million rows so this is going to

260

00:18:27.650  -->  00:18:29.410
take a while.

261

00:18:30.200  -->  00:18:36.150
So I'm going to fast forward the video to the end of the upload process here.

262

00:18:37.160  -->  00:18:41.340
OK so the upload is finished took took a while but there we go.

263

00:18:41.510  -->  00:18:49.500
And as you can see there is exactly I'm going to zoom in there is exactly one row that went into bad

264

00:18:49.490  -->  00:18:55.170
records and that is how we caught it and that it was.

265

00:18:55.160  -->  00:19:02.480
That's a good result so far and we're going to end this story here and I'm going to post the rest of

266

00:19:02.490  -->  00:19:06.260
the solution in a separate tutorial which you'll find under this one.

267

00:19:06.360  -->  00:19:08.350
And I look forward to seeing you there.
