WEBVTT
X-TIMESTAMP-MAP=LOCAL:00:00:00.000,MPEGTS:0

00:00:00.000 --> 00:00:02.870
Now let us forward an edit option for this product.

00:00:02.870 --> 00:00:05.540
Details Page where when I click on this,

00:00:05.540 --> 00:00:11.310
I want the same product form that we use for adding a product toe lured the details off the

00:00:11.310 --> 00:00:14.530
product that we're tryingto edit to do that,

00:00:14.530 --> 00:00:15.930
let's go back to our court.

00:00:15.930 --> 00:00:20.650
Let's stop the project for a minute and let's close all these open fights.

00:00:20.650 --> 00:00:23.250
Let's go to the product controller,

00:00:23.250 --> 00:00:28.890
where we have a handler for product details and that's going toe the J speak on product

00:00:28.890 --> 00:00:29.610
details.

00:00:29.610 --> 00:00:31.120
So let's open the product.

00:00:31.120 --> 00:00:32.580
Details start jsp.

00:00:32.580 --> 00:00:35.200
I'm gonna press command shift are on Windows.

00:00:35.200 --> 00:00:36.270
You press control,

00:00:36.270 --> 00:00:42.290
shift on and look for product Start of details You can see I got the product details dot

00:00:42.290 --> 00:00:44.050
jsp Click on the open burden,

00:00:44.050 --> 00:00:46.390
so I'm gonna add a police Over here.

00:00:46.390 --> 00:00:50.710
A head ref equals toe dot slash edit dash product.

00:00:50.710 --> 00:00:54.040
We don't have this year to create one handler for this question.

00:00:54.040 --> 00:00:58.070
More I d equals toe dollar pierre dot product I d.

00:00:58.070 --> 00:01:02.150
So we're supplying the product idea of the corresponding product.

00:01:02.150 --> 00:01:06.390
Let's also give a class off Bt and Bt and primary.

00:01:06.390 --> 00:01:11.980
It would look like a button Now we'll give the caption as it before we can run and test.

00:01:11.980 --> 00:01:14.320
We're gonna clear the handle function for this,

00:01:14.320 --> 00:01:16.210
which refuse and i d.

00:01:16.210 --> 00:01:18.060
As a request perimeter,

00:01:18.060 --> 00:01:20.310
which is off into your type on returns,

00:01:20.310 --> 00:01:21.590
toe the product form.

00:01:21.590 --> 00:01:28.110
So let's go to a product controller Onda somewhere where we had given our product.

00:01:28.110 --> 00:01:30.490
It's almost the same thing as this.

00:01:30.490 --> 00:01:32.310
But instead of new product,

00:01:32.310 --> 00:01:36.100
using a deal will be retrieving the product for the given idee.

00:01:36.100 --> 00:01:39.960
So I'm gonna write the court below this public string.

00:01:39.960 --> 00:01:43.150
That's the product form we can say Edit product.

00:01:43.150 --> 00:01:45.740
It takes a model modern.

00:01:45.740 --> 00:01:46.570
Plus,

00:01:46.570 --> 00:01:53.410
it is also receiving and indeed your i d from the request perimeter toe map on.

00:01:53.410 --> 00:01:56.760
Then I'm gonna say your model dot on attribute.

00:01:56.760 --> 00:02:03.020
The attribute name is exactly supposed to be PR and then the value for the least ph.

00:02:03.020 --> 00:02:03.280
D.

00:02:03.280 --> 00:02:03.570
D.

00:02:03.570 --> 00:02:03.690
A.

00:02:03.690 --> 00:02:06.710
Will don't get product by ideally,

00:02:06.710 --> 00:02:08.380
and that idea is this one.

00:02:08.380 --> 00:02:10.190
This is gonna throw an exception.

00:02:10.190 --> 00:02:16.730
Let's go through it away for the and we'll also say you're no written product form.

00:02:16.730 --> 00:02:21.460
So the idea is supposed to come from request perimeter.

00:02:21.460 --> 00:02:32.420
Let's give that we'll also adhere did request mapping but equals toe slash edit product and

00:02:32.420 --> 00:02:39.450
method is supposed to be request method dot get So we'll put a semi colon.

00:02:39.450 --> 00:02:44.190
Save this when I click on this hyperlink over here,

00:02:44.190 --> 00:02:47.050
This is the controller that receives the request.

00:02:47.050 --> 00:02:50.020
The idea is supplied over here.

00:02:50.020 --> 00:02:56.640
We do the product for that and then started as PR When we go here to the product form,

00:02:56.640 --> 00:03:02.160
these two model activites are also available so the product form has access.

00:03:02.160 --> 00:03:02.810
Toe PR,

00:03:02.810 --> 00:03:07.660
which is the retail product object on a bunch of categories and suppliers,

00:03:07.660 --> 00:03:12.800
and the product form is now automatically going to display the product that is stored in

00:03:12.800 --> 00:03:13.470
the school.

00:03:13.470 --> 00:03:17.220
Let's give it a try by right click on the project.

00:03:17.220 --> 00:03:23.750
Run as Ron Sarwar and we go toe all products.

00:03:23.750 --> 00:03:26.600
Select one of the product that you want to modify.

00:03:26.600 --> 00:03:27.570
Let's go to child.

00:03:27.570 --> 00:03:28.270
You see,

00:03:28.270 --> 00:03:29.410
there is an edit button.

00:03:29.410 --> 00:03:31.000
When I click on this edit button,

00:03:31.000 --> 00:03:35.610
we now see the details off selected product in the form.

00:03:35.610 --> 00:03:40.410
You can see that it has also selected the beverages because that's the category.

00:03:40.410 --> 00:03:41.780
It's the exotic liquids.

00:03:41.780 --> 00:03:42.550
For example,

00:03:42.550 --> 00:03:47.210
if I go back toe the previous speech on Look for a different product.

00:03:47.210 --> 00:03:48.740
Let's select this.

00:03:48.740 --> 00:03:52.910
You can see it is confections on specialty biscuits.

00:03:52.910 --> 00:03:54.140
Let's click on it.

00:03:54.140 --> 00:04:00.080
You can see that it has selected appropriate category and suppliers that discontinued also

00:04:00.080 --> 00:04:04.950
has seen selected automatically because this is a value for this particular product.

00:04:04.950 --> 00:04:06.700
And now that I have this,

00:04:06.700 --> 00:04:10.050
if I make some changes here and click on submit changers,

00:04:10.050 --> 00:04:14.780
one problem is that it is always tryingto add a new product over here,

00:04:14.780 --> 00:04:17.370
which is something that we have to change.

00:04:17.370 --> 00:04:19.330
This has to be conditional now.

00:04:19.330 --> 00:04:21.060
So when we're submitting,

00:04:21.060 --> 00:04:23.750
if it contains the product idea already,

00:04:23.750 --> 00:04:26.210
it has to do an update product other ways.

00:04:26.210 --> 00:04:27.260
It has to do an ad,

00:04:27.260 --> 00:04:28.700
a product for that.

00:04:28.700 --> 00:04:33.110
One more small change that we have to do is in the product form.

00:04:33.110 --> 00:04:36.990
We have to also add the product idea.

00:04:36.990 --> 00:04:37.780
Remember,

00:04:37.780 --> 00:04:42.260
we have a textbook for each one off the fields except the product lady.

00:04:42.260 --> 00:04:45.030
And I don't want to expose for the product early because I don't know,

00:04:45.030 --> 00:04:46.040
user toe change,

00:04:46.040 --> 00:04:51.870
that what we have to do is within this sf colon form some where are they hidden field?

00:04:51.870 --> 00:04:56.850
So I can say Here s if colon hidden particles toe product i d.

00:04:56.850 --> 00:04:58.650
All I have to do is this.

00:04:58.650 --> 00:05:00.290
For a new product,

00:05:00.290 --> 00:05:02.300
this would be an empty string,

00:05:02.300 --> 00:05:04.180
whereas for an existing product,

00:05:04.180 --> 00:05:05.750
this will be the respective idee.

00:05:05.750 --> 00:05:07.270
So let's save this.

00:05:07.270 --> 00:05:09.830
We start don't get if required,

00:05:09.830 --> 00:05:14.130
Wait for it to restart once it is restored.

00:05:14.130 --> 00:05:15.510
Let's go back over here.

00:05:15.510 --> 00:05:17.660
Let's refresh this page ones on.

00:05:17.660 --> 00:05:24.390
Now if I do a view paid source and you can see the right below the form there is an input,

00:05:24.390 --> 00:05:29.250
which is a hidden field product idea is the name off this particular field,

00:05:29.250 --> 00:05:33.490
and its value is 20 which is the product 80 off the current product.

00:05:33.490 --> 00:05:39.430
But as if I goto add a product and then say view page source,

00:05:39.430 --> 00:05:42.820
you'll see that the product I d still exist,

00:05:42.820 --> 00:05:44.710
but its values an empty string.

00:05:44.710 --> 00:05:45.270
And of course,

00:05:45.270 --> 00:05:48.280
an empty string is converted into a null value.

00:05:48.280 --> 00:05:49.970
And because it is no no,

00:05:49.970 --> 00:05:52.050
I should be calling the other product,

00:05:52.050 --> 00:05:53.420
but as if it is not known.

00:05:53.420 --> 00:05:54.820
But it is something like 20.

00:05:54.820 --> 00:05:56.400
Then we should update the product.

00:05:56.400 --> 00:06:00.050
So let's go make that small change you go back to our product container.

00:06:00.050 --> 00:06:05.270
If we are dot get product ready is equals to none.

00:06:05.270 --> 00:06:08.680
Then we want to call this Yes,

00:06:08.680 --> 00:06:16.950
with the HDD work dot update product off this pier so conditionally we're doing Ad erupted

00:06:16.950 --> 00:06:18.470
after that anyway,

00:06:18.470 --> 00:06:20.600
were returning back to the product details.

00:06:20.600 --> 00:06:21.940
Let's say the file.

00:06:21.940 --> 00:06:25.500
Let's restart bunk it and one stunk.

00:06:25.500 --> 00:06:26.280
It is restarted.

00:06:26.280 --> 00:06:27.410
Let's go back to the browser.

00:06:27.410 --> 00:06:32.120
So let's no go and select the product for editing,

00:06:32.120 --> 00:06:34.050
so I should provide some product.

00:06:34.050 --> 00:06:35.780
Let's go and select this equal.

00:06:35.780 --> 00:06:41.960
There is some details that see if I want to say units on order is something that's going to

00:06:41.960 --> 00:06:43.120
change this values.

00:06:43.120 --> 00:06:49.280
Let's say the unit in stock either on 25 then units on order is around three of them.

00:06:49.280 --> 00:06:51.280
And if I click on submit changes,

00:06:51.280 --> 00:06:54.730
you see that it's updated with the product values.

00:06:54.730 --> 00:06:55.150
And of course,

00:06:55.150 --> 00:06:56.650
it's coming back over here.

00:06:56.650 --> 00:06:59.140
We can also go on very for the same thing in the DB.

00:06:59.140 --> 00:06:59.900
However,

00:06:59.900 --> 00:07:03.620
if I click on the add a product and add something like that,

00:07:03.620 --> 00:07:05.050
they turned the milk.

00:07:05.050 --> 00:07:07.850
Let's say this is a daily product.

00:07:07.850 --> 00:07:13.000
Let's elect some other supplier unit price letter,

00:07:13.000 --> 00:07:13.700
for example.

00:07:13.700 --> 00:07:16.560
It's gonna be $2 quantity per unit.

00:07:16.560 --> 00:07:16.890
Let's say,

00:07:16.890 --> 00:07:17.540
for example,

00:07:17.540 --> 00:07:20.150
it's gonna be let's a finer ML approach.

00:07:20.150 --> 00:07:22.670
Onda units in stock would say,

00:07:22.670 --> 00:07:23.530
for example,

00:07:23.530 --> 00:07:25.200
29 units on order.

00:07:25.200 --> 00:07:27.270
Zero reorder level is three.

00:07:27.270 --> 00:07:31.180
Let's click on submit changes off course I have to select this.

00:07:31.180 --> 00:07:33.240
Otherwise it would any regular validation error.

00:07:33.240 --> 00:07:35.820
So I'll say it's not discontinued.

00:07:35.820 --> 00:07:41.530
I said some it changes and you can see it has been added as a new product Over here on,

00:07:41.530 --> 00:07:43.750
all the details have been collected properly.

00:07:43.750 --> 00:07:49.950
So this is how we can use the same product form for adding as well as updating,

00:07:49.950 --> 00:07:56.350
and we have the same 100 function for ad as well as update with validations.

