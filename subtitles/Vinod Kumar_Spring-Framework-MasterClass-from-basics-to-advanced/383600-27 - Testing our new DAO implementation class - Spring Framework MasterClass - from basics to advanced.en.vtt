WEBVTT
X-TIMESTAMP-MAP=LOCAL:00:00:00.000,MPEGTS:0

00:00:00.000 --> 00:00:03.250
know that we have a Hibernian template part of a deal.

00:00:03.250 --> 00:00:08.350
Let's just the same by creating a new program under the programs package.

00:00:08.350 --> 00:00:09.320
That's right.

00:00:09.320 --> 00:00:14.440
Click on the package New Class and let's call it US P.

00:00:14.440 --> 00:00:20.850
06 testing Ivan it template out of you.

00:00:20.850 --> 00:00:28.250
It's also at the public static wide mean here Click finish and get it out of the studio.

00:00:28.250 --> 00:00:32.250
Let's start by creating an adaptation conflict application context,

00:00:32.250 --> 00:00:35.160
which is the spring container.

00:00:35.160 --> 00:00:35.950
It's politics,

00:00:35.950 --> 00:00:36.780
City X,

00:00:36.780 --> 00:00:39.270
and that's also initialize the same using app.

00:00:39.270 --> 00:00:42.660
Conflict for so city X equals toe new annotation,

00:00:42.660 --> 00:00:44.450
contract application context,

00:00:44.450 --> 00:00:52.610
the argument that is at convict for that class and somewhere down the line we have to close

00:00:52.610 --> 00:00:52.860
this.

00:00:52.860 --> 00:00:58.200
Let's close this in one city extract close City X condensed,

00:00:58.200 --> 00:01:04.460
different implementations off product deal so we'll get one of the implementation will

00:01:04.460 --> 00:01:07.010
supply the name as H D D.

00:01:07.010 --> 00:01:11.710
Able and the required practiced correctly a book so we don't have to do the casting.

00:01:11.710 --> 00:01:18.670
Let's assign this really recordable on Press command one or controlling on windows toe

00:01:18.670 --> 00:01:20.250
water to drink this day today,

00:01:20.250 --> 00:01:21.720
now that we have you,

00:01:21.720 --> 00:01:27.010
let's test some of its functionality So to start with that the list includes toe Be or

00:01:27.010 --> 00:01:30.700
don't get all products get on products is going toe.

00:01:30.700 --> 00:01:33.250
Return a list off product objects.

00:01:33.250 --> 00:01:37.280
So that's what actually it is the other Now is about exception.

00:01:37.280 --> 00:01:41.200
All off or be a woman turds throw Deol exception,

00:01:41.200 --> 00:01:42.750
which is a checked exception.

00:01:42.750 --> 00:01:43.900
Right now,

00:01:43.900 --> 00:01:46.180
we'll throw all the exceptions.

00:01:46.180 --> 00:01:47.410
But later,

00:01:47.410 --> 00:01:48.300
at some point in time,

00:01:48.300 --> 00:01:52.870
we will handle them because the list of products that just print out saying there are so

00:01:52.870 --> 00:01:54.800
many products in our database.

00:01:54.800 --> 00:01:59.550
So there are lifted outsize products.

00:01:59.550 --> 00:02:03.950
Let's check it out by running the court.

00:02:03.950 --> 00:02:07.750
And it says that there are 77 products.

00:02:07.750 --> 00:02:11.670
Let's say we want toe declared two variables.

00:02:11.670 --> 00:02:13.520
Men equals toe.

00:02:13.520 --> 00:02:22.790
Let's say 50.0 max equals toe 200.0 and then we want to say list equals toe deal dot Get

00:02:22.790 --> 00:02:26.900
products by price range on then 1,000,000 Maxwell Supply.

00:02:26.900 --> 00:02:38.210
Let's with the message saying there are lifted our size us between Let's dollar me Andi

00:02:38.210 --> 00:02:39.880
dollar max.

00:02:39.880 --> 00:02:43.010
I can use the print of here,

00:02:43.010 --> 00:02:47.640
but sometimes because the laws are printed in a different red,

00:02:47.640 --> 00:02:48.660
they get mixed up.

00:02:48.660 --> 00:02:49.480
So I'm just can.

00:02:49.480 --> 00:02:52.020
Coordinating and printing it us one single stream.

00:02:52.020 --> 00:02:53.750
Let's run this and check.

00:02:53.750 --> 00:03:00.450
And it's supposed to say there are six products between the price off $50.200 dollars range

00:03:00.450 --> 00:03:00.450
.

00:03:00.450 --> 00:03:03.650
Let's get the discontinued products.

00:03:03.650 --> 00:03:06.520
So let's Stickles toe the water.

00:03:06.520 --> 00:03:08.890
Get discontinued products.

00:03:08.890 --> 00:03:15.850
I can again copy this and paste and say there are so many discontinued products.

00:03:15.850 --> 00:03:23.650
Check it out by running the scene so we're getting eight discontinued products.

00:03:23.650 --> 00:03:28.290
Let's get the total product count using the con function.

00:03:28.290 --> 00:03:35.350
Although we printed that over here that's a PC equals two deal that count.

00:03:35.350 --> 00:03:38.050
BC is a long let's create that.

00:03:38.050 --> 00:03:39.140
And again,

00:03:39.140 --> 00:03:41.440
I'm goingto taste the same,

00:03:41.440 --> 00:03:44.750
but instead off list roadsides and really just a PC.

00:03:44.750 --> 00:03:45.900
Once again,

00:03:45.900 --> 00:03:51.540
we should get There are 77 products and we didn't get out.

00:03:51.540 --> 00:03:57.430
But let's do a single product so I can say b equals to deal.

00:03:57.430 --> 00:03:59.660
Would not get product.

00:03:59.660 --> 00:04:00.640
The i D.

00:04:00.640 --> 00:04:02.970
Let's apply one rest.

00:04:02.970 --> 00:04:07.350
Command one or control one toe out attended the declaration.

00:04:07.350 --> 00:04:14.590
Now I'll say your P don't get product name and the prize off that happens to be Peter.

00:04:14.590 --> 00:04:16.330
Get unit price.

00:04:16.330 --> 00:04:20.850
Let's run the same to see if we get the chai with $20.

00:04:20.850 --> 00:04:26.450
It's training toe because we increased couple of times in the previous programs,

00:04:26.450 --> 00:04:34.070
and you can check the rest of the functions on So but if you try any off the insert update

00:04:34.070 --> 00:04:34.070
,

00:04:34.070 --> 00:04:35.280
delete operations,

00:04:35.280 --> 00:04:36.880
you metal into a problem.

00:04:36.880 --> 00:04:42.810
Let's give it a try by typing Paedo Set Unit Price toe Peter,

00:04:42.810 --> 00:04:44.930
get unit Christ plus one.

00:04:44.930 --> 00:04:49.480
Let's increase it one more time and then I want to update this product so I can see here

00:04:49.480 --> 00:04:54.450
Dior dot update for it to be and try running the core,

00:04:54.450 --> 00:04:56.000
so I blame him.

00:04:56.000 --> 00:04:56.920
But 37.

00:04:56.920 --> 00:05:02.550
You should see an exception so you can see that the line number 37 has a problem.

00:05:02.550 --> 00:05:07.420
And it says that right operations are not alone in read only more.

00:05:07.420 --> 00:05:08.460
Basically,

00:05:08.460 --> 00:05:12.150
it says that you haven't enabled the transaction management.

00:05:12.150 --> 00:05:13.440
For example,

00:05:13.440 --> 00:05:16.850
if you go to the update product function over here,

00:05:16.850 --> 00:05:22.640
you can see that we never begin the transaction and we haven't committed are rolled back

00:05:22.640 --> 00:05:23.550
the transactions.

00:05:23.550 --> 00:05:28.920
So we simply called the template dot much a template DOT March is a hybrid template

00:05:28.920 --> 00:05:29.580
function,

00:05:29.580 --> 00:05:34.330
which internally maintains a session factory because we have injected that.

00:05:34.330 --> 00:05:35.840
And why our decision factory?

00:05:35.840 --> 00:05:41.390
It'll open decision and that session has not started any transaction because of which we're

00:05:41.390 --> 00:05:42.250
getting an error.

00:05:42.250 --> 00:05:43.760
Unfortunately,

00:05:43.760 --> 00:05:46.450
we don't have access to the session object over here,

00:05:46.450 --> 00:05:51.260
so we can't say session dot Begin transaction on setting that coming transaction.

00:05:51.260 --> 00:05:51.590
Now,

00:05:51.590 --> 00:05:53.210
there are work arounds to do that,

00:05:53.210 --> 00:05:54.450
but basically,

00:05:54.450 --> 00:05:58.600
we don't want to do the transaction over here because if I do the transaction over here,

00:05:58.600 --> 00:06:00.220
then we have to be the transaction here.

00:06:00.220 --> 00:06:00.750
Also,

00:06:00.750 --> 00:06:04.360
the transaction has to be done even here also on the transaction,

00:06:04.360 --> 00:06:06.720
have to be done in all other kinds of deer.

00:06:06.720 --> 00:06:10.860
Like customer Delwar supplied the will employ the row on.

00:06:10.860 --> 00:06:15.920
In case if my application has 25 to 50 different deal goes in every other place,

00:06:15.920 --> 00:06:17.720
I have to handle the transactions.

00:06:17.720 --> 00:06:24.190
So this is called cold scattering Because the same type of court will begin transaction

00:06:24.190 --> 00:06:29.550
come introduction Rollback transaction is now scattered in any number of places.

00:06:29.550 --> 00:06:30.390
Also,

00:06:30.390 --> 00:06:34.850
the transaction management core is being tangled with your code.

00:06:34.850 --> 00:06:36.050
In addition,

00:06:36.050 --> 00:06:42.160
there might be other aspects such as security are logging our data type conversions added

00:06:42.160 --> 00:06:45.290
handling so many things get mixed up over here,

00:06:45.290 --> 00:06:47.080
which is called cold tangling.

00:06:47.080 --> 00:06:50.170
So there are two problems in these scenarios.

00:06:50.170 --> 00:06:54.550
One is called corn scattering on the other is called corded tangling.

00:06:54.550 --> 00:06:59.550
We can aware both of these problems using the concept off aspect oriented programming,

00:06:59.550 --> 00:07:02.680
which is the topic off our next section.

00:07:02.680 --> 00:07:04.330
So for the time being,

00:07:04.330 --> 00:07:09.450
let us just commit these two lines on not what he about the transactions.

00:07:09.450 --> 00:07:12.010
Once we understand the aspect or ended programming,

00:07:12.010 --> 00:07:14.210
we will understand what is transaction.

00:07:14.210 --> 00:07:14.700
How.

00:07:14.700 --> 00:07:19.950
Actually it will be helps that on then handle all transactions off or applications.

