WEBVTT
ï»¿1
00:00:00.000 --> 00:00:02.740
Okay,

2
00:00:02.740 --> 00:00:06.450
let's look at this next lesson about directory assignment.

3
00:00:06.450 --> 00:00:08.010
What are we going to do?

4
00:00:08.010 --> 00:00:08.370
Inject?

5
00:00:08.370 --> 00:00:09.090
Reassignment?

6
00:00:09.090 --> 00:00:10.970
What kind of script are we going to Dio?

7
00:00:10.970 --> 00:00:11.440
Well,

8
00:00:11.440 --> 00:00:12.710
this is a script also,

9
00:00:12.710 --> 00:00:18.530
I have experienced many off my coworkers or my friends who are in this field.

10
00:00:18.530 --> 00:00:20.560
They have experienced this kind of issue.

11
00:00:20.560 --> 00:00:27.850
What happened is they There are home directories or their directories inside of slash home

12
00:00:27.850 --> 00:00:27.850
.

13
00:00:27.850 --> 00:00:34.650
But what happened is all those uses that are in the etc password.

14
00:00:34.650 --> 00:00:37.550
Those directors do not belong to them.

15
00:00:37.550 --> 00:00:42.490
So why do we have those directories than if they do not belong in etc.

16
00:00:42.490 --> 00:00:48.260
If to any of the users that are in etc password Because in reality,

17
00:00:48.260 --> 00:00:49.050
as a standard,

18
00:00:49.050 --> 00:00:53.650
every user directory should go into slash home.

19
00:00:53.650 --> 00:00:58.580
And if there is a directory that is like X y Z,

20
00:00:58.580 --> 00:01:01.850
and it does not belong to an actual user,

21
00:01:01.850 --> 00:01:08.610
should be deleted from at slash home unless it has an application associated with it or,

22
00:01:08.610 --> 00:01:10.880
you know there's a business justification for it.

23
00:01:10.880 --> 00:01:17.150
So we are trying to find out those home directories that do not belong to a user.

24
00:01:17.150 --> 00:01:21.210
So we will do is we will match these uses from SC password,

25
00:01:21.210 --> 00:01:24.860
too slash home to direct and it will complain.

26
00:01:24.860 --> 00:01:25.210
Hey,

27
00:01:25.210 --> 00:01:31.120
this directory do not belong to this user or has no user It'll okay,

28
00:01:31.120 --> 00:01:31.850
so go.

29
00:01:31.850 --> 00:01:33.790
Let's go into our machine now.

30
00:01:33.790 --> 00:01:36.250
This time I want you to be route.

31
00:01:36.250 --> 00:01:37.910
And first of all,

32
00:01:37.910 --> 00:01:40.350
what do you have to do is to go into the,

33
00:01:40.350 --> 00:01:41.460
um,

34
00:01:41.460 --> 00:01:43.360
slash home,

35
00:01:43.360 --> 00:01:47.800
depict and create a user directory.

36
00:01:47.800 --> 00:01:52.360
Call Juno's Now Juno's is,

37
00:01:52.360 --> 00:01:53.210
ah,

38
00:01:53.210 --> 00:01:59.160
directory name that I pecked because I do not have Juno's in my etc.

39
00:01:59.160 --> 00:01:59.750
Password.

40
00:01:59.750 --> 00:02:01.220
You see,

41
00:02:01.220 --> 00:02:01.850
nothing came up.

42
00:02:01.850 --> 00:02:04.270
It means this user do not exist.

43
00:02:04.270 --> 00:02:09.210
So if my script works the way I wanted toe work than it should complain.

44
00:02:09.210 --> 00:02:17.600
Hate Junos is a directory in slash home that director do not belong to any user in Etc.

45
00:02:17.600 --> 00:02:19.650
Password Still want to know that?

46
00:02:19.650 --> 00:02:21.070
Okay,

47
00:02:21.070 --> 00:02:30.350
so how do we do that skin into a script and I want you to create that script in slash temp

48
00:02:30.350 --> 00:02:30.350
.

49
00:02:30.350 --> 00:02:32.100
Go to seedy stache,

50
00:02:32.100 --> 00:02:34.900
temp and do V.

51
00:02:34.900 --> 00:02:36.800
I check the i.

52
00:02:36.800 --> 00:02:37.010
R.

53
00:02:37.010 --> 00:02:39.180
This is the name of the script,

54
00:02:39.180 --> 00:02:39.750
the vehicle,

55
00:02:39.750 --> 00:02:44.750
and we will define our,

56
00:02:44.750 --> 00:02:46.160
uh,

57
00:02:46.160 --> 00:02:50.150
show and our daughter who is the author.

58
00:02:50.150 --> 00:02:59.070
That's you date description.

59
00:02:59.070 --> 00:03:00.050
This is the best part.

60
00:03:00.050 --> 00:03:04.250
This script will find.

61
00:03:04.250 --> 00:03:06.950
Directories it out,

62
00:03:06.950 --> 00:03:11.050
Uses modified.

63
00:03:11.050 --> 00:03:14.850
Is your ate their hate Tuesd.

64
00:03:14.850 --> 00:03:17.550
Okay,

65
00:03:17.550 --> 00:03:23.250
now what it will do it will first go into CD into slash home.

66
00:03:23.250 --> 00:03:24.690
I want to run this.

67
00:03:24.690 --> 00:03:26.250
Come then.

68
00:03:26.250 --> 00:03:35.940
Well put a statement for and I will put a variable this time De ir It's just a variable.

69
00:03:35.940 --> 00:03:38.850
You could pick anything again in Asterix.

70
00:03:38.850 --> 00:03:46.960
So I went to a CD slash home during and I am looking for all the directories and I'm

71
00:03:46.960 --> 00:03:51.050
putting all those directories into a variable called de ir.

72
00:03:51.050 --> 00:03:57.320
Then I want to do Is Creed another?

73
00:03:57.320 --> 00:03:57.750
Very.

74
00:03:57.750 --> 00:04:02.050
And I'm gonna call this variable C H check.

75
00:04:02.050 --> 00:04:03.950
Hello.

76
00:04:03.950 --> 00:04:07.350
Dollar parentheses,

77
00:04:07.350 --> 00:04:19.950
which is right above number nine quipped minus C from de ir.

78
00:04:19.950 --> 00:04:33.450
This is a variable we have and a guest has let me write the script and I will explain you

79
00:04:33.450 --> 00:04:35.950
once more time.

80
00:04:35.950 --> 00:04:40.450
What I'm doing check is greater than one.

81
00:04:40.450 --> 00:04:45.550
Then echo.

82
00:04:45.550 --> 00:04:52.570
You don't have to put a coat if you don't want to.

83
00:04:52.570 --> 00:04:53.630
Some time I do it sometime.

84
00:04:53.630 --> 00:04:54.950
I don't It really doesn't matter.

85
00:04:54.950 --> 00:05:15.420
Directory is signed to a else directory is not assigned to see and don't.

86
00:05:15.420 --> 00:05:15.950
Okay,

87
00:05:15.950 --> 00:05:17.690
does this script I wrote?

88
00:05:17.690 --> 00:05:18.980
Let me explain you again.

89
00:05:18.980 --> 00:05:20.380
Okay,

90
00:05:20.380 --> 00:05:25.950
so what is script is actually doing is it's finding all is going into the home directory,

91
00:05:25.950 --> 00:05:31.250
and it's finding everything in the home directions putting into the de ir directory,

92
00:05:31.250 --> 00:05:32.620
which is a variable.

93
00:05:32.620 --> 00:05:36.930
Then what is doing is is defining another variable and another variable.

94
00:05:36.930 --> 00:05:38.570
What is going to do is going to run a command,

95
00:05:38.570 --> 00:05:40.240
grab it minus C option,

96
00:05:40.240 --> 00:05:43.080
which will do the count if it finds it wanted to.

97
00:05:43.080 --> 00:05:43.550
Whatever.

98
00:05:43.550 --> 00:05:47.950
And it's gonna grab from this list,

99
00:05:47.950 --> 00:05:50.450
which is in this Derek in this variable,

100
00:05:50.450 --> 00:05:53.510
and it's gonna grip from at Sea Password.

101
00:05:53.510 --> 00:05:56.970
And if it finds even one directory that has a user.

102
00:05:56.970 --> 00:05:57.700
That's what I said.

103
00:05:57.700 --> 00:05:59.450
If check is greater than one,

104
00:05:59.450 --> 00:06:01.650
if this variable returns,

105
00:06:01.650 --> 00:06:04.450
anything more than zero,

106
00:06:04.450 --> 00:06:06.060
which is check is greater than one.

107
00:06:06.060 --> 00:06:09.550
Then Echo Directory is assigned to a user.

108
00:06:09.550 --> 00:06:17.870
If it is below 01 then it's going to say else directory is not assigned to the user and fee

109
00:06:17.870 --> 00:06:20.150
and done so.

110
00:06:20.150 --> 00:06:23.250
We will run the script real quick,

111
00:06:23.250 --> 00:06:29.350
and I wanted to assign the permission.

112
00:06:29.350 --> 00:06:37.510
Now let's run it Okay,

113
00:06:37.510 --> 00:06:40.450
now you will see It says I absolve.

114
00:06:40.450 --> 00:06:42.510
So basically what?

115
00:06:42.510 --> 00:06:50.930
Before I tell you the output lets go to home and you will see there are 123456 directories

116
00:06:50.930 --> 00:06:52.850
are slash home.

117
00:06:52.850 --> 00:06:55.040
And now it's gonna grab.

118
00:06:55.040 --> 00:06:57.200
Grab all these six directors from Etc.

119
00:06:57.200 --> 00:07:01.880
Password and is going to say if that matches this is I absolve is assigned to orders of

120
00:07:01.880 --> 00:07:02.390
perfect.

121
00:07:02.390 --> 00:07:05.210
Juno's is not a scientific user.

122
00:07:05.210 --> 00:07:07.050
Peter is not a sign to use it.

123
00:07:07.050 --> 00:07:13.500
Test is test 123 is and test 456 is so basically.

124
00:07:13.500 --> 00:07:15.380
That's what I'm doing it.

125
00:07:15.380 --> 00:07:15.820
Now.

126
00:07:15.820 --> 00:07:22.250
What I could do is I could simply if I run the script and I could simply do crap and I'll

127
00:07:22.250 --> 00:07:23.090
do not.

128
00:07:23.090 --> 00:07:24.450
And it will only give me,

129
00:07:24.450 --> 00:07:27.450
um no such father.

130
00:07:27.450 --> 00:07:29.350
Yeah,

131
00:07:29.350 --> 00:07:32.420
I am in.

132
00:07:32.420 --> 00:07:33.810
So now,

133
00:07:33.810 --> 00:07:38.850
um,

134
00:07:38.850 --> 00:07:44.550
think I put it in check up.

135
00:07:44.550 --> 00:07:47.850
I'm putting a slash router.

136
00:07:47.850 --> 00:07:49.240
All right,

137
00:07:49.240 --> 00:07:52.050
So check de ir.

138
00:07:52.050 --> 00:07:54.370
And when you hit,

139
00:07:54.370 --> 00:07:54.750
enter.

140
00:07:54.750 --> 00:07:58.350
And now when you do not,

141
00:07:58.350 --> 00:08:07.490
I will know that these are the two users that do not have a user account and their

142
00:08:07.490 --> 00:08:08.840
directory is there.

143
00:08:08.840 --> 00:08:09.850
Why's there?

144
00:08:09.850 --> 00:08:11.130
That's a problem.

145
00:08:11.130 --> 00:08:12.280
That's a security risk.

146
00:08:12.280 --> 00:08:17.750
So now I could simply go in and delete it or find out who who these users belong to.

147
00:08:17.750 --> 00:08:18.630
Um,

148
00:08:18.630 --> 00:08:19.250
also,

149
00:08:19.250 --> 00:08:21.560
what happened is that's a real life example.

150
00:08:21.560 --> 00:08:22.580
What happened is if,

151
00:08:22.580 --> 00:08:24.450
if you have a group of people and one,

152
00:08:24.450 --> 00:08:25.450
um,

153
00:08:25.450 --> 00:08:30.050
one of your coworker leaves the company so you delete his or her account.

154
00:08:30.050 --> 00:08:32.550
But somehow when you delete it,

155
00:08:32.550 --> 00:08:36.250
it depends on which command you run the user delete.

156
00:08:36.250 --> 00:08:39.950
It does not delete the Home directory with it.

157
00:08:39.950 --> 00:08:41.810
It keeps the home directory.

158
00:08:41.810 --> 00:08:45.190
Unless you specify in the user to leave with the option,

159
00:08:45.190 --> 00:08:46.750
I believe it's dash that should move,

160
00:08:46.750 --> 00:08:47.370
then.

161
00:08:47.370 --> 00:08:48.930
Ever removed the director advisable?

162
00:08:48.930 --> 00:08:50.070
Not so it's.

163
00:08:50.070 --> 00:08:54.890
That's why you have to come in and do some off the house housekeeping and make sure all

164
00:08:54.890 --> 00:08:56.950
those directories are gone.

165
00:08:56.950 --> 00:08:59.130
So that's how it works.

166
00:08:59.130 --> 00:08:59.720
Tried,

167
00:08:59.720 --> 00:09:00.410
it's ah,

168
00:09:00.410 --> 00:09:01.720
it's very useful script,

169
00:09:01.720 --> 00:09:05.790
and you will need it one one way or the other.

170
00:09:05.790 --> 00:09:09.090
Whatever that you're doing or if you are trying to look for other things,

171
00:09:09.090 --> 00:09:11.750
you could just change the script to way that you want to use it

