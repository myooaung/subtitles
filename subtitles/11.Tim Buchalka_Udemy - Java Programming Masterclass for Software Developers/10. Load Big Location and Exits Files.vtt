WEBVTT
1
1

00:00:05.250  -->  00:00:09.180
so in the last video we add the code to
actually read in the directions the
2

2

00:00:09.180  -->  00:00:14.130
exits in other words but their is a fair amount of code here still and I asked the
3

3

00:00:14.130  -->  00:00:17.530
question you know what's the advantage of what we have done here and with the
4

4

00:00:17.530  -->  00:00:21.050
small number of locations that we have at
the moment the advantage of this code
5

5

00:00:21.050  -->  00:00:25.890
compared to just sort of hard coding
the location is not really obvious but
6

6

00:00:25.890  -->  00:00:30.280
theirs actually a downloaded file called
gamedata.zip that is in the Resources
7

7

00:00:30.280  -->  00:00:35.140
section of this video so download that and we are
going to use those files instead and you
8

8

00:00:35.140  -->  00:00:39.230
see that it gets a little easier when we
got lots of locations so let's actually
9

9

00:00:39.230  -->  00:00:43.530
have a look at that so I'm going to swing
over to a folder where I already got this
10

10

00:00:43.530  -->  00:00:47.570
downloading so again you can get this from
the Resources section of this video and
11

11

00:00:47.570  -->  00:00:52.320
unzip it and you can see in the folder now there
is going to be 2 files directions_big
12

12

00:00:52.320  -->  00:00:57.140
and locations_big so what I'm gonna do is go back to my project
13

13

00:00:57.140  -->  00:00:59.070
and I'm going to right click it
14

14

00:00:59.070  -->  00:01:07.350
reveal in finder and I'm going to go into my
input output folder which is the project
15

15

00:01:07.350  -->  00:01:11.220
that project name that I have assigned for this
one and I'm going to just copy these
16

16

00:01:11.220  -->  00:01:17.490
files these are the ones that are basically from unzip data file and I'm going to paste them
17

17

00:01:17.490  -->  00:01:25.110
into their and I'm going to go back to the project and they should appear as they have in the left hand side now what
18

18

00:01:25.110  -->  00:01:28.250
were going to do is instead of renaming the
existing files I'm going to actually
19

19

00:01:28.250  -->  00:01:32.960
change the references on lines 43 and 64
to use the new names
20

20

00:01:33.970  -->  00:01:37.850
so its going to be directions_big and locations_big so change that
21

21

00:01:37.850  -->  00:01:42.860
names and use these files...
22

22

00:01:46.280  -->  00:01:52.710
and when I have done that and lets have a look at some of them so see what locations_big you
23

23

00:01:52.710  -->  00:01:55.470
can see we've actually got a lot locations now and this is basically the
24

24

00:01:55.470  -->  00:02:00.310
entire locations for
the entire game so it has quite a few their
25

25

00:02:00.310  -->  00:02:06.180
and likewise for directions_big theirs now going to be a lot more entries
26

26

00:02:06.180  -->  00:02:11.810
significant amount of entries so lets just closed
some of these files down
27

27

00:02:15.130  -->  00:02:24.030
and we give this a running again to make sure it still working
and you can our input seems to
28

28

00:02:24.030  -->  00:02:27.790
work because we've got a lot of location
data on the screen there and a lot of
29

29

00:02:27.790  -->  00:02:33.790
imported locations significant amount
their so just scroll down to the bottom and
30

30

00:02:33.790  -->  00:02:39.080
we will just try running a few locations so
these are getting hard to read it because of these
31

31

00:02:39.080  -->  00:02:42.880
locations so lets actually just change the
run Windows change it so its down the bottom
32

32

00:02:42.880  -->  00:02:48.430
so gonna move that to move to bottom
we will be able to see it a little bit
33

33

00:02:48.430  -->  00:03:05.210
better now and just to check lets go south go north North that seems to be working ok now this is
34

34

00:03:05.210  -->  00:03:10.280
again the locations from the original colossal
cave adventure game and then actually
35

35

00:03:10.280  -->  00:03:14.100
had a random elements so that you don't
end up stuck in the forests which is
36

36

00:03:14.100  -->  00:03:17.330
actually quite easy to do with this
version and then we also haven't got any
37

37

00:03:17.330  -->  00:03:21.160
items such as the key so you can't
actually get into the caves at the moment
38

38

00:03:21.160  -->  00:03:26.550
we can change cheat a bit thought by setting
the starting location to say location 64 for
39

39

00:03:26.550  -->  00:03:31.600
example we can actually sort of moved to a
different areas so let's look at doing that
40

40

00:03:31.600  -->  00:03:46.950
so we go back to main close the run window so what we can do here is on line 29 instead of the location being one lets actually comment that out
41

41

00:03:46.950  -->  00:03:53.250
and temporary put it to locations 64 which is an entirely
different location and that should start us off in a more
42

42

00:03:53.250  -->  00:03:56.430
complex junctions so lets do
that to see that it's actually working
43

43

00:03:56.430  -->  00:04:02.400
you are now at a complex junction own hands and
knees passage from the north joins a
44

44

00:04:02.400  -->  00:04:08.130
high crawl from the east etc so you should
be able to now just do a bit of wondering so go east
45

45

00:04:10.980  -->  00:04:18.830
...east east again here at wits end go east again....
46

46

00:04:20.840  -->  00:04:25.680
and that's a good way to get lost
anyway it seems to be working that's
47

47

00:04:25.680  -->  00:04:27.060
good
48

48

00:04:27.060  -->  00:04:32.100
so if we open up the big locations and directions
fiels again so directions_big
49

49

00:04:32.100  -->  00:04:42.500
locations_big I'll just close this run window down you imagine actually
you know typing all that code into
50

50

00:04:42.500  -->  00:04:46.380
and initialize this manually into your calls and
instead of actually reading into a file
51

51

00:04:46.380  -->  00:04:50.720
so you can see that this is obviously
going to be far more efficient when you
52

52

00:04:50.720  -->  00:04:56.430
got lots of data to read that data in using some code rather than try the type
53

53

00:04:56.430  -->  00:05:00.470
it directly into our java files that we
did initially before we got into this input output
54

54

00:05:00.470  -->  00:05:05.750
section and these files are actually extracted
from the FORTRAN source from the
55

55

00:05:05.750  -->  00:05:10.410
original colossal cave game you might
be wondering why these descriptions are all
56

56

00:05:10.410  -->  00:05:14.510
in uppercase well that's because most of
the terminals at the time and we are
57

57

00:05:14.510  -->  00:05:18.690
talking the early nineteen seventies then they couldn't display lower case
58

58

00:05:18.690  -->  00:05:22.650
characters believe it or not but as I mentioned
earlier theirs actually a random element to
59

59

00:05:22.650  -->  00:05:26.280
the game and we haven't implemented that
yet and if you get to a secret Canyon
60

60

00:05:26.280  -->  00:05:29.530
the description does not necessarily
mean that you're in the same...
61

61

00:05:29.530  -->  00:05:33.970
each time in other words the available
exits can change but getting back to our
62

62

00:05:33.970  -->  00:05:38.740
code we have now seen a simple way to
write data to a file and to read it back
63

63

00:05:38.740  -->  00:05:42.660
again and in the process we looked at
the finally block to ensure that the
64

64

00:05:42.660  -->  00:05:47.590
cleanup code is executed even if an
exception is thrown and will also
65

65

00:05:47.590  -->  00:05:50.300
chain objects together we will just go back
and have a look at some these code
66

66

00:05:50.300  -->  00:05:56.700
while I am talking about it you can see a reference of
chaining there on line 64 so we also chain these
67

67

00:05:56.700  -->  00:06:00.370
objects together as I mentioned to allow scanner to read from a BufferedReader that
68

68

00:06:00.370  -->  00:06:05.320
uses a string to get us data and I covered the trial with resources method
69

69

00:06:05.320  -->  00:06:09.580
that became available with Java 7 and
that resulted in much cleaner code and
70

70

00:06:09.580  -->  00:06:13.160
we saw an example of that you now I haven't
used that in the example that reads that data
71

71

00:06:13.160  -->  00:06:17.470
back in because it's important to
understand how to perform IO with older
72

72

00:06:17.470  -->  00:06:21.680
Java versions when you have to
maintain legacy code that will happen
73

73

00:06:21.680  -->  00:06:27.610
quite a bit but also the second reason
we are doing that secret evil plan was it makes for a
74

74

00:06:27.610  -->  00:06:32.030
good challenge for you to do it so the code
to read the data back is a bit cluttered
75

75

00:06:32.030  -->  00:06:33.380
catching exceptions and
76

76

00:06:33.380  -->  00:06:37.610
we don't actually do anything with those
exceptions but unfortunately our options are
77

77

00:06:37.610  -->  00:06:42.410
limited here now when we have code in our
main method we can just specify that the
78

78

00:06:42.410  -->  00:06:47.340
method throws the exceptions and remove
the catch block now that approach can't be
79

79

00:06:47.340  -->  00:06:51.580
taken with a static initialization block
and the reason is that the static
80

80

00:06:51.580  -->  00:06:53.300
initialization block
81

81

00:06:53.300  -->  00:06:57.560
they're actually executed when the
classes loaded so in other words there is no way
82

82

00:06:57.560  -->  00:07:02.150
for any of our code anywhere to catch any
exceptions that are thrown now you can throw
83

83

00:07:02.150  -->  00:07:07.400
unchecked exceptions in a initialization
block but not checked ones unchecked
84

84

00:07:07.400  -->  00:07:11.150
exceptions if you remembered don't have to
be caught but checked exceptions must be
85

85

00:07:11.150  -->  00:07:16.180
that said we can rewrite the code to
use the Java 7 trial resources to make
86

86

00:07:16.180  -->  00:07:21.160
it a bit tidier and in the next video I am gonna set you in a bit of a challenge to get you to do
87

87

00:07:21.160  -->  00:07:25.210
just that so stick around and I'll see
you in the next video and will have a
88

88

00:07:25.210  -->  00:07:27.880
challenge for you to undertake for this code see you their
