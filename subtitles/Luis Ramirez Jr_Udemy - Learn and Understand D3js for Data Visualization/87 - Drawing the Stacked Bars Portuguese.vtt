WEBVTT
﻿1
00:00:00.270 --> 00:00:06.420
‫Nesta aula, vamos desenhar a barra empilhada usando nossas escalas, ao contrário de outros gráficos, vamos

2
00:00:06.420 --> 00:00:09.230
‫dar dois passos para desenhar o vaso.

3
00:00:09.540 --> 00:00:12.360
‫Primeiro, precisamos percorrer os dados formatados.

4
00:00:12.690 --> 00:00:16.820
‫Os metadados do formulário são uma matriz de grupos de idade em cada iteração.

5
00:00:16.830 --> 00:00:21.090
‫Vamos percorrer os dados dentro da faixa etária para cada iteração.

6
00:00:21.120 --> 00:00:23.380
‫Vamos desenhar uma barra no total.

7
00:00:23.430 --> 00:00:28.710
‫Deve haver quatrocentos e sessenta e oito barras desenhadas na imagem no arquivo de script.

8
00:00:28.710 --> 00:00:30.990
‫Role até o final da função de desenho.

9
00:00:31.170 --> 00:00:33.570
‫Adicione um comentário que diga Draw Barres.

10
00:00:35.940 --> 00:00:40.680
‫A seguir, adicionaremos um grupo à seleção do contêiner chamando a função append.

11
00:00:43.150 --> 00:00:45.730
‫Estamos adicionando um grupo para manter as coisas organizadas.

12
00:00:45.880 --> 00:00:51.070
‫Vamos desenhar muitas formas para este exemplo, seria uma boa ideia agrupar as coisas

13
00:00:51.070 --> 00:00:53.310
‫para tornar mais fácil a depuração.

14
00:00:53.680 --> 00:00:55.870
‫Devemos atribuir este grupo a uma variável.

15
00:00:56.140 --> 00:00:59.110
‫O nome da variável será denominado grupos de idade.

16
00:01:01.520 --> 00:01:08.090
‫Para tornar mais fácil identificar ou adicionar uma classe ao grupo denominado grupos de idade usando a classe para funcionar.

17
00:01:10.550 --> 00:01:15.770
‫A classe não vem com nenhum estilo ou adição para nos ajudar a encontrar o grupo na

18
00:01:15.770 --> 00:01:22.490
‫imagem com as ferramentas do desenvolvedor após adicionar a classe fará uma seleção para um grupo vazio com desmarcar todas as funções.

19
00:01:24.960 --> 00:01:30.060
‫Vamos juntar essas matrizes de dados empilhadas com a seleção chamando a função de dados.

20
00:01:32.580 --> 00:01:38.370
‫Como não há elementos para os dados serem unidos, eles serão colocados dentro de toda a seleção, podemos

21
00:01:38.730 --> 00:01:44.090
‫desenhar algumas formas com base nos dados de toda a seleção chamando a função joint.

22
00:01:44.430 --> 00:01:46.620
‫Vamos adicionar outro elemento de grupo.

23
00:01:49.160 --> 00:01:55.910
‫Estamos tentando desenhar as barras, no entanto, os dados para as barras estão aninhados dentro do array para acessar as

24
00:01:55.910 --> 00:02:00.170
‫barras, precisaremos juntar o primeiro conjunto de arrays com um elemento.

25
00:02:00.560 --> 00:02:06.110
‫Uma vez que o elemento de grupo não desenha uma forma, é um elemento viável para juntar nossos dados também.

26
00:02:06.500 --> 00:02:10.700
‫Além disso, não custa nada agrupar nossos retângulos por grupos de idade.

27
00:02:11.180 --> 00:02:16.190
‫Vamos atualizar a página para verificar se nove grupos estão sendo gerados para cada faixa etária.

28
00:02:18.630 --> 00:02:25.110
‫E as ferramentas do desenvolvedor sob o painel Elementos encontrarão um grupo com grupos de idade das

29
00:02:25.110 --> 00:02:32.050
‫turmas, se olharmos dentro, este grupo achará os nove grupos de idade ótimos, voltados para o editor em outra linha.

30
00:02:32.100 --> 00:02:37.530
‫Vamos iniciar o processo de desenho da população do estado que pode ser encontrada em cada faixa etária.

31
00:02:37.830 --> 00:02:42.480
‫Chamaremos o grupo de idade para selecionar todas as funções do elemento retângulo.

32
00:02:44.990 --> 00:02:50.570
‫Estaremos trabalhando em uma linha separada para tornar as coisas mais fáceis de ler, não é

33
00:02:50.570 --> 00:02:57.080
‫necessário fazer isso, mas recomendamos que vamos começar a desenhar os retângulos primeiro, juntaremos os dados chamando a função de

34
00:02:57.080 --> 00:02:57.650
‫dados.

35
00:03:00.150 --> 00:03:06.060
‫Aqui está a parte complicada, os dados que precisamos desenhar podem ser encontrados dentro do respectivo grupo, como pegamos

36
00:03:06.060 --> 00:03:10.380
‫os dados do grupo correspondente e os passamos para a função de dados?

37
00:03:10.650 --> 00:03:13.860
‫Acontece que temos a opção de passar uma função.

38
00:03:16.390 --> 00:03:22.120
‫A função que passamos será fornecida, os dados atualmente associados à seleção a aceitarão

39
00:03:22.120 --> 00:03:23.830
‫como D. e devolva.

40
00:03:26.450 --> 00:03:31.280
‫Os dados que estamos retornando são as 52 matrizes que podem ser encontradas em cada faixa etária.

41
00:03:31.610 --> 00:03:36.950
‫A próxima coisa que faremos é alterar a função de junção para começar a desenhar os elementos do retângulo.

42
00:03:39.430 --> 00:03:46.690
‫Existem quatro atributos que vamos adicionar às barras, atributos de largura e altura x, y.

43
00:03:47.020 --> 00:03:50.590
‫Vamos mudar a função de atributo para cada um desses atributos.

44
00:03:53.010 --> 00:03:58.410
‫Começaremos com o atributo ex, o valor para este atributo será uma função que aceita o

45
00:03:58.740 --> 00:03:59.400
‫argumento.

46
00:04:01.920 --> 00:04:09.060
‫O argumento conterá os dados de estado, a barra deve ser posicionada uniformemente no eixo X, vamos usar a

47
00:04:09.060 --> 00:04:12.890
‫escala X para nos ajudar a distribuir as barras uniformemente.

48
00:04:13.290 --> 00:04:17.850
‫Retornaremos o seguinte nome de dados de escala X X.

49
00:04:20.350 --> 00:04:26.590
‫A escala X está esperando o nome do estado, podemos acessar o nome através do objeto de dados, a

50
00:04:26.590 --> 00:04:32.750
‫função de pilha formatou nossos dados para que os dados originais possam ser encontrados no objeto de dados.

51
00:04:33.100 --> 00:04:38.110
‫A escala retornará uma coordenada que posicionará a forma no eixo x.

52
00:04:39.390 --> 00:04:45.510
‫Vamos trabalhar no atributo wine que definirá o valor para uma função de seta que aceita o argumento.

53
00:04:47.940 --> 00:04:51.990
‫O seguinte será retornado em larga escala, Daewon.

54
00:04:54.600 --> 00:05:00.180
‫Existem dois números disponíveis neste estado, OIRA's, existem essas posições inicial e final, a posição

55
00:05:00.480 --> 00:05:04.790
‫final é armazenada neste índice, que é o que estamos usando.

56
00:05:05.130 --> 00:05:08.220
‫Queremos que as formas sejam posicionadas mais acima na imagem.

57
00:05:08.670 --> 00:05:14.670
‫Se olharmos para a função de larga escala, quanto menor o domínio, maior o intervalo, quanto maior

58
00:05:14.670 --> 00:05:16.610
‫o domínio, menor o intervalo.

59
00:05:16.890 --> 00:05:20.340
‫Estamos invertendo os valores por causa de como as coordenadas funcionam.

60
00:05:20.340 --> 00:05:24.240
‫Em SVG, o eixo y vai de cima para baixo.

61
00:05:24.510 --> 00:05:28.260
‫Um valor inferior resultará em uma forma sendo posicionada mais alto.

62
00:05:28.740 --> 00:05:31.980
‫O próximo atributo no qual trabalharemos é o atributo altura.

63
00:05:32.250 --> 00:05:40.590
‫O valor será o seguinte d escala D zero menos escala D um.

64
00:05:43.820 --> 00:05:49.640
‫Para obter a altura da barra, estamos subtraindo a extremidade inferior pela extremidade superior, esta solução pode

65
00:05:49.640 --> 00:05:50.660
‫parecer confusa.

66
00:05:51.020 --> 00:05:57.230
‫No entanto, lembre-se de que, após passar os valores pelas escalas, a função de grande escala mudará.

67
00:05:57.230 --> 00:06:01.920
‫Os valores, portanto, receberão uma altura adequada para o gráfico.

68
00:06:02.480 --> 00:06:09.350
‫O último atributo que vamos definir é o atributo largura que o definirá para a função de largura de banda da escala X.

69
00:06:11.800 --> 00:06:18.010
‫A escala de banda produz valores adicionais, ela não apenas transforma seus valores, um dos valores que ela produz é

70
00:06:18.010 --> 00:06:19.930
‫chamado de largura de banda.

71
00:06:20.260 --> 00:06:24.370
‫A função de largura de banda mantém quanto espaço cada barra deve ocupar.

72
00:06:24.700 --> 00:06:26.610
‫A largura de cada barra será a mesma.

73
00:06:26.890 --> 00:06:28.720
‫Terminamos de desenhar as formas.

74
00:06:28.900 --> 00:06:30.310
‫Vamos atualizar a página.

75
00:06:32.790 --> 00:06:34.330
‫As barras estão ficando ótimas.

76
00:06:34.530 --> 00:06:40.890
‫Parece que temos apenas 52 barras, se aumentarmos o zoom, descobriremos que cada barra tem uma borda.

77
00:06:41.190 --> 00:06:43.100
‫Existe espaçamento entre cada barra.

78
00:06:43.440 --> 00:06:47.940
‫Há um total de quatrocentos e sessenta e oito compassos, que é o que pretendíamos.

79
00:06:48.270 --> 00:06:50.120
‫Eles estão empilhados um em cima do outro.

80
00:06:50.550 --> 00:06:55.290
‫O único problema é que não podemos identificar cada barra, pois são todas da mesma cor.

81
00:06:55.590 --> 00:06:57.640
‫Vamos mudar as cores das barras.

82
00:06:57.870 --> 00:07:02.190
‫Não acho que seria uma boa ideia atribuir uma cor exclusiva a cada barra.

83
00:07:02.460 --> 00:07:08.310
‫Em vez disso, será atribuída uma cor para cada faixa etária, no total, serão necessárias nove cores diferentes.

84
00:07:08.460 --> 00:07:09.990
‫Volte para o editor.

85
00:07:10.500 --> 00:07:15.180
‫Vamos definir uma escala para ajudar a transformar as faixas etárias em cores.

86
00:07:15.390 --> 00:07:19.650
‫Na seção de escalas será criada uma escala chamada escala de cores.

87
00:07:20.040 --> 00:07:23.520
‫Usaremos o D 3. Função ordinal de escala 0.

88
00:07:26.010 --> 00:07:31.630
‫A escala ordinal, como aprendemos, transformará dados discretos em dados discretos.

89
00:07:31.980 --> 00:07:37.980
‫Queremos transformar nove grupos de idade em nove cores para mudar a função do domínio.

90
00:07:40.470 --> 00:07:44.640
‫Vamos mapear a variável de dados Steck chamando a função map.

91
00:07:47.140 --> 00:07:52.480
‫O domínio deve ser uma matriz de faixas etárias que gostaríamos de mapear, vamos retornar o

92
00:07:52.480 --> 00:07:55.240
‫seguinte da função que passamos em Dokki.

93
00:07:57.740 --> 00:08:00.140
‫A seguir, vamos alterar a função de intervalo.

94
00:08:02.560 --> 00:08:09.520
‫O valor para esta função será o seguinte esquema D3, pilha espectral, comprimento de dados.

95
00:08:12.770 --> 00:08:18.500
‫Usaremos a lista predefinida de cores porque existem apenas nove faixas etárias, não precisamos de

96
00:08:18.500 --> 00:08:20.040
‫mais de nove cores.

97
00:08:20.270 --> 00:08:23.210
‫Há mais uma função wolfsbane chamada desconhecida.

98
00:08:25.750 --> 00:08:32.290
‫Em alguns casos, a escala ordinal pode não ser capaz de dimensionar um grupo para uma cor, se isso acontecer, podemos envergonhar a função desconhecida e definir um valor de

99
00:08:32.290 --> 00:08:39.100
‫fallback irá definir a cor de fallback para hash C. C. C ..

100
00:08:41.640 --> 00:08:47.670
‫Vamos usar nossa escala na seleção do grupo de idade, vamos encadear uma função de atributo para definir

101
00:08:47.670 --> 00:08:53.400
‫o atributo de preenchimento e definirá para a seguinte tecla D da escala de cores D.

102
00:08:55.990 --> 00:09:01.750
‫Estamos aplicando o atributo Phil à seleção do grupo em vez dos retângulos, porque os atributos

103
00:09:01.750 --> 00:09:07.840
‫aplicados aos grupos serão aplicados aos seus filhos, será muito mais fácil e rápido aplicar as cores

104
00:09:07.840 --> 00:09:10.390
‫ao grupo em vez das formas individuais.

105
00:09:10.660 --> 00:09:12.040
‫Vamos atualizar a página.

106
00:09:14.560 --> 00:09:21.540
‫Agora temos um gráfico de barras coloridas e empilhadas, é mais fácil identificar cada faixa etária na próxima aula, começaremos a adicionar

107
00:09:21.640 --> 00:09:24.760
‫um eixo para nos ajudar a ler os dados.

