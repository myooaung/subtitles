WEBVTT
X-TIMESTAMP-MAP=LOCAL:00:00:00.000,MPEGTS:0

00:00:00.050 --> 00:00:02.760
Hello folks, welcome back.

00:00:02.760 --> 00:00:05.160
In this lecture we are going to see how to deploy

00:00:05.160 --> 00:00:08.190
your verifiable and Tomcat server using Marvin.

00:00:08.190 --> 00:00:12.720
I have already updated your document under remedy Maven repository.

00:00:12.720 --> 00:00:15.705
You can go and have your look if you have any issue.

00:00:15.705 --> 00:00:19.440
And here if you see prerequisites Marvin server under Tomcat server,

00:00:19.440 --> 00:00:24.285
which is already up and running next to download Maven artifact web app archetype.

00:00:24.285 --> 00:00:28.515
We have already downloaded and we haven't named it as a second Marvin project.

00:00:28.515 --> 00:00:31.320
Next thing, we need to update the palm dot XML.

00:00:31.320 --> 00:00:32.700
So in the palm dot xml,

00:00:32.700 --> 00:00:34.035
we need to provide the,

00:00:34.035 --> 00:00:35.805
what is the Tomcat server.

00:00:35.805 --> 00:00:37.440
So here we need to replace with the,

00:00:37.440 --> 00:00:39.450
the local host with the Tomcat server,

00:00:39.450 --> 00:00:42.070
nothing but with this server IP address.

00:00:42.070 --> 00:00:47.015
And also path after configuration as if each application we would like to access.

00:00:47.015 --> 00:00:48.890
That is the path we need to specify,

00:00:48.890 --> 00:00:51.680
like after this manager, okay,

00:00:51.680 --> 00:00:53.374
if I click on examples,

00:00:53.374 --> 00:00:55.505
here it is coming as a examples, right?

00:00:55.505 --> 00:00:58.100
Similar way, if we want to access our application,

00:00:58.100 --> 00:01:00.080
what are the changes we would like to do,

00:01:00.080 --> 00:01:02.045
okay, that is what we need to do.

00:01:02.045 --> 00:01:05.285
Once that is done, we need to create a settings dot XML.

00:01:05.285 --> 00:01:09.020
So this settings dot XML we are going to create under

00:01:09.020 --> 00:01:13.715
dot ATM2 directory of the root user and we just update this one,

00:01:13.715 --> 00:01:15.575
okay, these dots are not needed.

00:01:15.575 --> 00:01:17.150
So here we are going to update.

00:01:17.150 --> 00:01:20.420
The id is same but username and password,

00:01:20.420 --> 00:01:22.235
in our case, username is admin.

00:01:22.235 --> 00:01:24.215
Password also admin, okay.

00:01:24.215 --> 00:01:26.975
If you remember, I just shown you right.

00:01:26.975 --> 00:01:28.550
This is Tomcat server.

00:01:28.550 --> 00:01:31.055
Yep. Here you can see username and password,

00:01:31.055 --> 00:01:32.540
both our admin, admin,

00:01:32.540 --> 00:01:34.325
this configuration is updated,

00:01:34.325 --> 00:01:40.205
which means that we are ready to reply Web App application on Tomcat using our Marvin.

00:01:40.205 --> 00:01:44.915
And here we should use the command called a Jungian Tomcat 7 under deployed.

00:01:44.915 --> 00:01:48.065
Okay, so far we haven't executed deploy goal.

00:01:48.065 --> 00:01:50.600
First time we are executing the play goal because

00:01:50.600 --> 00:01:53.045
we have found out the remote repository,

00:01:53.045 --> 00:01:56.570
our remote location, where we can able to copy it.

00:01:56.570 --> 00:02:00.545
That is the reason we need to use Tomcat 7 is this is the one.

00:02:00.545 --> 00:02:03.875
Okay, we are using a plugin called Tomcat 7. We do this.

00:02:03.875 --> 00:02:07.010
We can deploy it on a the Tomcat 7, 8.

00:02:07.010 --> 00:02:09.965
Okay, in our case we are using Tomcat eight.

00:02:09.965 --> 00:02:12.530
Alright, so let's update this configuration.

00:02:12.530 --> 00:02:14.690
I'm just copying this information.

00:02:14.690 --> 00:02:19.940
Like just to plug-in some copying and go back to our map and server.

00:02:19.940 --> 00:02:22.640
So these foster terminal is our mavens are what?

00:02:22.640 --> 00:02:25.115
Second terminal is Tomcat server.

00:02:25.115 --> 00:02:28.645
And even you can find the name over here and go in, say,

00:02:28.645 --> 00:02:30.680
two seconds to demo project and

00:02:30.680 --> 00:02:34.910
the VA bomb dot xml and that this should be under plugins.

00:02:34.910 --> 00:02:37.460
You can see there is a tab called plug-in.

00:02:37.460 --> 00:02:41.765
Under plugins, we need to provide plugin hello copied,

00:02:41.765 --> 00:02:44.810
and after copying, we need to update some of

00:02:44.810 --> 00:02:48.230
the information that is the URL of our Tomcat server.

00:02:48.230 --> 00:02:51.125
So I'm just updating it over here.

00:02:51.125 --> 00:02:54.365
Let me grab the Tomcat server URL.

00:02:54.365 --> 00:02:56.285
So this is the world.

00:02:56.285 --> 00:03:00.785
Okay, we thought port number 88 and copying because it is already there.

00:03:00.785 --> 00:03:03.725
Okay, I have taken no slash.

00:03:03.725 --> 00:03:10.040
Then. Here we need to do the helloworld we're burpees did in our case as what you well,

00:03:10.040 --> 00:03:15.680
we want to access, let it be our project name that is second, Marvin.

00:03:15.680 --> 00:03:18.905
Project, okay, Let it be with the same name.

00:03:18.905 --> 00:03:23.390
I would like to access this application and save the file. That's it.

00:03:23.390 --> 00:03:26.660
Now we have updated our palm dot xml to deploy

00:03:26.660 --> 00:03:30.845
the application on Tomcat 7 server, our server.

00:03:30.845 --> 00:03:34.160
And this is the version we are using if you see Group ID,

00:03:34.160 --> 00:03:35.840
artifact ID and version.

00:03:35.840 --> 00:03:38.225
So this is the information we are using.

00:03:38.225 --> 00:03:42.050
Next thing, we need to create your sorrows dot XML.

00:03:42.050 --> 00:03:45.845
So far that we are under slash route in our project,

00:03:45.845 --> 00:03:47.615
go back to one directory up.

00:03:47.615 --> 00:03:49.760
And if I do ls minus the earlier,

00:03:49.760 --> 00:03:52.970
you can see dot-com to directories did go insert

00:03:52.970 --> 00:03:57.485
two dot m2 directory and let's create sittings dot xml.

00:03:57.485 --> 00:04:01.475
Okay, settings.py XML am creating

00:04:01.475 --> 00:04:05.420
and we need to copy the contents of beaches there in our GitHub repository.

00:04:05.420 --> 00:04:08.330
So we just copy the content of this one.

00:04:08.330 --> 00:04:13.010
It is like what is the server and what is the username and password,

00:04:13.010 --> 00:04:15.905
these credentials, we want to set it up.

00:04:15.905 --> 00:04:19.295
So let me go to password.

00:04:19.295 --> 00:04:22.680
Password is admin, right, in our case.

00:04:23.290 --> 00:04:27.890
Alright, so we have updated and one more thing is here,

00:04:27.890 --> 00:04:29.960
we don't need dots, sorry.

00:04:29.960 --> 00:04:32.420
Alright, we have done other settings.

00:04:32.420 --> 00:04:36.290
Now it's time to deploy our application on the Tomcat for that again,

00:04:36.290 --> 00:04:39.965
I'm switching back to my secondary demo project.

00:04:39.965 --> 00:04:45.020
So let me change the home.html according to this,

00:04:45.020 --> 00:04:49.535
because we have named it as its second magazine project.

00:04:49.535 --> 00:04:51.750
Let me remove it.

00:04:52.540 --> 00:04:57.365
Alright, so we have saved this file

00:04:57.365 --> 00:05:04.025
and let's run our Marvin Tomcat 7.

00:05:04.025 --> 00:05:09.065
So we are going to use the plugin called Tomcat 7 and goal is deployed.

00:05:09.065 --> 00:05:10.835
Okay, So we are deploying.

00:05:10.835 --> 00:05:12.740
Let's see what happens.

00:05:12.740 --> 00:05:16.130
So we are doing at the past m,

00:05:16.130 --> 00:05:20.840
So some packages or libraries are missing still in our local repository.

00:05:20.840 --> 00:05:23.160
It is just pulling those.

00:05:23.160 --> 00:05:26.440
Okay, once this is done in this location,

00:05:26.440 --> 00:05:29.020
we could able to see secondary demo project.

00:05:29.020 --> 00:05:30.490
I think it's successful.

00:05:30.490 --> 00:05:32.410
Yep, building successful.

00:05:32.410 --> 00:05:35.485
And you can see deploying the VAR file.

00:05:35.485 --> 00:05:38.515
It is deploying on this location, okay?

00:05:38.515 --> 00:05:40.930
Which means that in the target environment it will

00:05:40.930 --> 00:05:43.750
go to the web apps directly and copied it over here.

00:05:43.750 --> 00:05:47.440
Now let's go to browser and we should able to access our application.

00:05:47.440 --> 00:05:48.865
I'm going back, okay,

00:05:48.865 --> 00:05:51.685
it is not picked up the latest application.

00:05:51.685 --> 00:05:53.275
It will be show up over here.

00:05:53.275 --> 00:05:54.520
Let me refresh it.

00:05:54.520 --> 00:05:57.490
Yes, you can see here second demo project.

00:05:57.490 --> 00:05:59.140
Now if I click on this one,

00:05:59.140 --> 00:06:01.240
we could able to see the Hello World.

00:06:01.240 --> 00:06:05.010
Hello World is the content which is there in our web application.

00:06:05.010 --> 00:06:07.400
So if I go to my map and server,

00:06:07.400 --> 00:06:09.425
and if I do three,

00:06:09.425 --> 00:06:13.310
you can see here we have EA index.js b, right?

00:06:13.310 --> 00:06:15.080
So if I open this file,

00:06:15.080 --> 00:06:24.425
so it is under SRC main underwear BAP and index.js be so SRC main web app, index.js.

00:06:24.425 --> 00:06:26.825
If you are getting confused with the Linux commands,

00:06:26.825 --> 00:06:31.100
maybe it's time to go through with the Linux Basics course.

00:06:31.100 --> 00:06:34.445
I have a separate course for Linux for DevOps in it.

00:06:34.445 --> 00:06:36.185
Maybe you can go through with that.

00:06:36.185 --> 00:06:37.610
So if I open this file,

00:06:37.610 --> 00:06:39.170
you can see here helloworld,

00:06:39.170 --> 00:06:42.200
same content is appearing over here.

00:06:42.200 --> 00:06:44.465
Let's do some changes to this code.

00:06:44.465 --> 00:06:45.710
And if we deploy it,

00:06:45.710 --> 00:06:49.565
it should able to build with the latest code and get it to deployed into the Tomcat.

00:06:49.565 --> 00:06:51.320
That's what it should do, right?

00:06:51.320 --> 00:06:54.485
So let's edit this file for a quick test.

00:06:54.485 --> 00:06:56.150
And I'm going to change it.

00:06:56.150 --> 00:07:00.590
Isaiah, I will add one more line that is H2.

00:07:00.590 --> 00:07:04.189
Welcome to Marvin.

00:07:04.189 --> 00:07:06.035
Deployment goal.

00:07:06.035 --> 00:07:10.475
Okay, so I'm just adding some content. Let's add.

00:07:10.475 --> 00:07:13.190
And if I do again, Marvin,

00:07:13.190 --> 00:07:15.665
so we need to do enter compilation,

00:07:15.665 --> 00:07:19.175
test to build and deploy everything you need to do.

00:07:19.175 --> 00:07:21.635
Yang Bian for all those purpose,

00:07:21.635 --> 00:07:25.295
Tomcat 7 colon deploy is fine.

00:07:25.295 --> 00:07:28.400
Why? Because deployments, that is the last goal which we

00:07:28.400 --> 00:07:31.565
have in the list of the default lifecycle.

00:07:31.565 --> 00:07:34.910
So to take all the goals into

00:07:34.910 --> 00:07:39.575
the consideration and its execute and build the application and deploy it.

00:07:39.575 --> 00:07:41.554
Okay, there is some problem.

00:07:41.554 --> 00:07:43.805
There is a typo in the command.

00:07:43.805 --> 00:07:49.655
So Tomcat 7 colon, deploy.

00:07:49.655 --> 00:07:54.890
Alright, so you can see all the goals has been executed over here.

00:07:54.890 --> 00:07:56.480
And building successful.

00:07:56.480 --> 00:07:59.795
It's saying that application is already exist in the target.

00:07:59.795 --> 00:08:02.330
Seems some avenues not that much intelligent

00:08:02.330 --> 00:08:05.390
to remove that target environment content under,

00:08:05.390 --> 00:08:06.905
under deploy the new one.

00:08:06.905 --> 00:08:08.330
So maybe what we can do,

00:08:08.330 --> 00:08:11.975
we are going to delete the content and the re-execute the same thing.

00:08:11.975 --> 00:08:15.290
So here, if I do ls minus year earlier,

00:08:15.290 --> 00:08:17.465
sorry, ls minus l.

00:08:17.465 --> 00:08:24.770
And it has been deployed 13066121600 and end date.

00:08:24.770 --> 00:08:27.140
If I see 633,

00:08:27.140 --> 00:08:31.700
it is not latest 14 minutes ago it has been deployed. Let me remove it.

00:08:31.700 --> 00:08:36.320
Rm minus RF and I'm just deleting it.

00:08:36.320 --> 00:08:40.655
And now you can see there is no second demo project.

00:08:40.655 --> 00:08:44.375
So now we are going to execute this once again.

00:08:44.375 --> 00:08:47.825
This time it should able to deploy it successfully.

00:08:47.825 --> 00:08:51.155
Yes. Alright, it has been successfully deployed.

00:08:51.155 --> 00:08:52.790
And before Doom, again,

00:08:52.790 --> 00:08:55.955
ls minus l, we could able to sit on your test code.

00:08:55.955 --> 00:08:58.850
And if I go to browser and if I refresh,

00:08:58.850 --> 00:09:02.255
one more land should be the which we have added.

00:09:02.255 --> 00:09:03.335
Yes.

00:09:03.335 --> 00:09:06.890
Which means that our Marvin can able to build

00:09:06.890 --> 00:09:10.205
the latest code and deploy it into the target system.

00:09:10.205 --> 00:09:12.980
Usually we are updating our code in the Marvin,

00:09:12.980 --> 00:09:16.055
but it should be come through the good.

00:09:16.055 --> 00:09:19.820
So whenever developers push their code onto the good, from there,

00:09:19.820 --> 00:09:24.320
we are going to pull into our mapping system and we do the build,

00:09:24.320 --> 00:09:27.770
but build, we don't do it to directly on the Maven.

00:09:27.770 --> 00:09:29.870
We usually do eat from the Jenkins.

00:09:29.870 --> 00:09:32.285
How to build our application from the Jenkins.

00:09:32.285 --> 00:09:34.460
We are going to see in the next section.

00:09:34.460 --> 00:09:37.350
Thanks for watching and see you there.
