1
00:00:00,940 --> 00:00:04,640
[Autogenerated] in this clip will configure some settings for our distribution,

2
00:00:04,640 --> 00:00:08,180
navigate to the cloudfront dashboard in the distribution list,

3
00:00:08,180 --> 00:00:12,440
you can see the distribution we created with the status of deployed,

4
00:00:12,440 --> 00:00:17,100
which means it's ready to go click on the ID link and will be

5
00:00:17,100 --> 00:00:19,940
taken to the settings for this distribution.

6
00:00:19,940 --> 00:00:23,440
You can see there's quite a few tabs here and that demonstrates the

7
00:00:23,440 --> 00:00:26,940
amount of control you have over this distribution.

8
00:00:26,940 --> 00:00:29,860
The general tab has many of the settings we configured

9
00:00:29,860 --> 00:00:32,040
for this particular distribution.

10
00:00:32,040 --> 00:00:33,390
The origins, tablets,

11
00:00:33,390 --> 00:00:36,840
the origins that are providing content for the distribution,

12
00:00:36,840 --> 00:00:40,630
you can see the one that we created but you can also see that you can create

13
00:00:40,630 --> 00:00:44,740
more than one origin to be used with this single distribution.

14
00:00:44,740 --> 00:00:47,570
That means you could have multiple applications,

15
00:00:47,570 --> 00:00:53,250
responding and cash behind a single cloudfront URL the behaviors tab shows

16
00:00:53,250 --> 00:00:57,040
the default behavior we configured in the previous form,

17
00:00:57,040 --> 00:01:01,140
you can create different caching behaviors for different path patterns.

18
00:01:01,140 --> 00:01:05,300
We've got general caching set up for application but I'd like to have a

19
00:01:05,300 --> 00:01:10,840
different behavior for our pizza routes since they should not change ever

20
00:01:10,840 --> 00:01:14,810
click on the create behavior button will start by defining what path

21
00:01:14,810 --> 00:01:18,980
pattern this behavior will be for we want for these settings to apply to

22
00:01:18,980 --> 00:01:20,760
any pizza our site serves.

23
00:01:20,760 --> 00:01:24,340
So enter pizza slash asterisk.

24
00:01:24,340 --> 00:01:29,430
The elastic beanstalk load balancer is the only option in the next origin

25
00:01:29,430 --> 00:01:34,050
drop-down so select that the rest of these options should look familiar since

26
00:01:34,050 --> 00:01:37,440
we configured them in the distribution creation screen,

27
00:01:37,440 --> 00:01:41,670
select redirect http to https.

28
00:01:41,670 --> 00:01:44,920
In the allowed methods we only want to cash the get

29
00:01:44,920 --> 00:01:46,530
method for getting pizza pages.

30
00:01:46,530 --> 00:01:50,270
So leave it as is for the cash policy.

31
00:01:50,270 --> 00:01:56,890
I want to set a higher T tl so click create a new policy name the policy.

32
00:01:56,890 --> 00:02:04,900
Pizza Lovers Pizza cache Now in the minimum T T L let's be more aggressive.

33
00:02:04,900 --> 00:02:11,680
Set it to 7200 seconds which is two hours now we do still need to pass on our

34
00:02:11,680 --> 00:02:15,560
cookies since we want to keep our users logged in session.

35
00:02:15,560 --> 00:02:19,550
So select include specified cookies and the cookies,

36
00:02:19,550 --> 00:02:23,700
drop-down and add that Pizza for life cookie peas,

37
00:02:23,700 --> 00:02:25,300
Easy for life.

38
00:02:25,300 --> 00:02:26,840
L Y f E.

39
00:02:26,840 --> 00:02:32,110
Now click create then in the distribution page that we were on,

40
00:02:32,110 --> 00:02:35,870
click the refresh button next to the cash policy and select

41
00:02:35,870 --> 00:02:41,760
Pizza Lovers Pizza cache Now click create Creation of a new

42
00:02:41,760 --> 00:02:45,950
behavior means the entire distribution must update and this can

43
00:02:45,950 --> 00:02:47,870
take another 10 minutes or so.

44
00:02:47,870 --> 00:02:49,820
In the meantime I wanted to show you some of the

45
00:02:49,820 --> 00:02:52,740
statistics and data that cloudfront gives you.

46
00:02:52,740 --> 00:02:56,640
Click on the cache, statistics, menu option on the left.

47
00:02:56,640 --> 00:03:00,880
This page gives you plenty of data on how your distribution is performing.

48
00:03:00,880 --> 00:03:04,810
It is really helpful when determining if your distribution settings are

49
00:03:04,810 --> 00:03:09,640
appropriate at the top are filters that allow you to choose time ranges and

50
00:03:09,640 --> 00:03:13,670
distributions to view data for this chart is my favorite.

51
00:03:13,670 --> 00:03:17,940
It shows you what percentage of responses came directly from the

52
00:03:17,940 --> 00:03:22,520
cloudfront cache which they call hits and what percentage of requests

53
00:03:22,520 --> 00:03:25,530
had to be proxy seed to the underlying origin,

54
00:03:25,530 --> 00:03:27,140
what they call mrs.

55
00:03:27,140 --> 00:03:31,000
There are also errors which are requests that the distribution

56
00:03:31,000 --> 00:03:34,640
just couldn't find any content for like 404s.

57
00:03:34,640 --> 00:03:38,650
These hits and misses are important because the more hits you have

58
00:03:38,650 --> 00:03:42,670
tells you that your cloudfront distribution is doing its job and

59
00:03:42,670 --> 00:03:45,790
it's responding correctly to request,

60
00:03:45,790 --> 00:03:49,240
thereby reducing the latency for your users.

61
00:03:49,240 --> 00:03:53,510
Another useful set of data I found is the popular objects report,

62
00:03:53,510 --> 00:03:57,480
which shows you the most requested endpoints for your distribution.

63
00:03:57,480 --> 00:03:59,520
Using the number of hits and misses.

64
00:03:59,520 --> 00:04:03,840
You can use this data to optimize your distribution for speed.

65
00:04:03,840 --> 00:04:06,690
Now the cloudfront distribution should be finished updating.

66
00:04:06,690 --> 00:04:11,130
So let's take a look at what we've done back in the distribution list copy

67
00:04:11,130 --> 00:04:15,840
the URL under domain name for the distribution we created,

68
00:04:15,840 --> 00:04:19,140
paste it into a new browser and hit go.

69
00:04:19,140 --> 00:04:27,000
Pizza lovers should load up normally now running behind a cloud front distribution and everything should work as expected.

