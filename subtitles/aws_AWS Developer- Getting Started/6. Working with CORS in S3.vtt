WEBVTT
1
00:00:00.940 --> 00:00:05.010
[Autogenerated] cross origin resource sharing or cores is a typical

2
00:00:05.010 --> 00:00:08.280
concern when using resources from another domain.

3
00:00:08.280 --> 00:00:12.040
When requesting a resource via javascript in the browser from a

4
00:00:12.040 --> 00:00:16.270
different domain than the page was loaded from your browser ensures

5
00:00:16.270 --> 00:00:20.240
that cores is accepted on the target resource site.

6
00:00:20.240 --> 00:00:21.700
If course is not enabled,

7
00:00:21.700 --> 00:00:25.360
it will place restrictions on the resource or sometimes not loaded

8
00:00:25.360 --> 00:00:30.280
completely since S3 is not in the same domain when we are running our app

9
00:00:30.280 --> 00:00:35.870
we need to enable cores for S3 if we didn't it would particularly impact

10
00:00:35.870 --> 00:00:38.720
our toppings when adding them on the pizza.

11
00:00:38.720 --> 00:00:42.580
Enabling Cores is similar to how we added the policy for

12
00:00:42.580 --> 00:00:47.740
our bucket in the S three console, click on the bucket you created,

13
00:00:47.740 --> 00:00:51.510
then click on the permissions tab and scroll all

14
00:00:51.510 --> 00:00:56.640
the way down to the core section, click the edit button.

15
00:00:56.640 --> 00:01:03.120
This JSON document here is what needs to be entered into this field so

16
00:01:03.120 --> 00:01:07.080
type this course configuration document into the editor,

17
00:01:07.080 --> 00:01:11.470
making sure you don't make any typos unfortunately these types

18
00:01:11.470 --> 00:01:14.640
of configurations aren't very forgiving.

19
00:01:14.640 --> 00:01:20.440
This is in fact and allow all cores configuration no modification required.

20
00:01:20.440 --> 00:01:25.240
We could restrict the domains that are allowed to cores with the allowed

21
00:01:25.240 --> 00:01:30.840
origin property but we will just allow all for now click save now we've made

22
00:01:30.840 --> 00:01:36.440
all modifications to the code and enabled course let's try out our changes

23
00:01:36.440 --> 00:01:39.080
from your pizza lovers directory run npm,

24
00:01:39.080 --> 00:01:42.290
install first because we did delete that node modules,

25
00:01:42.290 --> 00:01:47.190
folder and then npm start then open your browser and go to local

26
00:01:47.190 --> 00:01:53.020
host 3000 all styles and images should display as before and you can

27
00:01:53.020 --> 00:01:56.280
pop open your developer tools if you want to confirm that everything

28
00:01:56.280 --> 00:02:01.870
is actually coming from S3 then click log in and use the username

29
00:02:01.870 --> 00:02:03.260
Ryan and password.

30
00:02:03.260 --> 00:02:06.240
Pass all lower case to log in.

31
00:02:06.240 --> 00:02:12.730
Now go to the make of Pizza page, create a pizza and save it now.

32
00:02:12.730 --> 00:02:16.040
Go back to the S3 console and your Pizzas bucket.

33
00:02:16.040 --> 00:02:20.040
Open the Pizzas folder and refresh the file list.

34
00:02:20.040 --> 00:02:22.660
You should see your new pizza image,

35
00:02:22.660 --> 00:02:25.140
upload it now and you can click on the link if you

36
00:02:25.140 --> 00:02:33.000
want to make sure it's the same one. But we've used the SDK to upload a file to S3 Good job.

