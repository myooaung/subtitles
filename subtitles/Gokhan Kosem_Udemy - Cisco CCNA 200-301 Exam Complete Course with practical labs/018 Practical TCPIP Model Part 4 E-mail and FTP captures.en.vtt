WEBVTT
1
00:00:05.550 --> 00:00:09.040
Okay so I'm going to set this to real time to end this simulation.

2
00:00:09.580 --> 00:00:11.170
Let's run another simulation.

3
00:00:11.830 --> 00:00:18.470
And what I'm going to do on the P.C. is open up a different application.

4
00:00:18.470 --> 00:00:23.200
You can see the web server has displayed the website on that server.

5
00:00:23.200 --> 00:00:24.950
I'll close this down now.

6
00:00:25.030 --> 00:00:29.740
So that was just a built in web server running on that internal server.

7
00:00:29.890 --> 00:00:32.680
What I'll do here is let's start.

8
00:00:32.740 --> 00:00:36.610
Email Let's compose an e-mail.

9
00:00:36.780 --> 00:00:43.900
In this example the only email address used is Peter at Cisco dot com going to our server again you

10
00:00:43.900 --> 00:00:47.050
can see that we're running multiple services on the server.

11
00:00:47.080 --> 00:00:51.770
We've got HDP TFT IP FCP package.

12
00:00:51.790 --> 00:00:53.610
We've got an e-mail server.

13
00:00:53.920 --> 00:00:58.150
The only user account I've configured on the server is Peter.

14
00:00:58.150 --> 00:01:00.860
You could create a different one if you wanted to.

15
00:01:00.910 --> 00:01:03.510
So you could add another user for yourself.

16
00:01:03.550 --> 00:01:10.440
We've got two e-mail services running here simple mail transfer protocol is empty P and pop three pop

17
00:01:10.440 --> 00:01:15.900
three is an older protocol that allows us to retrieve e-mail from an email server is empty.

18
00:01:15.910 --> 00:01:21.220
He allows us to transmit e-mail these protocols use different port numbers.

19
00:01:21.550 --> 00:01:25.240
So let's actually show that practically.

20
00:01:25.240 --> 00:01:29.440
So test e-mail test e-mail

21
00:01:31.900 --> 00:01:36.880
showing port numbers before I click send.

22
00:01:37.110 --> 00:01:45.340
I want to make sure that I'm running simulation mode which I am and now I'll click send S.M. T.P. users

23
00:01:45.910 --> 00:01:53.740
TTP looking at that TTP message inbound Peter you we have our source and destination MAC addresses.

24
00:01:53.820 --> 00:01:58.130
P.S. talking to the server PCI IP address talking to the server ip address.

25
00:01:58.350 --> 00:02:02.410
So layer to layer 3 this is IP version 4.

26
00:02:02.430 --> 00:02:08.640
Again just to recap make sure that you know this stuff at least to the type field indicates that the

27
00:02:08.640 --> 00:02:15.220
protocol at least three is IP version for IP version 6 has a different protocol number.

28
00:02:15.390 --> 00:02:21.260
We know the protocol at layer four because of this number DCP.

29
00:02:21.270 --> 00:02:30.900
So that indicates TTP at leave for destination port number is 25 what is 25 looking at the eye on a

30
00:02:30.900 --> 00:02:36.010
Web site port 25 is simple mail transfer it's empty.

31
00:02:36.660 --> 00:02:42.710
So random port number we femoral port number going to port 25.

32
00:02:42.810 --> 00:02:49.680
So we are sending an email to the server using S.M. T.P. so push that along.

33
00:02:49.680 --> 00:02:58.430
So we've got our TTP what's called the three way handshake that takes place so we have to use what are

34
00:02:58.430 --> 00:03:01.460
called synchronization bits and it has to be an acknowledgement.

35
00:03:01.520 --> 00:03:08.510
I'll talk about that in a separate video but notice here we've got our inbound PDA going to the server

36
00:03:08.840 --> 00:03:14.080
once again source port number destination port number at layer four.

37
00:03:14.090 --> 00:03:16.150
You can see S.M. teepee data.

38
00:03:16.580 --> 00:03:24.500
So we are sending data to the server this will be our actual email going to the server.

39
00:03:24.720 --> 00:03:29.140
And now the server replies back looking at that.

40
00:03:29.280 --> 00:03:39.120
The message to the P.S. notice port 25 talking to the agreed port number of 1027 SMP B data.

41
00:03:39.120 --> 00:03:43.440
Another reason we have the TCB handshake is we have to agree what port numbers we're going to be talking

42
00:03:43.440 --> 00:03:43.920
on.

43
00:03:44.070 --> 00:03:48.080
If you choose a random port number to talk to me how will I know what your random port number is.

44
00:03:48.180 --> 00:03:53.940
You need to tell me that or your ephemeral port number you need to tell me what that is.

45
00:03:53.940 --> 00:04:00.530
Notice also we have sequence numbers and acknowledgements in the messages so that takes place.

46
00:04:00.530 --> 00:04:07.130
And now suddenly we've got some more TTP let's have a look at that TTP message inbound PD you still

47
00:04:07.130 --> 00:04:12.990
using port 25 so a bunch of TTP messages

48
00:04:16.600 --> 00:04:18.290
a run out of space there

49
00:04:24.150 --> 00:04:27.870
for my packet tracer has locked up so I'm going to restart it.

50
00:04:27.920 --> 00:04:41.820
This may happen sometimes with packet tracer.

51
00:04:41.840 --> 00:04:44.280
Now you may encounter problems like this and Packet Tracer.

52
00:04:44.340 --> 00:04:50.430
Just bear with the application it's not perfect but it's well worth the trouble because you'll learn

53
00:04:50.430 --> 00:04:53.590
a lot to using this application case.

54
00:04:53.600 --> 00:04:54.420
I didn't get my email.

55
00:04:54.420 --> 00:05:03.610
Let's try that again someone to send it to Peter at Cisco dot com test to test to send my email now

56
00:05:03.610 --> 00:05:05.140
to retrieve my email.

57
00:05:05.140 --> 00:05:12.220
I'm going to go to simulation mode and I'm going to click retrieve to get my email from the server.

58
00:05:12.220 --> 00:05:13.450
So what have we got.

59
00:05:13.450 --> 00:05:17.730
Share what message is this notice.

60
00:05:17.730 --> 00:05:26.910
This is T C P but the port number is 1 1 0 what is 1 1 0 on the eye on a website.

61
00:05:26.910 --> 00:05:31.570
We can see that this is post office Protocol Version 3 or pop 3.

62
00:05:31.680 --> 00:05:43.490
So this is the protocol used to retrieve the message from the server.

63
00:05:43.540 --> 00:05:46.200
So here's the actual POP 3 message.

64
00:05:46.270 --> 00:05:50.720
Let's have a look at that inbound means it's inbound to the switch.

65
00:05:50.750 --> 00:05:53.840
So it will be the same inbound and outbound on the switch.

66
00:05:53.870 --> 00:06:00.320
Source MAC address is P.C. destination MAC addresses server type is 800 telling us that it's IP version

67
00:06:00.320 --> 00:06:07.070
4 source and destination ip addresses PCI and server protocol use it Layer 4 is TTP we can see that

68
00:06:07.070 --> 00:06:07.580
here.

69
00:06:07.850 --> 00:06:12.110
Source port number used by the PCI is this destination port number is 110.

70
00:06:12.260 --> 00:06:20.600
This is pop 3 data so that will go to the server message goes back to the P.C. we've got some TTP messages

71
00:06:22.240 --> 00:06:28.820
I'll clear my event list it's got a real time and then hopefully on my P.C. what you can see is I've

72
00:06:28.820 --> 00:06:32.510
received my messages Now see here's my original message.

73
00:06:32.510 --> 00:06:37.910
Actually that's been retrieved from the server and here's has my test to message that was received from

74
00:06:37.910 --> 00:06:39.280
the server.

75
00:06:39.310 --> 00:06:44.990
Now I can spend a long time showing you different protocols here as an example you could open up a command

76
00:06:45.020 --> 00:06:52.760
prompt and then open up FCP to the server and log in as Cisco Cisco username Cisco password Cisco and

77
00:06:52.770 --> 00:07:00.410
use the command D.R. to see the files on the server if you ran simulation mode you'd be able to see

78
00:07:00.530 --> 00:07:03.890
those messages to the server.

79
00:07:03.890 --> 00:07:12.380
So spend some time having a look at the different protocols use email use HDP use FCP to see the messages

80
00:07:12.560 --> 00:07:15.800
and the protocols simulation mode in packet traces.

81
00:07:15.800 --> 00:07:17.670
Great to actually see what's going on.

82
00:07:17.840 --> 00:07:21.130
So fantastic way to actually learn the protocols.
