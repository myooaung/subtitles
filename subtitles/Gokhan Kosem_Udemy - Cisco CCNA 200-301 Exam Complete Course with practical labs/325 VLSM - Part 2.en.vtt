WEBVTT
1
00:00:00.000 --> 00:00:02.000
So I want to teach you a trick

2
00:00:02.000 --> 00:00:06.000
now this doesn’t always apply, it only works in certain situations

3
00:00:06.000 --> 00:00:08.000
but it saves you a lot of a time

4
00:00:08.000 --> 00:00:12.000
if you remember back to your Binary, this bit is 128

5
00:00:12.000 --> 00:00:16.000
this bit is 64, this is 32, this is 16

6
00:00:16.000 --> 00:00:22.000
this is 8, this is 4, this is 2 and that is 1

7
00:00:22.000 --> 00:00:30.000
so 255 in decimal and an IP address would be an octet populated with binary 1's

8
00:00:30.000 --> 00:00:35.000
please refer back to the ICND 1 course if you can’t remember binary

9
00:00:35.000 --> 00:00:38.000
but hopefully, at the point, you're fairly comfortable with it.

10
00:00:38.000 --> 00:00:41.000
If you were given subnets where for instance

11
00:00:41.000 --> 00:00:45.000
the third octet was in the range 4 to 7

12
00:00:45.000 --> 00:00:49.000
in other words, from 4 to 1 less than 8 so 7

13
00:00:49.000 --> 00:00:52.000
you could summarize that automatically as 4

14
00:00:52.000 --> 00:01:02.000
so for example, let’s say you’re given 172.16.4.0/24 up to 172.16.7.0/24

15
00:01:02.000 --> 00:01:07.000
so notice in the third octet the range is from 4 to 7

16
00:01:07.000 --> 00:01:10.000
so in other words, from 4 to 1 less than 8

17
00:01:10.000 --> 00:01:16.000
you could immediately write the answer as 172.16.4.0

18
00:01:16.000 --> 00:01:21.000
now to work out the subnet mask you just remember that the first octet is 8 bits

19
00:01:21.000 --> 00:01:25.000
the second octet is 8 bits and that’s 16

20
00:01:25.000 --> 00:01:28.000
and then you need to work out where binary value of 4 is

21
00:01:28.000 --> 00:01:37.000
so let's count 1 2 3 4 5 6, so it’s in binary bits 6

22
00:01:37.000 --> 00:01:47.000
so 8 + 8 = 16 + 6 binary bits  which we’ve not counted to see where 4 is

23
00:01:47.000 --> 00:01:52.000
gives you 22, so the mask would be 22 8 + 8 + 6

24
00:01:52.000 --> 00:01:55.000
and it’s a simple as that

25
00:01:55.000 --> 00:01:58.000
to work out the answers to a question likes this

26
00:01:58.000 --> 00:02:01.000
by the same token if you were given an example

27
00:02:01.000 --> 00:02:04.000
where the values was from 8 to 15

28
00:02:04.000 --> 00:02:08.000
in other words 8 to 1 less than 16

29
00:02:08.000 --> 00:02:10.000
you could summarize that immediately as 8.

30
00:02:10.000 --> 00:02:20.000
So let’s say for example it was 10.8.0.0/16 up to 10.15.0.0/16

31
00:02:20.000 --> 00:02:24.000
in other words, from 8 to 1 less than 16

32
00:02:24.000 --> 00:02:30.000
you could summarize it automatically as 10.8.0.0

33
00:02:30.000 --> 00:02:35.000
so in other words, were saying if it's from this binary value 8

34
00:02:35.000 --> 00:02:37.000
up to 1 less than the next binary value

35
00:02:37.000 --> 00:02:41.000
you just summarize it down to this binary value of 8

36
00:02:41.000 --> 00:02:44.000
finally, to work out the subnet mask you need to remember

37
00:02:44.000 --> 00:02:49.000
that the first octet is 8 bits and then work out where 8 is

38
00:02:49.000 --> 00:02:53.000
so 8 is 1 2 3 4 5

39
00:02:53.000 --> 00:02:56.000
so 8 + 5 will give you 13

40
00:02:56.000 --> 00:03:01.000
8 binary bits + 5 binary bits gives you 13

41
00:03:01.000 --> 00:03:06.000
so the mask is 13, by the same token 16 to 31

42
00:03:06.000 --> 00:03:10.000
so 1 less than 32 can be summarized to 16

43
00:03:10.000 --> 00:03:15.000
32 to 63 in other words, 1 less than 64

44
00:03:15.000 --> 00:03:18.000
so 32 to 63 can be summarize to 32

45
00:03:18.000 --> 00:03:22.000
64 to 1 less than 128 in other words 127

46
00:03:22.000 --> 00:03:26.000
so 64 to 127 can be summarize as 64

47
00:03:26.000 --> 00:03:31.000
now I’ve already shown you those examples by working it out in binary

48
00:03:31.000 --> 00:03:36.000
just to remind you 64 up to 127

49
00:03:36.000 --> 00:03:43.000
we work out in binary and work out the answer as 172.16.64.0

50
00:03:43.000 --> 00:03:48.000
so once again, 64 to 127 can be summarized as 64

51
00:03:48.000 --> 00:03:51.000
and then you count the number of common bits

52
00:03:51.000 --> 00:03:58.000
so 8 + 8 + 2 because 64 is in the second binary bit position

53
00:03:58.000 --> 00:04:00.000
giving you a total of 18

54
00:04:00.000 --> 00:04:02.000
so, therefore, you can work out this answer

55
00:04:02.000 --> 00:04:05.000
in a matter of seconds rather than minutes

56
00:04:05.000 --> 00:04:12.000
this example with 172.16.32.0 up to 172.16.63.0

57
00:04:12.000 --> 00:04:14.000
can quickly and easily be summarized as 172.16.32.0

58
00:04:14.000 --> 00:04:19.000
19 bits are in common and the way we work that out

59
00:04:19.000 --> 00:04:23.000
is 8 bits in the first octet + 8 bits in the second octet

60
00:04:23.000 --> 00:04:29.000
is 16 + 32 is in the third binary bit position

61
00:04:29.000 --> 00:04:32.000
so 3 bits gives you a total of 19

62
00:04:32.000 --> 00:04:36.000
so I’m hoping this trick will save you quite a bit of time

63
00:04:36.000 --> 00:04:39.000
when working out summarization please be careful though

64
00:04:39.000 --> 00:04:45.000
if you are given an example of let say 16 to 35

65
00:04:45.000 --> 00:04:47.000
you're going to have to split up your summary

66
00:04:47.000 --> 00:04:52.000
the 16 to 31 subnets can easily summarize very quickly

67
00:04:52.000 --> 00:04:55.000
but if the question asks you to summarize subnets

68
00:04:55.000 --> 00:04:58.000
that go across this bit boundaries

69
00:04:58.000 --> 00:05:00.000
then you would have to work it out in binary

70
00:05:00.000 --> 00:05:02.000
but this will hopefully save you a bit of time

71
00:05:02.000 --> 00:05:04.000
also be careful if you're given an example

72
00:05:04.000 --> 00:05:08.000
where you're asked to summarize from 16 to let say 19

73
00:05:08.000 --> 00:05:11.000
and you use this example that I’ve explain

74
00:05:11.000 --> 00:05:15.000
you’ll be summarizing more than just those subnets

75
00:05:15.000 --> 00:05:18.000
so it will be better, in that case, to do it in binary

76
00:05:18.000 --> 00:05:21.000
So what are the advantages of VLSM and summarization?

77
00:05:21.000 --> 00:05:25.000
We get more efficient use of the IP address space

78
00:05:25.000 --> 00:05:28.000
so rather than for instance having to use a /24 mask

79
00:05:28.000 --> 00:05:32.000
on a serial link which consumes 254 host addresses

80
00:05:32.000 --> 00:05:37.000
we can use a /30 mask which only needs to, there are fewer updates

81
00:05:37.000 --> 00:05:39.000
because we can hide network changes

82
00:05:39.000 --> 00:05:42.000
or topology changes by sending a summary root

83
00:05:42.000 --> 00:05:46.000
rather than individual networks or subnets to other devices

84
00:05:46.000 --> 00:05:50.000
it also allows us to implement hierarchical levels

85
00:05:50.000 --> 00:05:55.000
for better route summarization, so in the real world VLSM and route summarization

86
00:05:55.000 --> 00:06:01.000
are used very heavily to conserve IP addresses and reduce routing table sizes

87
00:06:01.000 --> 00:06:06.000
so here’s an example of address hiding and topology change hiding

88
00:06:06.000 --> 00:06:10.000
the router on the right-hand side only receives 1 route

89
00:06:10.000 --> 00:06:14.000
from the route from the left-hand side 10.1.0.0/16

90
00:06:14.000 --> 00:06:21.000
so if a more specific subnet like 10.1.12.0/24 went down

91
00:06:21.000 --> 00:06:24.000
the router on the right-hand side is oblivious to that fact

92
00:06:24.000 --> 00:06:30.000
because it only has 10.1.0.0/16 in its routing table

93
00:06:30.000 --> 00:06:35.000
and that’s all that's been advertised to it that route state has not changed

94
00:06:35.000 --> 00:06:37.000
and thus the router on the right-hand side

95
00:06:37.000 --> 00:06:41.000
does not have to reprocess or re-compute its routing table

96
00:06:41.000 --> 00:06:47.000
it is oblivious to the fact that this subnet 10.1.12.0 has gone down

97
00:06:47.000 --> 00:06:53.000
because all it sees is the super net or summary of 10.1.0.0/16

98
00:06:53.000 --> 00:06:57.000
thus there are major advantages to implementing summarization

99
00:06:57.000 --> 00:07:00.000
including topology change hiding

100
00:07:00.000 --> 00:07:04.000
however, it’s important that you realize that there’s a difference

101
00:07:04.000 --> 00:07:06.000
between what are called classful routing protocols

102
00:07:06.000 --> 00:07:08.000
and classles routing protocols

103
00:07:08.000 --> 00:07:13.000
classful routing protocols do not include the subnet mask

104
00:07:13.000 --> 00:07:18.000
when advertising the network, that means other devices do not know

105
00:07:18.000 --> 00:07:20.000
what subnet mask is being used

106
00:07:20.000 --> 00:07:24.000
so router assumes and we all know how bad it is to assume

107
00:07:24.000 --> 00:07:27.000
but they assume that within the same network

108
00:07:27.000 --> 00:07:29.000
there is consistency of the subnet mask

109
00:07:29.000 --> 00:07:32.000
in other words, everyone within the same network

110
00:07:32.000 --> 00:07:36.000
is using the same subnet mask as everyone else

111
00:07:36.000 --> 00:07:39.000
so in other words, when a router's received on an interface

112
00:07:39.000 --> 00:07:42.000
the subnet mask for the received route is implied

113
00:07:42.000 --> 00:07:45.000
by the subnet mask on the local interface

114
00:07:45.000 --> 00:07:50.000
as the router does not know what subnet mask was used by the other routers

115
00:07:50.000 --> 00:07:53.000
so it assumes that they are using the same subnet mask as itself.

116
00:07:53.000 --> 00:07:58.000
routes will automatically be summarized when going across a classful boundary

117
00:07:58.000 --> 00:08:02.000
so summary routes are exchanged when crossing a classful boundary

118
00:08:02.000 --> 00:08:06.000
in other words, as an example when going from a 10 network

119
00:08:06.000 --> 00:08:12.000
to a 192.168 network or from 10 to 11 and so forth and so on

120
00:08:12.000 --> 00:08:14.000
examples of classful routing protocols

121
00:08:14.000 --> 00:08:17.000
includes RIP version 1 and IGRP

122
00:08:17.000 --> 00:08:21.000
IGRP is no longer supported on the Cisco IOS

123
00:08:21.000 --> 00:08:24.000
and RIP version 1 shouldn’t be used in today’s networks

124
00:08:24.000 --> 00:08:27.000
but just for completeness, it's mentioned here.

125
00:08:27.000 --> 00:08:32.000
Classless routing protocols do include the subnet mask

126
00:08:32.000 --> 00:08:34.000
with the network in routing advertisements

127
00:08:34.000 --> 00:08:38.000
in other words, classless routing protocols advertise

128
00:08:38.000 --> 00:08:45.000
not just the network like 10.1.1.0 but also the associated mask like /24

129
00:08:45.000 --> 00:08:49.000
because the subnet mask is included in the routing updates

130
00:08:49.000 --> 00:08:54.000
classless routing protocols support Variable Length Subnet Mask or VLSM

131
00:08:54.000 --> 00:08:57.000
summary routes can be manually configured

132
00:08:57.000 --> 00:09:00.000
so unlike in classful routing protocols

133
00:09:00.000 --> 00:09:04.000
where automatic summarization takes place across classful boundaries

134
00:09:04.000 --> 00:09:09.000
in classless routing protocols summarization in some cases, for example

135
00:09:09.000 --> 00:09:14.000
with EIGRP can be configured on any interface anywhere in the network

136
00:09:14.000 --> 00:09:18.000
examples of classless routing protocols include

137
00:09:18.000 --> 00:09:22.000
RIP version 2, EIGRP, OSPF and ISIS

138
00:09:22.000 --> 00:09:28.000
in this course, we'll concentrate mainly on RIP v2, EIGRP and OSPF

139
00:09:28.000 --> 00:09:32.000
but just be aware that there are other routing  protocols out there

140
00:09:32.000 --> 00:09:40.000
be careful EIGRP and RIP v2 act as classful routing protocols by default

141
00:09:40.000 --> 00:09:44.000
you need to use the command no auto summary within the  routing process

142
00:09:44.000 --> 00:09:46.000
to disable this default behavior

143
00:09:46.000 --> 00:09:50.000
so that they act like a classless routing protocol.

144
00:09:50.000 --> 00:09:54.000
So let’s look at some of the issues regarding discontiguous networks

145
00:09:54.000 --> 00:09:58.000
or discontiguous subnets, the router on the left

146
00:09:58.000 --> 00:10:02.000
has a network of 10.1.1.0/24 connected to it

147
00:10:02.000 --> 00:10:07.000
this if you remember is a class A subnet, the router on the right

148
00:10:07.000 --> 00:10:13.000
has a subnet of  10.1.2.0/24 connected to it also a class A subnet

149
00:10:13.000 --> 00:10:16.000
they are both  connected to the router at the top

150
00:10:16.000 --> 00:10:22.000
with class C addresses of 192.168.1.0 and 192.168.2.0

151
00:10:22.000 --> 00:10:28.000
so please note we are going from a class A, to class C, to class A subnet

152
00:10:28.000 --> 00:10:30.000
when traversing these routers

153
00:10:30.000 --> 00:10:37.000
the problem here is classful routing protocols like RIP v1 and IGRP

154
00:10:37.000 --> 00:10:42.000
will automatically summarize this subnets their classful network

155
00:10:42.000 --> 00:10:48.000
so 10.1.2.0 Will automatically be summarize as 10.0.0.0

156
00:10:48.000 --> 00:10:52.000
the same will take place here, on this router 10.1.1.0

157
00:10:52.000 --> 00:10:55.000
will automatically be summarize to 10.0.0.0

158
00:10:55.000 --> 00:10:58.000
this causes an issue for the router in the middle

159
00:10:58.000 --> 00:11:01.000
because when it wants to go to 10.1.1.0

160
00:11:01.000 --> 00:11:06.000
it believes it can send traffic to the left, as well as to the right

161
00:11:06.000 --> 00:11:10.000
because it's receiving the same route from multiple routers

162
00:11:10.000 --> 00:11:15.000
If this router was pinging a device over here 10.1.1

163
00:11:15.000 --> 00:11:20.000
it would only be a 50% success rate because half of the packets

164
00:11:20.000 --> 00:11:23.000
will be sent to this network on the right-hand side

165
00:11:23.000 --> 00:11:27.000
be careful of routing protocols like EIGRP and RIP v2

166
00:11:27.000 --> 00:11:31.000
even though they are classless they act as classful

167
00:11:31.000 --> 00:11:35.000
and thus have the same issue, where they automatically summarize

168
00:11:35.000 --> 00:11:39.000
a classful boundaries, don't forget to use the command

169
00:11:39.000 --> 00:11:45.000
no auto summary under the routing process to disable this behavior

170
00:11:45.000 --> 00:11:49.000
Once you've typed that command, the routers will not summarize the networks

171
00:11:49.000 --> 00:11:52.000
and they will be advertised in EIGRP in RIP v2

172
00:11:52.000 --> 00:11:58.000
as 10.1.1.0/24 as well as 10.1.2.0/24

173
00:11:58.000 --> 00:12:01.000
so the router in the middle will be able to correctly route

174
00:12:01.000 --> 00:12:06.000
to the various networks OSPF does not have this issue

175
00:12:06.000 --> 00:12:09.000
because OSPF does not automatically summarize

176
00:12:09.000 --> 00:12:12.000
you have to manually summarize networks.

177
00:12:12.000 --> 00:12:16.000
So when does automatic summarization does takes place?

178
00:12:16.000 --> 00:12:23.000
well it only affects this routing protocols RIP v2, EIGRP, RIP v1 and IGRP

179
00:12:23.000 --> 00:12:26.000
it occurs when you move across classful boundaries

180
00:12:26.000 --> 00:12:30.000
in other words, when a subnet is advertised from a class A to class B

181
00:12:30.000 --> 00:12:34.000
or B to C or any one of these combinations

182
00:12:34.000 --> 00:12:38.000
in other words, when a router has 1 interface in a class A network for example

183
00:12:38.000 --> 00:12:40.000
and another interface in a class B network

184
00:12:40.000 --> 00:12:45.000
and that advertisement crosses that classful boundary going from A to B

185
00:12:45.000 --> 00:12:48.000
the network will automatically be summarized

186
00:12:48.000 --> 00:12:51.000
another one that people forget is when you are moving

187
00:12:51.000 --> 00:12:56.000
across major network boundaries, automatic summarization will also take place

188
00:12:56.000 --> 00:13:00.000
in other words, if you go from a 10 network to an 11 network

189
00:13:00.000 --> 00:13:04.000
or to a 12 network automatic summarization will take place

190
00:13:04.000 --> 00:13:10.000
notice the major network 10 has changed to 11 or to 12

191
00:13:10.000 --> 00:13:12.000
these are all class A networks

192
00:13:12.000 --> 00:13:16.000
but you are moving across a major network boundary

193
00:13:16.000 --> 00:13:19.000
so if 1 interface on a router is in the 10 network

194
00:13:19.000 --> 00:13:23.000
and another interface on a router is in the 11 network

195
00:13:23.000 --> 00:13:25.000
there will be automatic summarization.

196
00:13:25.000 --> 00:13:31.000
Remember on EIGRP and RIP v2 to type the command no auto-summary

197
00:13:31.000 --> 00:13:34.000
because even though they are classless routing protocols

198
00:13:34.000 --> 00:13:36.000
they act as classful routing protocols

199
00:13:36.000 --> 00:13:39.000
when it comes to automatic summarization

200
00:13:39.000 --> 00:13:43.000
now here’s another situation that causes a lot of confusion

201
00:13:43.000 --> 00:13:46.000
in ICND 1 you learned about administrative distance

202
00:13:46.000 --> 00:13:48.000
and you learned that the lower the administrative distance

203
00:13:48.000 --> 00:13:55.000
the more preferable a route is, the administrative distance of RIP v2 is 120

204
00:13:55.000 --> 00:13:58.000
the administrative distance of OSPF is 110

205
00:13:58.000 --> 00:14:01.000
the administrative distance of EIGRP is 90.

206
00:14:01.000 --> 00:14:07.000
So let's assume router 1, router 2 and router 3 have networks in the 10 range

207
00:14:07.000 --> 00:14:13.000
connected to them, they are advertising various routes to router 4.

208
00:14:13.000 --> 00:14:17.000
So RIP v2 is advertising 10.1.1.0/27

209
00:14:17.000 --> 00:14:25.000
OSPF is advertising 10.1.0.0/16 EIGRP is advertising 10.0.0.0/8

210
00:14:25.000 --> 00:14:31.000
so router 4 is receiving multiple advertisements in the 10 range

211
00:14:31.000 --> 00:14:36.000
but if on router 4 you type the command ping 10.1.1.1

212
00:14:36.000 --> 00:14:41.000
which way will a traffic flow, will it go to router 3

213
00:14:41.000 --> 00:14:44.000
or will it go to router 2 or will it go to router 1?

214
00:14:44.000 --> 00:14:50.000
Now remember EIGRP has a lower administrative distance than OSPF

215
00:14:50.000 --> 00:14:52.000
which has a lower administrative distance than RIP

216
00:14:52.000 --> 00:14:56.000
but please note administrative distance only comes into play

217
00:14:56.000 --> 00:14:59.000
when the same prefix is advertised

218
00:14:59.000 --> 00:15:04.000
a prefix is not just the network it's the network and the mask

219
00:15:04.000 --> 00:15:08.000
router 4 will see this prefixes 10.1.1.0/27

220
00:15:08.000 --> 00:15:16.000
10.1.0.0/16 and 10.0.0.0/8 as separate prefixes

221
00:15:16.000 --> 00:15:20.000
these 3 routes will appear in the routing table with router 4

222
00:15:20.000 --> 00:15:24.000
and router 4 will make its decision on the best match.

223
00:15:24.000 --> 00:15:30.000
10.1.1.0/27 is the best match out of these 3 routes.

224
00:15:30.000 --> 00:15:37.000
27 is the most specific, so the most specific or best match will be used

225
00:15:37.000 --> 00:15:39.000
and not the administrative distance

226
00:15:39.000 --> 00:15:42.000
the administrative distance would only be used

227
00:15:42.000 --> 00:15:47.000
if the same route was advertised by multiple routing protocols

228
00:15:47.000 --> 00:15:51.000
so in this case, the ping to 10.1.1.1

229
00:15:51.000 --> 00:15:55.000
will go to router 1 and not router 2 or router 3

230
00:15:55.000 --> 00:16:00.000
however, in this example, notice the same prefix is advertised

231
00:16:00.000 --> 00:16:08.000
by the 3 routers 10.0.0.0/8 is advertised by RIP, OSPF and EIGRP

232
00:16:08.000 --> 00:16:12.000
in this case only 1 route can be put into the routing table

233
00:16:12.000 --> 00:16:16.000
and the choice is done via administrative distance

234
00:16:16.000 --> 00:16:19.000
EIGRP having the lowest administrative distance

235
00:16:19.000 --> 00:16:21.000
will have its route inserted into a routing table

236
00:16:21.000 --> 00:16:26.000
and the ping from router 4 will now go to router 3

237
00:16:26.000 --> 00:16:33.000
to sum this up, in this example, there are 3 separate prefixes

238
00:16:33.000 --> 00:16:37.000
the router does not see this as the same network

239
00:16:37.000 --> 00:16:40.000
it sees them as 3 separate prefixes or subnets

240
00:16:40.000 --> 00:16:43.000
all 3 will be put into the routing table

241
00:16:43.000 --> 00:16:48.000
and a decision will be made on the best match or longest prefix

242
00:16:48.000 --> 00:16:53.000
in this case, 27 is longer than 16, just longer than 8

243
00:16:53.000 --> 00:17:00.000
so the RIP v2 route will be chosen, however, where the route is the same route.

244
00:17:00.000 --> 00:17:02.000
So in this example 10.0.0.0/8

245
00:17:02.000 --> 00:17:08.000
the choice will be made on administrative distance with EIGRP winning

246
00:17:08.000 --> 00:17:11.000
because it has the lowest administrative distance

247
00:17:11.000 --> 00:17:15.000
please don’t forget this, a lot of engineers make the mistake

248
00:17:15.000 --> 00:17:18.000
of assuming that administrative distance is the way choices are made

249
00:17:18.000 --> 00:17:20.000
for choosing the best route

250
00:17:20.000 --> 00:17:24.000
administrative distance is only chosen as a tie breaker

251
00:17:24.000 --> 00:17:27.000
when the same route or prefix is attempted

252
00:17:27.000 --> 00:17:31.000
to be put into the routing table by multiple routing protocols

253
00:17:31.000 --> 00:17:34.000
So what have we covered?

254
00:17:34.000 --> 00:17:37.000
we look at Variable Length Subnet Mask or VLSM

255
00:17:37.000 --> 00:17:41.000
we discuss CIDR or Classless Inter-Domain Routing

256
00:17:41.000 --> 00:17:44.000
we talked about summarization and the advantages of summarization

257
00:17:44.000 --> 00:17:48.000
I showed you examples of how to work out summarized routes

258
00:17:48.000 --> 00:17:51.000
I showed you routing choices and how routers will make a choice

259
00:17:51.000 --> 00:17:55.000
firstly on most specific match and then secondly on administrative distance

260
00:17:55.000 --> 00:17:59.000
and then I showed you some issues regarding discontiguous networks.

261
00:17:59.000 --> 00:18:04.000
Thank you for watching!
