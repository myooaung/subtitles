WEBVTT
1
00:00:08.880 --> 00:00:17.540
So Sopel typology of a UC for 20 and I'm going to connect three IP phones to the U.S. 500 and I'd like

2
00:00:17.540 --> 00:00:23.920
to demonstrate the power that the phones receive the three phones that we have in this apology are 79

3
00:00:23.930 --> 00:00:29.070
71 79 60 and a 79 65.

4
00:00:29.150 --> 00:00:33.210
And what I'd like to demonstrate is the amount of power that these phones use.

5
00:00:33.350 --> 00:00:42.620
And let's see if they use POPC or ADA 2.3 A-F as an example a 79 60 phone has been around for many years.

6
00:00:42.800 --> 00:00:49.290
And this particular phone only supports P.O.D. that does not support Ada 2.3 A-F.

7
00:00:49.370 --> 00:00:52.210
So once again you have to be very careful with your power.

8
00:00:52.280 --> 00:00:58.550
You've got to make sure that the switch or device providing power supports the power that the phone

9
00:00:58.610 --> 00:00:59.540
requires.

10
00:00:59.540 --> 00:01:07.500
In other words edited or 3am or for instance 8.0 or 380 or Cisco's power of ethernet so lets connect

11
00:01:07.500 --> 00:01:09.750
to the device and see what happens.

12
00:01:12.020 --> 00:01:22.190
So I'm going to tell it to these 500 and log in there c'mon show power in line will show me the power

13
00:01:22.190 --> 00:01:24.680
usage at the moment.

14
00:01:24.680 --> 00:01:36.410
You'll notice that none of these ports if 0 1 0 2 0 1 7 are powered notice power allocated is zero what's

15
00:01:36.890 --> 00:01:43.800
on all of these ports the max amount of power that this switch or in this case use the 500 supports

16
00:01:43.820 --> 00:01:46.350
these 88 Watts.

17
00:01:46.400 --> 00:01:51.730
Also note that the ports have been configured for the allocation of power.

18
00:01:51.740 --> 00:01:56.010
Once again you would never set a port on full power.

19
00:01:56.030 --> 00:01:59.330
It's either auto or it's off.

20
00:01:59.330 --> 00:02:04.790
So just to show you that on a port I'm going to go to one of the interfaces and topic them on power

21
00:02:05.470 --> 00:02:11.310
inline and notice the only options are auto or never.

22
00:02:11.420 --> 00:02:18.650
So we'll just leave those ports at water power allocation at the moment no phones are connected.

23
00:02:18.800 --> 00:02:22.450
I'm going to enable Terman so that we can monitor what's happening.

24
00:02:22.550 --> 00:02:27.600
Even though we telnetting and I'm going to plug in the phones so let's see what happens.

25
00:02:40.610 --> 00:02:45.020
As you can see the interfaces are coming up.

26
00:02:45.020 --> 00:02:48.540
So if I do the same command again show power line.

27
00:02:48.690 --> 00:02:58.310
No it is at the moment two ports are showing the allocation of I triple E plus three power and the power

28
00:02:58.310 --> 00:03:07.260
allocated is 12 watts for the one phone and fourteen point nine watts for the other phone.

29
00:03:07.340 --> 00:03:09.490
I'll do the come on again.

30
00:03:09.720 --> 00:03:18.670
And notice 6.3 Watts has been allocated to the phone on a one slash two and it's using Cisco's power

31
00:03:18.670 --> 00:03:26.410
of Ethernet doing the on show SCDP neighbor will allow me to see my neighbors.

32
00:03:26.440 --> 00:03:35.760
You can see that we've got IP phones on port 1 2 and 3 this look at the details.

33
00:03:35.790 --> 00:03:41.850
So as part diagram if one slashed to the 79 60 connected to it.

34
00:03:41.910 --> 00:03:49.210
So once they get to the 79 60 connected to it on Fosset Ethan it's 0 1 3.

35
00:03:49.220 --> 00:03:54.160
The 79 71 is connected on if the 0 1 1.

36
00:03:54.160 --> 00:03:56.140
The 79 65 is connected

37
00:03:58.820 --> 00:04:12.390
shoke power in line rather shows me that the 79 65 is drawing 12 watts of power 79 60 is drawing 6.3

38
00:04:12.390 --> 00:04:19.680
watts of power and the 79 71 is drawing fourteen point nine watts of power initially in a class 3 device

39
00:04:19.680 --> 00:04:20.990
starts up.

40
00:04:21.000 --> 00:04:26.560
So a device that requires edited or three if it will use 15 watts of power.

41
00:04:26.910 --> 00:04:33.930
But through CTP the phones negotiate the amount of power that they require and that's what you use less

42
00:04:33.930 --> 00:04:35.970
power or more power.

43
00:04:36.360 --> 00:04:40.050
So to demonstrate that I'm going to shut the interfaces down and then no shut them

44
00:04:50.380 --> 00:04:58.460
so you can see the interfaces went down not tapping the command do show power in line shows me that

45
00:04:58.460 --> 00:05:04.960
there's no power allocated all know shut those ports do they come on again.

46
00:05:05.250 --> 00:05:11.010
And as you can see they fifteen point four watts of power was allocated to those two ports.

47
00:05:11.100 --> 00:05:17.220
Notice fifteen point four watts of power is allocated to all three ports and now they negotiate the

48
00:05:17.220 --> 00:05:18.950
amount of power that they require.

49
00:05:19.110 --> 00:05:30.800
So the 79 65 has gone down to 12 Fort's the 79 60 down to 6.3 and let's see that 79 71 will eventually

50
00:05:30.800 --> 00:05:39.050
go down in its power requirements.

51
00:05:39.170 --> 00:05:40.830
Now it's taking a while.

52
00:05:41.080 --> 00:05:48.870
So I'll just pause this and wait.

53
00:05:48.880 --> 00:05:50.890
So after a while you'll notice the following.

54
00:05:50.890 --> 00:05:57.200
It was originally fifteen point four watts and then went down to fourteen point nine watts of power.

55
00:05:57.340 --> 00:06:04.800
You can see the maximum available is 88 that city 3.2 have now been used whereas previously just thirty

56
00:06:04.810 --> 00:06:06.320
three point seven.

57
00:06:06.420 --> 00:06:13.980
They fall the phone successfully negotiated by a CD with a switch that it required less power.

58
00:06:15.770 --> 00:06:24.240
Once a phone has power the next thing it needs to work out is which of the lan it's configured on.

59
00:06:24.350 --> 00:06:31.640
You can manually configure billons on Cisco IP phones but in most implementations in the real world

60
00:06:31.960 --> 00:06:37.580
the information would be configured on the switch and the phone would query the switch either using

61
00:06:37.580 --> 00:06:48.260
Cisco discovery protocol or CTP or link discovery protocol or LDP L-L BP is an industry standard protocol

62
00:06:48.290 --> 00:06:52.160
equivalent to CTP for Cisco IP phones.

63
00:06:52.280 --> 00:07:01.490
The actual L-L DP version used is L-L DP med the med standing for media endpoint discovery which is

64
00:07:01.490 --> 00:07:05.020
an enhancement to the standard LDP.

65
00:07:05.330 --> 00:07:10.950
So the phone will query the switch and find out which villain it belongs to.

66
00:07:10.970 --> 00:07:17.330
There are multiple ways for connecting a phone and PC to a Cisco switch or other vendor switch.

67
00:07:17.330 --> 00:07:21.870
Once again just note CTP would be used between Cisco phones and Cisco switches.

68
00:07:22.010 --> 00:07:26.660
LDP would be useful in sense between a Cisco phone and an HP switch.

69
00:07:26.990 --> 00:07:33.180
Newer phones would use LDP between the Cisco phone and the Cisco switch.

70
00:07:33.370 --> 00:07:37.350
I sampled biology before allocating villans to interface's.

71
00:07:37.470 --> 00:07:44.190
We need to decide which villans to create and what subnets to allocate to those villains.

72
00:07:44.250 --> 00:07:50.310
So we are going to have a data plan and a voice villaine now to give this example very simple.

73
00:07:50.310 --> 00:07:58.200
We are going to configure Bil'in one as the data villaine with a subnet of 10 1 1 0 slash 24 and the

74
00:07:58.200 --> 00:08:04.250
voice Thielen with relend two and a subnet of 10 1 2 0 slice 24.

75
00:08:04.530 --> 00:08:10.290
Now in the first example we are going to have the PC and the phone in the same Villon.

76
00:08:10.560 --> 00:08:11.870
That's not recommended.

77
00:08:11.940 --> 00:08:18.620
So I would recommend that you put your PCs and phones in separate the lens and thus in separate subnets

78
00:08:20.790 --> 00:08:23.220
I'm going to telnet to the U.S. 500

79
00:08:28.110 --> 00:08:36.070
into a global configuration mode and create a villain to the last one if you remember exists by default.

80
00:08:36.320 --> 00:08:40.190
I'm going to give it a name or description of the voice of the land.

81
00:08:40.660 --> 00:08:44.540
I can go back to privilege mode and then tap the C'mon show Villalon.

82
00:08:44.660 --> 00:08:48.460
Now the U.S. 500 it's acting as a robber and as a switch.

83
00:08:48.710 --> 00:08:55.380
So to see the villains on the switch ports you need to top the C'mon show and switch magic and see here

84
00:08:55.700 --> 00:09:05.300
in interface's if 0 1 0 up to the 0 1 8 on the line 1 default the plan no interfaces are in the voice

85
00:09:05.410 --> 00:09:07.540
villaine.

86
00:09:07.570 --> 00:09:13.300
Now the first way to implement the plans is to have a single villain access port.

87
00:09:13.300 --> 00:09:19.630
This is essentially where you've got a PC and a phone connected to a port on the switch and they both

88
00:09:19.630 --> 00:09:21.150
within the same deal.

89
00:09:21.460 --> 00:09:25.250
So this port is configured as a standard access port.

90
00:09:25.360 --> 00:09:31.830
There is no trunking and no tagging untagged frames are sent to the phone and be Leonti and undertake

91
00:09:31.840 --> 00:09:34.890
frames are sent to the PC on the Leonti.

92
00:09:35.080 --> 00:09:42.010
There is no spatial tagging or differentiation between frames belonging to the PC and frames belonging

93
00:09:42.010 --> 00:09:43.130
to the phone.

94
00:09:43.330 --> 00:09:45.680
They both belong to the same Bil'in.

95
00:09:45.820 --> 00:09:50.760
There are some disadvantages to implementing phones in PCs in this way.

96
00:09:50.770 --> 00:09:52.960
The first issue is security.

97
00:09:53.080 --> 00:09:59.800
The pc will be able to sniff traffic from the phone and be able to record the voice conversation.

98
00:09:59.800 --> 00:10:06.910
If an application like Cain and Abel is used on newer phones that functionality can be disabled by the

99
00:10:06.910 --> 00:10:13.900
sea UCM for example Callia service is also harder to implement because you cannot differentiate between

100
00:10:13.900 --> 00:10:17.230
the traffic types based on Bil'in.

101
00:10:17.370 --> 00:10:21.900
There are two scenarios where you may have to set up a single violent access sport.

102
00:10:22.110 --> 00:10:28.080
The first one is when you've got a soft phone or in this example the Cisco IP communicator running on

103
00:10:28.080 --> 00:10:29.040
your laptop.

104
00:10:29.400 --> 00:10:36.930
In this example both the softphone and the PC are in the same LAN because the Sophonias is running on

105
00:10:36.930 --> 00:10:37.960
the PC.

106
00:10:38.310 --> 00:10:45.810
So traffic going to the PC and traffic going to the cellphone are sent across the same port and untagged

107
00:10:46.250 --> 00:10:48.860
in the same villain.

108
00:10:48.930 --> 00:10:56.700
The second example of using a single villaine access board is when you've got a non Cisco IP phone solution.

109
00:10:57.000 --> 00:11:01.790
In this example you may need to configure the phone and the PC in the same Bil'in.

110
00:11:02.190 --> 00:11:08.780
However that is less common these days as most phone vendors support the concept of a voice of the land.

111
00:11:09.090 --> 00:11:15.240
But if you come across an older solution or a smaller vendor you may need to implement your villans

112
00:11:15.240 --> 00:11:16.240
in this fashion.

113
00:11:17.080 --> 00:11:25.920
You set up a single Bil'in access board on the switch you're simply going to need to face

114
00:11:28.970 --> 00:11:41.670
Antarctica on switchboard mode access switchboard access and the LAN to or which ever the LAN you are

115
00:11:41.670 --> 00:11:53.930
going to use so to view the configuration I can top that can on do show run interface if 0 1 slash 1.

116
00:11:54.000 --> 00:12:00.910
And as you can see they this is just a standard code configured with a standard villaine it's configured

117
00:12:00.910 --> 00:12:05.720
in the same way you would configure it if there was just a PC connected to the port.

118
00:12:06.100 --> 00:12:11.500
Once again this is not recommended but you may need to do this if you've got non Cisco phones connected

119
00:12:11.500 --> 00:12:12.410
to your switch.

120
00:12:13.860 --> 00:12:26.440
I could also do the command show interface if 0 1 1 switchboard and notice here you can see that it's

121
00:12:26.440 --> 00:12:28.820
being configured for static access.

122
00:12:29.020 --> 00:12:37.810
The operational mode is static access the access villain is violent too and no voice has been configured.

123
00:12:37.810 --> 00:12:47.180
So this is just a standard access port in the old days used to connect Cisco IP phones to the network

124
00:12:47.180 --> 00:12:54.350
infrastructure using trunk ports a trunk port if you remember can support multiple plans with some traffic

125
00:12:54.350 --> 00:12:59.490
St tag and some traffic St. untacked across the native land.

126
00:12:59.810 --> 00:13:05.670
So in this example you put the phone in the voice field and send traffic to it as tagged as a two to

127
00:13:05.720 --> 00:13:12.580
one keyframes the native villaine would be used to send traffic to the PC untagged.

128
00:13:12.830 --> 00:13:18.100
So tag frames are sent to the phone and untag frames are sent to the PC.

129
00:13:18.140 --> 00:13:22.860
Once again the phone would learn the villain information directly from the switch.

130
00:13:23.180 --> 00:13:29.150
You wouldn't have to configure the phone with the voice Villon they are once again a number of issues

131
00:13:29.330 --> 00:13:32.830
with configuring your network in this way.

132
00:13:32.840 --> 00:13:37.050
The first issue is that this port cannot be configured as a secure port.

133
00:13:37.070 --> 00:13:43.560
Port security can only be enabled and access ports not on trunk ports and other issue that used to affect

134
00:13:43.560 --> 00:13:51.270
Cisco solutions is that in the old days seventy nine 05 phones which were the low range basic phones

135
00:13:51.700 --> 00:13:56.090
often used to reset because of the number of broadcasts received.

136
00:13:56.100 --> 00:14:01.300
The problem with a trunk link is that a trunk by default allows all the lands across it.

137
00:14:01.680 --> 00:14:07.120
So the phone in the scenario would receive broadcasts going to all the lands.

138
00:14:07.170 --> 00:14:13.500
So if a PC on the right hand side for example was jabbering and was sending many broadcasts those broadcasts

139
00:14:13.500 --> 00:14:17.820
would be received by the phone and have to be processed by the phone.

140
00:14:17.820 --> 00:14:26.100
So in the past phones like the 79 0 5 which were a basic low entry IP phones reset because they didn't

141
00:14:26.100 --> 00:14:30.840
have the processing power to process all the broadcasts received.

142
00:14:30.840 --> 00:14:34.910
So this caused a lot of issues because the phones were just randomly reset.

143
00:14:34.920 --> 00:14:39.720
So what you had to do in the old days if you had to configure this as a trunk and then manually prune

144
00:14:39.720 --> 00:14:44.440
the trunk to only allow traffic to the voice of the land and the data plan.

145
00:14:44.580 --> 00:14:50.550
Another issue was that on certain switches port forest couldn't be enabled on krunk cords and to make

146
00:14:50.550 --> 00:14:57.270
matters worse a lot of the IP phones would actually copy that tagged frames that they received out of

147
00:14:57.270 --> 00:15:03.930
the PC port and the PC if running a hacking tool and supporting editor one key could receive all of

148
00:15:03.930 --> 00:15:04.800
that traffic.

149
00:15:05.010 --> 00:15:11.650
So the PC would have visibility of other villans not just the villain on which it resides.

150
00:15:11.670 --> 00:15:17.730
So this isn't a recommended implementation today but if you come across a really old switch that doesn't

151
00:15:17.730 --> 00:15:24.340
support multivalent access ports which will discuss in a moment you could configure that port as a trunk

152
00:15:24.400 --> 00:15:24.840
port.
