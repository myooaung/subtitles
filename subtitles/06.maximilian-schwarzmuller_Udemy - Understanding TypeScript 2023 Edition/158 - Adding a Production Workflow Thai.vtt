WEBVTT

00:02.130 --> 00:04.110
ผู้สอน: เราเตรียมเวิร์กโฟลว์การพัฒนาสำหรับ

00:04.110 --> 00:06.137
Webpack ที่นี่ กำหนดค่าสำหรับเซิร์ฟเวอร์

00:06.137 --> 00:13.210
Webpack dev ตั้งค่าโหมดเป็นการพัฒนา และตั้งค่าซอร์สแมปเพื่อปรับปรุงประสบการณ์การแก้จุดบกพร่อง เพื่อให้ข้อความแสดงข้อผิดพลาดดีขึ้น

00:13.210 --> 00:16.570
และอื่นๆ

00:16.570 --> 00:23.260
ตอนนี้สำหรับการผลิต ดังนั้นเมื่อเราต้องการเตรียมรหัสของเราเพื่ออัปโหลดไปยังเซิร์ฟเวอร์ที่จะให้บริการแก่ผู้ใช้ปลายทางของเรา

00:23.260 --> 00:27.070
โดยทั่วไปเราต้องการเวิร์กโฟลว์ที่แตกต่างออกไป

00:27.070 --> 00:28.790
ดังนั้นฉันจะเพิ่มการกำหนดค่าใหม่ที่เรียกว่า

00:28.790 --> 00:31.820
webpack การกำหนดค่า แยง. จ.

00:31.820 --> 00:33.210
ชื่อนี้ไม่ขึ้นอยู่กับคุณเนื่องจาก

00:33.210 --> 00:36.043
Webpack จะไม่ค้นหาตามค่าเริ่มต้น

00:36.880 --> 00:39.710
เราจะบอกให้มองหามันในไม่กี่วินาที

00:39.710 --> 00:48.480
ก่อนที่เราจะบอก เรามาคัดลอกการตั้งค่าการพัฒนาทั้งหมดที่นี่ไปที่การกำหนดค่านี้ก่อน

00:48.480 --> 00:48.480
prod แต่ตอนนี้เรามาปรับจูนกัน

00:48.480 --> 00:51.150
เราสามารถตั้งค่าโหมดการผลิตเป็นต้น

00:51.150 --> 00:54.380
สิ่งนี้จะบอกให้ Webpack ทำการเพิ่มประสิทธิภาพ

00:54.380 --> 00:59.220
ย่อโค้ดของเรา และอื่นๆ ดังนั้นคุณต้องตั้งค่าที่นี่อย่างแน่นอน

00:59.220 --> 01:00.440
เราจะออกจากรายการ

01:00.440 --> 01:02.910
ในเอาต์พุต เราไม่สามารถกำจัดเส้นทางสาธารณะได้เนื่องจากจำเป็นสำหรับเซิร์ฟเวอร์

01:02.910 --> 01:05.860
Webpack dev

01:05.860 --> 01:08.810
ตอนนี้เราจะไม่ใช้ที่นี่แล้ว เพราะสำหรับการผลิต

01:08.810 --> 01:10.430
เราต้องการรันสคริปต์ Webpack

01:10.430 --> 01:16.900
และสร้างเอาต์พุตของเราที่เขียนลงดิสก์และไม่ให้บริการชั่วคราวบนเซิร์ฟเวอร์ที่ทำงานในเครื่อง

01:16.900 --> 01:19.350
เราสามารถตั้งค่า devtool เป็น none

01:19.350 --> 01:22.090
เพื่อไม่ให้สร้างซอร์สแมปที่นี่ได้ เพราะในการผลิต

01:22.090 --> 01:24.913
เราอาจไม่ต้องการมัน

01:26.140 --> 01:30.160
ตอนนี้ส่วนที่เหลือสามารถอยู่ได้ แต่เราจะเพิ่มมากขึ้น

01:30.160 --> 01:36.220
ที่ด้านล่าง ฉันต้องการเพิ่มรายการปลั๊กอินและตั้งค่านี้เป็นอาร์เรย์

01:36.220 --> 01:41.070
ปลั๊กอินเป็นส่วนขยายเพิ่มเติมหรือก็คือปลั๊กอินที่คุณสามารถเพิ่มลงในเวิร์กโฟลว์

01:41.070 --> 01:47.820
Webpack ของคุณ ซึ่งโดยพื้นฐานแล้วจะนำไปใช้กับเอาต์พุตทั้งหมด กับทั้งโครงการ

01:47.820 --> 01:52.870
กฎและโมดูลจะใช้กับระดับไฟล์โดยเฉพาะ

01:52.870 --> 01:57.260
ปลั๊กอินถูกนำไปใช้กับเวิร์กโฟลว์ทั่วไป

01:57.260 --> 02:00.620
ที่นี่ฉันต้องการเพิ่มปลั๊กอินที่จะลบทุกอย่างในโฟลเดอร์

02:00.620 --> 02:04.370
dist โดยอัตโนมัติก่อนที่จะมีการเขียนเอาต์พุตใหม่ที่นั่น

02:04.370 --> 02:06.540
เพื่อให้เรามีเอาต์พุตล่าสุดในโฟลเดอร์

02:06.540 --> 02:09.410
dist เสมอ

02:09.410 --> 02:11.900
สำหรับสิ่งนั้น ฉันจะติดตั้งแพ็คเกจใหม่ด้วย

02:11.900 --> 02:16.900
--save-dev และนั่นคือปลั๊กอิน clean-webpack-plugin

02:19.090 --> 02:21.900
และสิ่งนี้จะช่วยเราล้างโฟลเดอร์ dist

02:21.900 --> 02:26.360
ในกรณีของเรา เมื่อใดก็ตามที่เราสร้างโครงการใหม่

02:26.360 --> 02:29.820
เมื่อติดตั้งแล้วให้นำเข้าที่นี่ที่ด้านบน

02:29.820 --> 02:32.090
ฉันจะตั้งชื่อมันว่า CleanPlugin

02:32.090 --> 02:36.400
และนำเข้าโดยต้องการ clean-webpack-plugin และติดตั้งในอาร์เรย์ปลั๊กอินที่ด้านล่าง

02:36.400 --> 02:44.073
เราเรียกใหม่ว่า CleanPlugin

02:44.073 --> 02:44.073
CleanWebpackPlugin

02:45.422 --> 02:46.500
และสร้างอินสแตนซ์นี้

02:46.500 --> 02:49.660
นี่คือฟังก์ชันตัวสร้างและตอนนี้สร้างอินสแตนซ์

02:49.660 --> 02:51.650
นี่คือทั้งหมดที่คุณต้องทำที่นี่และในท้ายที่สุดจะเป็นการบอก

02:51.650 --> 02:53.260
Webpack ว่าก่อนที่จะเขียนบางสิ่งไปยังโฟลเดอร์เอาต์พุตนี้

02:53.260 --> 02:58.593
มันจะล้างข้อมูลทุกอย่างที่อยู่ในนั้น

02:59.440 --> 03:02.020
ตอนนี้เราได้ขั้นตอนการผลิตที่เสร็จสิ้นแล้ว

03:02.020 --> 03:07.280
ตอนนี้ไปใช้กันเถอะไปที่แพ็คเกจ json แล้วมาปรับสคริปต์บิลด์นี้กัน

03:07.280 --> 03:10.510
ที่นี่ฉันต้องการบอก Wepback ให้ใช้ไฟล์ prod นี้ ไฟล์การกำหนดค่าการผลิตนี้

03:10.510 --> 03:13.110
และเราทำเช่นนั้นโดยเพิ่ม --config แล้วตามด้วย

03:13.110 --> 03:21.140
webpack

03:21.140 --> 03:21.140
การกำหนดค่า แยง. js ที่นี่

03:21.140 --> 03:23.610
นี่ควรเป็นชื่อไฟล์ใดก็ตามที่คุณเลือก และเป็นการสั่งให้ Webpack

03:23.610 --> 03:29.730
ใช้ไฟล์การกำหนดค่านี้แทน Webpack เริ่มต้น

03:29.730 --> 03:29.730
การกำหนดค่า js

03:29.730 --> 03:32.030
ที่ปกติจะมองหา

03:32.030 --> 03:34.600
หากคุณเรียกใช้ npn run build มันจะสร้างแอปของคุณสำหรับการผลิต

03:34.600 --> 03:39.950
ซึ่งหมายความว่าจะให้ผลลัพธ์ที่ปรับให้เหมาะสมนี้แก่คุณ

03:39.950 --> 03:42.460
ดังนั้นหากคุณรอ เราได้รับบันเดิลนี้แล้ว js และตอนนี้เป็นโค้ดที่ปรับให้เหมาะสมจริง

03:42.460 --> 03:50.980
ๆ ที่สร้างขึ้นสำหรับการผลิตและสิ่งนี้พร้อมกับดัชนีของคุณ

03:50.980 --> 03:50.980
html และแอพ ไฟล์

03:50.980 --> 03:56.393
css คือสิ่งที่คุณจะใส่ไว้บนเซิร์ฟเวอร์ที่นี่ หากคุณต้องการปรับใช้แอปพลิเคชันของคุณ

03:57.260 --> 04:00.440
นี่เป็นจุดสิ้นสุดของโมดูลนี้

04:00.440 --> 04:02.140
ตอนนี้ให้ฉันสรุปสิ่งที่เราได้เรียนรู้
