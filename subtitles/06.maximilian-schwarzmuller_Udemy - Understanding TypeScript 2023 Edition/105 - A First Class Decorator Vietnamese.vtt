WEBVTT

00:02.130 --> 00:05.620
-: Đối với phần đính kèm mà bạn tìm thấy dự án khởi đầu cũ tốt của

00:05.620 --> 00:08.470
chúng tôi, tôi đã khởi động máy chủ với NPM start.

00:08.470 --> 00:12.320
Và quá trình xem TypeScript với TSC-W.

00:12.320 --> 00:14.870
Và điều đầu tiên chúng ta cần định cấu

00:14.870 --> 00:18.030
hình có trong tệp tsconfig, đảm bảo rằng mục tiêu

00:18.030 --> 00:21.620
của bạn được đặt thành es6 và sau đó, nếu bạn cuộn xuống,

00:21.620 --> 00:24.230
hãy đảm bảo rằng bạn thêm dòng trang trí

00:24.230 --> 00:26.720
thử nghiệm này vào đây.

00:26.720 --> 00:28.380
Và thêm một dấu phẩy trước phần này

00:28.380 --> 00:31.700
và sau đó bạn có thể Tự Định dạng để định dạng chính xác tất cả phần này.

00:31.700 --> 00:34.020
Điều này rất quan trọng nếu không bạn sẽ không thể sử dụng

00:34.020 --> 00:36.000
các công cụ trang trí trong dự án của mình.

00:36.000 --> 00:37.250
Vì vậy, hãy chắc chắn rằng

00:37.250 --> 00:40.540
bạn đã tinh chỉnh tệp tsconfig. json một cách thích hợp.

00:40.540 --> 00:42.630
Và với điều đó, chúng ta có thể đi sâu vào ngay và viết trình

00:42.630 --> 00:46.980
trang trí đầu tiên của mình tại đây trong ứng dụng. tập tin ts.

00:46.980 --> 00:50.950
Và tôi muốn bắt đầu với một công cụ trang trí mà chúng ta có thể thêm vào một lớp học.

00:50.950 --> 00:54.530
Bây giờ các công cụ trang trí nói chung là tất cả về các lớp, nhưng

00:54.530 --> 00:55.363
đây là một công

00:55.363 --> 00:58.220
cụ trang trí mà chúng ta sẽ thêm vào toàn bộ lớp.

00:58.220 --> 01:00.730
Vì vậy, giả sử chúng ta có một lớp, Người,

01:00.730 --> 01:04.360
một lớp rất tầm thường, nơi chúng ta có một cái tên.

01:04.360 --> 01:07.530
Có thể với giá trị Max, được khởi tạo trước tại đây.

01:07.530 --> 01:10.520
Ở đâu chúng tôi có một hàm xây dựng, nơi tôi chỉ đăng

01:10.520 --> 01:12.600
nhập Tạo đối tượng người, để chúng tôi

01:12.600 --> 01:14.763
thấy rằng điều này được thực thi.

01:15.880 --> 01:19.363
Và sau đó, tất nhiên, chúng ta có thể tạo một người mới ở đây,

01:20.760 --> 01:22.910
với một từ khóa mới, như thế này.

01:22.910 --> 01:24.030
Và nếu muốn, tất nhiên

01:24.030 --> 01:26.490
chúng ta có thể đăng nhập người được tạo này.

01:26.490 --> 01:28.330
Và điều này sẽ không có gì ngạc nhiên,

01:28.330 --> 01:29.430
nếu chúng ta lưu tất cả

01:29.430 --> 01:32.090
những thứ đó, nó sẽ biên dịch mà không có lỗi.

01:32.090 --> 01:33.700
Và nếu chúng ta truy cập trang

01:33.700 --> 01:36.670
của mình thì trên Localhost: 3000, trong bảng điều

01:36.670 --> 01:38.900
khiển JavaScript, chúng ta sẽ thấy Tạo

01:38.900 --> 01:41.140
đối tượng người đến từ hàm tạo.

01:41.140 --> 01:44.603
Và tất nhiên, tất cả chúng ta đều nhìn thấy chính Người ở đây.

01:45.810 --> 01:49.550
Bây giờ, trong ví dụ này, chúng tôi không có người trang trí nào tham gia.

01:49.550 --> 01:51.000
Hãy thay đổi điều này.

01:51.000 --> 01:53.370
Ở đầu tệp, hãy thêm một trình trang trí.

01:53.370 --> 01:56.060
Và một công cụ trang trí, và điều đó thực sự quan trọng

01:56.060 --> 01:58.080
để hiểu, cuối cùng chỉ là một chức năng.

01:58.080 --> 02:01.280
Một chức năng bạn áp dụng cho một cái gì đó, ví dụ, cho

02:01.280 --> 02:03.530
một lớp theo một cách nhất định.

02:03.530 --> 02:04.750
Vì vậy, hãy tạo một

02:04.750 --> 02:09.523
hàm ở đây, với từ khóa function, và tôi sẽ đặt tên cho nó là Logger.

02:10.390 --> 02:13.290
Bây giờ đây là một hàm, điều đặc biệt duy nhất ở đây

02:13.290 --> 02:15.570
là tôi bắt đầu với một ký tự viết hoa.

02:15.570 --> 02:16.492
Nhân tiện, đây không

02:16.492 --> 02:20.200
phải là điều bắt buộc, bạn không cần phải sử dụng ký tự bắt đầu viết

02:20.200 --> 02:22.470
hoa, bạn cũng có thể sử dụng ký tự viết thường,

02:22.470 --> 02:25.610
bạn chỉ thấy có rất nhiều trình trang trí ngoài kia trong

02:25.610 --> 02:27.680
các thư viện mà bạn có thể sử dụng ký tự

02:27.680 --> 02:30.030
đó bắt đầu bằng chữ hoa ký tự và do đó, tôi sẽ

02:30.030 --> 02:32.200
làm như vậy ở đây.

02:32.200 --> 02:35.450
Vì vậy, chức năng Logger ở đây là một chức năng và chúng ta có

02:35.450 --> 02:39.330
thể áp dụng chức năng này như một công cụ trang trí khi nó xuất hiện.

02:39.330 --> 02:42.730
Bây giờ, hãy thêm một bảng điều khiển đăng nhập ở đây, Ghi nhật ký, để chúng

02:42.730 --> 02:44.730
ta có thể biết khi nào chức năng này chạy.

02:44.730 --> 02:47.300
Bởi vì tôi sẽ không gọi nó trực tiếp.

02:47.300 --> 02:50.330
Thay vào đó, tôi muốn thêm nó làm công cụ trang trí cho lớp này.

02:50.330 --> 02:53.710
Và chúng tôi làm như vậy bằng cách thêm một biểu tượng

02:53.710 --> 02:57.370
@ ở đây trước lớp và sau đó là chức năng của chúng tôi ở đây.

02:57.370 --> 02:58.440
Chỉ như thế này.

02:58.440 --> 03:00.320
Bây giờ là một vài điều đặc biệt ở đây.

03:00.320 --> 03:03.780
Biểu tượng @ ở đây là một mã định danh đặc biệt mà TypeScript

03:03.780 --> 03:06.170
nhìn thấy hoặc nhận ra.

03:06.170 --> 03:09.110
Và sau đó, thứ ngay sau ký hiệu @

03:09.110 --> 03:11.010
sẽ chỉ vào một hàm.

03:11.010 --> 03:13.460
Không thực hiện nó, nhưng chỉ vào nó,

03:13.460 --> 03:15.800
đó sẽ là vật trang trí của bạn.

03:15.800 --> 03:17.400
Bây giờ ở đây, bạn thấy rằng Trình ghi nhật

03:17.400 --> 03:20.650
ký sau đó chấp nhận quá ít đối số để được sử dụng làm công cụ trang trí ở đây.

03:20.650 --> 03:23.010
Vì vậy, điều tốt là TypeScript hiểu rằng tôi muốn sử

03:23.010 --> 03:24.930
dụng nó như một công cụ trang trí ở đây.

03:24.930 --> 03:27.980
Điều tồi tệ là chúng tôi không vượt qua đủ đối số.

03:27.980 --> 03:31.000
Và thực sự, các nhà trang trí nhận được các đối số.

03:31.000 --> 03:34.870
Có bao nhiêu đối số phụ thuộc vào nơi bạn sử dụng trình trang trí.

03:34.870 --> 03:39.710
Ở đây, đối với một trình trang trí, chúng tôi thêm vào một lớp, chúng tôi nhận được một đối số.

03:39.710 --> 03:42.910
Có thể nói, đó là mục tiêu của trình trang trí

03:42.910 --> 03:46.160
này, đó là chức năng xây dựng của chúng ta.

03:46.160 --> 03:49.020
Vì vậy, có thể nói rằng cuối cùng chúng

03:49.020 --> 03:51.240
ta có một hàm ở đây làm đối số.

03:51.240 --> 03:54.110
Chúng ta cũng có thể đặt tên cho nó là hàm tạo, bởi

03:54.110 --> 03:56.650
vì cuối cùng, chúng ta sẽ nhận được hàm tạo

03:56.650 --> 03:59.550
của lớp này hoặc bất kỳ lớp nào mà chúng ta thêm trình

03:59.550 --> 04:01.470
trang trí này làm đối số.

04:01.470 --> 04:06.310
Hãy cũng an ủi. log để chúng ta có thể hiểu sâu

04:06.310 --> 04:09.650
hơn về đối số hàm tạo này tại đây.

04:09.650 --> 04:10.550
Và hãy lưu cái này lại.

04:10.550 --> 04:12.750
Và như bạn thấy nó biên dịch không có lỗi.

04:12.750 --> 04:14.750
Và nếu bây giờ chúng ta nhìn vào đầu ra của

04:14.750 --> 04:16.580
mình, chúng ta sẽ thấy mã cũ từ trước

04:16.580 --> 04:18.590
đó, nhưng chúng ta cũng thấy đầu ra Ghi nhật

04:18.590 --> 04:20.810
ký và hàm tạo này đang được ghi lại.

04:20.810 --> 04:22.760
Chà, chúng ta thực sự thấy toàn bộ lớp

04:22.760 --> 04:24.520
ở đây, nhưng cuối cùng thì các lớp

04:24.520 --> 04:27.670
chỉ là một số đường chiến thuật đối với các hàm xây dựng.

04:27.670 --> 04:31.450
Cũng xin lưu ý rằng đầu ra của trình trang trí, Ghi nhật

04:31.450 --> 04:35.030
ký và lớp này hoặc nhật ký hàm tạo này ở đây được in

04:35.030 --> 04:39.460
trước, trước khi chúng ta thấy Tạo đối tượng người và đối tượng

04:39.460 --> 04:41.540
Người của chúng ta.

04:41.540 --> 04:44.360
Bởi vì, thực sự, các bộ trang trí và điều đó thực sự

04:44.360 --> 04:48.430
quan trọng, các bộ trang trí thực thi khi lớp của bạn được xác định.

04:48.430 --> 04:50.530
Không phải khi nó được khởi tạo.

04:50.530 --> 04:53.020
Bạn không cần phải khởi tạo lớp học của mình.

04:53.020 --> 04:55.760
Chúng tôi có thể xóa mã đó để khởi tạo lớp và chúng

04:55.760 --> 04:58.780
tôi vẫn sẽ nhận được đầu ra của trình trang trí đó.

04:58.780 --> 05:02.210
Vì vậy, trình trang trí chạy khi JavaScript tìm thấy

05:02.210 --> 05:05.660
định nghĩa lớp của bạn, định nghĩa hàm tạo của bạn.

05:05.660 --> 05:08.580
Không phải khi bạn sử dụng hàm tạo đó để khởi

05:08.580 --> 05:10.070
tạo một đối tượng.

05:10.070 --> 05:13.280
Điều đó thực sự quan trọng để hiểu.

05:13.280 --> 05:15.170
Vì vậy, đây là trang trí đầu tiên của chúng tôi.

05:15.170 --> 05:16.670
Tuy nhiên, đó không phải là cách

05:16.670 --> 05:19.063
duy nhất để chúng ta có thể tạo một trình trang trí.
