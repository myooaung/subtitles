WEBVTT

00:02.320 --> 00:03.570
المدرب: لجعله قابلاً

00:03.570 --> 00:05.090
للإفلات ، يتعين علينا الانتقال

00:05.090 --> 00:07.730
إلى الجملة ، أو إلى المكون الموجود في تطبيقنا

00:07.730 --> 00:11.600
، والذي يجب أن يعمل في النهاية كهدف سحب.

00:11.600 --> 00:14.120
لذا فإن فئة Project List هي الفقرة

00:14.120 --> 00:15.870
الصحيحة وهناك يمكننا تنفيذ

00:15.870 --> 00:17.150
الواجهة الثانية

00:17.150 --> 00:20.130
التي أضفناها ، واجهة Drag Target.

00:20.130 --> 00:23.550
الآن ، تمامًا مثل الواجهة القابلة للسحب

00:23.550 --> 00:26.510
، يجبرنا هذا على إضافة طرق معينة.

00:26.510 --> 00:30.600
لكي نكون دقيقين هنا ، نحتاج إلى إضافة معالج السحب فوق معالج الإسقاط

00:30.600 --> 00:33.500
ومعالج الإسقاط ومعالج ترك السحب.

00:33.500 --> 00:34.540
لذا ، لنفعل ذلك.

00:34.540 --> 00:38.640
ربما كل شيء هنا أدناه منشئ التكوين أعلاه.

00:38.640 --> 00:40.080
المكان الدقيق متروك

00:40.080 --> 00:42.880
لك ، ترتيب الأساليب لا يهم.

00:42.880 --> 00:45.680
سأضيف هنا السحب فوق المعالج

00:45.680 --> 00:49.730
، حيث نحصل على حدث السحب.

00:49.730 --> 00:51.850
سأضيف بعد ذلك معالج الإسقاط هنا

00:51.850 --> 00:54.203
، حيث نحصل أيضًا على حدث السحب.

00:55.710 --> 00:59.130
وأخيرًا وليس آخرًا ، معالج السحب والسحب

00:59.130 --> 01:02.260
، حيث نحصل أيضًا على حدث السحب.

01:02.260 --> 01:05.410
الآن هذه الأحداث ، بالمناسبة ، تحتوي على أنواع مختلفة من البيانات

01:05.410 --> 01:08.594
، لكنها كلها تستند إلى نوع الحدث الأساسي للحالة.

01:08.594 --> 01:11.860
الآن لدينا عدة أشياء مختلفة للقيام بها.

01:11.860 --> 01:15.120
لنبدأ مع السحب فوق المعالج ربما.

01:15.120 --> 01:18.770
في معالج السحب ، أريد تغيير مظهر الصندوق الخاص

01:18.770 --> 01:21.900
بي أو القائمة غير المرتبة هناك ، لتصور

01:21.900 --> 01:24.470
أن هذه منطقة قابلة للإفلات.

01:24.470 --> 01:26.960
لأنه في الوقت الحالي عندما نسحب عنصرًا ، لا نحصل

01:26.960 --> 01:30.200
على أي فكرة عن المكان الذي يمكننا إسقاطه فيه ، أليس كذلك؟

01:30.200 --> 01:33.410
لا شيء يتغير في واجهة المستخدم ، لذلك أريد تغيير هذا.

01:33.410 --> 01:35.950
لتغيير هذا ، سأضيف عبارة css معينة إلى القائمة غير المرتبة

01:35.950 --> 01:38.680
، والتي تجدها في التطبيق. المغلق.

01:38.680 --> 01:42.080
الجملة المنسدلة التي ستغير لون الخلفية

01:42.080 --> 01:45.460
وبالتالي هنا ، كبداية ، نحتاج فقط للوصول

01:45.460 --> 01:49.070
إلى عنصر القائمة غير المرتب.

01:49.070 --> 01:53.850
يمكننا القيام بذلك عن طريق الوصول إلى هذا العنصر ، querySelectror uL

01:53.850 --> 01:57.380
وإضافة علامة تعجب لأنه ستكون هناك دائمًا قائمة غير

01:57.380 --> 01:59.440
مرتبة هناك ، حتى لو لم تكن تحتوي

01:59.440 --> 02:00.963
على عناصر حتى الآن.

02:02.560 --> 02:05.570
علينا فقط التأكد من أن هذه الكلمة الرئيسية تعمل

02:05.570 --> 02:08.600
هنا ويمكننا القيام بذلك عن طريق الربط التلقائي

02:08.600 --> 02:11.050
هنا للتأكد من أن هذه الكلمة الأساسية مرتبطة

02:11.050 --> 02:12.840
بالفقرة المحيطة.

02:12.840 --> 02:15.610
ثم مع تحديد عناصر القائمة ، يمكننا

02:15.610 --> 02:19.550
استخدام خاصية قائمة الجملة لعناصر dom ، لذلك فهذه

02:19.550 --> 02:22.090
هي Vanilla JavaScript هنا مرة

02:22.090 --> 02:26.080
أخرى ، واستدعاء طريقة add هناك لإضافة جملة droppable

02:26.080 --> 02:27.540
إليها.

02:27.540 --> 02:29.360
الآن مع ذلك ، علينا بالطبع التأكد

02:29.360 --> 02:33.000
من أن dragOverHandler قد تم إطلاقه بالفعل عندما نسحب

02:33.000 --> 02:37.333
شيئًا ما فوق هذا العنصر هنا ، فوق هذا القسم المعروض.

02:39.090 --> 02:42.400
للقيام بذلك في طريقة التهيئة ، حيث لدينا بالفعل

02:42.400 --> 02:46.020
مستمع واحد هنا ، يستمع إلى تغييرات حالتنا ، سأقوم

02:46.020 --> 02:50.280
أيضًا بتسجيل المستمعين على العنصر نفسه.

02:50.280 --> 02:53.380
أول EventListener هو ، بالطبع ، حدث السحب

02:53.380 --> 02:54.760
وسأربط هذا بـ dragOverHandler

02:54.760 --> 02:58.090
، مما لا يثير الدهشة.

02:58.090 --> 03:01.060
ثم سأكرر هذا لأنني أريد أيضًا الاستماع

03:01.060 --> 03:03.740
إلى حدث dragLeave وربط هذا بـ dragLeaveHandler

03:03.740 --> 03:06.870
وحدث Drop وربط هذا بـ dropHandler لأننا

03:06.870 --> 03:10.583
سنحتاج ذلك أيضًا لاحقًا.

03:11.580 --> 03:16.500
لذلك ، مع ذلك ، لدينا هذا السحب فوق مستمع الحدث و dragOverHandler

03:16.500 --> 03:18.797
متصل ، ولكن لدينا أيضًا بعض

03:18.797 --> 03:21.780
الأخطاء في الكود الآن.

03:21.780 --> 03:24.610
حسنًا ، يجب أن تكون هذه هي كائنات الأحداث غير المستخدمة

03:24.610 --> 03:27.430
هنا ، لذا في الوقت الحالي ، لإرضاء الكتابة المطبوعة

03:27.430 --> 03:28.810
، دعنا نفرغها فقط.

03:28.810 --> 03:31.477
سنحتاجها لاحقًا ، ولكن في الوقت الحالي ، لإنجاز هذا

03:31.477 --> 03:33.690
العمل ، دعنا نفرغها باستخدام الشرطات السفلية

03:33.690 --> 03:35.677
هنا لنخبر الكتابة المطبوعة ، "نحن بخير

03:35.677 --> 03:37.670
لا نستخدمها في الوقت الحالي. الآن هذا يتم تجميعه والآن مرة أخرى في

03:37.670 --> 03:38.950
المشروع ، عندما نضيف مشروعًا

03:38.950 --> 03:42.910
جديدًا هنا ، وأقوم بسحب هذا ، ترى عندما أسحب هذا على المشاريع المنتهية ،

03:42.910 --> 03:45.320
الخلفية هنا باللون الأزرق الفاتح.

03:45.320 --> 03:49.620
هنا على المشاريع النشطة ، حصلت على وردة

03:49.620 --> 03:53.270
فاتحة ، مثل اللون الوردي الخفيف.

03:53.270 --> 03:56.220
فقط لإظهار هذا مرة أخرى ، إذا قمت بإعادة التحميل

03:56.220 --> 03:58.650
، فسترى الآن لدينا خلفيات بيضاء في المشاريع

03:58.650 --> 04:02.670
، عفوًا ، وبمجرد أن أبدأ في السحب ، يحصل هذا هنا على خلفية وردية

04:02.670 --> 04:06.490
فاتحة وعندما أسحبها فوق المشاريع المنتهية ، تتغير خلفية

04:06.490 --> 04:09.470
الصندوق إلى الأزرق الفاتح.

04:09.470 --> 04:13.360
الآن لا يتغير أبدًا إلى اللون الأبيض لأننا لم نقم بإزالة هذا البند

04:13.360 --> 04:16.050
القابل للإسقاط مطلقًا ، ولكنه خطوة أولى.

04:16.050 --> 04:19.480
بالطبع ، لا يزال الإسقاط لا يعمل.

04:19.480 --> 04:21.700
إسقاطه هنا لا يضيف المشروع

04:21.700 --> 04:23.890
لأنه كيف ذلك؟

04:23.890 --> 04:25.300
لم نضف أي منطق لهذا.

04:25.300 --> 04:28.200
لذلك دعونا نتأكد أيضًا من تحديث

04:28.200 --> 04:33.200
التصميم عندما نتوقف ، عندما نترك العنصر.

04:33.410 --> 04:36.390
عندما نسحبه هنا ثم نذهب بعيدًا.

04:36.390 --> 04:39.670
تأكد من اختفاء الخلفية الزرقاء في هذه الحالة

04:39.670 --> 04:42.640
، هذا ما أريد القيام به بعد ذلك.

04:42.640 --> 04:44.870
لذلك يمكننا استخدام dragLeaverHandler

04:44.870 --> 04:47.020
هنا لأن ذلك سيطلق عندما نترك

04:47.020 --> 04:50.990
هذا العنصر مع العنصر المسحوب.

04:50.990 --> 04:53.019
الآن هناك بالطبع أريد أيضًا

04:53.019 --> 04:57.550
الوصول إلى القائمة غير المرتبة ، لذلك سأنسخ هذا الرمز ، ولكن

04:57.550 --> 05:01.420
بعد ذلك ، أريد إزالة الجملة القابلة للإفلات.

05:01.420 --> 05:05.553
يجب علينا الآن أيضًا ربط هذا تلقائيًا بحيث تشير

05:06.448 --> 05:11.220
هذه الكلمة الأساسية هنا إلى الجملة المحيطة.

05:11.220 --> 05:13.120
إذا حفظنا ذلك ، نضيف عنصرًا جديدًا هنا.

05:14.040 --> 05:17.740
دعنا نعطيها محاولة.

05:17.740 --> 05:18.773
إذا بدأت في السحب

05:20.310 --> 05:23.740
، سترى أن لدينا خلفيتنا هنا وإذا غادرت ، ستختفي.

05:24.610 --> 05:27.120
حتى الآن الخلفية تم تحديثها بالفعل.

05:27.120 --> 05:29.930
ترى بعض الخفقان هنا لأن حدث dragLeave

05:29.930 --> 05:33.670
ينشط أيضًا إذا انتقلت من وضع مؤشر الماوس

05:33.670 --> 05:37.190
فوق الخلفية إلى وضعه فوق عنصر تم عرضه ،

05:37.190 --> 05:40.960
ولكن يجب أن يكون ذلك جيدًا هنا.

05:40.960 --> 05:42.500
انها ليست مشكلة كبيرة هنا.

05:42.500 --> 05:43.620
لذا في الواقع ، لقد حصلنا على التأثير المطلوب ، كما يمكنني القول.

05:43.620 --> 05:47.320
لذلك يتم تحديث واجهة المستخدم بالطريقة التي يجب أن يتم

05:47.320 --> 05:50.950
تحديثها الآن ، ولكن بالطبع لا يمكننا إسقاط البيانات

05:50.950 --> 05:53.140
ونقلها حقًا ، لذلك ستكون هذه هي الخطوة

05:53.140 --> 05:54.700
التالية.
