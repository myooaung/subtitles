WEBVTT

00:02.140 --> 00:04.980
-: حتى تتمكن من استخدام أنواع معلمات

00:04.980 --> 00:06.750
الوظيفة وقيمة إرجاع

00:06.750 --> 00:08.100
الدالة.

00:08.100 --> 00:10.420
الآن ، للانتقال إلى المستوى

00:10.420 --> 00:14.820
التالي ، ماذا لو كان نوع الوظيفة نفسه أيضًا.

00:14.820 --> 00:17.170
الآن اسمحوا لي أن أوضح ما أعنيه.

00:17.170 --> 00:19.333
لنفترض أن لدينا متغيرًا "قيمًا مجمعة"

00:21.360 --> 00:24.200
وهذا المتغير افتراضيًا له نوع "أي". الآن كما تعلمت ، "أي" ليس مفيدًا.

00:24.200 --> 00:26.860
ما أريد فعله في النهاية هو ، أريد تعيين

00:26.860 --> 00:29.617
"قيم مجمعة" مساوية لـ "إضافة". لذلك أريد تخزين وظيفة "الإضافة" ،

00:29.617 --> 00:32.600
وهي مؤشر في وظيفة "الإضافة" هذه ، في "القيم

00:32.600 --> 00:35.330
المجمعة" بحيث يمكننا في النهاية التحكم

00:35.330 --> 00:37.430
في السجل ، ودمج القيم ، وتنفيذ

00:37.430 --> 00:39.160
"القيم المجمعة" كوظيفة

00:39.160 --> 00:41.580
لها 8 و 8.

00:41.580 --> 00:44.520
الآن إذا قمت بحفظ ذلك ، وقمت بتنفيذ

00:44.520 --> 00:47.480
هذا ، بعد تجميعه ، لذلك قمت بتجميع هذا

00:47.480 --> 00:51.150
الملف ثم تركنا هذا إعادة التحميل ، نحصل على

00:51.150 --> 00:52.130
16 هنا.

00:52.130 --> 00:54.660
لذلك ، هذا يعمل ، ونتوقع أن يعمل لأن هذا هو كود

00:54.660 --> 00:55.840
JavaScript عادي.

00:55.840 --> 00:58.820
يمكننا تخزين المؤشر في دالة ، في

00:58.820 --> 01:00.880
متغير رقم ، ثم يقوم العرض

01:00.880 --> 01:03.350
بتنفيذ هذا المتغير كدالة

01:03.350 --> 01:05.440
، لأنه يشير إلى الدالة

01:05.440 --> 01:07.300
، أليس كذلك؟

01:07.300 --> 01:08.580
لذلك يمكننا تنفيذ هذه الوظيفة من خلال هذا المتغير.

01:08.580 --> 01:09.910
المشكلة التي نواجهها

01:09.910 --> 01:13.250
مع هذا المقتطف هنا من منظور TypeScript ، هي أن

01:13.250 --> 01:15.900
"combinevalues" موجودة.

01:15.900 --> 01:19.640
لذلك إذا قمت بتعيين "قيم مجمعة" على رقم هنا بعد ذلك ، بالطبع

01:19.640 --> 01:20.670
، لا يمكننا تجميع

01:20.670 --> 01:24.520
هذا للأسف لأن TypeScript ليس لديه فرصة لاكتشاف أن هذا

01:24.520 --> 01:27.910
غير مرغوب فيه أو أن هذا قد يسبب مشكلة.

01:27.910 --> 01:30.543
لكن في وقت التشغيل ، سيحصل خطأ لأنه من

01:30.543 --> 01:34.230
الواضح أننا حاولنا تنفيذ "قيم مجمعة" كوظيفة ، عندما

01:34.230 --> 01:36.220
يكون في الواقع رقمًا.

01:36.220 --> 01:39.090
الآن نريد تجنب هذا ، ولهذا نحتاج إلى أن نكون

01:39.090 --> 01:42.080
واضحين أن "القيم المجمعة" ستشمل وظيفة.

01:42.080 --> 01:44.870
الآن الخطوة الأولى في هذا الاتجاه

01:44.870 --> 01:48.650
، هي أن نضع النوع هنا للعمل.

01:48.650 --> 01:50.550
الوظيفة هي نوع تم توفيره

01:50.550 --> 01:54.770
بواسطة TypeScript في النهاية ، وهذا يوضح أن كل ما

01:54.770 --> 01:57.940
نقوم بتخزينه هنا يجب أن يكون دالة.

01:57.940 --> 02:00.870
لذلك ، يظهر لي خطأ ، لأن الرقم 5 هو

02:00.870 --> 02:02.230
رقم وليس دالة.

02:02.230 --> 02:05.350
وإذا علقت على ذلك ، فيمكننا تجميع هذا ، وإلا فسنحصل

02:05.350 --> 02:06.660
على خطأ أثناء التجميع

02:06.660 --> 02:09.670
، والآن يتم تشغيله مرة أخرى كما هو متوقع.

02:09.670 --> 02:12.860
هذا جيد ، لكنه ليس مثاليًا لأننا نقول الآن

02:12.860 --> 02:15.380
أن هذه يجب أن تكون دالة ، ولكن يمكنها

02:15.380 --> 02:17.940
أيضًا تعيين "قيم مجمعة" تساوي "printResult"

02:17.940 --> 02:21.460
على سبيل المثال هنا.

02:21.460 --> 02:25.290
وبالطبع لن تشتكي TypeScript لأن "printResult"

02:25.290 --> 02:27.150
دالة ، لكنها بالطبع ليست

02:27.150 --> 02:29.600
وظيفة تتطلب وسيطين.

02:29.600 --> 02:32.620
لذا مرة أخرى إذا قمت بترجمة هذا ، فلن يشكو TypeScript.

02:32.620 --> 02:34.800
ولكن إذا أعدنا التحميل ، فإننا نرى غير محدد هنا والنتيجة 8.

02:34.800 --> 02:38.720
لذلك لا أحصل على النتيجة التي أريدها لأنني

02:38.720 --> 02:42.470
قمت بتخزين الوظيفة الخاطئة هناك.

02:42.470 --> 02:45.980
مرة أخرى ، سيكون من الجيد أن تخبرنا TypeScript

02:45.980 --> 02:47.350
عن ذلك.

02:47.350 --> 02:49.980
لا يمكن لـ TypeScript إبلاغنا بهذا لأن كل ما

02:49.980 --> 02:51.340
قلناه لـ TypeScript هو

02:51.340 --> 02:54.410
أننا نريد تخزين وظيفة هناك وهذا هو الحال بوضوح.

02:54.410 --> 02:58.040
لذلك سيكون من الجيد أن نكون أكثر دقة فيما يتعلق

02:58.040 --> 03:00.550
بالشكل الذي يجب أن تبدو عليه الوظيفة

03:00.550 --> 03:03.810
التي نريد تخزينها في "قيم مجمّعة". وهنا يأتي دور أنواع الوظائف.

03:03.810 --> 03:07.200
أنواع الوظائف هي أنواع تصف دالة تتعلق

03:07.200 --> 03:08.380
بالمعلمات وقيمة

03:08.380 --> 03:11.900
الإرجاع لتلك الوظيفة.

03:11.900 --> 03:15.690
يتم إنشاء نوع دالة باستخدام رمز وظيفة السهم هذا الذي

03:15.690 --> 03:18.360
تعرفه من JavaScript أو على الأقل بالقرب

03:18.360 --> 03:19.870
من هذا الترميز.

03:19.870 --> 03:23.710
لا تضيف أقواسًا متعرجة هنا لأننا لا ننشئ

03:23.710 --> 03:25.530
وظيفة سهم هنا ، ولكننا

03:25.530 --> 03:28.890
ننشئ نوع دالة بدلاً من ذلك.

03:28.890 --> 03:31.610
الآن على الجانب الأيمن من هذا السهم ، يمكنك تحديد نوع

03:31.610 --> 03:33.690
إرجاع الوظيفة التي تريد في النهاية أن تكون

03:33.690 --> 03:35.450
قادرًا على تخزينها هنا.

03:35.450 --> 03:37.180
يجب أن يكون هذا الرقم.

03:37.180 --> 03:40.840
الآن مع ذلك نقول ، "combinevalues" تقبل أي

03:40.840 --> 03:42.640
دالة لا تأخذ أي معلمات

03:42.640 --> 03:44.120
ثم ترجع رقمًا.

03:44.120 --> 03:47.200
الآن ، هذا بالطبع ليس ما نريده تمامًا.

03:47.200 --> 03:50.430
نريد التأكد من أن "combinevalues" تأخذ وظيفة أو أنها

03:50.430 --> 03:51.840
قادرة على تخزين الوظائف

03:51.840 --> 03:54.180
التي تأخذ رقمين وتعيد رقمًا.

03:54.180 --> 03:57.130
ولهذا يمكننا إضافة

03:57.130 --> 04:01.400
معلمات إلى نوع الوظيفة هذا.

04:01.400 --> 04:02.400
لا يتعين علينا مطابقة

04:02.400 --> 04:05.040
أسماء المعلمات من هناك ، فقط الأنواع.

04:05.040 --> 04:06.020
لذلك يمكننا الحصول

04:06.020 --> 04:09.060
على أي من النوع رقم و b والذي يجب أن يكون من النوع رقم.

04:09.060 --> 04:10.510
والآن ما نقوله لـ

04:10.510 --> 04:14.070
TypeScript هو أن "combinevalues" يجب

04:14.070 --> 04:15.660
أن تقبل أي دالة تأخذ

04:15.660 --> 04:18.322
معلمتين حيث يكون كل معلمة رقمًا

04:18.322 --> 04:22.930
، وحيث تقوم الوظيفة بشكل عام بإرجاع رقم.

04:22.930 --> 04:24.350
وهذا هو السبب في أن TypeScript

04:24.350 --> 04:27.780
لا تشكو من قيامنا بتخزين "add" في قيم مجمعة ، لأن "add" هي وظيفة

04:27.780 --> 04:29.690
ترضي تمامًا تعريف النوع هذا.

04:29.690 --> 04:33.380
لكنها تشتكي من "printResult" لأن "printResult"

04:33.380 --> 04:36.890
كما تخبرنا هنا ، هي دالة من وسيطة من

04:36.890 --> 04:40.632
النوع الأول وهي رقم ، ولا يتم إرجاع أي

04:40.632 --> 04:44.360
شيء ، حيث نتوقع في الواقع الحصول على

04:44.360 --> 04:48.690
دالة ذات وسيطتين حيث تكون كل وسيطة رقم ونرجع

04:48.690 --> 04:52.310
أيضًا رقمًا.

04:52.310 --> 04:55.810
لذلك لدينا عدم تطابق هنا ، وإذا كنت سأحاول

04:55.810 --> 04:58.700
تجميع هذا ، فسنحصل على خطأ هنا ، بالطبع

04:58.700 --> 05:00.480
، في المترجم ، ويمكننا

05:00.480 --> 05:03.440
فقط إصلاح هذا عن طريق إزالة هذا السطر

05:03.440 --> 05:06.270
من التعليمات البرمجية.

05:06.270 --> 05:07.110
الآن نحن قادرون على إعادة ترجمة هذا بدون أخطاء.

05:07.110 --> 05:10.930
والآن هذا يعمل كما هو متوقع.

05:10.930 --> 05:12.060
لذا ، تسمح لنا أنواع

05:12.060 --> 05:15.140
الوظائف بوصف نوع الوظيفة التي نريد استخدامها

05:15.140 --> 05:17.413
في مكان ما على وجه التحديد.

05:18.290 --> 05:20.887
سواء كانت هذه قيمة متوقعة في المعلمة

05:20.887 --> 05:23.890
، لإنشاء وظيفة مع بعض الاستدعاءات ، أو ، كما

05:23.890 --> 05:25.420
هو الحال هنا ، متغير.
