WEBVTT

00:02.140 --> 00:03.970
- ：所以在我们的应用程序｡  ts文件,

00:03.970 --> 00:08.100
我们需要在此处检查此表单提交｡

00:08.100 --> 00:10.800
为此, 我将创建一个表单常量,

00:10.800 --> 00:16.080
并使用文档查询选择器访问表单, 查询表单标记｡

00:16.080 --> 00:17.840
由于我们在整个文档中只有一个form标记,

00:17.840 --> 00:20.170
因此我们当然要获取它｡

00:21.150 --> 00:23.500
这就给了我们访问表单的权限｡ 

00:23.500 --> 00:26.163
在该窗体上, 我将添加一个事件侦听器｡ 

00:29.630 --> 00:31.873
我将侦听submit事件｡ 

00:33.290 --> 00:35.330
这个形式当然可以是null, 和往常一样,

00:35.330 --> 00:39.480
但是我们知道它不会是null, 所以我们可以在后面加上这个感叹号,

00:39.480 --> 00:42.850
告诉TypeScript它不会是null｡

00:42.850 --> 00:45.080
这里我们有一个事件侦听器,

00:45.080 --> 00:53.610
它将定义一个应该触发的函数, 比如说搜索地址处理函数｡

00:53.610 --> 00:58.160
并且每当提交此表单时都应触发此功能｡

00:58.160 --> 01:00.880
在这个函数中, 我们将得到事件对象,

01:00.880 --> 01:04.900
首先调用event prevent default.

01:04.900 --> 01:07.240
我们在这里给TypeScript一些提示,

01:07.240 --> 01:14.033
告诉它这是一个事件, 这样它就知道这里会存在这个防止默认命令｡

01:14.870 --> 01:17.440
这样, 我们就阻止了表单提交,

01:17.440 --> 01:23.630
确保没有请求被发送, 但现在我想访问用户输入的地址｡

01:23.630 --> 01:24.900
这应该不难,

01:24.900 --> 01:27.820
这里有一个输入, 它有一个地址,

01:27.820 --> 01:31.850
所以最后我们要得到输入的值.

01:31.850 --> 01:33.780
我们可以通过定义另一个常量address

01:33.780 --> 01:37.610
input来实现, 我们可以通过文档查询选择器来获取,

01:37.610 --> 01:43.210
或者通过ID来获取元素, 然后ID是address, 它是这个元素的签名,

01:44.050 --> 01:52.823
就像我们之前知道的那样, 它永远不会为空, 所以我们可以在这里添加这个感叹号｡

01:53.770 --> 02:00.370
这样, 我们就可以通过访问地址输入点值来获得输入的地址了,

02:00.370 --> 02:09.350
现在为什么TypeScript不喜欢这里的值呢？

02:09.350 --> 02:14.500
因为它不知道我们在这里获取的是一个html输入元素｡

02:14.500 --> 02:16.000
让我们告诉TypeScript｡ 

02:16.000 --> 02:20.820
让我们用这里的类型转换把它转换成一个html输入元素｡

02:20.820 --> 02:25.040
现在TypeScript不再抱怨这里的值访问,

02:25.040 --> 02:26.923
并给我们输入的地址｡

02:27.770 --> 02:34.180
现在我们需要将其发送到Google的API｡

02:34.180 --> 02:38.943
在下一节课中, 我们将借助其他第三方软件包来完成这一任务｡
