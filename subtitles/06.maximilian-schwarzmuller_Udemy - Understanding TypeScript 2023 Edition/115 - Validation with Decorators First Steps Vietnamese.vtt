WEBVTT

00:02.160 --> 00:04.860
Người thuyết trình: Vì vậy, bây giờ chúng ta đã thấy một ví dụ hay khác

00:04.860 --> 00:06.440
về cách chúng ta có thể làm việc với những

00:06.440 --> 00:09.040
người trang trí, có một ví dụ cuối cùng mà tôi muốn đi sâu vào.

00:09.040 --> 00:11.997
Và đó là trang trí để xác nhận.

00:11.997 --> 00:14.560
Vì vậy, ở dưới cùng của tệp,

00:14.560 --> 00:17.733
tôi sẽ thêm một lớp mới khác ở đây.

00:18.780 --> 00:20.530
Đó có thể là một khóa học.

00:20.530 --> 00:23.903
Bây giờ một khóa học nên có một tiêu đề, đó là một chuỗi.

00:25.430 --> 00:27.483
Và có thể là một mức giá, đó là một con số.

00:29.730 --> 00:32.640
Sau đó, ở đây chúng tôi có một hàm tạo nơi chúng tôi

00:32.640 --> 00:34.440
nhận cả hai giá trị ở đây và tôi cố

00:35.550 --> 00:37.780
tình không sử dụng phím tắt ở đây để tôi

00:37.780 --> 00:40.953
có thể dễ dàng thêm các trình trang trí thuộc tính.

00:42.690 --> 00:44.560
Sau đó, tôi đặt tiêu đề này

00:44.560 --> 00:46.653
bằng t và giá này bằng p.

00:47.990 --> 00:50.530
Bây giờ, tất nhiên bây giờ khi chúng ta muốn khởi tạo khóa học

00:50.530 --> 00:53.610
này, chúng ta phải chuyển vào một tiêu đề hợp lệ và một mức giá hợp lệ.

00:53.610 --> 00:56.730
Tuy nhiên, một tình huống phổ biến mà bạn có thể gặp

00:56.730 --> 00:59.630
phải trong một số ứng dụng là bạn tìm nạp dữ liệu,

00:59.630 --> 01:03.340
giả sử từ một tài nguyên web và bạn nhận được dữ liệu ở nơi mà

01:03.340 --> 01:05.854
bạn đoán là bạn có một vài khóa học, nhưng

01:05.854 --> 01:08.110
bạn không biết chắc chắn.

01:08.110 --> 01:12.839
Hoặc, một tình huống khác có thể xảy ra, bạn cho phép người dùng nhập dữ liệu và

01:12.839 --> 01:15.490
bạn chỉ muốn gán dữ liệu đó và đổi một khóa học

01:15.490 --> 01:18.370
mới với dữ liệu do người dùng nhập và bạn cho rằng

01:18.370 --> 01:21.280
điều đó đúng, nhưng bạn không được đảm bảo rằng điều

01:21.280 --> 01:22.500
đó đúng và do đó bạn muốn

01:22.500 --> 01:24.210
xác thực đầu vào.

01:24.210 --> 01:26.380
Đó là kịch bản tôi muốn giả mạo ở đây.

01:26.380 --> 01:29.940
Giả sử trong tệp html chỉ mục của chúng tôi, chúng tôi có một biểu

01:30.894 --> 01:32.840
mẫu đơn giản ở đây và tôi sẽ không tạo

01:32.840 --> 01:36.074
kiểu cho nó, vì vậy bây giờ nó sẽ đẹp như vậy, nhưng chúng tôi

01:36.074 --> 01:41.074
có một biểu mẫu đơn giản ở đây với đầu vào là văn bản loại và một trình giữ chỗ cho tiêu đề, rất

01:41.390 --> 01:44.620
tiếc , khóa học, tiêu đề và id của giả sử tiêu đề và bên dưới

01:44.620 --> 01:46.870
chúng tôi có một số đầu vào trong đó loại

01:46.870 --> 01:50.605
là tất cả văn bản, nhưng đó là giá khóa học và id là giá.

01:50.605 --> 01:55.030
Và sau đó chúng tôi có nút của chúng tôi nơi chúng tôi gửi cái này.

01:55.030 --> 02:00.030
Vì vậy, nút thuộc loại gửi.

02:00.040 --> 02:02.780
Vì vậy, một hình thức rất đơn giản và như tôi đã nói nó không

02:02.780 --> 02:04.280
đẹp lắm nếu chúng ta nhìn vào nó ở

02:04.280 --> 02:06.070
đây, nhưng nó có mọi thứ chúng ta cần.

02:06.070 --> 02:08.763
Bây giờ, hãy kết nối một người nghe với biểu mẫu ở đây.

02:09.830 --> 02:14.780
Vì vậy, ở đây tôi đã nhận được biểu mẫu khóa học của mình mà tôi có thể nhận được bằng tài liệu,

02:14.780 --> 02:18.840
querySelector, biểu mẫu và tôi thêm dấu chấm than vì tôi biết mình sẽ nhận được

02:18.840 --> 02:21.910
một biểu mẫu nên điều này sẽ không rỗng, và sau đó trên biểu

02:21.910 --> 02:25.050
mẫu, chúng ta có thể thêmEventListener, trình xử lý sự kiện

02:26.390 --> 02:29.300
gửi và sau đó chúng tôi nhận được đối tượng sự kiện được

02:29.300 --> 02:32.360
chuyển vào chức năng mà tôi đã chỉ định tự động.

02:32.360 --> 02:35.450
Ở đó, tôi muốn gọi sự kiện preventDefault để chúng tôi không

02:35.450 --> 02:38.030
gửi biểu mẫu và không gửi yêu cầu http nào.

02:38.030 --> 02:40.570
Và sau đó chúng tôi muốn trích xuất

02:40.570 --> 02:42.910
dữ liệu cho tiêu đề và giá cả.

02:42.910 --> 02:45.779
Vì vậy, tiêu đề có thể được trích xuất bằng cách

02:45.779 --> 02:49.700
liên hệ với tài liệu, querySelector hoặc thực tế là do chúng

02:49.700 --> 02:54.700
tôi đã chỉ định một id, getElementById, tiêu đề và chúng tôi biết rằng đây sẽ

02:55.560 --> 02:59.760
là một HTMLInputElement nên chúng tôi có thể sử dụng tính năng truyền

02:59.760 --> 03:01.700
kiểu chữ để cho bản đánh máy biết

03:01.700 --> 03:06.174
về điều này và giá là tài liệu, getElementById, giá và chúng ta cũng có

03:06.174 --> 03:09.672
thể chuyển đổi nó thành InputElement.

03:09.672 --> 03:11.320
Và tôi thực sự ở đó vì đây là những

03:11.320 --> 03:14.520
phần tử nên chúng ta sẽ đổi tên các hằng số thành titleEL và priceEl

03:14.520 --> 03:17.779
và để có được tiêu đề cụ thể, bây giờ chúng ta có thể truy cập titleEl,

03:17.779 --> 03:20.930
truy cập vào thuộc tính giá trị và để lấy giá, chúng ta có thể

03:20.930 --> 03:23.400
làm tương tự cho priceElement và nhận giá trị

03:23.400 --> 03:25.260
ở đó, và tôi muốn cộng dưới dạng một

03:25.260 --> 03:26.840
số, vì vậy tôi thêm dấu cộng vào

03:26.840 --> 03:30.060
trước nó để chuyển đổi nó thành một số.

03:30.060 --> 03:34.017
Vậy đó, nhưng bây giờ tôi muốn tạo khóa học

03:34.017 --> 03:36.090
mới với thông tin đó.

03:36.090 --> 03:39.060
Vì vậy, ở đây chúng tôi có khóa học đã tạo

03:39.060 --> 03:43.850
nơi tôi có thể gọi khóa học mới và tôi nhập tiêu đề và giá.

03:43.850 --> 03:46.770
Bây giờ Typescript chấp nhận điều này, bởi vì tiêu đề sẽ là một

03:46.770 --> 03:48.640
chuỗi và vì tôi chuyển đổi đầu vào này thành

03:48.640 --> 03:50.200
một số, giá sẽ là một số.

03:50.200 --> 03:54.160
Vì vậy, nếu sau đó tôi đăng nhập bảng điều khiển, khóa học được tạo sau đó, chúng tôi có thể kiểm tra

03:54.160 --> 03:55.530
xem điều này có hoạt động không.

03:55.530 --> 03:58.693
Hãy lưu nó, tải lại, có thể xóa bảng điều khiển để chúng

03:58.693 --> 04:00.680
ta có thể thấy rõ đầu ra, sau đó thêm

04:00.680 --> 04:02.400
một khóa học mới tại đây.

04:02.400 --> 04:05.785
Javascript hướng dẫn đầy đủ có giá 199 đô la

04:05.785 --> 04:08.010
và điều này có vẻ hiệu quả.

04:08.010 --> 04:11.010
Thật không may, điều này chỉ hoạt động nếu

04:11.010 --> 04:13.290
tôi không nhập bất cứ thứ gì.

04:13.290 --> 04:16.600
Nếu bây giờ tôi nhấp vào lưu, chúng tôi sẽ thấy khóa học này được tạo.

04:16.600 --> 04:19.820
Về mặt kỹ thuật, đây là một khóa học hợp lệ nhưng tất nhiên,

04:19.820 --> 04:23.121
nó không thực sự hợp lệ cho ứng dụng của chúng ta.

04:23.121 --> 04:26.220
Chúng tôi có thể muốn có một tiêu đề không

04:26.220 --> 04:28.620
trống và giá lớn hơn 0.

04:28.620 --> 04:30.660
Vì vậy, chúng tôi muốn thêm xác thực.

04:30.660 --> 04:32.670
Tất nhiên, chúng tôi có thể chỉ cần

04:32.670 --> 04:37.130
thêm dấu kiểm if ở đây và kiểm tra xem tiêu đề, phần cắt, độ dài có lớn hơn 0 hay không,

04:37.130 --> 04:38.830
có nghĩa là nó không trống và ở

04:38.830 --> 04:41.100
đó chúng tôi cũng xác thực giá.

04:41.100 --> 04:43.870
Nhưng điều đó có nghĩa là bất cứ khi nào chúng tôi tạo một

04:43.870 --> 04:47.880
khóa học mới, chúng tôi phải thêm logic xác thực tại đây trước khi thêm nó.

04:47.880 --> 04:49.990
Sẽ không hay sao nếu logic xác thực sẽ được

04:49.990 --> 04:51.910
đưa vào lớp khóa học, với sự trợ giúp của

04:51.910 --> 04:53.940
người trang trí, có thể phải không?

04:53.940 --> 04:56.770
Và đó chính xác là những gì tôi muốn làm ở đây.

04:56.770 --> 04:59.910
Bây giờ tôi sẽ chỉ cung cấp ý tưởng cơ bản về cách chúng

04:59.910 --> 05:01.447
ta có thể triển khai điều

05:01.447 --> 05:04.861
này, trong mô-đun tiếp theo, tôi sẽ cho bạn thấy một gói

05:04.861 --> 05:08.270
ví dụ thực hiện điều này theo cách phức tạp hơn và tất cả

05:08.270 --> 05:10.010
chúng ta sẽ sử dụng nó ở đó để

05:10.010 --> 05:12.080
tìm hiểu một chút về nó .

05:12.080 --> 05:14.530
Tuy nhiên, bây giờ ở đây tôi muốn thực hiện điều

05:14.530 --> 05:16.300
này với các công cụ trang trí của

05:16.300 --> 05:19.370
riêng mình và tôi sẽ thêm một công cụ trang trí cần thiết

05:19.370 --> 05:21.890
ở đây và chúng tôi sẽ thêm một chức năng trang

05:21.890 --> 05:24.433
trí khác mà tôi sẽ đặt tên là Số dương.

05:26.710 --> 05:28.510
Vì vậy, tôi có hai người trang trí ở đây.

05:28.510 --> 05:31.240
Và bây giờ ý tưởng của tôi là chúng ta có

05:31.240 --> 05:35.369
thể thêm chúng ở đây vào các thuộc tính của mình, ví dụ: Bắt

05:35.369 --> 05:40.369
buộc ở trước tiêu đề và Số dương ở trước giá và loại bản ghi đăng ký này

05:41.740 --> 05:44.020
ở đâu đó và sau đó chúng ta có chức

05:44.020 --> 05:49.020
năng thứ ba, xác thực để chúng ta có thể chuyển một đối tượng để bất kỳ

05:49.490 --> 05:54.490
đối tượng và bản đánh máy nào sau đó xem xét dự án, tìm thấy bất kỳ xác thực

05:55.120 --> 05:58.780
nào mà chúng tôi đã đăng ký trên lớp này cho đối tượng

05:58.780 --> 06:01.440
này trước đó và áp dụng logic xác thực

06:01.440 --> 06:03.410
của chúng tôi.

06:03.410 --> 06:05.480
Đó là ý tưởng tôi có ở đây.

06:05.480 --> 06:08.240
Vì vậy, đây có thể là một phần của thư viện bên thứ ba mà chúng

06:08.240 --> 06:11.170
tôi đang hiển thị cho bạn và sau đó bạn chỉ cần nhập số dương được

06:11.170 --> 06:14.620
yêu cầu và xác thực để thiết lập trình xác thực trước tiên và sau đó tại một

06:14.620 --> 06:16.750
thời điểm nào đó, hãy gọi xác thực.

06:16.750 --> 06:18.634
Vì vậy, ví dụ ở đây khi chúng

06:18.634 --> 06:22.462
tôi tạo khóa học, chúng tôi có thể gọi xác thực và chuyển

06:22.462 --> 06:31.660
vào createdCourse và nếu điều này không đúng, vì vậy hãy giả sử điều này sẽ trả về đúng hoặc sai, nếu điều này không đúng,

06:31.660 --> 06:35.040
thì chúng tôi đưa ra lỗi hoặc hiển thị một cảnh

06:35.040 --> 06:40.040
báo, đầu vào không hợp lệ, vui lòng thử lại và nếu không chúng tôi sẽ

06:41.100 --> 06:42.960
tiếp tục.

06:42.960 --> 06:43.870
Vì vậy, đó là ý tưởng của tôi.

06:43.870 --> 06:46.540
Điều đó chúng ta có thể gọi xác thực, điều này trả về đúng hoặc sai.

06:46.540 --> 06:48.793
Đúng nếu nó hợp lệ, sai nếu nó không hợp

06:48.793 --> 06:51.670
lệ và do đó chúng ta có thể sử dụng kết quả.

06:51.670 --> 06:53.730
Vì vậy, do đó chúng tôi có một số việc phải làm.

06:53.730 --> 06:56.290
Chúng tôi cần đảm bảo rằng khi chúng tôi thêm một trình

06:56.290 --> 06:59.350
trang trí ở đây, điều này bằng cách nào đó được lưu trữ ở đâu đó.

06:59.350 --> 07:00.970
Một lần nữa, hãy nhớ rằng đây

07:00.970 --> 07:02.950
có thể là một phần của thư viện bên thứ

07:02.950 --> 07:05.710
ba của riêng chúng tôi, vì vậy, trong đó chúng tôi

07:05.710 --> 07:10.050
có thể có một số loại lưu trữ lưu trữ cho lớp này và thuộc tính tiêu đề này chẳng

07:10.050 --> 07:12.480
hạn, chúng tôi muốn nó được yêu cầu.

07:12.480 --> 07:15.630
Và trong quá trình xác thực, sau đó chúng tôi có thể kiểm tra xem

07:15.630 --> 07:19.026
trong bộ lưu trữ cho đối tượng mà chúng tôi có, đối với lớp mà đối tượng

07:19.026 --> 07:21.990
dựa trên, chúng tôi có trình xác nhận đã đăng ký cho tiêu đề,

07:21.990 --> 07:23.330
cho giá, v.v.

07:23.330 --> 07:25.260
Và sau đó chúng tôi chạy logic xác thực của mình.

07:25.260 --> 07:26.453
Đó là ý tưởng của tôi ở đây.
