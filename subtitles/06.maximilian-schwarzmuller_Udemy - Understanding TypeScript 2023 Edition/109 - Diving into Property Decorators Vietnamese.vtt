WEBVTT

00:02.250 --> 00:05.050
Người hướng dẫn: Bây giờ trước khi chúng ta khám phá các trường hợp

00:05.050 --> 00:07.811
sử dụng hữu ích hơn hoặc một kịch bản cho một số người trang trí.

00:07.811 --> 00:10.700
Tôi muốn chỉ cho bạn một thời gian ngắn tất cả những nơi

00:10.700 --> 00:12.550
khác mà bạn có thể thêm trang trí.

00:12.550 --> 00:15.670
Rõ ràng là chúng ta có thể thêm các công cụ trang trí vào các lớp nhưng

00:15.670 --> 00:17.731
có nhiều nơi chúng ta có thể thêm chúng hơn.

00:17.731 --> 00:20.750
Để làm được điều đó, tôi sẽ tạo một lớp mới, vì chúng ta cần một lớp cho bất

00:20.750 --> 00:22.460
kỳ công cụ trang trí nào mà chúng tôi muốn

00:22.460 --> 00:24.580
sử dụng, nhưng chúng tôi không phải thêm trực tiếp

00:24.580 --> 00:26.420
tất cả các công cụ trang trí vào lớp.

00:26.420 --> 00:28.480
Giả sử chúng ta có một lớp sản

00:28.480 --> 00:31.523
phẩm ở đây và trong lớp sản phẩm, có thể chúng

00:31.523 --> 00:34.540
ta có một tiêu đề, đó là một chuỗi.

00:34.540 --> 00:37.070
Và chúng ta có thể gán một giá trị ở đây với hàm tạo.

00:37.070 --> 00:39.600
Tất nhiên, chúng ta luôn có thể sử dụng phím tắt và thực

00:39.600 --> 00:41.570
hiện tất cả trong một bước trong hàm tạo như

00:41.570 --> 00:42.680
bạn đã học trước đó.

00:42.680 --> 00:44.451
Ở đây tôi sẽ đi con đường dài hơn.

00:44.451 --> 00:49.451
Chúng tôi có thể có một phương pháp ở đây, nhận giá với thuế.

00:50.150 --> 00:53.442
Vì vậy, tôi hy vọng sẽ nhận được một mức thuế là một con số và

00:53.442 --> 00:57.150
để điều đó hoạt động, chúng ta cũng nên lưu trữ một mức giá ở đây.

00:57.150 --> 01:01.200
Thuộc tính giá mà chúng tôi cũng nhận được như một phần của hàm tạo.

01:01.200 --> 01:04.060
Một lần nữa, chúng ta có thể sử dụng phím tắt ở đây, nhưng

01:04.060 --> 01:05.340
tôi sẽ làm như thế này.

01:05.340 --> 01:08.120
Và sau đó trong phương thức này,

01:08.120 --> 01:13.120
tôi sẽ trả về, This. giá nhân một cộng với thuế.

01:13.200 --> 01:15.300
Vì vậy, chúng tôi có phương thức tiện

01:15.300 --> 01:17.610
ích này và chúng tôi cũng có thể thêm getter

01:17.610 --> 01:19.090
và setter nếu bạn muốn.

01:19.090 --> 01:22.700
Ví dụ: chúng tôi có thể thêm một trình thiết lập giá ở đây, nơi chúng tôi

01:22.700 --> 01:25.850
nhận giá trị phải là một số và nơi chúng tôi kiểm soát rằng chúng

01:25.850 --> 01:28.231
tôi chỉ có thể đặt một số giá trị nhất định.

01:28.231 --> 01:32.090
Bây giờ để làm cho điều này hoạt động, tôi sẽ đặt tên lại giá ở đây, để

01:32.090 --> 01:35.350
gạch dưới giá và đặt nó ở chế độ riêng tư để chúng tôi không

01:35.350 --> 01:37.540
thể truy cập trực tiếp vào giá đó.

01:37.540 --> 01:39.970
Và ở đây tôi sẽ đặt giá gạch dưới này và

01:39.970 --> 01:42.580
ở đây tôi sẽ sử dụng giá gạch dưới này.

01:42.580 --> 01:44.800
Và với những thay đổi này trong setter, chúng

01:44.800 --> 01:48.350
tôi có thể đặt giá gạch dưới này bằng với giá trị mà chúng tôi nhận được.

01:48.350 --> 01:51.290
Nhưng trước khi làm như vậy, chúng tôi có thể kiểm

01:51.290 --> 01:52.770
tra xem giá trị có lớn hơn

01:52.770 --> 01:55.630
0 không để chúng tôi không chấp nhận giá âm.

01:55.630 --> 01:57.220
Vì vậy, với điều đó, chúng tôi chỉ đặt

01:57.220 --> 02:00.159
giá nếu nó lớn hơn 0, nếu không, chúng tôi sẽ không làm gì cả.

02:00.159 --> 02:04.330
Thật vậy, chúng tôi có thể đưa ra một lỗi trong trường hợp khác.

02:04.330 --> 02:08.389
Giá không hợp lệ phải là giá dương.

02:08.389 --> 02:11.350
Vì vậy, đó là điều chúng ta có thể làm, bây giờ chúng

02:11.350 --> 02:14.020
ta có một lớp có hai thuộc tính, với một bộ truy

02:14.020 --> 02:16.700
cập và cả phương thức ở đây và phương thức này

02:16.700 --> 02:18.570
có một tham số.

02:18.570 --> 02:21.180
Bây giờ với tất cả những thứ này, chúng ta có thể thêm

02:21.180 --> 02:24.690
các công cụ trang trí và hãy bắt đầu với một người bạn cũ tốt, một công

02:24.690 --> 02:25.910
cụ trang trí nhật ký.

02:25.910 --> 02:28.960
Ở đây tôi sẽ đặt tên nó là log để không xung đột với logger trên đó, bởi

02:28.960 --> 02:30.650
vì trình trang trí nhật ký này, sẽ không

02:30.650 --> 02:31.960
được thêm vào một lớp và do đó

02:31.960 --> 02:33.770
nó sẽ nhận các đối số khác nhau.

02:33.770 --> 02:35.671
Tuy nhiên, nó sẽ nhận được các đối

02:35.671 --> 02:38.580
số và trình trang trí đối số nào nhận được, tùy thuộc

02:38.580 --> 02:40.030
vào nơi bạn thêm nó.

02:40.030 --> 02:41.960
Đó là lý do tại sao tôi không thể sử dụng lại

02:41.960 --> 02:45.700
trình ghi nhật ký, vì điều đó đã được tinh chỉnh để chỉ hoạt động với các lớp.

02:45.700 --> 02:48.100
Bây giờ ở đây tôi thực sự không có một nhà máy trang

02:48.100 --> 02:49.980
trí, tôi chỉ phải trang trí một chức năng

02:49.980 --> 02:53.510
như thế này, tuy nhiên, chức năng trang trí này nhận được đối số nào, tùy thuộc

02:53.510 --> 02:55.230
vào nơi chúng ta sử dụng nó.

02:55.230 --> 02:58.750
Ví dụ: chúng ta có thể thêm một trình trang trí vào một thuộc tính.

02:58.750 --> 03:01.120
Ở đây tôi có thể thêm nhật ký như thế này và nếu bạn

03:01.120 --> 03:03.840
thêm một công cụ trang trí vào một thuộc tính, công cụ

03:03.840 --> 03:05.759
trang trí sẽ nhận được hai đối số.

03:05.759 --> 03:09.830
Đối số đầu tiên, là mục tiêu của thuộc tính và đối với một thuộc

03:09.830 --> 03:12.010
tính thể hiện như thế này, mà chúng

03:12.010 --> 03:15.290
tôi gọi trên một thể hiện nếu bạn làm việc với nó.

03:15.290 --> 03:19.490
Đây sẽ là nguyên mẫu của đối tượng đã được tạo.

03:19.490 --> 03:22.140
Nếu chúng ta có một thuộc tính tĩnh ở đây, mục

03:22.140 --> 03:24.850
tiêu sẽ đề cập đến trạng thái của hàm tạo.

03:24.850 --> 03:27.770
Vì vậy, ở đây tôi sẽ nói bất kỳ vì tôi không biết chính

03:27.770 --> 03:30.140
xác đối tượng sẽ có cấu trúc nào.

03:30.140 --> 03:35.140
Đối số thứ hai chúng tôi nhận được, đơn giản là tên thuộc tính.

03:35.290 --> 03:37.682
Đó có thể là một chuỗi ở đây, tất

03:37.682 --> 03:40.400
nhiên cũng có thể là một ký hiệu.

03:40.400 --> 03:43.470
Chúng tôi không biết những gì chúng tôi sử dụng làm định danh tài sản.

03:43.470 --> 03:48.037
Và sau đó ở đây tôi sẽ ghi nhật ký trang trí thuộc tính, để chúng ta

03:49.130 --> 03:51.120
có thể biết khi nào nó chạy và

03:51.120 --> 03:55.980
tôi muốn có một bảng điều khiển. mục tiêu log và cả tên thuộc tính.

03:55.980 --> 03:57.780
Vì vậy, chúng tôi thấy những gì trong hai giá trị này.

03:57.780 --> 04:01.280
Với điều đó, nếu chúng ta lưu để nó biên dịch không có lỗi và nếu

04:01.280 --> 04:03.080
chúng ta truy cập máy chủ của mình,

04:03.080 --> 04:06.871
chúng ta sẽ thấy, trình trang trí thuộc tính sẽ được in ở đó.

04:06.871 --> 04:08.630
Và đây là đầu ra của chúng tôi, chúng tôi nhận được.

04:08.630 --> 04:13.220
Chúng tôi thấy ở đây đó là nguyên mẫu của đối tượng của chúng tôi vì chúng

04:13.220 --> 04:15.850
tôi không thấy tiêu đề và giá ở đây.

04:15.850 --> 04:18.160
Nhưng chúng tôi thấy giá có thuế và các phương

04:18.160 --> 04:19.770
thức thực sự được đăng ký trên

04:19.770 --> 04:21.900
nguyên mẫu của một đối tượng.

04:21.900 --> 04:24.240
Vì vậy, đó là nguyên mẫu của đối tượng của chúng

04:24.240 --> 04:26.640
tôi và chúng tôi thấy tiêu đề ở đây bên phải, đó là

04:26.640 --> 04:28.943
tên thuộc tính mà chúng tôi đang làm việc.

04:29.800 --> 04:33.770
Bây giờ chính xác thì khi nào bộ ghi này thực thi?

04:33.770 --> 04:37.880
Như bạn có thể nói, vì tôi chưa bao giờ khởi tạo bất kỳ sản phẩm

04:37.880 --> 04:41.670
nào, về cơ bản, nó sẽ thực thi khi định nghĩa lớp của bạn

04:41.670 --> 04:43.980
được đăng ký bởi JavaScript.

04:43.980 --> 04:47.660
Vì vậy, nó thực thi khi bạn định nghĩa thuộc tính này về cơ

04:47.660 --> 04:49.140
bản là JavaScript, như

04:49.140 --> 04:50.960
một phần của lớp của bạn ở đây,

04:50.960 --> 04:52.970
như một phần của hàm tạo này.

04:52.970 --> 04:54.610
Mà được tạo ra ở đây cuối cùng.

04:54.610 --> 04:58.053
Đây là khi trình trang trí thuộc tính này thực thi.
