WEBVTT

00:02.320 --> 00:03.570
ผู้สอน: เพื่อให้ดรอปได้

00:03.570 --> 00:07.730
เราต้องไปที่ส่วนคำสั่งหรือส่วนประกอบในแอปพลิเคชันของเรา

00:07.730 --> 00:11.600
ซึ่งในท้ายที่สุดควรทำหน้าที่เป็นเป้าหมายลาก

00:11.600 --> 00:14.120
ดังนั้นที่นี่คลาสรายการโครงการคือส่วนคำสั่งที่ถูกต้อง

00:14.120 --> 00:17.150
และที่นั่นเราสามารถใช้อินเทอร์เฟซที่สองของเราซึ่งเราได้เพิ่มเข้าไป

00:17.150 --> 00:20.130
อินเทอร์เฟซลากเป้าหมาย

00:20.130 --> 00:26.510
เช่นเดียวกับอินเทอร์เฟซที่ลากได้ สิ่งนี้บังคับให้เราต้องเพิ่มวิธีการบางอย่าง

00:26.510 --> 00:30.600
เพื่อความแม่นยำ เราจำเป็นต้องเพิ่มตัวจัดการการลากเหนือตัวจัดการการเลื่อน

00:30.600 --> 00:33.500
และตัวจัดการการลาก

00:33.500 --> 00:34.540
มาทำกันเถอะ

00:34.540 --> 00:38.640
อาจจะอยู่ที่นี่ด้านล่างตัวสร้างด้านบนกำหนดค่า

00:38.640 --> 00:40.080
สถานที่ที่แน่นอนขึ้นอยู่กับคุณ

00:40.080 --> 00:42.880
ลำดับของวิธีการไม่สำคัญ

00:42.880 --> 00:49.730
ดังนั้นที่นี่ฉันจะเพิ่มตัวจัดการการลากซึ่งเราได้เหตุการณ์การลากของเรา

00:49.730 --> 00:51.850
จากนั้นฉันจะเพิ่มตัวจัดการการเลื่อนที่นี่

00:51.850 --> 00:54.203
ซึ่งเราได้รับเหตุการณ์การลากด้วย

00:55.710 --> 00:59.130
และสุดท้ายแต่ไม่ท้ายสุด ตัวจัดการการลางานแบบลาก

00:59.130 --> 01:02.260
ซึ่งเราได้รับเหตุการณ์การลากด้วย

01:02.260 --> 01:05.410
ตอนนี้ เหตุการณ์เหล่านี้ เก็บข้อมูลประเภทต่างๆ

01:05.410 --> 01:08.594
กัน แต่ทั้งหมดอิงตามประเภทเหตุการณ์หลักของเคส

01:08.594 --> 01:11.860
ตอนนี้เราได้สองสิ่งที่ต้องทำ

01:11.860 --> 01:15.120
เริ่มกันที่การลากผ่านตัวจัดการ

01:15.120 --> 01:18.770
ในตัวจัดการแบบลากผ่าน ฉันต้องการเปลี่ยนลักษณะที่ปรากฏของกล่องของฉันหรือของรายการที่ไม่เรียงลำดับในนั้น

01:18.770 --> 01:24.470
เพื่อให้เห็นภาพว่านี่คือพื้นที่ที่ดรอปได้

01:24.470 --> 01:26.960
เพราะตอนนี้เมื่อเราลากองค์ประกอบต่างๆ

01:26.960 --> 01:30.200
ไปรอบๆ เราไม่รู้ว่าเราจะวางมันตรงไหนได้ใช่ไหม

01:30.200 --> 01:33.410
ไม่มีอะไรเปลี่ยนแปลงใน UI ดังนั้นฉันต้องการเปลี่ยนสิ่งนี้

01:33.410 --> 01:35.950
หากต้องการเปลี่ยนสิ่งนี้ ฉันจะเพิ่ม css css บางอย่างลงในรายการที่ไม่เรียงลำดับ

01:35.950 --> 01:38.680
ซึ่งคุณพบในแอป css

01:38.680 --> 01:42.080
droppable clause ซึ่งจะเปลี่ยนสีพื้นหลัง ดังนั้น

01:42.080 --> 01:49.070
ในการเริ่มต้น เราเพียงแค่ต้องเข้าถึงองค์ประกอบรายการที่ไม่เรียงลำดับของเรา

01:49.070 --> 01:53.850
เราสามารถทำได้โดยการเข้าถึงองค์ประกอบนี้, querySelectror uL และเพิ่มเครื่องหมายอัศเจรีย์

01:53.850 --> 01:57.380
เนื่องจากจะมีรายการที่ไม่เรียงลำดับอยู่ที่นั่นเสมอ

01:57.380 --> 02:00.963
แม้ว่าจะยังไม่มีองค์ประกอบก็ตาม

02:02.560 --> 02:05.570
เราเพียงแค่ต้องแน่ใจว่าคำสำคัญนี้ทำงานที่นี่

02:05.570 --> 02:12.840
และเราสามารถทำได้โดยการผูกคำนี้โดยอัตโนมัติเพื่อให้แน่ใจว่าคำหลักนี้เชื่อมโยงกับอนุประโยคที่อยู่รอบๆ

02:12.840 --> 02:15.610
จากนั้นเมื่อเลือกองค์ประกอบรายการ เราสามารถใช้คุณสมบัติรายการส่วนคำสั่งขององค์ประกอบ

02:15.610 --> 02:27.540
dom ดังนั้นนี่คือวานิลลา JavaScript ที่นี่อีกครั้ง และเรียกวิธีการเพิ่มที่นั่นเพื่อเพิ่มส่วนคำสั่งแบบเลื่อนได้

02:27.540 --> 02:29.360
ในตอนนี้ แน่นอนว่าเราต้องแน่ใจว่า

02:29.360 --> 02:33.000
dragOverHandler นั้นทำงานจริงเมื่อเราลากบางสิ่งไปบนองค์ประกอบนี้ที่นี่

02:33.000 --> 02:37.333
บนส่วนที่แสดงผลนี้

02:39.090 --> 02:42.400
ในการทำเช่นนั้นในวิธีการกำหนดค่า โดยที่เรามีหนึ่งผู้ฟังอยู่แล้วที่นี่

02:42.400 --> 02:50.280
การฟังการเปลี่ยนแปลงสถานะของเรา ฉันจะลงทะเบียนผู้ฟังในองค์ประกอบด้วย

02:50.280 --> 02:53.380
แน่นอนว่า EventListener ตัวแรกที่มีก็คือการลากผ่านเหตุการณ์

02:53.380 --> 02:54.760
และฉันจะผูกมันเข้ากับ

02:54.760 --> 02:58.090
dragOverHandler อย่างน่าประหลาดใจ

02:58.090 --> 03:01.060
จากนั้นฉันจะทำซ้ำเพราะฉันต้องการฟังเหตุการณ์

03:01.060 --> 03:03.740
dragLeave และผูกสิ่งนี้กับ dragLeaveHandler

03:03.740 --> 03:06.870
และกับ drop เหตุการณ์และผูกสิ่งนี้กับ dropHandler

03:06.870 --> 03:10.583
เพราะเราจะต้องใช้ในภายหลัง

03:11.580 --> 03:16.500
ด้วยเหตุนี้ เราจึงได้เชื่อมต่อตัวฟังเหตุการณ์และลากโอเวอร์แฮนเลอร์

03:16.500 --> 03:21.780
แต่ตอนนี้เราพบข้อผิดพลาดในโค้ดด้วย

03:21.780 --> 03:24.610
นั่นควรเป็นออบเจกต์เหตุการณ์ที่ไม่ได้ใช้ที่นี่

03:24.610 --> 03:27.430
ดังนั้นในขณะนี้ เพื่อให้เป็นไปตาม typescript

03:27.430 --> 03:28.810
เรามาเว้นว่างไว้

03:28.810 --> 03:31.477
เราจะต้องใช้มันในภายหลัง แต่สำหรับตอนนี้ เพื่อทำให้งานนี้ว่างเปล่า

03:31.477 --> 03:33.690
โดยการใช้เครื่องหมายขีดล่างที่นี่เพื่อบอก

03:33.690 --> 03:37.670
typescript ว่า "เราโอเคที่จะไม่ใช้มันในตอนนี้

03:37.670 --> 03:37.670
ตอนนี้คอมไพล์และกลับมาที่โปรเจ็กต์แล้ว

03:38.950 --> 03:42.910
เมื่อเราเพิ่มโปรเจ็กต์ใหม่ที่นี่ และฉันลากนี่ คุณจะเห็นว่าเมื่อฉันลากสิ่งนี้ไปทับโปรเจ็กต์ที่เสร็จแล้ว

03:42.910 --> 03:45.320
พื้นหลังที่นี่จะเป็นสีฟ้าอ่อน

03:45.320 --> 03:49.620
ในโปรเจกต์ที่ใช้งานอยู่ มันมีสีกุหลาบอ่อนๆ

03:49.620 --> 03:53.270
เหมือนสีชมพูเล็กน้อย

03:53.270 --> 03:58.650
เพื่อแสดงอีกครั้ง ถ้าฉันโหลดซ้ำ คุณจะเห็นว่าตอนนี้เรามีพื้นหลังสีขาวในโครงการ

03:58.650 --> 04:06.490
อ๊ะ อ๊ะ และทันทีที่ฉันเริ่มลาก นี่จะกลายเป็นพื้นหลังสีชมพูอ่อน และเมื่อฉันลากไปเหนือโครงการที่เสร็จแล้ว พื้นหลังกล่องจะเปลี่ยนไป

04:06.490 --> 04:09.470
เป็นสีฟ้าอ่อน

04:09.470 --> 04:13.360
ตอนนี้มันจะไม่เปลี่ยนกลับไปเป็นสีขาวแล้ว เพราะเราไม่เคยลบ droppable

04:13.360 --> 04:16.050
clause นั้นออกไป แต่มันเป็นก้าวแรก

04:16.050 --> 04:19.480
แน่นอนว่าการลดลงยังคงใช้ไม่ได้

04:19.480 --> 04:23.890
วางที่นี่ไม่ได้เพิ่มโครงการเพราะจะทำอย่างไร

04:23.890 --> 04:25.300
เรายังไม่ได้เพิ่มตรรกะใดๆ สำหรับสิ่งนี้

04:25.300 --> 04:28.200
ดังนั้น อย่าลืมอัปเดตสไตล์เมื่อเราหยุด

04:28.200 --> 04:33.200
เมื่อออกจากองค์ประกอบ

04:33.410 --> 04:36.390
เมื่อเราลากมันไปตรงนี้แล้วจากไป

04:36.390 --> 04:39.670
ตรวจสอบให้แน่ใจว่าพื้นหลังสีน้ำเงินหายไปในกรณีนั้น

04:39.670 --> 04:42.640
นั่นคือสิ่งที่ฉันต้องการทำต่อไป

04:42.640 --> 04:44.870
เพื่อที่เราสามารถใช้ dragLeaverHandler

04:44.870 --> 04:50.990
ที่นี่ได้ เพราะนั่นจะทำงานเมื่อใดก็ตามที่เราปล่อยให้องค์ประกอบนี้อยู่กับองค์ประกอบที่ลากของเรา

04:50.990 --> 04:53.019
แน่นอนว่าตอนนี้ฉันต้องการเข้าถึงรายการที่ไม่เรียงลำดับด้วย

04:53.019 --> 04:57.550
ดังนั้นฉันจะคัดลอกโค้ดนั้น แต่จากนั้น ฉันต้องการลบส่วนคำสั่ง

04:57.550 --> 05:01.420
droppable

05:01.420 --> 05:11.220
ตอนนี้เราควรผูกสิ่งนี้โดยอัตโนมัติเพื่อให้คำหลักที่นี่อ้างถึงอนุประโยคที่อยู่โดยรอบ

05:11.220 --> 05:13.120
ถ้าเราบันทึก เราจะเพิ่มองค์ประกอบใหม่ที่นี่

05:14.040 --> 05:17.740
มาลองกัน

05:17.740 --> 05:18.773
ถ้าฉันเริ่มลาก คุณจะเห็นว่าเรามีภูมิหลังของเราอยู่ที่นี่

05:20.310 --> 05:23.740
และถ้าฉันออกไป มันก็จะหายไป

05:24.610 --> 05:27.120
ตอนนี้พื้นหลังได้รับการปรับปรุงแล้วจริงๆ

05:27.120 --> 05:29.930
คุณเห็นการกะพริบที่นี่เนื่องจากเหตุการณ์

05:29.930 --> 05:37.190
dragLeave จะเริ่มทำงานเช่นกันหากคุณเปลี่ยนจากการให้เคอร์เซอร์ของเมาส์อยู่เหนือพื้นหลังเป็นวางเหนือองค์ประกอบที่แสดงผล

05:37.190 --> 05:40.960
แต่นั่นน่าจะใช้ได้ที่นี่

05:40.960 --> 05:42.500
มันไม่ใช่เรื่องใหญ่ที่นี่

05:42.500 --> 05:43.620
อันที่จริงแล้ว เราได้รับผลตามที่ต้องการแล้ว ฉันจะบอกว่า

05:43.620 --> 05:47.320
ดังนั้น UI จึงได้รับการอัปเดตอย่างที่ควรจะเป็นในตอนนี้

05:47.320 --> 05:50.950
แต่แน่นอนว่าเราไม่สามารถทิ้งหรือถ่ายโอนข้อมูลจริงๆ

05:50.950 --> 05:54.700
ได้ ดังนั้นจะเป็นขั้นตอนต่อไป
