WEBVTT
1

00:00:00.390  -->  00:00:04.950
Hi and will come back in this video we are looking to see if the user is already logged in.

2

00:00:05.130  -->  00:00:10.200
Before we asked them to authorize us into it let's go into our apt on P wine.

3

00:00:10.290  -->  00:00:16.430
And once again look at why we want to do this when the user arrives at our home page.

4

00:00:16.650  -->  00:00:21.840
We ask them to log in with Twitter and when they do they get instantly redirected to Twitter dot com

5

00:00:21.870  -->  00:00:23.220
for verification.

6

00:00:23.220  -->  00:00:27.250
Then we get the verifier and we have the access token you know all that stuff.

7

00:00:27.780  -->  00:00:35.160
However if they are already logged in it will be nice if they didn't have to re authorize our app if

8

00:00:35.160  -->  00:00:38.230
they were just redirected to the profile.

9

00:00:39.060  -->  00:00:45.890
So the first question to ask is how do we know if a user is already logged in or not.

10

00:00:45.900  -->  00:00:52.070
Well it's simply if the screen name is in the session we know they are logged in.

11

00:00:53.250  -->  00:00:56.210
What do we want to do if they are logged in.

12

00:00:56.280  -->  00:00:58.540
Redirect them to the profile page.

13

00:00:59.210  -->  00:00:59.740
OK.

14

00:00:59.790  -->  00:01:02.150
So then we can just write the code for that really.

15

00:01:02.680  -->  00:01:04.020
Inside the Twitter log.

16

00:01:04.050  -->  00:01:10.050
Once they press the button we want to see if they are already logged in just redirect them to the profile

17

00:01:10.050  -->  00:01:10.520
.

18

00:01:10.530  -->  00:01:11.710
So how would you do that.

19

00:01:11.970  -->  00:01:13.730
I would encourage you to attempt that now

20

00:01:17.480  -->  00:01:29.460
and I'm sure you managed is if screen name in session then will return a redirect to the you URL for

21

00:01:29.640  -->  00:01:36.380
our profile and then mummer that's the method name not the end point.

22

00:01:37.230  -->  00:01:39.540
We are loading dot user above.

23

00:01:39.570  -->  00:01:42.210
So we don't have to worry about that user.

24

00:01:42.480  -->  00:01:47.100
We just have to redirect them to the profile and a flask and what we've already written will do the

25

00:01:47.100  -->  00:01:50.200
rest.

26

00:01:50.220  -->  00:01:55.010
So now we can try that out and you'll be redirected to that profile automatically.

27

00:01:55.380  -->  00:02:02.490
Let's press play which I'm going to I just have to stop that and restart the app and then go into the

28

00:02:02.490  -->  00:02:06.980
page press logon with Twitter instantly redirected to my profile.

29

00:02:07.260  -->  00:02:10.110
And that is my name then.

30

00:02:10.530  -->  00:02:16.830
So I no longer have to go on re-authorize the app because I've already authorized it which is great

31

00:02:16.830  -->  00:02:18.240
.

32

00:02:18.330  -->  00:02:19.470
So that's everything for this video.

33

00:02:19.470  -->  00:02:25.120
Just a quick video showing you how you might go about doing something when you thought about it previously

34

00:02:25.120  -->  00:02:25.740
.

35

00:02:25.980  -->  00:02:28.380
If we are logged in we want to go to the profile shall we.

36

00:02:28.390  -->  00:02:33.450
The only thing we have to do really is figure that out in terms of our code and our process and then

37

00:02:33.450  -->  00:02:35.580
put that in the appropriate place.

38

00:02:36.030  -->  00:02:39.370
Without further ado I'll see you in the very next video.
