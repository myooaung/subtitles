WEBVTT

00:04.500 --> 00:10.650
We've changed the edit page to use PDA and our new article class next.

00:10.770 --> 00:16.350
Let's change the delete article page.

00:16.350 --> 00:23.620
The first thing we do in the delete script is to get the article based on the I.D. in the query string.

00:23.810 --> 00:31.300
We're doing exactly the same thing in the edit script only now using the new database and Article crassus.

00:31.530 --> 00:33.580
So let's copy this code.

00:35.890 --> 00:39.770
And we place the equivalent code in the delete script.

00:43.490 --> 00:45.190
Like that.

00:47.060 --> 00:54.410
Then when the farm is submitted were calling this code to delete the rijkaard.

00:54.410 --> 00:57.770
Let's add a method to the particle class to do this instead

01:00.470 --> 01:01.710
called delete.

01:01.790 --> 01:06.750
And this will be a public method so we can call it on an object instance.

01:08.790 --> 01:12.990
We're doing something similar to the Update method.

01:13.140 --> 01:19.740
So let's start by copying this code leaving out the validation code

01:23.220 --> 01:27.810
and pasting it in our new method.

01:28.950 --> 01:34.350
Then we'll change the esky well to delete the rijkaard instead.

01:35.610 --> 01:42.790
And we only need to bind the D parameter so we can delete these others.

01:45.040 --> 01:47.460
Like that.

01:47.460 --> 01:52.760
As with the update method we need to pass in the database connection.

01:53.250 --> 01:59.910
And finally let's add a comment block like that.

01:59.910 --> 02:04.750
Then we can replace this code in the delete articles script.

02:09.420 --> 02:11.640
With a call to the new method.

02:13.860 --> 02:16.640
And we can remove this Else block too.

02:20.170 --> 02:26.530
One more thing we need to do is change this line where we're accessing the idea of the article for the

02:26.530 --> 02:31.760
cancell link as before instead of accessing this as an array element.

02:31.780 --> 02:36.280
This is now an object property like that.

02:39.420 --> 02:41.100
Let's give that a try.

02:41.130 --> 02:45.720
If I click undelete we get the confirmation prompts.

02:45.720 --> 02:50.440
First let's check the cancell link works and it does.

02:51.120 --> 02:58.170
And if I do really want to delete this rijkaard The record is deleted and we redirected back to the

02:58.170 --> 03:00.210
index page as before.
