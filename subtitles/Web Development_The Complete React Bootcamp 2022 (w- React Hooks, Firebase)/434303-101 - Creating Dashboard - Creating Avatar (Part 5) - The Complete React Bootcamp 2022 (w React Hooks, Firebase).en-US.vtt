WEBVTT
X-TIMESTAMP-MAP=LOCAL:00:00:00.000,MPEGTS:0

00:00:00.000 --> 00:00:01.030
Hey,

00:00:01.030 --> 00:00:01.600
in this video,

00:00:01.600 --> 00:00:03.920
we will continue to build dashboard,

00:00:03.920 --> 00:00:09.990
and we're going to start off our management with user profile avatars.

00:00:09.990 --> 00:00:16.130
So in this video we will create a button and we will be able to select an image from our PC

00:00:16.130 --> 00:00:22.050
that then we will upload to fire base and use as our avatar image.

00:00:22.050 --> 00:00:22.980
Let's go.

00:00:22.980 --> 00:00:23.830
So first,

00:00:23.830 --> 00:00:26.110
let's create a new file on their dashboard.

00:00:26.110 --> 00:00:30.860
That trouble name of a car applaud Bt in.

00:00:30.860 --> 00:00:33.330
Then let's create an empty component.

00:00:33.330 --> 00:00:34.060
For now,

00:00:34.060 --> 00:00:38.150
let's put hello inside than in Index GS,

00:00:38.150 --> 00:00:41.360
which is our dashboard right after edible input.

00:00:41.360 --> 00:00:45.510
Let's reference avatar upload Bt in like this.

00:00:45.510 --> 00:00:46.230
Okay,

00:00:46.230 --> 00:00:46.580
good.

00:00:46.580 --> 00:00:49.200
Now let's start building our component.

00:00:49.200 --> 00:00:53.680
So our upper element is going to be a development for class name.

00:00:53.680 --> 00:00:57.000
We will give it a little bit off margin at the chop,

00:00:57.000 --> 00:00:58.660
which is going to be empty three.

00:00:58.660 --> 00:01:01.750
And then we want to keep everything centered.

00:01:01.750 --> 00:01:03.580
That's why we put Tax center.

00:01:03.580 --> 00:01:04.430
All right,

00:01:04.430 --> 00:01:08.750
then we're needs to specify input off file type,

00:01:08.750 --> 00:01:14.050
but we don't want to use the native one because it looks not the best way.

00:01:14.050 --> 00:01:15.250
So for now,

00:01:15.250 --> 00:01:18.160
let's just keep it as text And maybe if you want to,

00:01:18.160 --> 00:01:18.990
you can change it.

00:01:18.990 --> 00:01:19.520
To do so.

00:01:19.520 --> 00:01:21.830
We need to put a dif over here.

00:01:21.830 --> 00:01:25.000
Then let's specify label insight.

00:01:25.000 --> 00:01:26.290
And inside this label,

00:01:26.290 --> 00:01:32.790
we're gonna put select new Avatar and also next to this text inside label.

00:01:32.790 --> 00:01:35.200
We're gonna put in put off type file,

00:01:35.200 --> 00:01:37.620
but we're going to give it display off none.

00:01:37.620 --> 00:01:40.260
So we actually click on this text.

00:01:40.260 --> 00:01:40.850
However,

00:01:40.850 --> 00:01:41.720
at the same time,

00:01:41.720 --> 00:01:43.180
we click on this input.

00:01:43.180 --> 00:01:48.080
So let's pour in port off type file like that.

00:01:48.080 --> 00:01:48.780
And also,

00:01:48.780 --> 00:01:50.760
let's give it class name off,

00:01:50.760 --> 00:01:51.850
display none.

00:01:51.850 --> 00:01:56.860
And we have this warning on label saying that it must be associated with the control.

00:01:56.860 --> 00:01:58.970
So for this input,

00:01:58.970 --> 00:02:02.800
let's define an idea something like Al Atar upload.

00:02:02.800 --> 00:02:07.750
And let's give this idea to html four for dis label.

00:02:07.750 --> 00:02:11.210
So HTM of four is going to be avatar.

00:02:11.210 --> 00:02:12.120
Applaud.

00:02:12.120 --> 00:02:12.730
All right.

00:02:12.730 --> 00:02:14.700
Also for this label,

00:02:14.700 --> 00:02:18.420
we're gonna give class name off this play block.

00:02:18.420 --> 00:02:19.070
Also,

00:02:19.070 --> 00:02:22.350
it is going to be coarser pointer,

00:02:22.350 --> 00:02:26.350
and it is going to be a little bit padded like this.

00:02:26.350 --> 00:02:26.960
All right,

00:02:26.960 --> 00:02:27.920
let's check it out.

00:02:27.920 --> 00:02:28.410
Now.

00:02:28.410 --> 00:02:30.510
If I go to dashboard,

00:02:30.510 --> 00:02:31.440
it looks nice.

00:02:31.440 --> 00:02:33.220
Now we have this button.

00:02:33.220 --> 00:02:34.470
So when we click on it,

00:02:34.470 --> 00:02:36.140
we can actually select files.

00:02:36.140 --> 00:02:39.950
Let's make it this way that we can select only images over here.

00:02:39.950 --> 00:02:41.660
So for this input,

00:02:41.660 --> 00:02:43.250
we're gonna put another prop,

00:02:43.250 --> 00:02:44.000
which is,

00:02:44.000 --> 00:02:48.570
except and it is going to be a string off accepted file types.

00:02:48.570 --> 00:02:52.980
But let's specify this file types outside of the component.

00:02:52.980 --> 00:02:54.320
So in the future,

00:02:54.320 --> 00:02:57.590
it is easier to navigate inside this component.

00:02:57.590 --> 00:02:59.850
Let's tie file import types,

00:02:59.850 --> 00:03:05.830
and it is going to be as drink off file types referenced by comma.

00:03:05.830 --> 00:03:14.450
So first we gonna accept PNG files than J PAC files and also J pack off this extension.

00:03:14.450 --> 00:03:15.230
All right,

00:03:15.230 --> 00:03:17.250
so for this except prop,

00:03:17.250 --> 00:03:23.250
we're going to pass file import types and we are ready to go Now let's check it out.

00:03:23.250 --> 00:03:24.840
If we click on it here,

00:03:24.840 --> 00:03:27.480
we can see P and G and J back files.

00:03:27.480 --> 00:03:28.200
All right.

00:03:28.200 --> 00:03:28.900
Looks good.

00:03:28.900 --> 00:03:29.410
Now,

00:03:29.410 --> 00:03:32.000
what will be our next step?

00:03:32.000 --> 00:03:33.590
So when we select an image,

00:03:33.590 --> 00:03:35.960
we want a new model to be opened,

00:03:35.960 --> 00:03:37.300
and inside this mortal,

00:03:37.300 --> 00:03:39.000
we're going to see the preview.

00:03:39.000 --> 00:03:41.810
So we need to define the motor of Indo.

00:03:41.810 --> 00:03:42.690
So here,

00:03:42.690 --> 00:03:46.870
next to label we're gonna use model element from our suit.

00:03:46.870 --> 00:03:49.030
And inside this model,

00:03:49.030 --> 00:03:54.390
we're going to put model dot Heather than next to it.

00:03:54.390 --> 00:03:59.340
We will have body and also footer like this.

00:03:59.340 --> 00:04:00.300
So for model,

00:04:00.300 --> 00:04:02.780
we need to specify show property.

00:04:02.780 --> 00:04:09.750
It is a bullet that indicates whether it is open or not than on height handler when this

00:04:09.750 --> 00:04:10.790
model is closed.

00:04:10.790 --> 00:04:13.730
So we need to use our own custom.

00:04:13.730 --> 00:04:18.830
Hope that we created earlier use mortal state to actually get those values.

00:04:18.830 --> 00:04:20.490
So let's import it.

00:04:20.490 --> 00:04:24.060
And let's D structure is open,

00:04:24.060 --> 00:04:26.280
open and close.

00:04:26.280 --> 00:04:28.670
So for on height event,

00:04:28.670 --> 00:04:34.480
we are going to call Close Handler and for show we will specify is open.

00:04:34.480 --> 00:04:36.490
So inside Moto Heather,

00:04:36.490 --> 00:04:44.780
we're going to port model dot title So this title is going to be a just and applaud Maybe

00:04:44.780 --> 00:04:45.520
like this,

00:04:45.520 --> 00:04:51.390
applaud new avatar and let's remove this title at the bottom over here.

00:04:51.390 --> 00:04:52.860
Then inside body.

00:04:52.860 --> 00:04:54.900
We're going to specify something else.

00:04:54.900 --> 00:04:56.040
And inside footer,

00:04:56.040 --> 00:05:00.160
we're gonna put a bottom that will actually upload our avatar.

00:05:00.160 --> 00:05:07.440
So let's type applaud New Avatar and for these buttons will specify appearance.

00:05:07.440 --> 00:05:09.240
Let's say ghost,

00:05:09.240 --> 00:05:16.890
and also we will give it with off 100 by specifying that it is going to be a block element

00:05:16.890 --> 00:05:16.890
.

00:05:16.890 --> 00:05:17.430
All right,

00:05:17.430 --> 00:05:18.710
so now,

00:05:18.710 --> 00:05:19.320
as you can see,

00:05:19.320 --> 00:05:22.780
we don't have any trigger to actually open our moto.

00:05:22.780 --> 00:05:25.420
We need to somehow determined when we select the file.

00:05:25.420 --> 00:05:26.420
So for this,

00:05:26.420 --> 00:05:30.800
we're going to use on change event available on import off type file.

00:05:30.800 --> 00:05:32.890
So let's pacify own change.

00:05:32.890 --> 00:05:34.410
And for this one change,

00:05:34.410 --> 00:05:40.690
we're going to create a function which we will name on file input change.

00:05:40.690 --> 00:05:41.660
All right,

00:05:41.660 --> 00:05:42.200
now,

00:05:42.200 --> 00:05:48.970
let's created here at the top and this function because it is a handler for an event.

00:05:48.970 --> 00:05:51.780
This function receives an event object.

00:05:51.780 --> 00:05:52.580
All right,

00:05:52.580 --> 00:05:57.300
so this event object will have target and under target.

00:05:57.300 --> 00:06:01.600
We will be able to access actual files that we select,

00:06:01.600 --> 00:06:04.600
and it always comes as an array off files.

00:06:04.600 --> 00:06:11.200
So let's put current files under even target files.

00:06:11.200 --> 00:06:14.070
So since it is going to be always an array,

00:06:14.070 --> 00:06:17.210
we need to check that we select only one file.

00:06:17.210 --> 00:06:18.430
So let's check.

00:06:18.430 --> 00:06:22.790
If current files that length is equal to one,

00:06:22.790 --> 00:06:25.380
then we're going to apply our logic.

00:06:25.380 --> 00:06:29.380
So let's first grab our first element from the array.

00:06:29.380 --> 00:06:30.950
So let's put file,

00:06:30.950 --> 00:06:35.400
and we're gonna put current files and reference the first element.

00:06:35.400 --> 00:06:41.150
Then we need to actually check if the file that we select is the valid file,

00:06:41.150 --> 00:06:43.940
because it doesn't matter what we specify.

00:06:43.940 --> 00:06:44.800
Over here.

00:06:44.800 --> 00:06:48.470
I can look for any file and change it to all files,

00:06:48.470 --> 00:06:51.250
and then I can buy May steak upload,

00:06:51.250 --> 00:06:52.400
Let's say adjacent.

00:06:52.400 --> 00:06:56.160
So we want to check if this file is actually an image.

00:06:56.160 --> 00:06:57.800
So here at the top,

00:06:57.800 --> 00:07:02.570
let's specify mean types that are accessible by us.

00:07:02.570 --> 00:07:03.280
For that,

00:07:03.280 --> 00:07:05.040
let's specify any available,

00:07:05.040 --> 00:07:05.710
Let's say,

00:07:05.710 --> 00:07:08.520
accepted file types.

00:07:08.520 --> 00:07:12.800
So here we were going to specify an array off strings.

00:07:12.800 --> 00:07:13.810
So first,

00:07:13.810 --> 00:07:17.860
our beam type is going to be image slash p and G.

00:07:17.860 --> 00:07:21.740
Then we will have image slash j pack.

00:07:21.740 --> 00:07:23.530
So if I'm not wrong,

00:07:23.530 --> 00:07:25.370
it is the correct one.

00:07:25.370 --> 00:07:30.520
And also we are going to have image slash p j pack.

00:07:30.520 --> 00:07:31.390
All right,

00:07:31.390 --> 00:07:31.750
Good.

00:07:31.750 --> 00:07:39.480
Now we need to create a helper function that will check if this file satisfies array off

00:07:39.480 --> 00:07:40.250
mean types.

00:07:40.250 --> 00:07:43.070
So if our file type is one of them,

00:07:43.070 --> 00:07:49.770
so we're going to create a new helper function which will name is valid file and it will

00:07:49.770 --> 00:07:51.850
receive file as an argument,

00:07:51.850 --> 00:07:55.960
and it is going to check file type against those values.

00:07:55.960 --> 00:08:02.460
So we simply going to check accepted file types Includes file daughter type.

00:08:02.460 --> 00:08:03.190
All right,

00:08:03.190 --> 00:08:05.650
so it will return a Boolean value.

00:08:05.650 --> 00:08:06.490
All right,

00:08:06.490 --> 00:08:07.690
so now here,

00:08:07.690 --> 00:08:08.410
inside.

00:08:08.410 --> 00:08:08.710
Ah,

00:08:08.710 --> 00:08:09.930
were handler.

00:08:09.930 --> 00:08:14.640
We can actually ask if we're gonna ask if is valid,

00:08:14.640 --> 00:08:16.870
file our file,

00:08:16.870 --> 00:08:18.950
then we gonna do something.

00:08:18.950 --> 00:08:23.020
Otherwise we're gonna show an error to user that.

00:08:23.020 --> 00:08:23.300
Oh,

00:08:23.300 --> 00:08:23.730
boy,

00:08:23.730 --> 00:08:25.730
you selected the wrong file time.

00:08:25.730 --> 00:08:27.420
So let's put alert.

00:08:27.420 --> 00:08:29.310
Then we're gonna put warning,

00:08:29.310 --> 00:08:30.250
not an error,

00:08:30.250 --> 00:08:32.170
and we're gonna specify,

00:08:32.170 --> 00:08:35.000
maybe wrong file type,

00:08:35.000 --> 00:08:39.370
and then let's poor file daughter type like this,

00:08:39.370 --> 00:08:42.580
and let's specify four seconds.

00:08:42.580 --> 00:08:43.200
All right,

00:08:43.200 --> 00:08:46.570
so what we're going to do when we have the valid file?

00:08:46.570 --> 00:08:47.590
First of all,

00:08:47.590 --> 00:08:50.360
we actually gonna open our motile window.

00:08:50.360 --> 00:08:52.290
But right before we open it,

00:08:52.290 --> 00:08:56.780
we need to somehow set our image that we applaud.

00:08:56.780 --> 00:08:57.580
So for this,

00:08:57.580 --> 00:08:59.250
we will create a new state.

00:08:59.250 --> 00:09:02.380
So let's create a new state with use state,

00:09:02.380 --> 00:09:03.490
which we will name.

00:09:03.490 --> 00:09:08.190
Let's say just image and set image by default.

00:09:08.190 --> 00:09:10.070
It will be set to now.

00:09:10.070 --> 00:09:13.540
But when we have developed image selected.

00:09:13.540 --> 00:09:15.260
We're gonna call set image,

00:09:15.260 --> 00:09:18.940
and we're gonna put file as our state like this.

00:09:18.940 --> 00:09:19.620
All right,

00:09:19.620 --> 00:09:20.080
Now,

00:09:20.080 --> 00:09:20.980
let's check it out.

00:09:20.980 --> 00:09:23.170
So if I go to dashboard,

00:09:23.170 --> 00:09:24.990
if I select new avatar,

00:09:24.990 --> 00:09:26.850
if I upload an image,

00:09:26.850 --> 00:09:27.500
all right,

00:09:27.500 --> 00:09:28.500
Motile opens.

00:09:28.500 --> 00:09:29.030
Now,

00:09:29.030 --> 00:09:31.040
let's do the same thing.

00:09:31.040 --> 00:09:33.270
But let's select Jason file.

00:09:33.270 --> 00:09:34.850
If I click open,

00:09:34.850 --> 00:09:37.500
I have wrong file type application,

00:09:37.500 --> 00:09:38.080
Jason.

00:09:38.080 --> 00:09:40.410
So it actually worked.

00:09:40.410 --> 00:09:41.220
All right?

00:09:41.220 --> 00:09:41.680
Now,

00:09:41.680 --> 00:09:43.360
what will be our next step?

00:09:43.360 --> 00:09:47.900
Our next step is to show the preview and adjust the image.

00:09:47.900 --> 00:09:49.450
So how we're able to do that,

00:09:49.450 --> 00:09:56.310
we will use react avatar editor package that comes from an PM I really like this mini

00:09:56.310 --> 00:09:57.020
package.

00:09:57.020 --> 00:10:01.210
It gives us an opportunity to customize the uploaded image.

00:10:01.210 --> 00:10:04.590
We are not going to dive into too much details,

00:10:04.590 --> 00:10:09.280
but we will just able to scale our image to need it size.

00:10:09.280 --> 00:10:10.170
So first,

00:10:10.170 --> 00:10:11.270
let's install it.

00:10:11.270 --> 00:10:15.630
So I'm gonna open my terminal and from here,

00:10:15.630 --> 00:10:17.810
which I have another All right,

00:10:17.810 --> 00:10:18.440
that's fine.

00:10:18.440 --> 00:10:22.140
I'm gonna npm install react avatar,

00:10:22.140 --> 00:10:26.460
editor And let's wait until it is actually installed or right.

00:10:26.460 --> 00:10:29.150
Seems like our package has been installed.

00:10:29.150 --> 00:10:31.540
Let's rerun the AP and P.

00:10:31.540 --> 00:10:32.130
M Run,

00:10:32.130 --> 00:10:36.130
start and let's see how we can actually use this package.

00:10:36.130 --> 00:10:39.780
So let me copy the import command.

00:10:39.780 --> 00:10:42.120
Let me put it here at the top.

00:10:42.120 --> 00:10:44.240
And as you can see,

00:10:44.240 --> 00:10:46.580
I need to use this component like that.

00:10:46.580 --> 00:10:48.260
So let's copy this.

00:10:48.260 --> 00:10:54.790
Let's copy this component than inside our code for model body.

00:10:54.790 --> 00:10:57.090
We're going to specify this component,

00:10:57.090 --> 00:10:57.580
but first,

00:10:57.580 --> 00:11:01.580
we're gonna check if we have our image defined inside the state.

00:11:01.580 --> 00:11:03.940
So let's poor image.

00:11:03.940 --> 00:11:04.910
If we have image,

00:11:04.910 --> 00:11:09.890
we're gonna display this about our editor component and for image.

00:11:09.890 --> 00:11:17.110
We're going to specify our file that we have US state for With and Height Mobile limited to

00:11:17.110 --> 00:11:17.930
200.

00:11:17.930 --> 00:11:19.270
Then for border,

00:11:19.270 --> 00:11:20.490
we will put let's say,

00:11:20.490 --> 00:11:21.340
only 10.

00:11:21.340 --> 00:11:27.770
And this is that border by edges than we don't need color.

00:11:27.770 --> 00:11:29.300
We don't need scale,

00:11:29.300 --> 00:11:31.000
but we need border radius.

00:11:31.000 --> 00:11:33.150
We want to make it circled.

00:11:33.150 --> 00:11:36.480
So we're going to specify border radios 100.

00:11:36.480 --> 00:11:37.060
All right,

00:11:37.060 --> 00:11:37.650
now,

00:11:37.650 --> 00:11:38.720
let's check it out.

00:11:38.720 --> 00:11:43.780
If I refresh the page than I click on model Select new Avatar.

00:11:43.780 --> 00:11:46.990
If I click on this car and hit open now,

00:11:46.990 --> 00:11:49.690
I can see that I have this Converse element,

00:11:49.690 --> 00:11:51.400
which is this package.

00:11:51.400 --> 00:11:54.950
And now I'm able to add it my image a little bit.

00:11:54.950 --> 00:11:55.560
All right,

00:11:55.560 --> 00:11:56.500
so it looks good,

00:11:56.500 --> 00:11:57.930
but it does not center.

00:11:57.930 --> 00:12:04.010
It means that we need to add additional market for this image for this avatar editor.

00:12:04.010 --> 00:12:07.390
Let's put another def around it like this.

00:12:07.390 --> 00:12:08.700
And for this def.

00:12:08.700 --> 00:12:10.630
Let's specify display flex.

00:12:10.630 --> 00:12:12.940
So we're gonna put the display flex.

00:12:12.940 --> 00:12:14.460
Justify,

00:12:14.460 --> 00:12:15.120
let's say,

00:12:15.120 --> 00:12:15.930
center,

00:12:15.930 --> 00:12:22.570
align items center and let's put it full height like this.

00:12:22.570 --> 00:12:23.000
Now,

00:12:23.000 --> 00:12:24.300
if I had a fresh,

00:12:24.300 --> 00:12:25.700
let's check it out.

00:12:25.700 --> 00:12:27.490
Let me select an image again.

00:12:27.490 --> 00:12:28.340
But still,

00:12:28.340 --> 00:12:31.230
it doesn't look good because it's not justified.

00:12:31.230 --> 00:12:31.880
Center.

00:12:31.880 --> 00:12:34.700
It's justified Content center.

00:12:34.700 --> 00:12:35.040
Now,

00:12:35.040 --> 00:12:35.950
let me try.

00:12:35.950 --> 00:12:37.400
Select New Avatar.

00:12:37.400 --> 00:12:38.310
All right,

00:12:38.310 --> 00:12:39.150
now looks good.

00:12:39.150 --> 00:12:40.270
It is centered.

00:12:40.270 --> 00:12:40.580
Okay,

00:12:40.580 --> 00:12:43.440
so I guess this is it for this video,

00:12:43.440 --> 00:12:46.480
and our next step will be to actually upload the image.

00:12:46.480 --> 00:12:50.550
But it is going to be the topic for our next video on this step.

00:12:50.550 --> 00:12:53.600
Let's commit our changes and finish this video.

00:12:53.600 --> 00:12:58.190
So we're gonna add everything to this stage state that we're gonna get commit,

00:12:58.190 --> 00:13:01.240
and we're going to put let's say,

00:13:01.240 --> 00:13:05.630
started to work with user avatar.

00:13:05.630 --> 00:13:06.280
Applaud.

00:13:06.280 --> 00:13:07.990
All right.

00:13:07.990 --> 00:13:08.540
Looks good.

00:13:08.540 --> 00:13:09.760
See you in the next one.

