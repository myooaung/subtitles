WEBVTT
X-TIMESTAMP-MAP=LOCAL:00:00:00.000,MPEGTS:0

00:00:00.000 --> 00:00:02.270
hello In this video,

00:00:02.270 --> 00:00:07.000
I want to quickly explain the flow for sending a notification.

00:00:07.000 --> 00:00:08.180
First of all,

00:00:08.180 --> 00:00:08.830
in the data,

00:00:08.830 --> 00:00:09.240
please.

00:00:09.240 --> 00:00:13.860
For every room there will be another field called FC M users.

00:00:13.860 --> 00:00:18.580
It will be in Rafe user ideas that will receive notifications on the back.

00:00:18.580 --> 00:00:24.350
And we will create a cloud function that will call from our chat application as an admin

00:00:24.350 --> 00:00:25.560
two definition,

00:00:25.560 --> 00:00:31.680
along with request we will send from mighty name and notification message.

00:00:31.680 --> 00:00:32.470
Then,

00:00:32.470 --> 00:00:34.010
using Crew my D,

00:00:34.010 --> 00:00:39.250
we will get user ID's that receive notifications using their ideas.

00:00:39.250 --> 00:00:46.180
We will query their device tokens and then send a notification using the's tokens before we

00:00:46.180 --> 00:00:46.740
start.

00:00:46.740 --> 00:00:51.110
I just want to point out that there are three different types of cloud functions.

00:00:51.110 --> 00:00:58.320
Gullible on request and triggers on request functions have its own euro send in a request.

00:00:58.320 --> 00:01:01.850
Using the euro is the only way to access the function.

00:01:01.850 --> 00:01:05.340
Call a bowel Functions also have their own neural,

00:01:05.340 --> 00:01:07.890
but in firebase client as decay,

00:01:07.890 --> 00:01:09.720
the one that we use in the browser,

00:01:09.720 --> 00:01:13.810
there is a special method to call this type of function by its name,

00:01:13.810 --> 00:01:21.010
not by euro and also callable functions automatically parse and validate user JWT tokens.

00:01:21.010 --> 00:01:25.040
Firebase uses JWT tokens to authorize users,

00:01:25.040 --> 00:01:27.000
and we don't deal with them directly.

00:01:27.000 --> 00:01:29.990
Trigger functions don't have their own neural,

00:01:29.990 --> 00:01:36.160
and they respond on Lee two different database document events such as own create on update

00:01:36.160 --> 00:01:37.250
and owned Illit.

00:01:37.250 --> 00:01:41.520
We could specify that every time a document is created on that path,

00:01:41.520 --> 00:01:43.960
this cloud function will run have ever.

00:01:43.960 --> 00:01:44.710
In our case,

00:01:44.710 --> 00:01:47.870
we only need one type of functions gullible,

00:01:47.870 --> 00:01:51.280
easy to access and user off his protest for us.

00:01:51.280 --> 00:01:52.070
Now,

00:01:52.070 --> 00:01:54.580
you have better idea what we're gonna do.

00:01:54.580 --> 00:01:56.190
See you in the next one.

