WEBVTT
X-TIMESTAMP-MAP=LOCAL:00:00:00.000,MPEGTS:0

00:00:00.000 --> 00:00:00.850
Hey,

00:00:00.850 --> 00:00:02.170
welcome in this video.

00:00:02.170 --> 00:00:07.790
We're going to add new bottom billow dashboard that will love us to create a new chat room

00:00:07.790 --> 00:00:07.790
.

00:00:07.790 --> 00:00:08.540
Let's go.

00:00:08.540 --> 00:00:11.770
Let's navigate back to code and other components.

00:00:11.770 --> 00:00:19.190
We're going to create new file that we will name Create room bt n motile Don't.

00:00:19.190 --> 00:00:19.650
Yes,

00:00:19.650 --> 00:00:22.790
Let's go full This component for now.

00:00:22.790 --> 00:00:27.040
Let it be just hello and let's actually use it inside.

00:00:27.040 --> 00:00:31.010
Inside our sidebar Let's open sidebar.

00:00:31.010 --> 00:00:33.790
And here below dashboard Tuggle,

00:00:33.790 --> 00:00:36.540
we're gonna put create room Bt and Moto.

00:00:36.540 --> 00:00:37.300
All right,

00:00:37.300 --> 00:00:39.930
now let's not engage to disk opponent.

00:00:39.930 --> 00:00:45.570
And here we're gonna define a button that will open a model window with form inside that we

00:00:45.570 --> 00:00:48.550
will fill to actually create a chat room.

00:00:48.550 --> 00:00:50.870
So it is going to be all right,

00:00:50.870 --> 00:00:52.330
maybe a diff component.

00:00:52.330 --> 00:00:58.770
So inside we're gonna put button which will be our tuggle to open the bottle window.

00:00:58.770 --> 00:01:01.150
So we're gonna put I can in sight.

00:01:01.150 --> 00:01:05.950
So this I can will have icon off may be creative,

00:01:05.950 --> 00:01:11.460
and the text is going to be creating new chat room.

00:01:11.460 --> 00:01:12.090
All right,

00:01:12.090 --> 00:01:19.310
so this button is going to be a block elements it will have color green and on click we're

00:01:19.310 --> 00:01:19.760
going,

00:01:19.760 --> 00:01:20.210
Teoh,

00:01:20.210 --> 00:01:21.500
open our moto.

00:01:21.500 --> 00:01:26.380
So let's actually use our custom hook to manage mortal state.

00:01:26.380 --> 00:01:31.220
So this hook is used Model state from here begun,

00:01:31.220 --> 00:01:33.220
infrastructure is open,

00:01:33.220 --> 00:01:35.400
open and then close.

00:01:35.400 --> 00:01:37.230
And for button click,

00:01:37.230 --> 00:01:39.240
We're going to pour open.

00:01:39.240 --> 00:01:39.900
All right,

00:01:39.900 --> 00:01:40.340
now,

00:01:40.340 --> 00:01:42.450
let's define our motile window.

00:01:42.450 --> 00:01:45.820
So let's put model element from our suit.

00:01:45.820 --> 00:01:46.710
We will have,

00:01:46.710 --> 00:01:47.510
as always,

00:01:47.510 --> 00:01:48.800
mortal Heather.

00:01:48.800 --> 00:01:51.050
Then we're gonna have body and falter.

00:01:51.050 --> 00:01:51.720
All right,

00:01:51.720 --> 00:01:52.170
good.

00:01:52.170 --> 00:01:53.700
So inside Heather,

00:01:53.700 --> 00:01:56.140
we're gonna put title more.

00:01:56.140 --> 00:01:58.660
They'll dot title and inside.

00:01:58.660 --> 00:02:05.180
We're gonna put something like new chat room and let's remove this idol from here.

00:02:05.180 --> 00:02:05.920
All right,

00:02:05.920 --> 00:02:06.850
Inside body,

00:02:06.850 --> 00:02:10.490
we are going to define the form and inside foot,

00:02:10.490 --> 00:02:12.790
or we're gonna put button to submit the form.

00:02:12.790 --> 00:02:15.150
So let's first create the button.

00:02:15.150 --> 00:02:18.500
So it is going to be a button element.

00:02:18.500 --> 00:02:20.550
It is going to be blocked.

00:02:20.550 --> 00:02:24.950
Component and appearance is going to be primary.

00:02:24.950 --> 00:02:25.530
Okay,

00:02:25.530 --> 00:02:26.330
I guess.

00:02:26.330 --> 00:02:28.800
Appearance set to primary by default.

00:02:28.800 --> 00:02:30.940
But let's just keep it as it is.

00:02:30.940 --> 00:02:31.590
All right?

00:02:31.590 --> 00:02:34.470
Create new chat room.

00:02:34.470 --> 00:02:37.280
Now let's save it and let's see,

00:02:37.280 --> 00:02:38.020
What do we have?

00:02:38.020 --> 00:02:40.510
So now we have this create new chat room,

00:02:40.510 --> 00:02:41.550
have ever.

00:02:41.550 --> 00:02:43.850
We don't have the margin,

00:02:43.850 --> 00:02:45.170
so let's at some.

00:02:45.170 --> 00:02:46.490
So for this stiff,

00:02:46.490 --> 00:02:51.250
let's put class name and let's add margin top two.

00:02:51.250 --> 00:02:52.350
All right.

00:02:52.350 --> 00:02:57.010
Looks good now inside this body were going to define our form.

00:02:57.010 --> 00:02:59.920
So let's poor form element from our suit.

00:02:59.920 --> 00:03:01.030
And inside this born,

00:03:01.030 --> 00:03:03.450
we're going to define our input elements,

00:03:03.450 --> 00:03:07.280
and they are grouped under formed group components.

00:03:07.280 --> 00:03:10.840
So let's poor form group and inside this form.

00:03:10.840 --> 00:03:13.540
But open will have first Control label.

00:03:13.540 --> 00:03:16.330
And then we're going to put form control,

00:03:16.330 --> 00:03:19.450
which is going to be the actual import itself.

00:03:19.450 --> 00:03:21.580
Let's perform like this.

00:03:21.580 --> 00:03:23.940
So inside Control label,

00:03:23.940 --> 00:03:30.640
we are going to port room name at first and form control is going to be name,

00:03:30.640 --> 00:03:31.450
name,

00:03:31.450 --> 00:03:39.440
and placeholder is going to be a placeholder is going to be something like enter chat room

00:03:39.440 --> 00:03:40.880
name and three ducks,

00:03:40.880 --> 00:03:45.680
and it is going to be a self close component because it is an input.

00:03:45.680 --> 00:03:46.090
All right,

00:03:46.090 --> 00:03:48.060
so if I hover in this form group,

00:03:48.060 --> 00:03:50.060
it say's it does not define,

00:03:50.060 --> 00:03:52.750
so let's import it from our suit.

00:03:52.750 --> 00:03:53.350
All right,

00:03:53.350 --> 00:03:55.940
then let's define our second input.

00:03:55.940 --> 00:03:57.670
Let's say would actually and see,

00:03:57.670 --> 00:03:58.560
what do we have.

00:03:58.560 --> 00:04:01.560
So if we're gonna click on create new chatroom,

00:04:01.560 --> 00:04:07.730
nothing is going to happen because we didn't specify show prop for motile window.

00:04:07.730 --> 00:04:10.390
So let's put is open and on height,

00:04:10.390 --> 00:04:12.830
we're going to put clothes handler.

00:04:12.830 --> 00:04:13.270
All right,

00:04:13.270 --> 00:04:13.890
looks good.

00:04:13.890 --> 00:04:18.560
Now let's check it out and I see that we added a lot off space over here.

00:04:18.560 --> 00:04:22.640
So let's poor margin top one all right now it is.

00:04:22.640 --> 00:04:23.260
Okay,

00:04:23.260 --> 00:04:24.280
let's open it.

00:04:24.280 --> 00:04:27.760
And here we can see that we have our input,

00:04:27.760 --> 00:04:30.540
but it is a little bit off,

00:04:30.540 --> 00:04:31.730
not full with.

00:04:31.730 --> 00:04:33.550
So let's quickly fix it.

00:04:33.550 --> 00:04:35.530
And four days form elements.

00:04:35.530 --> 00:04:41.560
We will make it so it it will make it take all with off the wrapper element.

00:04:41.560 --> 00:04:42.130
All right,

00:04:42.130 --> 00:04:42.780
looks good.

00:04:42.780 --> 00:04:46.560
Now let's move on and let's create second Foreign Group,

00:04:46.560 --> 00:04:49.050
which is going to be room description.

00:04:49.050 --> 00:04:51.320
So for this reform group,

00:04:51.320 --> 00:04:51.920
also,

00:04:51.920 --> 00:04:58.650
we're going to copy control label on form control like this For this control label,

00:04:58.650 --> 00:05:00.700
we will specify description,

00:05:00.700 --> 00:05:02.910
and for this form control,

00:05:02.910 --> 00:05:06.110
we're going to pour a text area component.

00:05:06.110 --> 00:05:10.170
So let's poor component class property.

00:05:10.170 --> 00:05:13.250
It is going to be text area than her Rose.

00:05:13.250 --> 00:05:16.600
By default will be equal to five.

00:05:16.600 --> 00:05:18.750
Name is going to be description.

00:05:18.750 --> 00:05:25.280
And placeholder is going to be Let's say enter Rome.

00:05:25.280 --> 00:05:26.150
Description.

00:05:26.150 --> 00:05:28.070
All right.

00:05:28.070 --> 00:05:28.780
Looks good.

00:05:28.780 --> 00:05:29.110
Now,

00:05:29.110 --> 00:05:31.440
let's take a look if I click on it.

00:05:31.440 --> 00:05:31.940
All right.

00:05:31.940 --> 00:05:33.040
I have description.

00:05:33.040 --> 00:05:34.040
I have real name.

00:05:34.040 --> 00:05:34.330
Okay,

00:05:34.330 --> 00:05:34.780
now,

00:05:34.780 --> 00:05:38.730
maybe let's define our state for the actual data.

00:05:38.730 --> 00:05:40.380
So here what?

00:05:40.380 --> 00:05:41.110
We're gonna Ford,

00:05:41.110 --> 00:05:43.160
we're gonna define your state that we will name,

00:05:43.160 --> 00:05:43.650
form,

00:05:43.650 --> 00:05:48.150
value and set foreign value as the update function.

00:05:48.150 --> 00:05:53.180
So your state is going to be the next it is going to be an object,

00:05:53.180 --> 00:05:58.650
and I what I suggest I suggested to put it outside of the component because we're going to

00:05:58.650 --> 00:06:01.570
recite it to initial value when we will submit it.

00:06:01.570 --> 00:06:03.140
But we will submit the form.

00:06:03.140 --> 00:06:06.250
So let's put in the show form.

00:06:06.250 --> 00:06:11.460
And it is going to be an object with name and description insight.

00:06:11.460 --> 00:06:13.080
All right.

00:06:13.080 --> 00:06:17.310
The same as we have name prop for our input.

00:06:17.310 --> 00:06:18.040
All right,

00:06:18.040 --> 00:06:18.890
so you stayed by.

00:06:18.890 --> 00:06:21.730
Default is going to be initial form.

00:06:21.730 --> 00:06:22.590
All right?

00:06:22.590 --> 00:06:23.150
Also,

00:06:23.150 --> 00:06:24.770
people need the loading state.

00:06:24.770 --> 00:06:26.460
Let's define it in advance.

00:06:26.460 --> 00:06:29.720
We will use it when we will submit the form.

00:06:29.720 --> 00:06:32.170
So your state is going to be false.

00:06:32.170 --> 00:06:32.870
All right,

00:06:32.870 --> 00:06:33.450
now,

00:06:33.450 --> 00:06:36.660
first we need to handle when we have to take the data.

00:06:36.660 --> 00:06:45.000
So when we use own change event So let's four const on form change And the thing with our

00:06:45.000 --> 00:06:45.440
suit,

00:06:45.440 --> 00:06:47.990
when we use on change event,

00:06:47.990 --> 00:06:52.450
it automatically gives us the value as its first argument,

00:06:52.450 --> 00:06:53.850
not the event object.

00:06:53.850 --> 00:06:56.910
So we will have value here.

00:06:56.910 --> 00:07:01.320
So we're gonna pour CET form value as value.

00:07:01.320 --> 00:07:05.050
And actually it is slightly different with our suit forms.

00:07:05.050 --> 00:07:07.610
When we have a form component in our sure,

00:07:07.610 --> 00:07:13.170
it automatically gives you not the value off the actual input that you add it.

00:07:13.170 --> 00:07:17.070
But it gives you the value off the entire form,

00:07:17.070 --> 00:07:20.940
so it is really convenient to use it with use state.

00:07:20.940 --> 00:07:21.560
All right,

00:07:21.560 --> 00:07:23.930
so on this on form change,

00:07:23.930 --> 00:07:26.860
we're going to port for our form component.

00:07:26.860 --> 00:07:31.870
So on change handler is going to be on form change.

00:07:31.870 --> 00:07:32.430
Now.

00:07:32.430 --> 00:07:37.170
We also need to somehow validate our data and first,

00:07:37.170 --> 00:07:40.050
we're going to associate the actual state with the form.

00:07:40.050 --> 00:07:44.100
So it has this property called form value.

00:07:44.100 --> 00:07:50.030
So it must be an object that interacts with the with the form just our state.

00:07:50.030 --> 00:07:50.520
All right,

00:07:50.520 --> 00:07:53.290
so we're gonna poor form value.

00:07:53.290 --> 00:08:01.250
And this on change event will give us the the new form value when we update any element off

00:08:01.250 --> 00:08:01.860
this form.

00:08:01.860 --> 00:08:04.410
So which is going to be our object at the end?

00:08:04.410 --> 00:08:04.850
All right.

00:08:04.850 --> 00:08:05.350
So,

00:08:05.350 --> 00:08:06.230
as I said before,

00:08:06.230 --> 00:08:09.280
now we need to somehow validate the data,

00:08:09.280 --> 00:08:10.920
the form when we submitted.

00:08:10.920 --> 00:08:11.350
Well,

00:08:11.350 --> 00:08:16.420
our suit provides us whether with helper methods to achieve that,

00:08:16.420 --> 00:08:20.650
we can define a schema that we can submit to our seared,

00:08:20.650 --> 00:08:24.650
and then our suit will check against this schema.

00:08:24.650 --> 00:08:27.060
So let's define our scheme.

00:08:27.060 --> 00:08:29.250
I here at the top for our form,

00:08:29.250 --> 00:08:31.110
Let's define it model.

00:08:31.110 --> 00:08:37.730
And here we're gonna use schema that we import from our suit than we gonna put model.

00:08:37.730 --> 00:08:39.950
And inside this model,

00:08:39.950 --> 00:08:43.490
we need to put an object that will represent our state.

00:08:43.490 --> 00:08:45.230
So we will have name.

00:08:45.230 --> 00:08:48.190
It must have the shape the same as our state.

00:08:48.190 --> 00:08:51.670
So name is going to be string type,

00:08:51.670 --> 00:08:54.900
which comes actually from schema types.

00:08:54.900 --> 00:09:02.100
So let's do structure it string or maybe schema dot types from this object,

00:09:02.100 --> 00:09:04.440
we're going to d structure string type.

00:09:04.440 --> 00:09:09.940
Then we will use the string type to define that name is going to be a shrink.

00:09:09.940 --> 00:09:12.450
So string type,

00:09:12.450 --> 00:09:20.090
then we're gonna put is required to perform the validation and other message is going to be

00:09:20.090 --> 00:09:20.540
shot.

00:09:20.540 --> 00:09:24.250
Name is required all right,

00:09:24.250 --> 00:09:25.430
and the same will do.

00:09:25.430 --> 00:09:26.540
Four description.

00:09:26.540 --> 00:09:27.870
Let's copy it.

00:09:27.870 --> 00:09:35.570
Let's rename to description and let's say description is required the cool Think about this

00:09:35.570 --> 00:09:39.950
moral schema validation that it will be validated in the real time.

00:09:39.950 --> 00:09:44.070
Now we need to submit this scheme on to our form.

00:09:44.070 --> 00:09:47.420
So let's find this form component.

00:09:47.420 --> 00:09:49.510
And here as motile,

00:09:49.510 --> 00:09:52.210
we're gonna specify our Moto schema,

00:09:52.210 --> 00:09:53.790
our model object here.

00:09:53.790 --> 00:09:54.800
All right,

00:09:54.800 --> 00:09:59.660
now we need to actually create the submit function.

00:09:59.660 --> 00:10:01.160
So first of all,

00:10:01.160 --> 00:10:03.410
let's actually on form change.

00:10:03.410 --> 00:10:09.120
It is not optimized here because we have a lot off states that constantly change,

00:10:09.120 --> 00:10:09.900
for example,

00:10:09.900 --> 00:10:11.980
is open and foreign value.

00:10:11.980 --> 00:10:17.200
So every time we will have on form change being created and you copy off this function.

00:10:17.200 --> 00:10:21.590
So let's memorize it in advance to make it more optimized.

00:10:21.590 --> 00:10:23.780
All right,

00:10:23.780 --> 00:10:28.050
And now let's actually create our on submit function.

00:10:28.050 --> 00:10:35.850
So we're gonna call it let's say on submit and it is going to be an a sink function in

00:10:35.850 --> 00:10:39.940
advance and here the first step will be to actually validate data.

00:10:39.940 --> 00:10:41.600
So how we can do this?

00:10:41.600 --> 00:10:45.520
How it can validate our data against the schema that we define here.

00:10:45.520 --> 00:10:52.260
We need to actually use a reference to reference our form component and then using this

00:10:52.260 --> 00:10:52.720
reference,

00:10:52.720 --> 00:10:55.950
we can call its internal methods to validate it.

00:10:55.950 --> 00:10:58.070
So what we can do now?

00:10:58.070 --> 00:11:00.990
We know that we can use use ref from react.

00:11:00.990 --> 00:11:02.700
So let's put it here.

00:11:02.700 --> 00:11:04.390
Let's name it form,

00:11:04.390 --> 00:11:04.950
ref,

00:11:04.950 --> 00:11:08.200
and then we're going to call use ref from react.

00:11:08.200 --> 00:11:13.720
Then we're going to pass this form ref to this form component.

00:11:13.720 --> 00:11:16.810
So rough is going to be form,

00:11:16.810 --> 00:11:18.600
breath and hear.

00:11:18.600 --> 00:11:26.200
The first step is going to be if form ref dot current dot check.

00:11:26.200 --> 00:11:33.360
So this check method is available on this form component that we access directly over here

00:11:33.360 --> 00:11:33.360
,

00:11:33.360 --> 00:11:39.900
So this check will validate this data will validate our form value,

00:11:39.900 --> 00:11:43.950
which is our state against the schema that we define here.

00:11:43.950 --> 00:11:46.460
So if everything is alright,

00:11:46.460 --> 00:11:49.060
it will return at true Bullen value.

00:11:49.060 --> 00:11:49.840
If it's not,

00:11:49.840 --> 00:11:50.760
it will be false.

00:11:50.760 --> 00:11:55.830
So we're going to check if our form value check not passed.

00:11:55.830 --> 00:11:57.490
So if we have a false value,

00:11:57.490 --> 00:12:01.650
then we're gonna simply return from this function as advice.

00:12:01.650 --> 00:12:05.480
We're going to update our database with the with the new room.

00:12:05.480 --> 00:12:11.550
So let's pour CET is loading to true before any asynchronous task.

00:12:11.550 --> 00:12:16.340
And here we're going to create a new object that we will save to the database.

00:12:16.340 --> 00:12:19.250
So let's say new room data.

00:12:19.250 --> 00:12:21.830
It is actually going to be,

00:12:21.830 --> 00:12:22.060
ah,

00:12:22.060 --> 00:12:24.450
where our state form value.

00:12:24.450 --> 00:12:29.870
But also we will upend another property which is going to be created at so here we're gonna

00:12:29.870 --> 00:12:33.220
spread all form value that we have,

00:12:33.220 --> 00:12:39.750
and then we're gonna put created at and then we're gonna import fire base from firebase up

00:12:39.750 --> 00:12:48.940
and then here has created at we're going to pour firebase dot database dot server value dot

00:12:48.940 --> 00:12:49.860
timestamp.

00:12:49.860 --> 00:12:54.630
So now we have the complex neuron data that we need to save to the database.

00:12:54.630 --> 00:12:58.890
So let's put try catch blawg before any asynchronous task.

00:12:58.890 --> 00:13:00.870
And in case off better,

00:13:00.870 --> 00:13:02.000
we're gonna pour.

00:13:02.000 --> 00:13:03.810
CET is loading to false,

00:13:03.810 --> 00:13:10.820
and we gonna kill alert dot Better error message with four seconds.

00:13:10.820 --> 00:13:11.320
All right.

00:13:11.320 --> 00:13:11.890
Looks good.

00:13:11.890 --> 00:13:17.850
Now we're gonna call await database for Project from Firebase.

00:13:17.850 --> 00:13:21.640
Then we're gonna put Dr Ralf for this ref.

00:13:21.640 --> 00:13:26.960
We're going to specify just rooms so we will keep our rooms under rooms,

00:13:26.960 --> 00:13:29.520
path inside database and to push.

00:13:29.520 --> 00:13:30.280
And you,

00:13:30.280 --> 00:13:34.900
let's say value two database so the key is automatically generated.

00:13:34.900 --> 00:13:36.810
We're gonna call push method,

00:13:36.810 --> 00:13:40.880
so and inside the schools were gonna pass new room data.

00:13:40.880 --> 00:13:44.180
So after we have data inside our database,

00:13:44.180 --> 00:13:50.550
let's set is loading two falls and let's reset our initial state.

00:13:50.550 --> 00:13:53.090
So let's call sat form value.

00:13:53.090 --> 00:13:55.690
It is going to be initial form,

00:13:55.690 --> 00:14:00.100
and after that we must ensure that we also close to the motel window.

00:14:00.100 --> 00:14:02.380
So let's also call clothes.

00:14:02.380 --> 00:14:08.850
And then let's put another alert with info and we're gonna say foreign value.

00:14:08.850 --> 00:14:10.960
Let me open quotes here.

00:14:10.960 --> 00:14:15.590
We're gonna say foreign value dot name Or actually,

00:14:15.590 --> 00:14:18.830
let me call it before it like this.

00:14:18.830 --> 00:14:23.840
So form value is going to be we will say has been created.

00:14:23.840 --> 00:14:25.520
And then again,

00:14:25.520 --> 00:14:27.180
four seconds as always.

00:14:27.180 --> 00:14:28.250
All right,

00:14:28.250 --> 00:14:29.630
so it looks good.

00:14:29.630 --> 00:14:33.340
Now we actually need to use is loading and on form submit.

00:14:33.340 --> 00:14:40.810
We're gonna put it for this button we're gonna put on click over here and we will pass on

00:14:40.810 --> 00:14:42.830
submit like this.

00:14:42.830 --> 00:14:45.900
And now to use this is loading state.

00:14:45.900 --> 00:14:47.800
We will use it for this button.

00:14:47.800 --> 00:14:51.400
We will make it disabled when we have is loading set to true.

00:14:51.400 --> 00:14:52.290
All right,

00:14:52.290 --> 00:14:53.110
It was a lot.

00:14:53.110 --> 00:14:54.960
Now let's actually test it out.

00:14:54.960 --> 00:14:58.000
So now let me refresh just to make sure.

00:14:58.000 --> 00:14:58.960
Let me enter.

00:14:58.960 --> 00:14:59.590
Hello,

00:14:59.590 --> 00:15:01.720
then I'm gonna put something else.

00:15:01.720 --> 00:15:02.570
And here,

00:15:02.570 --> 00:15:04.000
if I leave it empty,

00:15:04.000 --> 00:15:06.740
you can see that description is required.

00:15:06.740 --> 00:15:10.100
The form is actually being validated in real time.

00:15:10.100 --> 00:15:12.220
That's because we defined the schema.

00:15:12.220 --> 00:15:12.790
All right,

00:15:12.790 --> 00:15:14.280
let's poor Hello.

00:15:14.280 --> 00:15:17.550
And let's put description off this room.

00:15:17.550 --> 00:15:24.260
Let's click on Create new chat room and we can see that alert is not a function.

00:15:24.260 --> 00:15:24.750
All right,

00:15:24.750 --> 00:15:27.560
maybe let's move it like this Alert.

00:15:27.560 --> 00:15:28.170
All right.

00:15:28.170 --> 00:15:31.130
Alert dot Error was the actual issue.

00:15:31.130 --> 00:15:33.650
I called just e r R,

00:15:33.650 --> 00:15:34.880
but it is error.

00:15:34.880 --> 00:15:36.350
So that's my bet.

00:15:36.350 --> 00:15:37.220
All right,

00:15:37.220 --> 00:15:37.640
now,

00:15:37.640 --> 00:15:39.250
let's try it one more time.

00:15:39.250 --> 00:15:41.170
Create new chat room.

00:15:41.170 --> 00:15:43.710
Let's put hello description.

00:15:43.710 --> 00:15:44.710
Hey,

00:15:44.710 --> 00:15:47.560
three new chatroom permission tonight.

00:15:47.560 --> 00:15:48.380
That's fine,

00:15:48.380 --> 00:15:52.980
because we also need to define security rules for our database.

00:15:52.980 --> 00:15:57.650
So let's open rules and here we're going to define our next schema.

00:15:57.650 --> 00:15:59.340
So next two profiles,

00:15:59.340 --> 00:16:00.490
let's copy this.

00:16:00.490 --> 00:16:05.000
We gonna port also rooms and for rooms we're gonna specify.

00:16:05.000 --> 00:16:09.330
So for read and write for everything inside over here,

00:16:09.330 --> 00:16:13.560
we are going to allow it only when user is authenticated.

00:16:13.560 --> 00:16:14.330
So instead,

00:16:14.330 --> 00:16:16.330
off using this verification,

00:16:16.330 --> 00:16:21.210
we're gonna say that read and write permission is only allowed when off,

00:16:21.210 --> 00:16:27.650
not equals now and the same we will do for basically everything here,

00:16:27.650 --> 00:16:31.120
we're gonna put it here instead of future idea,

00:16:31.120 --> 00:16:31.870
we will have,

00:16:31.870 --> 00:16:32.360
Let's say,

00:16:32.360 --> 00:16:33.650
room I d.

00:16:33.650 --> 00:16:35.750
And then also for read.

00:16:35.750 --> 00:16:37.730
We're going to pacify author,

00:16:37.730 --> 00:16:39.960
not equal snow and off,

00:16:39.960 --> 00:16:41.480
not equals now.

00:16:41.480 --> 00:16:41.990
All right.

00:16:41.990 --> 00:16:42.670
Looks good.

00:16:42.670 --> 00:16:44.070
Let's copy it.

00:16:44.070 --> 00:16:47.650
And let's also synchronize it with our local file,

00:16:47.650 --> 00:16:49.430
which is database rules.

00:16:49.430 --> 00:16:50.150
Jason.

00:16:50.150 --> 00:16:51.560
Let's save it.

00:16:51.560 --> 00:16:53.030
And let's take a look.

00:16:53.030 --> 00:16:55.490
So now our rules are published.

00:16:55.490 --> 00:16:59.230
If I click on create new chat room now,

00:16:59.230 --> 00:17:01.200
hello has been created.

00:17:01.200 --> 00:17:05.380
And if you look inside database now under rooms,

00:17:05.380 --> 00:17:10.060
we have a new key that was automatically generated by database.

00:17:10.060 --> 00:17:14.890
And then we have our data created at description and name.

00:17:14.890 --> 00:17:15.540
All right.

00:17:15.540 --> 00:17:16.440
Looks perfect.

00:17:16.440 --> 00:17:19.610
I guess That's the good time to finish this video.

00:17:19.610 --> 00:17:21.980
Let me commit everything.

00:17:21.980 --> 00:17:29.660
And then we're going to specify create button to create new chat room.

00:17:29.660 --> 00:17:33.640
Or maybe at new button at bottom to create new chat room.

00:17:33.640 --> 00:17:34.960
All right,

00:17:34.960 --> 00:17:36.260
see you in the next one.

