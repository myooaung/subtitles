WEBVTT
1

00:00:00.180  -->  00:00:01.800
All right welcome back to the students.

2

00:00:01.800  -->  00:00:03.180
I'm so glad that you're here.

3

00:00:03.180  -->  00:00:08.010
I'm really happy that you watching these lectures because this is going to really change your knowledge

4

00:00:08.010  -->  00:00:08.380
.

5

00:00:08.400  -->  00:00:13.890
But anyway on today's lectures we are going to be dealing with relationships right.

6

00:00:13.980  -->  00:00:18.480
I spoke to you a little bit about that on the Angel but what you don't know is that a lot of it has

7

00:00:18.480  -->  00:00:20.160
a couple of different relationships.

8

00:00:20.160  -->  00:00:28.860
It has one to one one to many many too many polymorphic polymorphic one to one polymorphic many many

9

00:00:28.860  -->  00:00:29.060
.

10

00:00:29.070  -->  00:00:33.460
I mean has different relationship models or should I say functionality.

11

00:00:33.590  -->  00:00:34.230
OK.

12

00:00:34.410  -->  00:00:40.470
Now we talked about you know that relationships are functions that relate tables to tables.

13

00:00:40.470  -->  00:00:41.850
Right and that's all they are.

14

00:00:42.000  -->  00:00:43.260
Now they work differently.

15

00:00:43.260  -->  00:00:43.910
All right.

16

00:00:44.160  -->  00:00:50.910
So in a one to one relationship we can say something like OK the user has one post right or they use

17

00:00:50.910  -->  00:00:57.450
it in a many to many or one too many they use as many posts something like that that's how we would

18

00:00:57.450  -->  00:00:58.550
define them we.

19

00:00:58.740  -->  00:01:02.530
And they have very similar functions as as they are pronounced.

20

00:01:02.530  -->  00:01:08.640
All right so if we pronounce you know this user has one post Demetri's has one.

21

00:01:08.670  -->  00:01:09.740
I'll show you in a minute.

22

00:01:09.930  -->  00:01:18.870
But anyway we're going to be dealing with the model so we also need to create a column in the in this

23

00:01:18.870  -->  00:01:24.030
case what we're going to be doing is we're going to be creating a couple of polls that are going to

24

00:01:24.040  -->  00:01:24.220
.

25

00:01:24.510  -->  00:01:29.070
And we're going to say the user has one pulls right and we're going to relate those to there so that

26

00:01:29.070  -->  00:01:31.650
where we can pull out all their users polls.

27

00:01:31.920  -->  00:01:39.070
So for that we need to go to the child in this case is going to be to the parent.

28

00:01:39.080  -->  00:01:39.380
All right.

29

00:01:39.390  -->  00:01:42.320
And we need to write a function here first of all.

30

00:01:42.320  -->  00:01:49.950
All right but before we do that let's actually create a column in polls.

31

00:01:50.180  -->  00:01:50.870
Right.

32

00:01:51.280  -->  00:02:00.000
And migration polls Surely if I can find the migration I can believe this is the migration of polls

33

00:02:00.050  -->  00:02:00.450
.

34

00:02:00.590  -->  00:02:02.480
Right here we go.

35

00:02:02.520  -->  00:02:03.060
All right.

36

00:02:03.210  -->  00:02:10.750
So now what we need to do is add a user ID to our polls table.

37

00:02:11.000  -->  00:02:12.080
OK.

38

00:02:12.480  -->  00:02:19.440
So I'm going to actually do a reset refresh because I don't want to be adding a lot of migrations here

39

00:02:19.470  -->  00:02:21.110
just to add a user table.

40

00:02:21.210  -->  00:02:23.460
We can if we want to.

41

00:02:24.570  -->  00:02:28.190
As a matter of fact limen to look at the database the widow.

42

00:02:28.200  -->  00:02:31.260
I don't have any data so it really doesn't matter for me if you have a lot of data.

43

00:02:31.290  -->  00:02:35.150
Leave it there and just at the table with migration.

44

00:02:35.220  -->  00:02:37.000
OK you know how to do that already.

45

00:02:37.410  -->  00:02:43.290
But anyway I'm going to do an interview here and it's going to be user ID and I explained to you why

46

00:02:43.290  -->  00:02:49.250
we need this is going to be signed because we won all in positive numbers here.

47

00:02:49.260  -->  00:02:59.880
So now once we have this make sure that you refresh or do migrate again if you creating a table now

48

00:02:59.880  -->  00:03:11.020
this column should be available in your post structure user ID is an integer default on 10.

49

00:03:11.120  -->  00:03:13.530
OK beautiful.

50

00:03:13.530  -->  00:03:15.100
Now what we need is some data right.

51

00:03:15.090  -->  00:03:17.130
So let's actually insert it through here.

52

00:03:17.130  -->  00:03:21.000
That way we don't have to on command.

53

00:03:22.280  -->  00:03:23.360
All right.

54

00:03:23.730  -->  00:03:28.890
So they use are these going to be one we haven't created or use or let's do that first.

55

00:03:28.920  -->  00:03:37.800
So insur a user I'm going to name it Edwin one this email when courting faculty

56

00:03:40.440  -->  00:03:46.370
come past 4 1 2 and 3 really doesn't matter.

57

00:03:46.380  -->  00:03:47.100
Are these data.

58

00:03:47.140  -->  00:03:47.660
Here

59

00:03:50.970  -->  00:03:52.200
we go.

60

00:03:52.440  -->  00:03:58.880
So now that we have a user we can go ahead and go to the polls table and create a couple of polls.

61

00:03:58.900  -->  00:04:07.200
I'm just going to say BHB polls one and two and Gerrish content really doesn't matter.

62

00:04:07.200  -->  00:04:15.460
Like I said and I'm going to take this all from here and going to create.

63

00:04:18.230  -->  00:04:19.080
That's it.

64

00:04:19.090  -->  00:04:25.440
And just one pause and I'm going to actually ignore that because I just want to create one polls so

65

00:04:25.440  -->  00:04:27.560
you can see what's going on.

66

00:04:27.890  -->  00:04:38.900
And then I put some time stamp on Ryan and go for a column user id go back what do we do there.

67

00:04:39.200  -->  00:04:42.700
We didn't put our user id last for one.

68

00:04:42.880  -->  00:04:44.970
Ok cool.

69

00:04:44.970  -->  00:04:45.410
All right.

70

00:04:45.600  -->  00:04:50.510
So now that we have done that what we need to do is rather functionality.

71

00:04:50.510  -->  00:04:52.290
I'll show you right now what we need to do.

72

00:04:52.290  -->  00:05:01.470
Let's go to our user Maaro And here we are going to be writing a function that I would I was talking

73

00:05:01.470  -->  00:05:04.290
about that is going to do the job for us.

74

00:05:04.290  -->  00:05:09.340
The Querrey or that Querrey solf public function and we get.

75

00:05:09.360  -->  00:05:13.820
We can call it whatever we want these guys are going to call it post and I'll tell you in a minute what

76

00:05:13.810  -->  00:05:14.370
is going to do.

77

00:05:14.400  -->  00:05:20.820
But it just makes sense to call a post right because we want to pull other users post.

78

00:05:21.040  -->  00:05:28.710
So return this because this method belongs to this to the motto.

79

00:05:28.710  -->  00:05:30.180
That's why we use the word does.

80

00:05:30.180  -->  00:05:34.170
If you don't know about that you need to take my BHB or B course OK.

81

00:05:34.350  -->  00:05:36.370
So this has.

82

00:05:36.400  -->  00:05:43.340
This are pre-build functions or methods has one post forwards.

83

00:05:43.360  -->  00:05:48.320
This is a backslash post and here what we are writing is namespace OK.

84

00:05:49.050  -->  00:05:49.740
There we go.

85

00:05:49.980  -->  00:05:51.010
So that's all you got to do.

86

00:05:51.000  -->  00:05:53.570
Now what is launching Well this is going to do.

87

00:05:53.820  -->  00:05:58.620
This is going to go to the polls table because we gave it a name space.

88

00:05:58.670  -->  00:06:04.880
It's got to look for the column user id automatically this column like this user ID.

89

00:06:04.890  -->  00:06:09.600
This is by default OK by default is going to do it.

90

00:06:09.600  -->  00:06:17.400
Now if you want to specify a different column you put it as a second parameter here coma and you can

91

00:06:17.400  -->  00:06:22.500
say user ID if you named them differently.

92

00:06:22.490  -->  00:06:22.940
All right.

93

00:06:23.070  -->  00:06:29.130
So if you went ahead and you went through your polls here and you name this differently this is where

94

00:06:29.160  -->  00:06:30.770
that's where you change it.

95

00:06:30.770  -->  00:06:32.430
All right.

96

00:06:33.720  -->  00:06:34.800
OK.

97

00:06:35.370  -->  00:06:36.240
This is where you change.

98

00:06:36.240  -->  00:06:38.770
You give it a second parameter now.

99

00:06:39.060  -->  00:06:46.570
This is if you also are you know using have a differing ID for your polls.

100

00:06:46.590  -->  00:06:54.670
If you have a different ID on here you can change as a third parameter and you can define it there.

101

00:06:54.750  -->  00:06:55.700
OK.

102

00:06:56.310  -->  00:06:59.530
So where is it right here.

103

00:06:59.820  -->  00:07:02.070
You can go and ride that one.

104

00:07:02.070  -->  00:07:06.040
That parameter is going to belong to the other ID field.

105

00:07:06.360  -->  00:07:07.310
OK.

106

00:07:07.860  -->  00:07:13.550
All right but we don't have it like that we're going to leave it as default like this.

107

00:07:13.600  -->  00:07:18.100
We're going to touch on this later on in the application so don't worry about it right now.

108

00:07:18.150  -->  00:07:19.830
Just try to understand what we're doing.

109

00:07:19.860  -->  00:07:23.110
And if you don't understand it you do it a couple of times and you will understand.

110

00:07:23.110  -->  00:07:24.430
I can guarantee you that.

111

00:07:24.750  -->  00:07:30.600
All right so now that we have this and we have some data we can pull out some information we can pull

112

00:07:30.600  -->  00:07:31.900
out of their users posts.

113

00:07:31.920  -->  00:07:37.500
So let's go and create a real real quick and let's just try this just comment this out because this

114

00:07:37.500  -->  00:07:39.050
is super important guys.

115

00:07:39.240  -->  00:07:42.730
Let's just put a comment here now.

116

00:07:42.780  -->  00:07:48.750
Relationships are going to make it a lot easier for you to create categories for pools for create polls

117

00:07:48.810  -->  00:07:50.030
related to users.

118

00:07:50.040  -->  00:07:52.740
I mean everything we do in an application is relaying data.

119

00:07:52.740  -->  00:07:55.260
Most of the time we've all the tables right.

120

00:07:55.440  -->  00:07:59.310
So learn this really good and you should have a really cooperation.

121

00:07:59.490  -->  00:07:59.920
All right.

122

00:08:00.090  -->  00:08:03.700
So eloquent relationships.

123

00:08:03.750  -->  00:08:05.500
All right.

124

00:08:06.610  -->  00:08:08.230
I love the spell check right.

125

00:08:08.430  -->  00:08:12.860
If you misspell it it will let you know look you're beautiful.

126

00:08:12.900  -->  00:08:16.310
All right so now here let's create a route.

127

00:08:16.560  -->  00:08:19.760
And usually the role will go with the ID.

128

00:08:19.760  -->  00:08:22.380
In this case we could do it like that.

129

00:08:22.420  -->  00:08:26.090
Well what am I doing.

130

00:08:27.000  -->  00:08:28.850
We forgot everything.

131

00:08:29.370  -->  00:08:31.410
So let's do it with the ID.

132

00:08:31.410  -->  00:08:32.220
All right.

133

00:08:32.400  -->  00:08:33.750
So are we going to see a user

134

00:08:36.140  -->  00:08:42.770
post so we're going to find the user first would ID number one.

135

00:08:42.930  -->  00:08:45.090
Or whatever ID we give it.

136

00:08:45.410  -->  00:08:47.850
And just going on we only have one user.

137

00:08:47.860  -->  00:08:52.920
But just for the heck of it I'm just going to put it either an ID there.

138

00:08:52.910  -->  00:08:56.060
So the way you can get used to seeing that.

139

00:08:56.620  -->  00:08:59.830
All right there we go.

140

00:09:02.250  -->  00:09:10.260
As a matter of fact when you say user ID and then the polls like this.

141

00:09:11.350  -->  00:09:13.210
OK.

142

00:09:14.660  -->  00:09:15.770
All right.

143

00:09:16.620  -->  00:09:22.820
So let's go and find the user first user.

144

00:09:23.310  -->  00:09:25.730
And I want you to do one thing already did it.

145

00:09:25.750  -->  00:09:30.390
But let me see if I did that already.

146

00:09:30.410  -->  00:09:31.180
I did it.

147

00:09:31.200  -->  00:09:33.500
But you weren't looking when I did it.

148

00:09:34.130  -->  00:09:35.570
Actually I didn't do that.

149

00:09:35.580  -->  00:09:39.480
Make sure that you import your user model.

150

00:09:39.530  -->  00:09:40.390
This.

151

00:09:41.100  -->  00:09:47.740
A few have in order for us to use the model that class we have to import it right.

152

00:09:48.000  -->  00:09:49.750
So that's what we do they use.

153

00:09:50.040  -->  00:09:54.770
But you remember that if you have a BHP store you have to do is click on these Leibel when you put your

154

00:09:54.780  -->  00:09:59.310
mouse cursor there you wait for that and you came for that class.

155

00:09:59.370  -->  00:10:04.040
But anyway we find the user ID number one right.

156

00:10:04.620  -->  00:10:05.900
Because a user.

157

00:10:06.150  -->  00:10:08.920
And look at this as a matter of I don't even need that.

158

00:10:09.270  -->  00:10:17.690
We can go and say I want the users post just like this return.

159

00:10:17.840  -->  00:10:21.570
All right now that's going to be really strange for you.

160

00:10:21.570  -->  00:10:23.170
I know.

161

00:10:23.520  -->  00:10:25.490
Really strange.

162

00:10:25.670  -->  00:10:27.920
And as a matter of fact we don't need one.

163

00:10:27.920  -->  00:10:31.780
We can't do I.D. here we go.

164

00:10:31.820  -->  00:10:34.110
Let's just do that.

165

00:10:34.170  -->  00:10:35.240
All right.

166

00:10:35.970  -->  00:10:44.400
So this a user would ID number one and give me the post enter and as you can see we got the pulls of

167

00:10:45.180  -->  00:10:46.960
that user.

168

00:10:47.150  -->  00:10:49.350
Isn't that cool guys.

169

00:10:49.350  -->  00:10:51.680
Super cool right.

170

00:10:52.860  -->  00:10:55.220
Really cool stuff.

171

00:10:55.220  -->  00:10:55.970
All right.

172

00:10:56.070  -->  00:10:58.190
You can pulao more information about this.

173

00:10:58.200  -->  00:11:01.910
Of course you can pulao the polls title

174

00:11:04.620  -->  00:11:14.370
title like this and enter as you can see and you access those columns as property.

175

00:11:14.370  -->  00:11:16.580
This is where the cool thing about it is.

176

00:11:16.620  -->  00:11:24.590
All right just like properties you can change them like this and access them there.

177

00:11:25.710  -->  00:11:27.330
OK.

178

00:11:28.590  -->  00:11:30.620
Isn't that beautiful.

179

00:11:30.640  -->  00:11:32.250
All right.

180

00:11:32.250  -->  00:11:37.350
And of course you can pull that information out and save it to your database.

181

00:11:37.350  -->  00:11:37.690
All right.

182

00:11:37.710  -->  00:11:42.900
Just like how we learned that you can apply different values to that.

183

00:11:42.890  -->  00:11:43.670
All right.

184

00:11:43.740  -->  00:11:48.830
So just in case you want to pull this information now you can and you can assign different content to

185

00:11:48.840  -->  00:11:50.030
it.

186

00:11:50.040  -->  00:11:50.450
All right.

187

00:11:50.460  -->  00:11:54.070
So just keep that in mind right.

188

00:11:54.140  -->  00:11:54.810
Beautiful.

189

00:11:54.810  -->  00:11:56.030
So anyway.

190

00:11:56.370  -->  00:12:02.070
Now you know how to do the house one relationship in this is house one so if you want to put a comment

191

00:12:02.090  -->  00:12:11.120
here you can you can say has or one to one relationship one to one relation and this is super important

192

00:12:11.130  -->  00:12:13.430
so I'm telling you right now.

193

00:12:13.910  -->  00:12:15.410
Write it down or something.

194

00:12:15.620  -->  00:12:17.420
One to one relationship.

195

00:12:18.030  -->  00:12:19.140
OK.

196

00:12:19.160  -->  00:12:19.650
Anyway.

197

00:12:19.640  -->  00:12:20.640
Practice a lot.

198

00:12:20.630  -->  00:12:26.310
Write it again if it can work for you ask questions is OK but I only take questions if you been stuck

199

00:12:26.310  -->  00:12:27.880
for a couple hours or a couple of days.

200

00:12:27.890  -->  00:12:28.380
Right.

201

00:12:28.500  -->  00:12:34.370
Because I want to make sure that you learn this stuff by actually putting the hard work into it.

202

00:12:34.640  -->  00:12:35.720
Thank you so much for watching.

203

00:12:35.730  -->  00:12:37.200
I'll see you in the next relationship.

204

00:12:37.260  -->  00:12:38.400
Take care.
