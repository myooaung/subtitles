WEBVTT
1

00:00:00.240  -->  00:00:01.780
All right welcome back.

2

00:00:01.790  -->  00:00:04.380
I'm a student in this lecture here.

3

00:00:04.380  -->  00:00:06.960
We are going to be working very hard.

4

00:00:07.170  -->  00:00:10.090
I should say this section here and not just this lecture.

5

00:00:10.260  -->  00:00:16.110
We're going to be starting to work really fast and really hard on this application.

6

00:00:16.110  -->  00:00:16.730
All right.

7

00:00:17.070  -->  00:00:18.390
We've still got a little bit to go.

8

00:00:18.390  -->  00:00:25.410
We're going to build the comment system or rather common system consists of two tables maybe three tables

9

00:00:25.410  -->  00:00:25.560
.

10

00:00:25.560  -->  00:00:26.460
All right.

11

00:00:26.460  -->  00:00:32.430
So we were always going to keep adding lectures and keep adding features to this application but just

12

00:00:32.430  -->  00:00:38.370
for you to keep in mind this is a application that can get very complex very complex.

13

00:00:38.460  -->  00:00:42.680
So we're going to have the comments table is going to have a bunch of columns.

14

00:00:42.810  -->  00:00:48.130
We're going to have their replies table is going to have a bunch of Commons columns.

15

00:00:48.180  -->  00:00:50.330
We're going to have forms.

16

00:00:50.340  -->  00:00:55.290
I mean you name it we're going to have it and this and this section here so I want you to pay very close

17

00:00:55.290  -->  00:00:56.280
attention right.

18

00:00:56.490  -->  00:01:00.950
All right cool so let's build it follows the folder structure first.

19

00:01:01.200  -->  00:01:03.900
So let's go to resources views here.

20

00:01:03.910  -->  00:01:11.710
And we got admin so we could build it outside with the comments outside me if we wanted to.

21

00:01:12.050  -->  00:01:13.590
All right.

22

00:01:14.520  -->  00:01:19.720
That way we could you know look at a Dow way and that way we can say OK.

23

00:01:19.800  -->  00:01:23.960
Not I mean he's not the only one that catches the comments so that people can see it.

24

00:01:23.970  -->  00:01:26.810
You know people are a little dink and see the comments.

25

00:01:26.820  -->  00:01:34.550
We could do that if we wanted to we could leave it outside or put it in here somewhere.

26

00:01:34.550  -->  00:01:35.150
All right.

27

00:01:35.430  -->  00:01:39.330
So what I'm going to do is they're going to put it inside me because we're going to be we're going to

28

00:01:39.330  -->  00:01:44.140
have the ability to actually edit not not edit but.

29

00:01:44.400  -->  00:01:47.880
Well in a way any it added the comment in reply.

30

00:01:47.880  -->  00:01:55.230
So let's put it inside outman and we're going to call it comments.

31

00:01:55.500  -->  00:02:04.490
We're going to have the in the It's why do you want to add the following file to good.

32

00:02:04.590  -->  00:02:05.110
Sure.

33

00:02:05.160  -->  00:02:07.640
Let's add it to get Why not right guys.

34

00:02:08.220  -->  00:02:08.950
All right.

35

00:02:09.360  -->  00:02:12.690
And I should a click there and not to ask me again.

36

00:02:12.700  -->  00:02:18.930
All right here in the comments we should actually create the folder replies as well because we're going

37

00:02:18.930  -->  00:02:22.890
to have replies for comments or we can leave it outside.

38

00:02:23.700  -->  00:02:30.310
It's up to you but I think we should just take it one folder deep and have replies here.

39

00:02:30.750  -->  00:02:35.280
We're going to have this all right.

40

00:02:35.430  -->  00:02:37.410
There we go.

41

00:02:37.410  -->  00:02:41.270
All right cool.

42

00:02:41.520  -->  00:02:48.210
Now let's actually we're going to leave this like this and we're going to build the other pages as we

43

00:02:48.210  -->  00:02:48.480
go.

44

00:02:48.480  -->  00:02:49.090
OK.

45

00:02:49.290  -->  00:02:51.220
So next thing is the route.

46

00:02:51.240  -->  00:02:51.930
Let's go to.

47

00:02:51.930  -->  00:02:54.980
Routes.

48

00:02:56.100  -->  00:03:00.050
Routes that would go for now we're going to leave.

49

00:03:00.070  -->  00:03:06.260
We've got to only allow the admin but it would be nice to build a middle where to accept anybody that's

50

00:03:06.270  -->  00:03:08.760
actually logged in as a matter of fact.

51

00:03:08.880  -->  00:03:09.610
No we don't.

52

00:03:09.720  -->  00:03:14.670
We're going to leave it for admin now and later we'll we'll deal with the middle where you guys already

53

00:03:14.670  -->  00:03:19.820
know how to build a made aware so that's not a problem.

54

00:03:20.580  -->  00:03:29.070
Let's do a resource real quick and we can have a resource for let's just call it let's just keep following

55

00:03:29.070  -->  00:03:36.770
the same conventions we have been doing following ryme out mean comments or.

56

00:03:37.380  -->  00:03:38.330
That's OK.

57

00:03:38.370  -->  00:03:39.750
Let's just leave it like that.

58

00:03:40.170  -->  00:03:50.270
And we're going to build a controller that is going to also be called admen comments controller.

59

00:03:50.310  -->  00:03:51.610
All right so now this.

60

00:03:51.720  -->  00:03:53.070
We're going to have to create.

61

00:03:53.070  -->  00:03:59.990
We're going to have the crawl basically here right in the comments controller was actually named this

62

00:04:00.020  -->  00:04:01.800
outman pulls Cummins controller

63

00:04:06.750  -->  00:04:08.550
or post Commines controller

64

00:04:11.580  -->  00:04:15.210
pulls comments controller.

65

00:04:15.210  -->  00:04:18.370
I think it's his thing this is better.

66

00:04:18.440  -->  00:04:21.720
All right.

67

00:04:24.360  -->  00:04:26.340
And we could name this one here.

68

00:04:26.340  -->  00:04:31.930
This would be the incumbent's replies.

69

00:04:32.530  -->  00:04:35.060
There's actually leave it like this.

70

00:04:35.150  -->  00:04:40.400
I mean come and replies that way doesn't override this one.

71

00:04:40.410  -->  00:04:41.030
All right.

72

00:04:41.250  -->  00:04:47.470
So this would be comment replies.

73

00:04:47.910  -->  00:04:49.270
All right.

74

00:04:50.120  -->  00:04:56.850
All right we'll I think with Later on we will need to adjust this a little bit and create other routes

75

00:04:56.880  -->  00:04:57.000
.

76

00:04:57.180  -->  00:05:00.930
And but right now this will suffice.

77

00:05:00.920  -->  00:05:01.580
All right.

78

00:05:01.770  -->  00:05:07.230
So let's create some migrations and models OK.

79

00:05:07.470  -->  00:05:12.400
So BHB Ortiz an make model.

80

00:05:12.630  -->  00:05:17.210
We need a model for comment and the migration.

81

00:05:17.420  -->  00:05:20.870
We also need a model for comment

82

00:05:24.480  -->  00:05:25.540
come in reply

83

00:05:28.670  -->  00:05:29.960
comment reply

84

00:05:32.330  -->  00:05:35.070
in a migration right.

85

00:05:35.110  -->  00:05:36.320
Cool.

86

00:05:37.110  -->  00:05:39.200
All right.

87

00:05:39.910  -->  00:05:42.820
So let's work real fast on this.

88

00:05:42.830  -->  00:05:49.600
These lectures are going to be longer guys by the way just for you to know we have a lot to cover and

89

00:05:49.600  -->  00:05:55.470
I want to get it done.

90

00:05:55.870  -->  00:05:57.430
All right.

91

00:05:57.940  -->  00:06:03.010
We have that to see a list work on them.

92

00:06:03.010  -->  00:06:03.620
All right.

93

00:06:03.970  -->  00:06:10.600
So and we should actually build a constraint imposed swelled to delete

94

00:06:14.560  -->  00:06:16.160
delete the comments.

95

00:06:16.500  -->  00:06:18.430
OK.

96

00:06:20.070  -->  00:06:21.870
Rules.

97

00:06:22.100  -->  00:06:22.970
Passwords

98

00:06:25.740  -->  00:06:30.010
photos.

99

00:06:31.830  -->  00:06:36.650
This bill can be constrained right here so that way every time with the leader pulls with the leader

100

00:06:36.640  -->  00:06:37.880
come in OK.

101

00:06:37.910  -->  00:06:41.890
So let's do this table.

102

00:06:42.220  -->  00:06:47.130
And the first one here for comments would be false ID.

103

00:06:47.290  -->  00:06:48.250
OK.

104

00:06:48.910  -->  00:06:55.160
So let's say I went blank there for a minute guys.

105

00:06:55.310  -->  00:06:57.380
Is a lot of stuff here.

106

00:06:57.880  -->  00:07:00.110
And let's make this and it's

107

00:07:02.960  -->  00:07:05.110
table.

108

00:07:06.910  -->  00:07:08.980
Integer is active

109

00:07:12.200  -->  00:07:18.760
let's make the make it out for two guys four to be zero

110

00:07:18.770  -->  00:07:24.900
.

111

00:07:31.030  -->  00:07:31.560
All right.

112

00:07:31.660  -->  00:07:36.220
So we're going to have a alter that's well rain

113

00:07:38.980  -->  00:07:42.410
or some type of user.

114

00:07:43.600  -->  00:07:52.750
And we're also going to have I think we should have an e-mail for that for the commentator.

115

00:07:54.070  -->  00:08:02.200
And of course we should have some type of body for it.

116

00:08:04.240  -->  00:08:04.540
All right.

117

00:08:04.540  -->  00:08:06.630
This is looking good here.

118

00:08:06.920  -->  00:08:08.140
Let's build that constraint.

119

00:08:08.150  -->  00:08:10.790
Real quick.

120

00:08:11.020  -->  00:08:18.610
So table forging posts Id scan a reference

121

00:08:23.420  -->  00:08:29.160
the ID on where post-test correct.

122

00:08:29.160  -->  00:08:34.890
My students doing very good and undelete.

123

00:08:37.390  -->  00:08:41.050
We want to cascade.

124

00:08:41.050  -->  00:08:41.850
All right.

125

00:08:41.890  -->  00:08:43.580
That is pretty good.

126

00:08:44.260  -->  00:08:46.110
I got a copy of that.

127

00:08:47.070  -->  00:08:49.920
I'm going to take it to replies.

128

00:08:50.620  -->  00:08:54.670
Let's actually look at this real quick because I have a narrow somewhere here and I want to correct

129

00:08:54.670  -->  00:08:55.640
it.

130

00:08:56.630  -->  00:08:59.930
We say here referees.

131

00:09:00.190  -->  00:09:05.290
Oh I see we forgot this little guy right here.

132

00:09:05.970  -->  00:09:10.810
On we go.

133

00:09:10.810  -->  00:09:17.420
All right on doing it in my head in not in the computer that changed this.

134

00:09:17.420  -->  00:09:18.590
This is a common reply.

135

00:09:18.580  -->  00:09:22.430
So let's change this for commun ID and everything else should be the same.

136

00:09:22.690  -->  00:09:27.570
And this would be common idea as well.

137

00:09:28.720  -->  00:09:29.590
And

138

00:09:32.330  -->  00:09:34.360
here we go.

139

00:09:34.360  -->  00:09:36.500
So every time with the leader call me and we get to the leader.

140

00:09:36.500  -->  00:09:37.600
Each replies as well.

141

00:09:37.600  -->  00:09:39.550
All right cool stuff guys.

142

00:09:39.550  -->  00:09:40.700
Very cool.

143

00:09:40.990  -->  00:09:41.740
All right.

144

00:09:42.160  -->  00:09:47.230
So another thing that I want to do is also build a relationship but I think we're going to do that in

145

00:09:47.230  -->  00:09:48.130
the next video right now.

146

00:09:48.130  -->  00:09:52.470
Let's do some ph VRT soon migrate.

147

00:09:53.500  -->  00:09:55.330
Whoops.

148

00:09:55.330  -->  00:09:57.070
All right General for unconstrained

149

00:09:59.170  -->  00:10:01.750
.

150

00:10:04.360  -->  00:10:12.630
I think this check it out real quick and you might learn something from here.

151

00:10:12.640  -->  00:10:15.730
All right so we have a constraint here pulls ID

152

00:10:20.350  -->  00:10:21.460
and then this one

153

00:10:21.460  -->  00:10:46.280
.

154

00:10:46.280  -->  00:10:54.460
All right let's try taking this off right here real quick.

155

00:10:54.550  -->  00:10:55.000
All right.

156

00:10:55.060  -->  00:10:59.480
So sometimes you will get strange depending on what data type the Collin's are.

157

00:10:59.480  -->  00:11:02.240
So they are different data types like this is an integer.

158

00:11:02.230  -->  00:11:06.950
The other one is a string or something like that you will get errors like that.

159

00:11:07.840  -->  00:11:08.340
All right.

160

00:11:08.380  -->  00:11:10.840
Let's see something here.

161

00:11:10.840  -->  00:11:14.330
Very picky stuff based already.

162

00:11:14.450  -->  00:11:19.290
So I was so this already created the table.

163

00:11:19.450  -->  00:11:24.050
So what I do is they're going to say Beechfield and my agree.

164

00:11:24.080  -->  00:11:28.860
Reset desk and clean everything in a database so be careful if you have a lot of data there.

165

00:11:28.870  -->  00:11:30.060
OK.

166

00:11:30.070  -->  00:11:31.070
All right.

167

00:11:31.600  -->  00:11:32.600
Migrate again.

168

00:11:32.660  -->  00:11:37.850
And we have that when you get these areas because you have your migrations table.

169

00:11:37.850  -->  00:11:38.630
OK.

170

00:11:39.310  -->  00:11:48.680
If you do migrate reset there's actually check this out real quick and refresh the database table in

171

00:11:48.690  -->  00:11:50.210
between my admin.

172

00:11:50.210  -->  00:11:53.340
You're going to see that you have some data here migrations.

173

00:11:53.650  -->  00:11:56.210
I don't have any pools anymore or anything like that.

174

00:11:56.470  -->  00:11:59.800
What I do have these are these data here.

175

00:12:00.630  -->  00:12:02.310
All right so I'm gonna go back here

176

00:12:05.390  -->  00:12:07.900
and you can see all the information there.

177

00:12:08.380  -->  00:12:09.760
I I do Peachtree I agree.

178

00:12:09.790  -->  00:12:11.010
We said again

179

00:12:15.620  -->  00:12:17.680
let's just look at it real quick.

180

00:12:17.870  -->  00:12:20.880
I he well I don't like that.

181

00:12:20.890  -->  00:12:21.460
All right.

182

00:12:21.520  -->  00:12:23.800
See we've got to see it come into migration.

183

00:12:23.800  -->  00:12:25.780
I'm going to drop them.

184

00:12:26.140  -->  00:12:32.910
And guys when you're in development make sure that you don't have a lot of data in there.

185

00:12:32.910  -->  00:12:33.570
OK.

186

00:12:33.730  -->  00:12:40.210
Let's move B-tree migrate now and we still get that constrain is annoying but we're still getting them

187

00:12:40.210  -->  00:12:40.970
.

188

00:12:41.050  -->  00:12:41.540
All right.

189

00:12:41.680  -->  00:12:45.790
So what I'm going to do here is

190

00:12:49.540  -->  00:12:51.850
I just can't understand why I'm getting this error.

191

00:12:51.850  -->  00:12:53.650
Right now I have to look it up a little bit

192

00:12:58.350  -->  00:13:09.000
to make this the same for football for them right here.

193

00:13:09.280  -->  00:13:15.990
See if we get the same data there we make it happen right.

194

00:13:16.460  -->  00:13:20.340
There's a few migrate and that's the way we go.

195

00:13:20.340  -->  00:13:31.480
Here we're going to do a page free parties and my great reset and then we get to go back to Peacher

196

00:13:31.480  -->  00:13:37.110
my admen real quick and then I drove this too.

197

00:13:38.020  -->  00:13:45.100
Sometimes you have to experiment guys or I find that what works for you what doesn't ph be migrating

198

00:13:45.100  -->  00:13:46.530
every day has been migrating.

199

00:13:46.690  -->  00:13:53.890
So make sure that if you're in a column that you have your constraints that make sure they are identical

200

00:13:54.050  -->  00:13:56.320
or either all the data is the same.

201

00:13:56.350  -->  00:13:57.650
If not I would not go through.

202

00:13:57.700  -->  00:13:58.120
OK.

203

00:13:58.120  -->  00:14:00.820
Hopefully you guys learn a lot in this lecture.

204

00:14:00.820  -->  00:14:04.840
Thank you so much for watching guys and I'll see you in the next lecture
