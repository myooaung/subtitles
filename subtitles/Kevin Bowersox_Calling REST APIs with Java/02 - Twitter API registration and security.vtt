WEBVTT
1
00:00:00.006 --> 00:00:02.003
- [Instructor] To work with the Twitter API,

2
00:00:02.003 --> 00:00:03.007
we'll need two things,

3
00:00:03.007 --> 00:00:07.005
a Twitter account and a registered API client.

4
00:00:07.005 --> 00:00:10.005
I'm going to assume that you have a Twitter account

5
00:00:10.005 --> 00:00:13.007
and we're going to focus on registering our client

6
00:00:13.007 --> 00:00:15.009
with the API.

7
00:00:15.009 --> 00:00:19.003
To do that, we can click on the Apply button

8
00:00:19.003 --> 00:00:22.001
from the Twitter developer platform

9
00:00:22.001 --> 00:00:29.002
and then we can click to upgrade to a developer account.

10
00:00:29.002 --> 00:00:32.001
In the application process for the developer account,

11
00:00:32.001 --> 00:00:34.002
you're going to be asked several questions

12
00:00:34.002 --> 00:00:36.006
about how you'll use the API.

13
00:00:36.006 --> 00:00:38.009
I'm going to say that I'm a hobbyist

14
00:00:38.009 --> 00:00:40.009
and that I'm exploring the API

15
00:00:40.009 --> 00:00:43.005
and then I'll click on, Get started.

16
00:00:43.005 --> 00:00:46.000
It'll be important that your Twitter account

17
00:00:46.000 --> 00:00:48.005
has a registered email and phone number,

18
00:00:48.005 --> 00:00:50.002
you cannot continue without it

19
00:00:50.002 --> 00:00:52.008
so make sure you take care of that.

20
00:00:52.008 --> 00:00:54.001
And then lowering the page,

21
00:00:54.001 --> 00:00:55.009
we'll have to fill out this form.

22
00:00:55.009 --> 00:00:58.004
So what would you like us to call you?

23
00:00:58.004 --> 00:01:03.002
Let's just say the Hotel Landon Manager.

24
00:01:03.002 --> 00:01:09.008
I'll specify that I'm living in the US,

25
00:01:09.008 --> 00:01:11.009
my coding skill level

26
00:01:11.009 --> 00:01:15.003
and then I'm going to opt out of Updates.

27
00:01:15.003 --> 00:01:17.007
Then they're going to ask about usage.

28
00:01:17.007 --> 00:01:20.004
So here the want to have a description

29
00:01:20.004 --> 00:01:22.007
of why we are using the API.

30
00:01:22.007 --> 00:01:26.000
I'm just going to say on building a prototype application

31
00:01:26.000 --> 00:01:28.006
and doing some sentiment analysis.

32
00:01:28.006 --> 00:01:30.007
Then they're going to get a little bit more detailed.

33
00:01:30.007 --> 00:01:33.006
They want to know if we're going to analyze Twitter data.

34
00:01:33.006 --> 00:01:36.009
We are, and I'll use that same justification

35
00:01:36.009 --> 00:01:40.000
and leave the checkbox as, Yes.

36
00:01:40.000 --> 00:01:42.004
We're not going to be performing any tweets,

37
00:01:42.004 --> 00:01:43.007
retweets, likes.

38
00:01:43.007 --> 00:01:46.002
So I'm going to check this is No

39
00:01:46.002 --> 00:01:48.001
and then at the same time

40
00:01:48.001 --> 00:01:50.002
we're not going to aggregate this data.

41
00:01:50.002 --> 00:01:52.005
So I'll check this as No,

42
00:01:52.005 --> 00:01:55.002
I'm also not representing a government entity,

43
00:01:55.002 --> 00:01:57.006
I'll check that as No.

44
00:01:57.006 --> 00:01:59.007
So just go ahead, hit Next

45
00:01:59.007 --> 00:02:03.006
review your information, hit Next again.

46
00:02:03.006 --> 00:02:07.008
Then you'll have to agree to the policy for developers

47
00:02:07.008 --> 00:02:11.000
and finally, you can Submit your application.

48
00:02:11.000 --> 00:02:11.008
At this point

49
00:02:11.008 --> 00:02:15.002
they're going to send you a verification email,

50
00:02:15.002 --> 00:02:18.008
so you'll want to go check your email for that

51
00:02:18.008 --> 00:02:25.006
and confirm that it is a valid email address.

52
00:02:25.006 --> 00:02:28.005
After you've done that, you can just click here

53
00:02:28.005 --> 00:02:32.006
and go back into the Developer Portal.

54
00:02:32.006 --> 00:02:36.000
And here's where we can begin to create our project

55
00:02:36.000 --> 00:02:38.006
and register our client.

56
00:02:38.006 --> 00:02:41.004
So I'll go ahead, I'll click on, Create a Project

57
00:02:41.004 --> 00:02:43.009
and they want a name for our project.

58
00:02:43.009 --> 00:02:49.002
I'm just going to say, it's the Landon Hotel project.

59
00:02:49.002 --> 00:02:51.008
They'll want to know how we're using this.

60
00:02:51.008 --> 00:02:54.006
So I'm going to say this is for teaching

61
00:02:54.006 --> 00:02:56.004
and then click Next.

62
00:02:56.004 --> 00:02:59.008
I'll then paste in our product description

63
00:02:59.008 --> 00:03:01.007
which is the blurb that I've been entering

64
00:03:01.007 --> 00:03:03.005
throughout the process.

65
00:03:03.005 --> 00:03:06.007
And then finally, we need to provide an app name.

66
00:03:06.007 --> 00:03:11.001
I'm going to call this the landon-hotel-monitor

67
00:03:11.001 --> 00:03:14.000
and hit Complete.

68
00:03:14.000 --> 00:03:17.005
So at the end of all that we get the keys.

69
00:03:17.005 --> 00:03:23.003
So, these keys are part of the OAuth2 security scheme.

70
00:03:23.003 --> 00:03:26.006
Specifically the client credentials grant.

71
00:03:26.006 --> 00:03:30.003
Under normal circumstances the OAuth flow

72
00:03:30.003 --> 00:03:33.002
would require us to provide the API key

73
00:03:33.002 --> 00:03:37.004
and the API secret key to an endpoint

74
00:03:37.004 --> 00:03:39.009
where we would exchange those credentials

75
00:03:39.009 --> 00:03:42.004
for the bearer token.

76
00:03:42.004 --> 00:03:46.001
Now the Twitter developer platform has done that for us

77
00:03:46.001 --> 00:03:51.005
and all we need to do, is copy our bear token to continue.

78
00:03:51.005 --> 00:03:54.006
So keep that handy because we're going to make a call

79
00:03:54.006 --> 00:03:56.007
to the recent search endpoint

80
00:03:56.007 --> 00:04:01.001
using Postman to test out our new Twitter client.

81
00:04:01.001 --> 00:04:03.006
So here inside of the search tweets

82
00:04:03.006 --> 00:04:07.008
section of the documentation, click on the API Reference

83
00:04:07.008 --> 00:04:09.008
and then click on this endpoint.

84
00:04:09.008 --> 00:04:13.003
This takes us to the documentation for the recent search

85
00:04:13.003 --> 00:04:16.007
and we can find everything we need to make a call.

86
00:04:16.007 --> 00:04:18.000
To make it a little bit easier,

87
00:04:18.000 --> 00:04:20.006
I'm going to put it side by side with Postman,

88
00:04:20.006 --> 00:04:24.007
but we're first going to satisfy the security requirements

89
00:04:24.007 --> 00:04:26.008
of the Twitter API.

90
00:04:26.008 --> 00:04:29.009
To do that, just click on the authorization tab

91
00:04:29.009 --> 00:04:35.002
within Postman and then in this dropdown select OAuth 2.0

92
00:04:35.002 --> 00:04:39.006
because that's the security scheme used by the Twitter API.

93
00:04:39.006 --> 00:04:44.004
Now you should still have the bearer token in your clipboard

94
00:04:44.004 --> 00:04:48.005
from our work in the Twitter developer platform console.

95
00:04:48.005 --> 00:04:53.006
So just right click inside of the access token text box

96
00:04:53.006 --> 00:04:55.004
and paste your bearer token.

97
00:04:55.004 --> 00:04:58.004
Now let's talk a little bit about what this does.

98
00:04:58.004 --> 00:05:00.009
This will cause our bearer token

99
00:05:00.009 --> 00:05:04.000
to be sent in the HTTP request

100
00:05:04.000 --> 00:05:07.002
in a header named Authorization.

101
00:05:07.002 --> 00:05:10.008
And the value for that header will be bare space

102
00:05:10.008 --> 00:05:13.001
and then the token that we've provided.

103
00:05:13.001 --> 00:05:18.007
And this is how you pass tokens when you're using OAuth 2.0.

104
00:05:18.007 --> 00:05:23.005
So we satisfied the security scheme for the Twitter API,

105
00:05:23.005 --> 00:05:26.001
let's keep building the request.

106
00:05:26.001 --> 00:05:29.002
To do that, I'm going to return to the documentation

107
00:05:29.002 --> 00:05:33.006
and I'm going to copy the end point for recent search

108
00:05:33.006 --> 00:05:36.009
and then I'll just paste it here in this text box.

109
00:05:36.009 --> 00:05:39.007
Now, if we scroll down in the docs,

110
00:05:39.007 --> 00:05:45.001
you'll find the one required parameter named Query.

111
00:05:45.001 --> 00:05:48.002
So let's go ahead and within Postman,

112
00:05:48.002 --> 00:05:51.000
we can add that query parameter

113
00:05:51.000 --> 00:05:54.002
by clicking on the Params tab

114
00:05:54.002 --> 00:05:57.002
and then typing the name of the parameter here.

115
00:05:57.002 --> 00:06:02.001
Now this parameter is going to contain key words

116
00:06:02.001 --> 00:06:05.001
that will determine the tweets

117
00:06:05.001 --> 00:06:09.004
that are returned in the response from the Twitter API.

118
00:06:09.004 --> 00:06:15.005
So I'm interested in LinkedIn technology articles.

119
00:06:15.005 --> 00:06:18.006
You can put whatever terms you're interested in

120
00:06:18.006 --> 00:06:21.002
in that value textbox.

121
00:06:21.002 --> 00:06:23.005
Now, when I click on the Send button,

122
00:06:23.005 --> 00:06:25.000
it's going to fire off the call

123
00:06:25.000 --> 00:06:27.003
and we're going to get some tweets back.

124
00:06:27.003 --> 00:06:31.006
So here we see a tweet that came back in the array

125
00:06:31.006 --> 00:06:34.002
and I want to point out something about that tweet.

126
00:06:34.002 --> 00:06:37.005
You'll notice it only has the two base properties,

127
00:06:37.005 --> 00:06:40.000
ID and Text.

128
00:06:40.000 --> 00:06:42.003
We can use another parameter

129
00:06:42.003 --> 00:06:45.005
the tweet.fields parameter.

130
00:06:45.005 --> 00:06:49.008
This is one of those parameters that has the field suffix

131
00:06:49.008 --> 00:06:53.008
so we can use it to shape the response that we get back.

132
00:06:53.008 --> 00:06:57.000
So I'm going to say that I would like the author ID

133
00:06:57.000 --> 00:07:01.007
to be included, by typing in author_id.

134
00:07:01.007 --> 00:07:04.007
Now watch what happens when I send off this call.

135
00:07:04.007 --> 00:07:08.004
Now the JSON for the tweet in the response

136
00:07:08.004 --> 00:07:10.004
contains the author ID.

137
00:07:10.004 --> 00:07:14.000
So, we were able to shape the data that gets sent back

138
00:07:14.000 --> 00:07:17.003
by the Twitter API in the response body.

139
00:07:17.003 --> 00:07:19.002
That's pretty cool.

140
00:07:19.002 --> 00:07:23.001
It's a few steps to register a client with the Twitter API,

141
00:07:23.001 --> 00:07:25.002
however, once you're past those hurdles

142
00:07:25.002 --> 00:07:27.006
you can access a wealth of data

143
00:07:27.006 --> 00:07:30.007
that are applicable for a variety of used cases.

144
00:07:30.007 --> 00:07:34.000
We'll see a few of those in action in the upcoming lessons.

