1
00:00:00,840 --> 00:00:04,450
[Autogenerated] we just got done talking about application load balancers.

2
00:00:04,450 --> 00:00:07,640
So let's look at the network load balancing offer.

3
00:00:07,640 --> 00:00:07,890
Now.

4
00:00:07,890 --> 00:00:11,510
The network load balancer is a high performance load

5
00:00:11,510 --> 00:00:14,910
balancer offered to us by a W S.

6
00:00:14,910 --> 00:00:19,160
It allows us to focus on the networking layer of the

7
00:00:19,160 --> 00:00:22,320
traffic as opposed to the application layer.

8
00:00:22,320 --> 00:00:23,600
And due to this,

9
00:00:23,600 --> 00:00:28,110
it means there's less overhead for routing the traffic in

10
00:00:28,110 --> 00:00:32,150
that results in a much higher performance than a typical a

11
00:00:32,150 --> 00:00:34,640
LB or classic load balancer.

12
00:00:34,640 --> 00:00:35,610
So let me go ahead.

13
00:00:35,610 --> 00:00:39,780
I want to create and then we give it a name, so I'll just call it Web server.

14
00:00:39,780 --> 00:00:41,110
LB.

15
00:00:41,110 --> 00:00:43,140
We can choose internal or Internet.

16
00:00:43,140 --> 00:00:46,560
I'll do Internet and then we have our listeners.

17
00:00:46,560 --> 00:00:50,770
So it shares a similar component to an application load balancer.

18
00:00:50,770 --> 00:00:52,030
Except for this time,

19
00:00:52,030 --> 00:00:55,680
we choose the protocol that resides on the network

20
00:00:55,680 --> 00:01:00,610
clear so we can specify T c p t l s.

21
00:01:00,610 --> 00:01:04,640
There's UDP in t c p u T P.

22
00:01:04,640 --> 00:01:09,000
Now, even though it's on the same port as http,

23
00:01:09,000 --> 00:01:14,060
it's inspecting for a TCP traffic as opposed to an application layer.

24
00:01:14,060 --> 00:01:17,860
Http application routing protocol.

25
00:01:17,860 --> 00:01:23,190
So I'll choose t l s it shows 443 which is the default.

26
00:01:23,190 --> 00:01:25,880
And then we choose our availability zones.

27
00:01:25,880 --> 00:01:30,170
So we want to spread this across multiple availability zones for

28
00:01:30,170 --> 00:01:33,110
highly available infrastructure deployment.

29
00:01:33,110 --> 00:01:38,440
I'll click on next, and this is where we can configure our security settings.

30
00:01:38,440 --> 00:01:40,980
So this is what we would have seen on R A l.

31
00:01:40,980 --> 00:01:41,540
B.

32
00:01:41,540 --> 00:01:47,140
Had I configured a secure listener upon creation of the load balancer,

33
00:01:47,140 --> 00:01:52,540
I'll use the same cert in the same policy and I'll move to configure routing.

34
00:01:52,540 --> 00:01:55,940
And now we can create a new target group for this network.

35
00:01:55,940 --> 00:01:59,670
Load balancer Sokol is nlb A.

36
00:01:59,670 --> 00:02:03,200
We can choose instances or I p ease.

37
00:02:03,200 --> 00:02:04,840
We can do our protocol.

38
00:02:04,840 --> 00:02:10,350
So T l s or TCP in the port that were routing to And

39
00:02:10,350 --> 00:02:12,310
then we have our health check protocol.

40
00:02:12,310 --> 00:02:14,540
Now this allows some flexibility.

41
00:02:14,540 --> 00:02:17,500
We can look at application layer health checks or we

42
00:02:17,500 --> 00:02:19,740
can do networking health checks.

43
00:02:19,740 --> 00:02:22,250
And the advanced settings are similar to an ale.

44
00:02:22,250 --> 00:02:25,180
Be just with a fewer options.

45
00:02:25,180 --> 00:02:29,400
So I'll go to register targets and in here I'll go

46
00:02:29,400 --> 00:02:32,750
ahead and post an I P address.

47
00:02:32,750 --> 00:02:35,140
Now, this is one of our instances in our auto.

48
00:02:35,140 --> 00:02:41,410
Skilling group and you can see we register based on I P Not instance.

49
00:02:41,410 --> 00:02:45,730
So it's registering the I P address on Port 80 in US

50
00:02:45,730 --> 00:02:48,410
East to a So I click on review.

51
00:02:48,410 --> 00:02:54,470
I'll click on Create I'll click on Clothes and then another thing

52
00:02:54,470 --> 00:02:59,170
we have to do is I have to edit our Route 53 record for that W W

53
00:02:59,170 --> 00:03:01,800
W record that we created earlier.

54
00:03:01,800 --> 00:03:05,150
So a copy the network low balance her D N s.

55
00:03:05,150 --> 00:03:10,520
I'll go to Route 53 Let me go to my zone and edit this W W W

56
00:03:10,520 --> 00:03:14,480
record and I just swap it to the Web server.

57
00:03:14,480 --> 00:03:15,220
LB.

58
00:03:15,220 --> 00:03:18,950
It's the same thing a C name for W W W.

59
00:03:18,950 --> 00:03:21,700
I'll save it and then let me close.

60
00:03:21,700 --> 00:03:25,400
Now if I open a new tab, I should be able to get to my website.

61
00:03:25,400 --> 00:03:26,110
Right?

62
00:03:26,110 --> 00:03:27,700
Well, wrong.

63
00:03:27,700 --> 00:03:32,900
So one key critical difference here is that with the network load balancer,

64
00:03:32,900 --> 00:03:38,460
you may have noticed we don't specify a security group like we do with an a l.

65
00:03:38,460 --> 00:03:39,340
B.

66
00:03:39,340 --> 00:03:44,650
By all intensive purposes, a network load balancer is invisible to the Internet.

67
00:03:44,650 --> 00:03:47,610
Compared to a application load balancer,

68
00:03:47,610 --> 00:03:53,130
it's strictly quickly routes traffic and balances it across back in Compute.

69
00:03:53,130 --> 00:03:53,750
Now, a new,

70
00:03:53,750 --> 00:03:57,830
important key factor here is you can assign a static

71
00:03:57,830 --> 00:04:02,490
i p to a network load balancer, and that's a newer addition.

72
00:04:02,490 --> 00:04:06,090
But you could be tested over it by a W s.

73
00:04:06,090 --> 00:04:09,420
So what I want to do is I want to go to security groups,

74
00:04:09,420 --> 00:04:12,140
locate my application servers.

75
00:04:12,140 --> 00:04:14,200
I want to edit my rules,

76
00:04:14,200 --> 00:04:25,390
and I want to allow http and https from anywhere I'll click on Save.

77
00:04:25,390 --> 00:04:26,900
I'll go back to load balancers.

78
00:04:26,900 --> 00:04:28,240
For now,

79
00:04:28,240 --> 00:04:30,970
we see our listener configured with our certain So let

80
00:04:30,970 --> 00:04:35,140
me go back to my tab and there we go.

81
00:04:35,140 --> 00:04:37,480
So after a little bit of time, for instance,

82
00:04:37,480 --> 00:04:42,220
is registered, and now we get that same Apache Web server screen.

83
00:04:42,220 --> 00:04:44,740
Let me go to PHP info.

84
00:04:44,740 --> 00:04:46,590
And there you go.

85
00:04:46,590 --> 00:04:49,950
We've now compared and network load balancer with a secure

86
00:04:49,950 --> 00:04:54,800
listener fording traffic to a target group which hosts an

87
00:04:54,800 --> 00:04:57,480
auto Skilling group on the back end.

88
00:04:57,480 --> 00:04:57,690
Now,

89
00:04:57,690 --> 00:05:02,940
one key difference here to keep in mind is that with a network load balancer,

90
00:05:02,940 --> 00:05:09,970
you can maintain a consistent single encrypted connection from client to server,

91
00:05:09,970 --> 00:05:14,470
an application load balancer breaks apart that encryption at the

92
00:05:14,470 --> 00:05:19,040
load balancer level and does SSL offloading?

93
00:05:19,040 --> 00:05:21,750
Now that's a common scenario to get tested over.

94
00:05:21,750 --> 00:05:25,690
So be sure to research and read about the differences

95
00:05:25,690 --> 00:05:29,140
on configuration for SSL traffic.

96
00:05:29,140 --> 00:05:33,820
And another common scenario is you might have an application

97
00:05:33,820 --> 00:05:36,590
load balancer at your Web server level.

98
00:05:36,590 --> 00:05:39,240
So the public is hitting that.

99
00:05:39,240 --> 00:05:40,410
And then on the back end,

100
00:05:40,410 --> 00:05:44,960
you may have some back in servers or application servers servicing

101
00:05:44,960 --> 00:05:48,940
requests that are attached to a network load balancer.

102
00:05:48,940 --> 00:05:53,160
So you have a layer of low balancers with servers in between,

103
00:05:53,160 --> 00:05:55,780
similar to this diagram here.

104
00:05:55,780 --> 00:06:00,240
That's gonna go ahead and do it for this demo on network load balancers.

105
00:06:00,240 --> 00:06:02,550
Let's go ahead and move on to the module,

106
00:06:02,550 --> 00:06:12,000
wrap up and review where we'll review what we learned throughout this module. Quickly before we move on to the last module

