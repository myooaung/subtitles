WEBVTT
1
00:00:00.050 --> 00:00:03.030
- [Instructor] The ability to manage multiple versions

2
00:00:03.030 --> 00:00:07.000
of an API definition is an important SwaggerHub feature

3
00:00:07.000 --> 00:00:09.060
because it prevents us from breaking systems

4
00:00:09.060 --> 00:00:12.010
that consume our APIs.

5
00:00:12.010 --> 00:00:13.050
SwaggerHub allows us

6
00:00:13.050 --> 00:00:19.030
to strategically version our API definitions

7
00:00:19.030 --> 00:00:24.040
to deprecate old versions

8
00:00:24.040 --> 00:00:27.050
To get started, let's publish the first version

9
00:00:27.050 --> 00:00:30.000
of the customer API.

10
00:00:30.000 --> 00:00:38.070
Publishing is performed when an API is deemed ready

11
00:00:38.070 --> 00:00:46.070
at the top of our editor screen

12
00:00:46.070 --> 00:00:49.070
If we click on that option, you'll see

13
00:00:49.070 --> 00:02:03.040
that we can select the visibility of the API.

14
00:02:03.040 --> 00:02:06.000
So you'll notice there's a standard

15
00:02:06.000 --> 00:02:09.040
that must be applied for this numbering convention.

16
00:02:09.040 --> 00:02:12.090
So we're going to use 2.0.0

17
00:02:12.090 --> 00:02:15.060
and then we can specify whether

18
00:02:15.060 --> 00:02:19.050
or not we would like it to be visible to the public

19
00:02:19.050 --> 00:02:21.080
or whether we would like it to be private.

20
00:02:21.080 --> 00:02:23.005
Since we're just working on this,

21
00:02:23.005 --> 00:02:23.050
I'm going to set it to private so

22
00:02:23.050 --> 00:02:25.006
I'm going to set it to private so

23
00:02:25.006 --> 00:02:25.060
that it's not publicly exposed for external consumption.

24
00:02:25.060 --> 00:02:29.000
that it's not publicly exposed for external consumption.

25
00:02:29.000 --> 00:02:29.000
We can then go ahead and create this new version.

26
00:02:29.000 --> 00:02:32.003
We can then go ahead and create this new version.

27
00:02:32.003 --> 00:02:32.030
And you'll now notice that if we'd like

28
00:02:32.030 --> 00:02:34.008
And you'll now notice that if we'd like

29
00:02:34.008 --> 00:02:34.080
to make a change, we can go ahead and do that

30
00:02:34.080 --> 00:02:37.005
to make a change, we can go ahead and do that

31
00:02:37.005 --> 00:02:37.050
because it hasn't been published yet.

32
00:02:37.050 --> 00:02:40.000
because it hasn't been published yet.

33
00:02:40.000 --> 00:02:40.000
So let's make some enhancements to our API definition.

34
00:02:40.000 --> 00:02:44.008
So let's make some enhancements to our API definition.

35
00:02:44.008 --> 00:02:44.080
You'll notice that we have the name property

36
00:02:44.080 --> 00:02:49.000
You'll notice that we have the name property

37
00:02:49.000 --> 00:02:49.000
and it's not really not a good idea

38
00:02:49.000 --> 00:02:50.009
and it's not really not a good idea

39
00:02:50.009 --> 00:02:50.090
to have the first and last name in the same field.

40
00:02:50.090 --> 00:02:54.004
to have the first and last name in the same field.

41
00:02:54.004 --> 00:02:58.000
So let's change this over to first name

42
00:02:58.000 --> 00:02:58.000
and we'll make that John.

43
00:02:58.000 --> 00:03:00.009
and we'll make that John.

44
00:03:00.009 --> 00:03:00.090
And then we're going to add a last name property

45
00:03:00.090 --> 00:03:05.006
And then we're going to add a last name property

46
00:03:05.006 --> 00:03:09.006
of type string and for the example,

47
00:03:09.006 --> 00:03:12.005
we can specify that it's John Smith.

48
00:03:12.005 --> 00:03:17.001
And then here, we'll need to update our required properties.

49
00:03:17.001 --> 00:03:21.004
So we can switch that over to first name and then last name.

50
00:03:21.004 --> 00:03:26.001
And at this point, our API definition should be valid.

51
00:03:26.001 --> 00:03:29.005
And we will be able to see the changes

52
00:03:29.005 --> 00:03:33.007
within our interactive API documentation,

53
00:03:33.007 --> 00:03:35.006
including our schema section,

54
00:03:35.006 --> 00:03:40.006
which defines these two new required properties.

55
00:03:40.006 --> 00:03:43.003
Okay, so our changes have been made.

56
00:03:43.003 --> 00:03:45.005
Let's go ahead and save them.

57
00:03:45.005 --> 00:03:49.004
So at this point, they are saved within SwaggerHub

58
00:03:49.004 --> 00:03:54.000
and we're ready to publish this new API version.

59
00:03:54.000 --> 00:03:57.005
So all we have to do is click on publish API

60
00:03:57.005 --> 00:03:59.005
and I think it's ready for primetime.

61
00:03:59.005 --> 00:04:02.008
So let's open it up outside of our organization.

62
00:04:02.008 --> 00:04:05.001
So we'll switch it over to public

63
00:04:05.001 --> 00:04:08.002
and then click on publish version.

64
00:04:08.002 --> 00:04:15.005
Okay, so at this point, we now have two versions of our API.

65
00:04:15.005 --> 00:04:18.004
When we have multiple versions of an API,

66
00:04:18.004 --> 00:04:18.040
SwaggerHub provides an extremely nice feature.

67
00:04:18.040 --> 00:04:21.005
SwaggerHub provides an extremely nice feature.

68
00:04:21.005 --> 00:04:21.050
Here you'll see the compare versions tool that's located

69
00:04:21.050 --> 00:04:26.008
Here you'll see the compare versions tool that's located

70
00:04:26.008 --> 00:04:26.080
underneath the version number within the editor.

71
00:04:26.080 --> 00:04:30.001
underneath the version number within the editor.

72
00:04:30.001 --> 00:04:30.010
Within this tool, we see a diff

73
00:04:30.010 --> 00:04:32.008
Within this tool, we see a diff

74
00:04:32.008 --> 00:04:32.080
of the two different API versions so

75
00:04:32.080 --> 00:04:35.001
of the two different API versions so

76
00:04:35.001 --> 00:04:35.010
that we can easily see what's different between them.

77
00:04:35.010 --> 00:04:38.007
that we can easily see what's different between them.

78
00:04:38.007 --> 00:04:38.070
You'll also notice that SwaggerHub has

79
00:04:38.070 --> 00:04:41.003
You'll also notice that SwaggerHub has

80
00:04:41.003 --> 00:04:41.030
automatically updated the version of our new API definition.

81
00:04:41.030 --> 00:04:46.007
automatically updated the version of our new API definition.

82
00:04:46.007 --> 00:04:46.070
And if we would like, we can go ahead

83
00:04:46.070 --> 00:04:49.001
And if we would like, we can go ahead

84
00:04:49.001 --> 00:04:49.010
and apply changes within this diff tool.

85
00:04:49.010 --> 00:04:53.000
and apply changes within this diff tool.

86
00:04:53.000 --> 00:04:53.000
Now I'm not going to revert back to our first version.

87
00:04:53.000 --> 00:04:56.007
Now I'm not going to revert back to our first version.

88
00:04:56.007 --> 00:04:56.070
So I'll go ahead and undo this option and then cancel out.

89
00:04:56.070 --> 00:05:01.008
So I'll go ahead and undo this option and then cancel out.

90
00:05:01.008 --> 00:05:01.080
So in this lesson, we saw how to publish versions

91
00:05:01.080 --> 00:05:05.002
So in this lesson, we saw how to publish versions

92
00:05:05.002 --> 00:05:05.020
of our API definitions and how to diff them to see changes.

93
00:05:05.020 --> 00:05:10.000
of our API definitions and how to diff them to see changes.

