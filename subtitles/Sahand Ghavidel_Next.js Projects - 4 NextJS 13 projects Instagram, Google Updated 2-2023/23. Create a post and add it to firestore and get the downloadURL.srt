1
00:00:07,380 --> 00:00:14,130
All right, in the last section, we have completed the moral part of our application.

2
00:00:14,820 --> 00:00:23,670
So by clicking on the plus circle icon, now we can see and model and we can upload an image.

3
00:00:25,120 --> 00:00:28,510
Choose an image and you can see the preview of the image here.

4
00:00:29,830 --> 00:00:30,400
So let's.

5
00:00:33,460 --> 00:00:36,610
Check the final version of the project and.

6
00:00:37,900 --> 00:00:42,430
No, I just emptied all the posts, so there's no post here.

7
00:00:43,280 --> 00:00:53,140
And let's go to the database and show you to how we upload and hand new posts to the database.

8
00:00:53,950 --> 00:00:58,780
So for being doing that, we just search Firebase.

9
00:01:01,570 --> 00:01:05,080
We go to Firebase that google.com.

10
00:01:08,290 --> 00:01:13,960
Make sure to sign in with the right account, and my account is this one.

11
00:01:15,200 --> 00:01:16,370
So.

12
00:01:17,710 --> 00:01:19,690
And then you go to console.

13
00:01:25,420 --> 00:01:26,620
So in the council.

14
00:01:29,430 --> 00:01:37,570
This final version actually working with this database east of version one and no.

15
00:01:37,590 --> 00:01:40,680
Our application is on instead of version four.

16
00:01:41,340 --> 00:01:44,510
So just don't get confused for this.

17
00:01:44,520 --> 00:01:46,490
No, this is the final version.

18
00:01:46,500 --> 00:01:48,660
This is the one that we are working on.

19
00:01:49,710 --> 00:01:51,930
So we click on install version one.

20
00:01:52,960 --> 00:01:56,290
Make sure here you have installed version one at the top.

21
00:01:57,310 --> 00:02:02,140
We go to we have to work with two things now in this application.

22
00:02:02,650 --> 00:02:05,320
First one is Firebase Database.

23
00:02:07,390 --> 00:02:11,320
Which is now it's completely empty because I have deleted everything.

24
00:02:11,980 --> 00:02:15,790
And also we are working with the storage.

25
00:02:16,870 --> 00:02:20,170
And storage is should be empty as well.

26
00:02:21,670 --> 00:02:29,410
So when we upload something in our web site, let's try to upload an image.

27
00:02:32,970 --> 00:02:37,050
And then we just added a caption like.

28
00:02:38,190 --> 00:02:39,150
Sunset.

29
00:02:41,660 --> 00:02:44,720
And we applaud the post.

30
00:02:49,500 --> 00:02:56,670
Now, all we can see the post in our application, and if you check the database and we refresh the

31
00:02:56,670 --> 00:02:58,200
page for the first time.

32
00:03:02,380 --> 00:03:05,680
We should see a new post.

33
00:03:06,740 --> 00:03:10,220
So we just wait for a while to get loaded.

34
00:03:15,880 --> 00:03:24,930
And see what happens, yeah, now we have the cloud in the Firebase database, we have the post collection

35
00:03:25,890 --> 00:03:33,360
and the Post Collection has one post the first one this it's automatically generated by Firebase.

36
00:03:34,050 --> 00:03:39,890
So as you can see, the the first one, the first post has the caption sunset.

37
00:03:40,620 --> 00:03:45,450
It has the image URL, which is coming from the storage part.

38
00:03:46,290 --> 00:03:48,000
So if you go to the storage?

39
00:03:50,190 --> 00:03:57,930
We can see there is a folder is added called posts inside of the post we have.

40
00:03:58,990 --> 00:04:00,220
An I.D..

41
00:04:01,260 --> 00:04:03,660
For the image and we have an image.

42
00:04:04,850 --> 00:04:05,450
Which?

43
00:04:08,830 --> 00:04:15,880
The URL should be the same as the one here, because you can see the URL at the bottom here.

44
00:04:16,810 --> 00:04:17,650
This section?

45
00:04:19,300 --> 00:04:22,240
So the number is 75 at the end.

46
00:04:22,810 --> 00:04:24,250
And if you look at the.

47
00:04:26,660 --> 00:04:27,620
Database.

48
00:04:32,070 --> 00:04:35,310
The URL should be the same as the seven five at the end.

49
00:04:36,000 --> 00:04:42,780
So we upload the image to storage and we get the your URL and add it to this collection.

50
00:04:43,560 --> 00:04:48,060
The other things we have is the profile image, which is coming from Google.

51
00:04:49,760 --> 00:04:50,960
This image here.

52
00:04:52,760 --> 00:05:00,290
That could be used here in the post and user name, which is this one.

53
00:05:00,380 --> 00:05:03,260
And also we have the time stamps.

54
00:05:03,920 --> 00:05:12,740
The time stamp actually is the current time that the time that the post is uploaded to exactly that

55
00:05:12,740 --> 00:05:13,040
time.

56
00:05:15,850 --> 00:05:21,250
So, uh, let's upload another image with different accounts.

57
00:05:21,700 --> 00:05:24,030
So we go out, we sign in with the.

58
00:05:25,540 --> 00:05:27,940
My other two male.

59
00:05:31,240 --> 00:05:33,040
This one caught with the hand.

60
00:05:35,810 --> 00:05:41,720
No, we upload a different image, for example, the second one.

61
00:05:43,110 --> 00:05:44,250
The nice.

62
00:05:45,990 --> 00:05:46,440
There.

63
00:05:49,630 --> 00:05:52,780
And as soon as we click on Upload Post.

64
00:05:55,760 --> 00:06:06,710
We see the image here with the capture and then you check the Firebase database, we have this second

65
00:06:06,710 --> 00:06:07,280
post.

66
00:06:08,410 --> 00:06:12,130
Which has the caption, the image, URL and everything.

67
00:06:13,160 --> 00:06:17,180
And a storage to a storage should have a two.

68
00:06:19,470 --> 00:06:19,740
Yeah.

69
00:06:20,790 --> 00:06:21,090
Yeah.

70
00:06:21,150 --> 00:06:24,900
Two images, the first one and the second one.

71
00:06:28,180 --> 00:06:33,540
All right, now, we can click here and see the image inside the browser as well.

72
00:06:36,620 --> 00:06:45,040
All right, so let's do the same things for our own applications, so our applications name was instead

73
00:06:45,050 --> 00:06:46,040
version four.

74
00:06:46,640 --> 00:06:49,250
So we go to installation for.

75
00:06:52,170 --> 00:06:54,510
And first, you create the database.

76
00:06:57,140 --> 00:07:02,270
So this is the thing you you're going to see if you're doing the first time.

77
00:07:02,900 --> 00:07:04,700
So we create the database.

78
00:07:05,820 --> 00:07:14,760
We start with the test mode that doesn't have any security rule, but people can see your database public,

79
00:07:15,240 --> 00:07:17,040
make sure to change it later.

80
00:07:17,760 --> 00:07:26,100
So but for now, for one month, that gives us the chance to allow to have our data deleted.

81
00:07:26,700 --> 00:07:27,290
Read it.

82
00:07:27,540 --> 00:07:31,380
Other things So we just go to the test mode for now.

83
00:07:33,730 --> 00:07:43,000
And just leave it as us or whatever you want, if you're in Europe, you choose Europe and we enable

84
00:07:43,000 --> 00:07:43,300
it.

85
00:07:50,120 --> 00:07:53,120
So it takes a few minutes to finish this.

86
00:07:53,420 --> 00:08:01,400
And then after this, we're going to do the for the storage part as well.

87
00:08:03,720 --> 00:08:04,280
All right.

88
00:08:04,830 --> 00:08:09,660
The database is created, no, it's empty completely.

89
00:08:10,680 --> 00:08:12,720
Then we go to a storage part.

90
00:08:16,390 --> 00:08:22,480
Make sure to change the rules here as well, because the rules.

91
00:08:25,140 --> 00:08:25,590
And.

92
00:08:28,160 --> 00:08:30,260
We just allow, read and write.

93
00:08:31,680 --> 00:08:35,520
Uh, we don't need this phone to we just delete this one.

94
00:08:37,600 --> 00:08:38,050
So.

95
00:08:39,770 --> 00:08:46,700
This this way, you can be can easily do our uploading, reading everything.

96
00:08:47,300 --> 00:08:50,390
But this is not the way this is.

97
00:08:51,000 --> 00:08:54,230
We're going to change this and update this on later.

98
00:08:54,590 --> 00:08:57,050
But for now, you just allow, read and write.

99
00:08:58,030 --> 00:09:02,080
And now also, the files are completely empty as well.

100
00:09:03,950 --> 00:09:06,440
So now we are ready to applaud.

101
00:09:06,470 --> 00:09:08,570
So the first thing is we need to do.

102
00:09:08,990 --> 00:09:13,460
I want to add to the image.

103
00:09:14,350 --> 00:09:19,610
And if we look at our website, the.

104
00:09:21,390 --> 00:09:29,400
Here we want to get the caption and the image and also the user name.

105
00:09:30,600 --> 00:09:34,860
Image and the username and also the user profile.

106
00:09:35,880 --> 00:09:39,120
So first, we need to get the caption we didn't do it.

107
00:09:40,500 --> 00:09:41,880
In the last video.

108
00:09:42,840 --> 00:09:45,510
So in the input related to caption.

109
00:09:48,120 --> 00:09:49,440
Here we had a riff.

110
00:09:51,600 --> 00:09:52,830
Reference to.

111
00:09:55,230 --> 00:09:56,250
Caption.

112
00:09:58,910 --> 00:10:09,800
Riff, this is similar to what we have done to to the other input, we added the file picker here.

113
00:10:10,130 --> 00:10:15,740
Here we add the caption riff and we need to create it at the top as well.

114
00:10:16,310 --> 00:10:20,990
So here we created the if you remember, we did.

115
00:10:22,270 --> 00:10:26,510
For yeah, here we did for five, take care, the U.S user.

116
00:10:27,040 --> 00:10:32,130
We should do the same things for the caption riff as well, so we create a stir.

117
00:10:33,010 --> 00:10:39,160
And we call it caption riff and we use use riff.

118
00:10:40,450 --> 00:10:42,880
And we said it to be no at the beginning.

119
00:10:45,330 --> 00:10:54,840
As we are uploading, we need to add another estate called Loading, which helps us to prevent the.

120
00:10:56,240 --> 00:11:00,320
The user to upload more than one image at the same time.

121
00:11:00,360 --> 00:11:09,100
So here at the top, we create another stage we call it loading.

122
00:11:11,580 --> 00:11:14,280
As we get this suggestion from Pep nine.

123
00:11:15,350 --> 00:11:24,140
So we have loading, said loading, and the use uses state and the first to initial value is false.

124
00:11:24,470 --> 00:11:25,550
So it's not loading.

125
00:11:27,620 --> 00:11:34,130
So and then in the bar, in the button, we we made it this table.

126
00:11:35,240 --> 00:11:36,530
Let's check with you.

127
00:11:38,950 --> 00:11:45,580
So it's already it's disabled by default, but we don't want it to be disabled always, we want it to

128
00:11:45,580 --> 00:11:48,520
be disabled when the person is loading the.

129
00:11:49,860 --> 00:12:06,590
An image or when when there is no caption or other things, so so here we just say we we we must be

130
00:12:06,600 --> 00:12:14,340
equal this to we just say if there's no selected file or.

131
00:12:17,620 --> 00:12:19,270
Loading, It's true.

132
00:12:19,720 --> 00:12:24,490
So it would be disabled, otherwise it would be enabled.

133
00:12:26,330 --> 00:12:27,110
So now.

134
00:12:28,720 --> 00:12:39,130
This is disabled, but as soon as we, uh, we write down something in the caption, and it should be.

135
00:12:39,640 --> 00:12:44,650
And then the file is in there, the image you get enabled.

136
00:12:44,680 --> 00:12:47,950
So we try this, we choose an image.

137
00:12:51,070 --> 00:12:59,420
You can see that when the image comes, it's enabled, we can upload the actually post without any capture.

138
00:12:59,500 --> 00:13:02,380
That is fine, but we can make this rule as well.

139
00:13:02,380 --> 00:13:06,640
So we have to add another state for the caption to.

140
00:13:06,670 --> 00:13:08,500
But it's it's not important.

141
00:13:09,730 --> 00:13:16,090
Mostly, people can upload an image in Instagram, as far as I know.

142
00:13:17,210 --> 00:13:19,160
Without any capture.

143
00:13:20,380 --> 00:13:20,800
All right.

144
00:13:21,520 --> 00:13:30,790
So in the bottom, the other things we need to add is an unclear to call a function and if the function

145
00:13:30,790 --> 00:13:32,920
would be upload.

146
00:13:34,280 --> 00:13:34,830
Post.

147
00:13:36,110 --> 00:13:37,970
Let's create the function at the top.

148
00:13:39,890 --> 00:13:44,840
So just under loading, the created loading.

149
00:13:46,280 --> 00:13:47,030
Yeah, here.

150
00:13:48,790 --> 00:13:50,950
We create another function.

151
00:13:51,070 --> 00:14:00,130
This function is async because we want to be sure that the that the post is uploaded.

152
00:14:00,460 --> 00:14:06,310
So we create a async function and we call it.

153
00:14:07,540 --> 00:14:08,710
Upload post.

154
00:14:17,960 --> 00:14:18,350
So.

155
00:14:19,480 --> 00:14:27,400
He added the loading and we say if it's loading, it means that if the loading is true, if somebody's

156
00:14:27,880 --> 00:14:38,980
already loading, something just returned to their function, so don't upload anymore post.

157
00:14:40,320 --> 00:14:46,390
This is going to prevent their users to upload more than one post at the same time.

158
00:14:46,410 --> 00:14:50,610
So first we wait until they're loading it off.

159
00:14:51,660 --> 00:14:56,550
So and then if the loading is false, set the loading to true.

160
00:14:58,550 --> 00:15:00,380
So now it's the time to.

161
00:15:01,480 --> 00:15:02,110
Load.

162
00:15:03,570 --> 00:15:05,370
So said the loading to True.

163
00:15:06,890 --> 00:15:13,910
And we're going to add the post to the database, so we create a constant.

164
00:15:14,900 --> 00:15:16,970
And we call it Doc.

165
00:15:18,730 --> 00:15:19,180
Riff.

166
00:15:21,430 --> 00:15:25,210
And a dark rift is going to be and wait.

167
00:15:31,170 --> 00:15:37,620
And we use at Dark I Talk is a building function for Firebase.

168
00:15:38,760 --> 00:15:41,520
So we open a set of practices and.

169
00:15:42,720 --> 00:15:46,040
We use country space to import that.

170
00:15:46,650 --> 00:15:51,480
We don't get any suggestion for importing at from Firebase.

171
00:15:52,110 --> 00:15:55,080
So we're going to import it manually.

172
00:15:56,010 --> 00:16:02,010
So here at the top, after the news, we're here, the import.

173
00:16:05,080 --> 00:16:08,890
A few things we we import at Doc.

174
00:16:11,860 --> 00:16:13,510
Which is coming from.

175
00:16:16,510 --> 00:16:18,610
This is coming from Firebase.

176
00:16:21,370 --> 00:16:23,720
Forward slash fire store.

177
00:16:28,190 --> 00:16:32,840
Probably we should get the import suggestion from now.

178
00:16:33,260 --> 00:16:36,680
So we got the start, let's continue with our.

179
00:16:37,710 --> 00:16:41,760
Could here that this function?

180
00:16:42,870 --> 00:16:46,860
So we're going to add a dog, but where do we want to do it?

181
00:16:47,980 --> 00:16:50,050
So it's going to be in a collection.

182
00:16:51,250 --> 00:16:57,470
The collection is a function as well, so we import it from five bags, five store.

183
00:16:57,490 --> 00:17:02,860
We click here and the collections would be a database.

184
00:17:06,640 --> 00:17:10,180
And the name of the database would be posts.

185
00:17:12,490 --> 00:17:14,680
So if you look at the final version.

186
00:17:15,900 --> 00:17:26,850
And the place I mean, the Insta version one, we can see that we have collection, the collection has

187
00:17:26,850 --> 00:17:34,680
a database, the database name is posts, and then each post has something called the.

188
00:17:36,040 --> 00:17:46,120
That document that these are documents, so we have a collection document and we have to field, all

189
00:17:46,290 --> 00:17:46,540
right.

190
00:17:48,890 --> 00:17:53,420
So let's go back to our application version for.

191
00:17:56,710 --> 00:17:59,100
So this is going to add.

192
00:18:00,710 --> 00:18:04,130
And the post to the database.

193
00:18:05,220 --> 00:18:07,890
And after this.

194
00:18:09,210 --> 00:18:15,810
We're going to specify the things we want to at the inside a set of curly braces.

195
00:18:15,840 --> 00:18:17,160
We're going to add this one.

196
00:18:17,970 --> 00:18:18,390
So.

197
00:18:19,930 --> 00:18:25,180
So the things we want to add here is the first we get the caption.

198
00:18:27,580 --> 00:18:35,020
The caption is coming from a caption riff that we have created now.

199
00:18:36,500 --> 00:18:38,810
Katherine RRIF current.

200
00:18:39,770 --> 00:18:43,400
Value current, that value.

201
00:18:45,050 --> 00:18:56,300
So let's try this and see if it works or not, so we go to our application and refresh the page to be

202
00:18:56,300 --> 00:18:57,170
signed in.

203
00:18:59,230 --> 00:19:02,830
So now we we just add an image.

204
00:19:04,240 --> 00:19:06,970
We are sorry about that.

205
00:19:07,610 --> 00:19:07,830
Yeah.

206
00:19:08,040 --> 00:19:08,560
Image.

207
00:19:12,470 --> 00:19:13,630
Oh, OK.

208
00:19:13,780 --> 00:19:14,620
Let's do it again.

209
00:19:16,730 --> 00:19:18,980
So we had an image here.

210
00:19:20,800 --> 00:19:22,120
And you just right.

211
00:19:23,320 --> 00:19:24,250
Sunset.

212
00:19:27,120 --> 00:19:35,040
The upload the posts, so we're getting an error, we said DB is not defined, DB is actually coming

213
00:19:35,040 --> 00:19:38,280
from, uh, Firebase as well.

214
00:19:40,010 --> 00:19:40,610
This one.

215
00:19:42,630 --> 00:19:44,770
So let's add it manually at the top.

216
00:19:44,820 --> 00:19:47,340
So TV is coming from.

217
00:19:54,050 --> 00:19:58,580
If you remember, we created a Firestorm file.

218
00:19:59,530 --> 00:20:02,950
Before here, maybe we can see it.

219
00:20:03,540 --> 00:20:04,470
It's not here.

220
00:20:05,410 --> 00:20:07,930
We often explore using controversy.

221
00:20:08,470 --> 00:20:16,150
If you remember, we created a file called Firebase that Jesus and the exported DP here, so exported

222
00:20:16,150 --> 00:20:20,800
DP is storage an app from this file.

223
00:20:21,190 --> 00:20:22,210
We need this one.

224
00:20:27,350 --> 00:20:36,800
Here, so we just imported from that place, which is coming back and the foul name is Firebase, that

225
00:20:37,010 --> 00:20:37,390
is good.

226
00:20:37,430 --> 00:20:41,150
We don't need to port put the duchess at the end.

227
00:20:42,140 --> 00:20:48,230
So uh, let's do the uploading again and see get any error.

228
00:20:49,340 --> 00:20:50,150
So we.

229
00:20:53,700 --> 00:20:55,860
Just right down care.

230
00:21:03,190 --> 00:21:05,320
So we checked the database.

231
00:21:06,910 --> 00:21:08,890
Refresh the page.

232
00:21:22,330 --> 00:21:24,460
We didn't hear it yet.

233
00:21:30,310 --> 00:21:32,320
Now, I think we didn't.

234
00:21:33,810 --> 00:21:34,740
Return.

235
00:21:35,810 --> 00:21:36,620
Let's check.

236
00:21:38,130 --> 00:21:42,270
The reason we are not getting that data.

237
00:21:43,620 --> 00:21:56,520
Is that in Firebase that yes, when we defined the environmental variable in next year in particular,

238
00:21:57,120 --> 00:22:00,060
not in react in next year, we need to at.

239
00:22:02,180 --> 00:22:08,360
Nick's underlying public underlying before this environmental are valuable.

240
00:22:09,170 --> 00:22:14,810
So we I paced this one at the beginning of all of their.

241
00:22:16,570 --> 00:22:18,910
And this is in Firebase touch, yes.

242
00:22:19,120 --> 00:22:21,340
And the concept is Firebase config.

243
00:22:24,870 --> 00:22:30,960
Make sure to add to all of them and environmental variable, file the foul call.

244
00:22:31,050 --> 00:22:32,790
That envy Ducklo call.

245
00:22:33,930 --> 00:22:35,810
We need to do the same thing as well.

246
00:22:36,250 --> 00:22:39,120
So here you're.

247
00:22:41,340 --> 00:22:44,220
Here, here and this one.

248
00:22:45,090 --> 00:22:47,100
So we save these files.

249
00:22:48,340 --> 00:22:54,070
And we closed them, and we need to restart the server because we changed things in the.

250
00:23:01,360 --> 00:23:05,560
Inside the in the fire, so it clear this.

251
00:23:07,640 --> 00:23:12,350
And we just used NPR and did to start the server again.

252
00:23:16,010 --> 00:23:21,050
Let's refresh the page in our local three thousand.

253
00:23:22,660 --> 00:23:32,440
And we now we add another image, we just write something like sunset.

254
00:23:35,470 --> 00:23:43,050
When we click upload posts, we should go and see it added to cloud five.

255
00:23:43,450 --> 00:23:45,010
No, it's empty.

256
00:23:45,310 --> 00:23:47,200
But if you refresh to Page.

257
00:23:48,890 --> 00:23:50,690
We should see a new.

258
00:23:51,990 --> 00:24:01,620
Collection, which is posed inside this collection, we have a document with this I.D., which has the

259
00:24:01,680 --> 00:24:05,060
only one field, which is sunset.

260
00:24:05,460 --> 00:24:09,150
The caption So it was successful.

261
00:24:10,260 --> 00:24:19,200
Next thing we need to do is to add more things like username, images and etc. forgetting the user name

262
00:24:19,200 --> 00:24:24,420
data we we can use, uh, a session.

263
00:24:25,560 --> 00:24:27,450
So we need to import session.

264
00:24:30,110 --> 00:24:32,690
Here we just write import.

265
00:24:34,160 --> 00:24:34,790
Used.

266
00:24:35,980 --> 00:24:41,560
Session from next hour.

267
00:24:42,220 --> 00:24:43,660
Forward slash react.

268
00:24:48,070 --> 00:24:49,570
And just.

269
00:24:51,640 --> 00:24:53,590
Here after the loading.

270
00:24:55,110 --> 00:25:05,520
We can create and get the fish data, so we agree on getting it as a data, but we named a data session

271
00:25:06,600 --> 00:25:08,850
and we call this to use.

272
00:25:13,130 --> 00:25:13,570
And.

273
00:25:15,360 --> 00:25:20,920
Now we can get the other details and add it to the database, too.

274
00:25:20,940 --> 00:25:30,990
So the next one, the next day, the user name, which is equal to session, don't use it to use any.

275
00:25:33,250 --> 00:25:43,150
Let's add in other things and see the results, so we add another image.

276
00:25:45,690 --> 00:25:46,380
We just.

277
00:25:48,670 --> 00:25:50,970
Nice pick.

278
00:25:54,380 --> 00:25:59,000
And upload the post we go to.

279
00:26:01,330 --> 00:26:07,650
And now you can see in other posts, document is added to the post collection.

280
00:26:08,910 --> 00:26:16,800
Which is nice peak, and it has the username as well, which is called it's the person who uploaded

281
00:26:16,800 --> 00:26:18,540
this post.

282
00:26:19,630 --> 00:26:23,440
Let's continue for the other things like.

283
00:26:26,010 --> 00:26:29,370
Profile image.

284
00:26:32,980 --> 00:26:37,850
Which is equal to sition death user, that image.

285
00:26:38,740 --> 00:26:48,130
And also the the last thing we would like to I would like to add is the time that the post is uploaded,

286
00:26:48,130 --> 00:26:56,140
but you can get this one easily by using built in function that fire base provides.

287
00:26:57,010 --> 00:27:00,340
So we just say time stamp

288
00:27:02,830 --> 00:27:05,650
is equal to server.

289
00:27:09,830 --> 00:27:12,890
Time stamp.

290
00:27:15,090 --> 00:27:18,690
And this is coming from Firebase forward slash firestorm.

291
00:27:20,280 --> 00:27:23,590
And we need to add apprentices at the event.

292
00:27:24,660 --> 00:27:27,450
No, we try a different.

293
00:27:28,450 --> 00:27:29,080
Image.

294
00:27:32,140 --> 00:27:34,930
Just choose one of them and just say.

295
00:27:36,110 --> 00:27:36,710
Bert.

296
00:27:39,310 --> 00:27:40,600
We upload the post.

297
00:27:42,010 --> 00:27:50,130
You go to the database, we can see a new one at a just and the caption is, but we get the profile

298
00:27:50,140 --> 00:27:50,620
image.

299
00:27:53,190 --> 00:27:58,080
And we are getting this timestamp, which is showing the current time.

300
00:27:59,760 --> 00:28:06,960
They've cut the time that is uploaded, which is a few seconds ago, and we have the user name.

301
00:28:08,630 --> 00:28:09,050
All right.

302
00:28:09,800 --> 00:28:12,470
So we finish with this part.

303
00:28:12,740 --> 00:28:19,070
Next one is to upload that image, which is here to this storage.

304
00:28:19,640 --> 00:28:21,980
So we haven't done that part yet.

305
00:28:22,400 --> 00:28:25,040
So our storage is completely empty.

306
00:28:26,810 --> 00:28:27,410
Uh.

307
00:28:29,260 --> 00:28:31,660
Yeah, actually, we have the something.

308
00:28:32,470 --> 00:28:35,080
Yeah, that is the positive test I've done.

309
00:28:35,610 --> 00:28:40,780
I can delete this, so it should be empty for you.

310
00:28:41,020 --> 00:28:47,920
So you go back to our code and we start implementing that.

311
00:28:48,760 --> 00:28:54,670
So in order to get upload the image after this adding the document.

312
00:28:55,770 --> 00:28:59,790
We will create a constant called image.

313
00:29:02,950 --> 00:29:03,810
Image with.

314
00:29:05,970 --> 00:29:15,630
And you call it the riff raff, is it building function as well, which is coming from the fireplace,

315
00:29:15,630 --> 00:29:16,350
a storage?

316
00:29:17,670 --> 00:29:18,150
Uh.

317
00:29:20,470 --> 00:29:23,080
That's you, we can all train imported, yeah.

318
00:29:23,740 --> 00:29:30,220
It's just, you know, it's the ref is from Firebase former slash storage, so we import it at a top.

319
00:29:31,220 --> 00:29:31,670
Here.

320
00:29:32,730 --> 00:29:36,000
And inside the riff, we need to.

321
00:29:37,120 --> 00:29:39,340
Get the historic data.

322
00:29:40,460 --> 00:29:50,390
Which is inside the Firebase 30th, if you remember, we export it as storage from gear to storage and

323
00:29:50,390 --> 00:29:56,180
exported from this file, so we're going to get this fund because we need the information of this storage

324
00:29:56,180 --> 00:30:02,480
because we need to lock a storage packet data or something like that.

325
00:30:03,260 --> 00:30:10,790
So here in the riff, we just write a storage and the important.

326
00:30:12,590 --> 00:30:13,760
Storage.

327
00:30:15,340 --> 00:30:20,680
It should be lower case and the imported from.

328
00:30:21,820 --> 00:30:23,920
It's not suggesting yet.

329
00:30:25,140 --> 00:30:28,320
But let's continue.

330
00:30:29,510 --> 00:30:32,120
So we add a comma here.

331
00:30:33,100 --> 00:30:33,340
Yeah.

332
00:30:33,410 --> 00:30:36,620
This is storage left added manually at the top.

333
00:30:37,880 --> 00:30:42,710
So we get the TB and the storage here.

334
00:30:43,340 --> 00:30:43,760
All right.

335
00:30:44,420 --> 00:30:51,380
So now we have this storage and then we need to specify the folder.

336
00:30:51,380 --> 00:30:55,460
We want to save the image.

337
00:30:56,510 --> 00:31:00,740
So we add a back take and we call the folder posts.

338
00:31:04,560 --> 00:31:06,870
Forward slash and we added that.

339
00:31:09,840 --> 00:31:14,010
I.D. and beach I.D. that the I.D. that we used.

340
00:31:15,230 --> 00:31:17,930
We are getting from here this talk riff.

341
00:31:18,110 --> 00:31:19,790
So we created the document.

342
00:31:20,330 --> 00:31:21,830
This document has an ID.

343
00:31:22,340 --> 00:31:34,730
So we will is storing the the image inside that I.D. document, the renamed the document Death I.D.

344
00:31:34,730 --> 00:31:37,670
to use the same I.D., which is DOC.

345
00:31:39,820 --> 00:31:46,650
Ref, I.D. So we have this talk, ref, you have created this and we get the idea.

346
00:31:47,830 --> 00:31:49,300
And after that?

347
00:31:51,390 --> 00:31:53,940
We just called the called the image.

348
00:31:54,390 --> 00:31:55,170
Just image.

349
00:31:56,790 --> 00:31:57,690
This is just the name.

350
00:31:58,790 --> 00:31:59,130
All right.

351
00:32:00,050 --> 00:32:00,500
So.

352
00:32:05,360 --> 00:32:13,850
This is the image where now we need to upload the image using a weight, and we just use a building

353
00:32:13,850 --> 00:32:24,220
function of upload string because image is a kind of string as well because of the data type.

354
00:32:25,430 --> 00:32:26,060
And then.

355
00:32:27,910 --> 00:32:30,220
What what do you want to upload?

356
00:32:31,090 --> 00:32:35,590
The upload is imagery of which is it created at the top?

357
00:32:37,090 --> 00:32:39,850
I mean, inside the imagery of the place?

358
00:32:41,140 --> 00:32:43,990
And what do you want to upload?

359
00:32:44,050 --> 00:32:46,360
The upload is this file.

360
00:32:47,050 --> 00:32:52,180
This file is already saved inside this state called selected file.

361
00:32:52,690 --> 00:32:54,910
So selected file has a URL.

362
00:32:56,560 --> 00:33:00,820
We just write down the selected file here.

363
00:33:03,230 --> 00:33:04,280
Selects.

364
00:33:06,580 --> 00:33:13,900
So selected file is the URL of the image and the type is data URL.

365
00:33:14,410 --> 00:33:17,770
So we have to add data at the end.

366
00:33:18,700 --> 00:33:24,580
So at the time of this one is data you are if you want to add in a different way, you write down the

367
00:33:24,580 --> 00:33:25,690
different time.

368
00:33:26,560 --> 00:33:27,770
So we have the data.

369
00:33:28,450 --> 00:33:35,920
The address is selected file and we're going to upload it inside imagery of the address here.

370
00:33:38,090 --> 00:33:40,130
I hope it makes sense.

371
00:33:42,340 --> 00:33:44,170
So when it uploaded.

372
00:33:47,190 --> 00:33:49,140
So let's try this first.

373
00:33:50,220 --> 00:33:51,630
So in a freshness.

374
00:33:56,810 --> 00:33:58,310
We try this image.

375
00:33:58,580 --> 00:34:00,290
We just write down something here.

376
00:34:00,640 --> 00:34:01,310
You low.

377
00:34:03,920 --> 00:34:10,070
This upload thing we need to import this is coming from Firebase for flash storage.

378
00:34:10,700 --> 00:34:14,090
I'm getting this auto suggestion using control of space.

379
00:34:15,140 --> 00:34:15,570
OK.

380
00:34:15,610 --> 00:34:18,620
I hope that this fun this refresh.

381
00:34:25,480 --> 00:34:25,950
OK.

382
00:34:26,540 --> 00:34:28,900
Just so I found something you upload.

383
00:34:31,560 --> 00:34:34,050
Let's check the storage.

384
00:34:40,160 --> 00:34:41,570
Yeah, you got the.

385
00:34:42,560 --> 00:34:46,040
We created the folder post and inside the folder.

386
00:34:47,740 --> 00:34:49,390
This is the idea.

387
00:34:50,760 --> 00:34:54,170
Let's open this one a different path.

388
00:34:54,900 --> 00:34:58,110
So in the database we created.

389
00:35:00,480 --> 00:35:01,500
And you.

390
00:35:06,950 --> 00:35:10,790
Yeah, this is just created, so this is the bird.

391
00:35:11,080 --> 00:35:15,230
The caption I created and the idea is here.

392
00:35:17,660 --> 00:35:22,680
The ideas here, H L, X Q and storage.

393
00:35:22,700 --> 00:35:29,870
This is HL x q, so this is saying this is the same idea and inside this idea.

394
00:35:30,870 --> 00:35:37,230
We have our image and the name of the image is just image, because used specified here.

395
00:35:37,590 --> 00:35:38,850
The name image.

396
00:35:39,570 --> 00:35:39,930
All right.

397
00:35:40,440 --> 00:35:41,670
So the image is here.

398
00:35:42,790 --> 00:35:47,950
And the Earth is at the bottom here, you can see, and we can click and check the.

399
00:35:49,860 --> 00:36:00,000
Image, so the image is successfully uploaded to the storage, and now now we need to get the URL.

400
00:36:01,100 --> 00:36:08,210
We need to get the URL and update our database here with the URL.

401
00:36:08,780 --> 00:36:09,170
All right.

402
00:36:11,330 --> 00:36:19,250
So here after we we uploaded, we need to wait until the upload finished.

403
00:36:19,250 --> 00:36:21,710
So we add this den here.

404
00:36:22,220 --> 00:36:28,180
So we just say after this one, upload it completely, then do these things.

405
00:36:28,940 --> 00:36:32,660
So after this one, we open a parenthesis.

406
00:36:35,880 --> 00:36:42,990
And here we create because we want to get the data from the database.

407
00:36:43,410 --> 00:36:47,940
We need to use something called a snapshot.

408
00:36:48,120 --> 00:36:52,890
A snapshot actually is the piece of data we're getting from the database.

409
00:36:54,880 --> 00:36:59,410
It should be a sink and inside the sink.

410
00:36:59,620 --> 00:37:07,270
We create the snapshot, so we are getting the data here using a snapshot, actually not shop.

411
00:37:09,510 --> 00:37:13,350
And this is going to give us the URL.

412
00:37:15,430 --> 00:37:19,150
So we create it, cost that and we call it download.

413
00:37:22,470 --> 00:37:25,470
You are all right.

414
00:37:26,070 --> 00:37:35,100
And we wait and wait to get this information and you get this information using a building function

415
00:37:35,100 --> 00:37:36,200
called Get.

416
00:37:36,930 --> 00:37:38,730
Download your album, which is.

417
00:37:40,470 --> 00:37:46,980
Which is a function from the Firebase for a slash, a storage.

418
00:37:49,200 --> 00:37:53,890
So this is going to be so rich, your argument to give.

419
00:37:53,910 --> 00:37:58,310
Actually, we should define it, so we need to add the imagery of fear.

420
00:37:59,040 --> 00:38:00,390
So this is the address.

421
00:38:00,630 --> 00:38:03,090
We just say, give me the date.

422
00:38:03,420 --> 00:38:07,200
Give me the URL of this image with this address.

423
00:38:08,520 --> 00:38:09,120
And then.

424
00:38:11,740 --> 00:38:12,580
After that.

425
00:38:15,290 --> 00:38:16,700
We get the URL.

426
00:38:16,890 --> 00:38:19,910
No, we need to update our document.

427
00:38:21,290 --> 00:38:30,380
We can easily update the document using weights, and we use a building function called Update Duck.

428
00:38:32,330 --> 00:38:38,960
So update talk is actually coming from Firebase, pushed forward slash fire store.

429
00:38:40,870 --> 00:38:41,990
We are getting here.

430
00:38:45,020 --> 00:38:46,730
Uh, yeah.

431
00:38:49,170 --> 00:38:52,590
Update is from five fires, five.

432
00:38:54,180 --> 00:39:00,000
So how we do update and which one we want to update, which which file we want to update.

433
00:39:00,360 --> 00:39:05,190
So we need to specify the document document is the function.

434
00:39:05,640 --> 00:39:15,780
It's coming from Firebase as well, artists by storm, so that we just say the data, which is from

435
00:39:15,780 --> 00:39:19,800
our database, which we are getting from Firebase 30th.

436
00:39:21,000 --> 00:39:26,970
And the name after the database, the name of the collection is posts.

437
00:39:29,090 --> 00:39:32,930
And inside the post, just search for the documents.

438
00:39:34,650 --> 00:39:42,570
With the idea of Dock Riff I.D., which we have created just now at the top.

439
00:39:42,870 --> 00:39:44,340
So we created the document.

440
00:39:44,850 --> 00:39:47,460
Now we're updating that document.

441
00:39:48,210 --> 00:39:51,060
So we put the dock reform idea.

442
00:39:52,890 --> 00:40:02,970
I know that it's a little bit confusing and complicated, but I'm trying to explain it a step by step.

443
00:40:04,230 --> 00:40:11,700
And just by practicing this one a few times, I'm sure you will be a master of this ethics.

444
00:40:11,910 --> 00:40:18,650
It's not that difficult if you do it a few times, so we know how we want to update it.

445
00:40:18,690 --> 00:40:23,190
We just say, just add this, download your air.

446
00:40:23,460 --> 00:40:26,820
So and this one is going to be the image.

447
00:40:27,270 --> 00:40:30,660
So the image is equal to download your app.

448
00:40:32,190 --> 00:40:32,580
All right.

449
00:40:33,240 --> 00:40:38,760
So what we have done here, actually, we uploaded the image.

450
00:40:40,980 --> 00:40:47,790
Then using Snapshot, we got the download your URL and updated document.

451
00:40:49,300 --> 00:40:58,750
He added This image, as you can see here, no other post doesn't have any image field.

452
00:40:59,500 --> 00:41:01,780
But now let's upload something else.

453
00:41:02,600 --> 00:41:03,610
Refresh the page.

454
00:41:06,160 --> 00:41:08,950
And we choose an image.

455
00:41:11,010 --> 00:41:12,660
Which are, say, nice.

456
00:41:14,270 --> 00:41:14,840
View.

457
00:41:17,760 --> 00:41:18,960
Upload post.

458
00:41:20,940 --> 00:41:23,560
We wait for a while and, uh.

459
00:41:25,040 --> 00:41:26,390
This one is just added.

460
00:41:28,090 --> 00:41:30,040
You can see we have nice for you.

461
00:41:30,790 --> 00:41:38,130
We got the image from the storage updated and other information.

462
00:41:38,200 --> 00:41:40,600
And also if you check the storage.

463
00:41:41,710 --> 00:41:45,700
We should have known to be full refresh.

464
00:41:50,140 --> 00:41:56,460
Inside post now, we should have two ideas, and the idea would be to.

465
00:41:57,590 --> 00:42:03,020
Double double T movie M, so double T mbm this one.

466
00:42:05,420 --> 00:42:07,970
And the file name is image.

467
00:42:08,000 --> 00:42:14,330
And if you click on it, you can see the URL, the URL here.

468
00:42:14,630 --> 00:42:19,010
You can see that said, the number at the end is 61.

469
00:42:19,940 --> 00:42:24,520
And here the image is 60.

470
00:42:24,530 --> 00:42:25,120
Want to?

471
00:42:25,130 --> 00:42:26,480
This is the same euro.

472
00:42:27,650 --> 00:42:30,830
So that's that was the things we needed to do.

473
00:42:30,860 --> 00:42:31,400
Yeah.

474
00:42:32,780 --> 00:42:38,390
And uh, if if you may notice now it's still showing upload post.

475
00:42:39,530 --> 00:42:41,000
So it's very simple.

476
00:42:41,000 --> 00:42:43,700
We just after everything we've done.

477
00:42:45,700 --> 00:42:49,900
So outside this at the end of this function.

478
00:42:51,140 --> 00:42:52,970
We set the open.

479
00:42:54,660 --> 00:42:58,290
To be false so close to this window.

480
00:42:59,400 --> 00:43:01,590
And also, we sit the loading.

481
00:43:03,860 --> 00:43:14,030
To be false as well, so it doesn't load anymore, and we set this selected file, which is this image

482
00:43:14,030 --> 00:43:22,970
to empty as well, so we just set that fire and we set that to be no, no, when we.

483
00:43:24,160 --> 00:43:26,500
This time, if you upload an image.

484
00:43:29,070 --> 00:43:30,420
Let's choose the third one.

485
00:43:31,520 --> 00:43:32,570
They just they.

486
00:43:35,580 --> 00:43:36,240
Bert.

487
00:43:38,670 --> 00:43:40,080
And upload post.

488
00:43:41,020 --> 00:43:48,490
Now, after the upload finished, the model should be close, as you can see here, and uh.

489
00:43:49,900 --> 00:43:51,490
Let's check the database.

490
00:43:52,760 --> 00:43:55,040
We should get the new one.

491
00:43:55,400 --> 00:43:56,900
Yeah, this is the birth.

492
00:43:58,220 --> 00:44:02,030
We uploaded the image and everything looks fine.

493
00:44:03,290 --> 00:44:09,770
That was it for this part that we uploaded our thanks to the storage part.

494
00:44:10,640 --> 00:44:17,990
But then the next section, we're going to show it here instead of this dummy dataset that is always

495
00:44:17,990 --> 00:44:18,510
static.

496
00:44:18,530 --> 00:44:25,310
We want to see what's inside the database and what is what are the post and one by one.

497
00:44:25,700 --> 00:44:31,190
We show it here at the feed section.

498
00:44:31,970 --> 00:44:34,820
Let's save everything to get, huh?

499
00:44:35,090 --> 00:44:39,930
I know that became a very, very long video.

500
00:44:39,950 --> 00:44:43,940
But uh yeah, we needed to finish this one.

501
00:44:44,900 --> 00:44:50,090
But the next part would be easier because we already done the hard part.

502
00:44:51,910 --> 00:44:59,140
So let's add everything to get her comments with the name of.

503
00:45:02,580 --> 00:45:06,990
We just create a post.

504
00:45:09,330 --> 00:45:15,000
And I add that to.

505
00:45:16,360 --> 00:45:17,770
Fires tore

506
00:45:20,560 --> 00:45:21,070
and.

507
00:45:23,290 --> 00:45:23,650
Get.

508
00:45:28,060 --> 00:45:29,440
The download.

509
00:45:36,120 --> 00:45:36,840
You are out.

510
00:45:39,780 --> 00:45:47,360
We just push it to get a job, and let's review the code.

511
00:45:49,020 --> 00:45:51,480
So here you refresh the page.

512
00:45:53,870 --> 00:45:55,270
Now, 20 comments.

513
00:45:57,150 --> 00:46:06,270
This is the last one, so we imported a few built in function, or we call it utilities from the Firebase

514
00:46:06,630 --> 00:46:09,970
store, Firebase and.

515
00:46:11,770 --> 00:46:13,060
Firebase storage.

516
00:46:13,390 --> 00:46:13,840
All right.

517
00:46:14,710 --> 00:46:22,630
We created a state called Loading, and we got the information from sition and we created a function

518
00:46:23,470 --> 00:46:28,150
which return when the the loading is true.

519
00:46:29,500 --> 00:46:33,280
And if it's false, we set the loading to true and we

520
00:46:35,920 --> 00:46:40,540
create the document with these informations and then.

521
00:46:42,120 --> 00:46:43,290
We upload the image.

522
00:46:45,060 --> 00:46:50,700
We all saw the image to this address with this documentary, if it.

523
00:46:52,080 --> 00:46:55,290
And once we uploaded.

524
00:46:56,800 --> 00:46:59,140
We get the download your our.

525
00:47:00,400 --> 00:47:04,180
And we update our document with this download, Yiaga.

526
00:47:05,650 --> 00:47:11,710
And finally, we set everything to false, like open loading and selected fire.

527
00:47:14,390 --> 00:47:15,240
Yeah, that was it.

528
00:47:15,620 --> 00:47:25,760
The things we did and the things we need to know is the button will be modified the disabled mode and

529
00:47:25,760 --> 00:47:27,770
the edit the function on Click.

530
00:47:29,190 --> 00:47:39,390
Which triggers a function, and we fixed a few things in the fireplace that, yes, we added the next,

531
00:47:39,420 --> 00:47:44,670
probably at the beginning, which is necessary for next year's applications.

532
00:47:46,570 --> 00:47:53,530
And we cannot see here, but an environmental variable to be fixed this path as well.

533
00:47:54,820 --> 00:48:02,620
So see in the next section for showing our everything inside the feed section like the one here in the

534
00:48:02,620 --> 00:48:03,580
final version.

535
00:48:04,300 --> 00:48:05,680
So see in the next section.
