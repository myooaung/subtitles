WEBVTT
1
00:00:08.050 --> 00:00:08.470
All right.

2
00:00:08.470 --> 00:00:13.150
Welcome back to the first update of the Twitter Clone Project.

3
00:00:14.220 --> 00:00:24.300
Here, I would like to introduce to you some more advanced topics and I would like to remove the package

4
00:00:24.300 --> 00:00:28.080
we used called next auth.

5
00:00:28.080 --> 00:00:40.110
And instead I want to introduce you how to authenticate the users only using a fire based earth or fire

6
00:00:40.110 --> 00:00:41.580
based authentication.

7
00:00:44.100 --> 00:00:46.830
As we need to you to add the.

8
00:00:48.910 --> 00:00:51.190
If you go to the firebase.

9
00:00:52.320 --> 00:00:56.820
As if you want to add the rules in our project.

10
00:00:56.820 --> 00:01:02.850
And I thought I told you guys before that we're going to add the rules later.

11
00:01:04.650 --> 00:01:15.960
Now we are allowing reading and writing to anyone, but we want to limit the writing to the people who

12
00:01:15.960 --> 00:01:17.430
are authenticated.

13
00:01:17.910 --> 00:01:26.640
But by using NICS of package, we cannot do that one because we don't have the people already in authentication

14
00:01:26.640 --> 00:01:28.060
of the firebase.

15
00:01:28.080 --> 00:01:33.810
As you can see inside our project, there is no one here authenticated.

16
00:01:34.800 --> 00:01:44.400
The reason is because we have authenticated the users using only nicks off nicks house is temporary.

17
00:01:44.400 --> 00:01:50.430
Create the authentication for users and save it inside the browser.

18
00:01:50.550 --> 00:01:56.010
But we want to have it inside the authentication inside the Firebase.

19
00:01:58.060 --> 00:02:06.160
So if you just search in Google firebase.

20
00:02:07.430 --> 00:02:08.070
Off.

21
00:02:09.160 --> 00:02:14.090
Now let's check the documentation if you'll scroll down after the advertisement.

22
00:02:14.090 --> 00:02:20.720
We have firebase that Google.com and we have docs off.

23
00:02:21.020 --> 00:02:25.100
So we have a website called Firebase Authentication.

24
00:02:25.100 --> 00:02:32.120
If you go to this website and here on the left, let me zoom it a little bit.

25
00:02:32.600 --> 00:02:36.920
Here on the left, we have to go to the Web section.

26
00:02:37.310 --> 00:02:38.810
So we click on the Web.

27
00:02:38.810 --> 00:02:45.860
And if you scroll down a little bit, we can click on Google Authentication because we want to authorize

28
00:02:45.860 --> 00:02:47.780
the person using Google.

29
00:02:49.790 --> 00:02:50.570
So.

30
00:02:51.750 --> 00:02:57.000
We have, we can easily get the provider, which is the Google using.

31
00:02:57.780 --> 00:03:03.330
We just create we import Google auth provider from Firebase Auth.

32
00:03:04.440 --> 00:03:10.430
Then we can just get the provider using this method.

33
00:03:10.440 --> 00:03:14.910
We just say new Google off provider then.

34
00:03:18.480 --> 00:03:23.310
We can get the authentication information using get off.

35
00:03:24.690 --> 00:03:27.810
And this is coming from Firebase Off.

36
00:03:28.410 --> 00:03:32.430
And this is going to give us the auth information.

37
00:03:32.430 --> 00:03:35.790
This is similar to the session information in next off.

38
00:03:36.780 --> 00:03:38.210
And this is not important.

39
00:03:38.220 --> 00:03:40.260
It's just for language or other things.

40
00:03:40.270 --> 00:03:41.970
Let's scroll down more.

41
00:03:42.660 --> 00:03:52.460
And here, after getting the information from the off and also we get the provider using Google off

42
00:03:52.470 --> 00:03:57.780
provider, we can sign up the person using a pop up here.

43
00:03:58.600 --> 00:04:00.430
You just say we import first?

44
00:04:00.520 --> 00:04:01.360
Sign up.

45
00:04:01.900 --> 00:04:09.790
Sign in with pop up and be signing the person using the information from the authentication and the

46
00:04:09.790 --> 00:04:10.570
provider.

47
00:04:12.640 --> 00:04:21.340
Then we get the results, we can get the credentials, we can get the token similar to the one we did

48
00:04:21.490 --> 00:04:22.900
in the next off.

49
00:04:23.410 --> 00:04:27.760
And the result of the user is going to be inside this.

50
00:04:28.390 --> 00:04:30.460
And also we can catch the errors.

51
00:04:30.460 --> 00:04:36.190
If any errors happened, we can see which what sort of error we get.

52
00:04:37.510 --> 00:04:44.590
So and also we can have another option instead of pop up, we can redirect the person to another page

53
00:04:44.620 --> 00:04:49.510
like the next off and authenticate the person.

54
00:04:49.510 --> 00:04:56.170
This is very similar to the one with pop up, but we need to use sign in with redirect from Firebase

55
00:04:56.170 --> 00:04:56.590
Auth.

56
00:04:58.240 --> 00:04:59.260
Don't worry about this.

57
00:04:59.260 --> 00:05:01.150
Too many, too many information.

58
00:05:01.150 --> 00:05:07.330
I'm going to step by step show it inside the browser and Visual Studio code.

59
00:05:07.930 --> 00:05:10.480
So let's go back to Visual Studio code.

60
00:05:11.710 --> 00:05:18.420
And we go to the signing page that we have created for the next off.

61
00:05:20.290 --> 00:05:23.380
It should be inside pages.

62
00:05:24.700 --> 00:05:31.500
Off folder called off and then signing the pages.

63
00:05:32.080 --> 00:05:38.140
So here we have, as you can see, we get the providers and signing from next off, but we don't want

64
00:05:38.140 --> 00:05:40.270
to do it again.

65
00:05:40.900 --> 00:05:50.200
We can delete this one and we don't get the providers here as well as we are.

66
00:05:50.230 --> 00:05:51.310
This is a.

67
00:05:52.110 --> 00:05:52.980
Function.

68
00:05:52.980 --> 00:05:57.930
This is a react function, react component.

69
00:05:58.230 --> 00:06:04.800
We need to capitalize this one as well because we're going to get an error when we are deploying the

70
00:06:04.800 --> 00:06:05.370
website.

71
00:06:07.380 --> 00:06:08.170
Okay.

72
00:06:09.570 --> 00:06:14.070
So we we don't have the providers, so we cannot map through it.

73
00:06:14.070 --> 00:06:15.930
So we delete this one as well.

74
00:06:15.930 --> 00:06:18.810
So we need to delete here as well.

75
00:06:19.410 --> 00:06:26.760
And here we, we used get server side props to get the information of the providers.

76
00:06:27.600 --> 00:06:28.740
We don't need it.

77
00:06:29.040 --> 00:06:35.250
We want to get all of them from Firebase basically.

78
00:06:38.590 --> 00:06:44.380
So we don't need the key as well here because we are not map mapping through anything.

79
00:06:45.100 --> 00:06:50.290
And here we used signing method of next after signing.

80
00:06:50.290 --> 00:06:58.750
We delete this one as well and instead of this are going to create a function called signing with Google.

81
00:07:00.760 --> 00:07:03.520
So I delete everything here.

82
00:07:05.910 --> 00:07:07.260
And instead of.

83
00:07:08.320 --> 00:07:11.140
This function we just say on.

84
00:07:12.760 --> 00:07:13.820
Google.

85
00:07:14.810 --> 00:07:15.530
Click.

86
00:07:17.720 --> 00:07:20.290
And also here signing with provider name.

87
00:07:20.300 --> 00:07:28.760
We don't have the provider anymore, so we just say Google as we are just using Google now if we check.

88
00:07:29.850 --> 00:07:32.670
We should get an error because we didn't create this function yet.

89
00:07:32.670 --> 00:07:36.150
So let's create this function at the top here.

90
00:07:37.200 --> 00:07:42.030
This function should be asynchronous because we are using try and catch.

91
00:07:42.830 --> 00:07:45.140
For the firebase.

92
00:07:45.140 --> 00:07:48.740
Let's let me mute the computer.

93
00:07:48.740 --> 00:07:59.450
So we have on Google click function and this is going to be a synchronous and.

94
00:08:01.700 --> 00:08:03.940
So we just created a function.

95
00:08:03.950 --> 00:08:07.970
Let's check the website in our localhost.

96
00:08:07.970 --> 00:08:09.050
3000.

97
00:08:10.420 --> 00:08:11.140
Here.

98
00:08:12.730 --> 00:08:14.920
So let's refresh the page.

99
00:08:14.950 --> 00:08:19.870
We shouldn't be we shouldn't get any problem because we have just changed the signing page.

100
00:08:19.930 --> 00:08:24.250
And when we sign out here.

101
00:08:26.400 --> 00:08:30.660
And we go to sign in page by clicking on this button.

102
00:08:32.080 --> 00:08:39.480
As you can see, everything is similar to before, but when we click here, nothing happens because

103
00:08:39.480 --> 00:08:42.150
we haven't created the function yet.

104
00:08:44.030 --> 00:08:54.500
So as I mentioned, we need to bring some some building function from fire based authentication.

105
00:08:54.500 --> 00:08:57.800
So at a top, we're going to import.

106
00:09:00.900 --> 00:09:04.050
Some things like get off.

107
00:09:06.660 --> 00:09:08.120
This should be together.

108
00:09:08.130 --> 00:09:09.210
Camel case.

109
00:09:09.540 --> 00:09:10.500
Get off.

110
00:09:10.980 --> 00:09:13.710
Sign in.

111
00:09:14.680 --> 00:09:16.990
With Papa.

112
00:09:20.040 --> 00:09:22.680
These are all camel case.

113
00:09:23.820 --> 00:09:25.710
Then we have.

114
00:09:27.460 --> 00:09:28.300
Google.

115
00:09:29.800 --> 00:09:30.670
Off.

116
00:09:31.510 --> 00:09:32.590
For wider.

117
00:09:34.340 --> 00:09:38.900
All of this coming from Firebase.

118
00:09:40.250 --> 00:09:42.680
Former slash off.

119
00:09:45.010 --> 00:09:49.330
Now we can get the things we like.

120
00:09:49.330 --> 00:09:54.400
Like, as I mentioned, we can get the off information, the.

121
00:09:56.800 --> 00:10:01.000
So the off is equal to get off.

122
00:10:03.890 --> 00:10:05.940
Let me console.log this.

123
00:10:05.940 --> 00:10:08.770
So we just say log off.

124
00:10:09.200 --> 00:10:12.140
I want to show you what's inside of first.

125
00:10:12.710 --> 00:10:19.280
So here we open the console using F12.

126
00:10:20.560 --> 00:10:22.630
So let's open it.

127
00:10:24.160 --> 00:10:26.470
When we click on signing with Google.

128
00:10:27.730 --> 00:10:30.580
So let's see what error we got.

129
00:10:31.930 --> 00:10:35.230
So as we we didn't import DB.

130
00:10:35.260 --> 00:10:43.170
So no, the file firebase doesn't know which database you want to get.

131
00:10:43.180 --> 00:10:47.230
So this is simply we need to.

132
00:10:48.120 --> 00:10:49.290
Before this.

133
00:10:50.400 --> 00:10:54.480
We need to import DB.

134
00:10:56.970 --> 00:10:57.690
From.

135
00:11:00.680 --> 00:11:06.470
I think this is coming one to

136
00:11:09.110 --> 00:11:09.650
Firebase.

137
00:11:11.030 --> 00:11:14.690
We have created Firebase here, which is two folder.

138
00:11:15.350 --> 00:11:18.320
We have to go back to folder and reach that.

139
00:11:18.680 --> 00:11:20.240
So now we have that.

140
00:11:20.240 --> 00:11:22.400
So let's try again.

141
00:11:22.910 --> 00:11:26.240
Now we are getting the information of off.

142
00:11:27.370 --> 00:11:36.580
As you can see, the current user here is null means there is no current users authenticated inside

143
00:11:36.580 --> 00:11:45.700
the here and and also it should be here if refresh the page there is nothing inside the authentication

144
00:11:45.700 --> 00:11:53.350
in Firebase so let's use the pop up to authenticate someone so.

145
00:11:56.070 --> 00:11:57.860
So now off is empty.

146
00:11:57.870 --> 00:11:59.610
So we're still logging it.

147
00:12:00.630 --> 00:12:06.180
So let's get to provider first with just say cons provider.

148
00:12:07.650 --> 00:12:10.440
And this is going to be equal new.

149
00:12:11.760 --> 00:12:14.520
Google off provider.

150
00:12:15.660 --> 00:12:20.250
This is a function, so we need to add a parenthesis.

151
00:12:21.120 --> 00:12:27.420
Then we need to use the pop up method to use it.

152
00:12:27.420 --> 00:12:31.200
But the pop up method because it needs our action.

153
00:12:31.500 --> 00:12:39.150
So we need to add a waste because we need to wait, wait to see the result and then go to the next line.

154
00:12:39.150 --> 00:12:43.200
So here we just say sign it with pop up.

155
00:12:43.200 --> 00:12:46.500
And this is going to get two things the off.

156
00:12:47.520 --> 00:12:51.090
Which is now empty then doesn't have any users.

157
00:12:51.540 --> 00:12:53.790
And the next one is provider.

158
00:12:55.510 --> 00:12:56.950
Which is coming from here.

159
00:12:57.610 --> 00:13:01.690
Now, if we try again in our website.

160
00:13:02.710 --> 00:13:05.770
If you click on Google, we see it pop up.

161
00:13:06.880 --> 00:13:10.780
A window pops up and asks us to sign it.

162
00:13:12.310 --> 00:13:18.300
So we can choose one of the accounts like this one or that or anything I add.

163
00:13:18.310 --> 00:13:22.360
It's going to be added to our database.

164
00:13:22.450 --> 00:13:25.840
So we click here, for example, this one.

165
00:13:27.420 --> 00:13:29.280
Just check here.

166
00:13:29.970 --> 00:13:32.640
Now, if you open the off.

167
00:13:33.670 --> 00:13:36.370
We have the current user here.

168
00:13:36.370 --> 00:13:37.720
The current user.

169
00:13:38.020 --> 00:13:39.790
The display name is my name.

170
00:13:39.790 --> 00:13:41.440
So let me zoom it a little bit.

171
00:13:42.610 --> 00:13:43.640
So here.

172
00:13:43.900 --> 00:13:45.760
My name, my email.

173
00:13:46.270 --> 00:13:47.290
And also.

174
00:13:48.040 --> 00:13:53.680
If you want the all the data, you should go to the provider data.

175
00:13:54.400 --> 00:13:58.510
And this is going to give you.

176
00:14:05.900 --> 00:14:06.980
You know, this is.

177
00:14:09.690 --> 00:14:10.170
Okay.

178
00:14:12.810 --> 00:14:14.550
So let's close this.

179
00:14:19.400 --> 00:14:19.970
That's fine.

180
00:14:21.080 --> 00:14:25.160
So current user is going to give us many information.

181
00:14:25.820 --> 00:14:31.580
So we, we check it later when we want to show it inside our database.

182
00:14:32.360 --> 00:14:36.590
So we are getting all the results, as you can see.

183
00:14:36.860 --> 00:14:39.230
Now let's go back to.

184
00:14:40.130 --> 00:14:42.300
The authentication and refresh the page.

185
00:14:42.320 --> 00:14:46.370
Now we should see the user sign in here and inside here.

186
00:14:46.400 --> 00:14:49.790
As you can see, my email is here.

187
00:14:49.970 --> 00:14:52.280
The provider name is Google.

188
00:14:52.700 --> 00:14:55.550
It's created today.

189
00:14:57.200 --> 00:14:58.670
I signed in today as well.

190
00:14:58.670 --> 00:15:04.580
So now I created if I sign in again tomorrow, the signing date would be different.

191
00:15:04.970 --> 00:15:08.260
And this is the unique ID for this authentication.

192
00:15:08.270 --> 00:15:11.600
This is different from the unique ID that Google gives you.

193
00:15:12.200 --> 00:15:21.110
So we shouldn't use this phone actually to create our database because if I delete this one now and

194
00:15:21.110 --> 00:15:25.970
signing again with the same email account, it gives us different.

195
00:15:26.790 --> 00:15:30.090
User a unique ID for the authentication.

196
00:15:31.140 --> 00:15:34.380
So it's important to get the Google unique ID.

197
00:15:35.310 --> 00:15:35.550
Okay.

198
00:15:35.610 --> 00:15:37.660
Now we got this one.

199
00:15:37.680 --> 00:15:40.020
Let's get some information here.

200
00:15:41.040 --> 00:15:45.720
We get the user, as I mentioned, inside off.

201
00:15:46.580 --> 00:15:51.110
We have the current user and inside the.

202
00:15:52.400 --> 00:15:54.140
Uh, let me show you again.

203
00:15:56.430 --> 00:16:04.710
So we have the current user here and then inside the current user we have provider data and inside this

204
00:16:04.710 --> 00:16:06.630
we have some one array.

205
00:16:06.780 --> 00:16:16.530
If you open this zero, we have the display name, we have the email, we have the photo URL and also

206
00:16:16.530 --> 00:16:18.030
we have the unique ID.

207
00:16:18.060 --> 00:16:22.920
This is the this is I meant that Google gives you and this is always the same.

208
00:16:24.700 --> 00:16:33.910
If I sign in myself in any other websites, this is going to be my unique ID.

209
00:16:35.260 --> 00:16:37.210
So this is always be the same.

210
00:16:37.210 --> 00:16:44.740
So we have to use this one to register a person, not the unique ID that the authentication gives you.

211
00:16:45.370 --> 00:16:52.870
So now that we have all this information, I want to create an inside the Firebase database.

212
00:16:53.500 --> 00:16:57.340
If you remember, we we have created a document for posts.

213
00:16:58.210 --> 00:17:07.180
Now I want to make another document called users and I want to store I want to save all the users that's

214
00:17:07.180 --> 00:17:09.040
signing in the in the website.

215
00:17:09.040 --> 00:17:19.420
The reason I want to do that one is I want to later, for example, I want to create this is the final

216
00:17:19.450 --> 00:17:23.260
website Twitter dot 100 JS Project dot com.

217
00:17:23.710 --> 00:17:32.830
If you click on this, for example, this user, I want to go inside the user's page and get the information

218
00:17:32.830 --> 00:17:39.010
from this document place and show it there and also.

219
00:17:41.070 --> 00:17:41.790
Any other.

220
00:17:42.120 --> 00:17:42.840
So?

221
00:17:43.470 --> 00:17:45.690
So anyone signing in our page.

222
00:17:45.780 --> 00:17:55.470
You're going to save the information like unique ID display name, name and also the username that we

223
00:17:55.470 --> 00:17:59.040
are creating inside the database as well.

224
00:18:00.080 --> 00:18:02.450
So let's do this.

225
00:18:02.750 --> 00:18:05.480
So we go back to Visual Studio code.

226
00:18:05.780 --> 00:18:14.240
So we we get the user using auth that user, a current user that provided data.

227
00:18:17.080 --> 00:18:24.190
And this is going to be inside the array and the first one, which is zero.

228
00:18:25.860 --> 00:18:26.240
Okay.

229
00:18:26.250 --> 00:18:32.310
Now, if you can't see a log user, we should see the only that information.

230
00:18:34.430 --> 00:18:37.040
So let's sign in again.

231
00:18:38.240 --> 00:18:39.890
For example, I sign it with.

232
00:18:40.800 --> 00:18:43.020
This account called It's a Hand.

233
00:18:47.410 --> 00:18:57.640
Now we are getting the information like this plane name, email, photo URL and also user ID.

234
00:19:01.360 --> 00:19:05.020
Now we can go back to the Visual Studio code and.

235
00:19:05.800 --> 00:19:09.820
Add the user to the as a document.

236
00:19:09.820 --> 00:19:14.800
So just after getting the user.

237
00:19:16.600 --> 00:19:19.240
You can create a reference to the.

238
00:19:20.140 --> 00:19:21.300
Document.

239
00:19:21.310 --> 00:19:24.760
We're just creating a consent.

240
00:19:24.760 --> 00:19:26.200
And we call it doc.

241
00:19:27.160 --> 00:19:27.940
Ref.

242
00:19:30.060 --> 00:19:36.230
And we use the dock function from the fire base.

243
00:19:36.570 --> 00:19:40.680
So we need to import it from Firebase File Store.

244
00:19:44.370 --> 00:19:47.130
And this is getting the DPI.

245
00:19:47.670 --> 00:19:50.460
So the address is our database.

246
00:19:51.380 --> 00:19:55.720
You want to create a document collection?

247
00:19:56.990 --> 00:19:58.160
So let me see.

248
00:19:59.430 --> 00:20:00.840
So this is the collection.

249
00:20:00.840 --> 00:20:01.740
This is a document.

250
00:20:01.740 --> 00:20:04.650
So we're creating a new collection, actually.

251
00:20:06.640 --> 00:20:09.370
So the collection name is users.

252
00:20:11.040 --> 00:20:12.420
Then we have.

253
00:20:14.840 --> 00:20:20.390
We need to create it as a user that user ID.

254
00:20:21.910 --> 00:20:24.800
So you're getting the user from here.

255
00:20:24.820 --> 00:20:27.250
The user ID is inside the user.

256
00:20:29.060 --> 00:20:31.940
And we want to create it like this.

257
00:20:33.130 --> 00:20:34.270
For the post.

258
00:20:34.270 --> 00:20:40.270
We just let the file store to create a random ID for us.

259
00:20:40.270 --> 00:20:43.150
But we want to have the post.

260
00:20:44.570 --> 00:20:54.470
Users with not a random with a user ID because we don't we want to prevent creating duplicate users.

261
00:20:56.180 --> 00:20:56.870
Okay.

262
00:20:58.140 --> 00:21:01.350
After that, we need to get the snapshot.

263
00:21:02.300 --> 00:21:04.910
So we just said, Doc, snap.

264
00:21:06.160 --> 00:21:07.210
It's equal to.

265
00:21:07.210 --> 00:21:11.760
We need to wait until the document created.

266
00:21:11.770 --> 00:21:14.710
So now first we want to get the address.

267
00:21:14.710 --> 00:21:16.630
We just get the document.

268
00:21:17.020 --> 00:21:19.930
If the document not exists, we want to create it.

269
00:21:19.930 --> 00:21:20.500
So.

270
00:21:21.100 --> 00:21:22.870
So first we create the.

271
00:21:23.830 --> 00:21:26.650
We get the document talk ref.

272
00:21:29.100 --> 00:21:33.090
And we just create a condition.

273
00:21:33.090 --> 00:21:34.350
We just say if.

274
00:21:35.230 --> 00:21:36.550
There is no.

275
00:21:39.130 --> 00:21:41.320
Dark snap.

276
00:21:43.080 --> 00:21:43.830
That.

277
00:21:45.040 --> 00:21:45.700
Exists.

278
00:21:45.700 --> 00:21:50.020
Exists is a method we can use from file store.

279
00:21:53.980 --> 00:21:59.440
So if there is no document with this address we are getting here.

280
00:22:00.460 --> 00:22:04.480
Now we want to create it so here we can wait.

281
00:22:04.480 --> 00:22:09.820
And instead of get dark, we just create it using set dock.

282
00:22:11.800 --> 00:22:15.760
And sick that is going to get the same thing.

283
00:22:16.760 --> 00:22:17.810
Same address.

284
00:22:17.810 --> 00:22:20.510
So we use the doc ref here.

285
00:22:23.930 --> 00:22:25.520
You just said doc ref.

286
00:22:26.000 --> 00:22:30.230
And the second one is an object that.

287
00:22:31.410 --> 00:22:34.890
Has the things inside this.

288
00:22:35.700 --> 00:22:43.560
For example, we want the name to be equal to user that display name.

289
00:22:46.500 --> 00:22:48.990
We want to get many things like email.

290
00:22:50.530 --> 00:22:51.910
Which is user.

291
00:22:55.900 --> 00:22:57.580
That email.

292
00:23:00.520 --> 00:23:07.270
And then if you remember, we created the username as well because we are not using.

293
00:23:08.260 --> 00:23:10.870
Next off we need to create it again.

294
00:23:10.870 --> 00:23:18.280
So I think we create it inside the next off here.

295
00:23:19.390 --> 00:23:24.820
We can copy this one instead of creating a write in it again, we can copy it.

296
00:23:25.660 --> 00:23:27.070
We go back to.

297
00:23:29.890 --> 00:23:32.260
Here and we paste it here.

298
00:23:33.320 --> 00:23:35.600
Instead of this, it should be.

299
00:23:36.770 --> 00:23:38.000
Username.

300
00:23:39.090 --> 00:23:41.340
And this is going to be equal.

301
00:23:42.550 --> 00:23:46.180
User display name.

302
00:23:52.230 --> 00:23:53.310
And then.

303
00:23:56.150 --> 00:23:57.550
It should be.

304
00:23:57.580 --> 00:23:57.960
Yeah.

305
00:23:58.290 --> 00:23:59.310
You need to split it.

306
00:23:59.310 --> 00:24:04.320
So we split the first name and the last name.

307
00:24:06.060 --> 00:24:07.800
Buy this space.

308
00:24:08.880 --> 00:24:10.620
Then we want to join it.

309
00:24:13.050 --> 00:24:15.620
Again and then make it lowercase.

310
00:24:16.490 --> 00:24:16.970
Okay.

311
00:24:19.730 --> 00:24:21.260
After the username.

312
00:24:21.260 --> 00:24:24.080
The other things I want to get is a user image.

313
00:24:25.740 --> 00:24:27.900
Which is equal to user.

314
00:24:28.600 --> 00:24:29.410
Dot.

315
00:24:30.370 --> 00:24:31.630
Photo URL.

316
00:24:34.790 --> 00:24:35.780
This is.

317
00:24:35.810 --> 00:24:37.880
This should be like this.

318
00:24:39.140 --> 00:24:39.880
Okay.

319
00:24:39.890 --> 00:24:44.540
Then then we can get the user ID as well.

320
00:24:44.540 --> 00:24:57.530
So we just say user ID is equal to user dot user ID and finally we can get the time that the user is

321
00:24:57.530 --> 00:24:58.010
created.

322
00:24:58.010 --> 00:24:59.120
So we just say.

323
00:25:00.080 --> 00:25:02.060
Time stamp.

324
00:25:03.300 --> 00:25:05.760
Is equal to silver.

325
00:25:07.940 --> 00:25:09.020
Timestamp.

326
00:25:11.580 --> 00:25:13.410
Let's import all of them.

327
00:25:13.410 --> 00:25:16.560
Set doc is imported already.

328
00:25:17.580 --> 00:25:20.160
Then we need to import time stamp.

329
00:25:20.160 --> 00:25:21.630
That is okay too.

330
00:25:22.410 --> 00:25:26.910
So we have doc get doc said doc several time stamp.

331
00:25:28.190 --> 00:25:30.320
And DBS is important as well.

332
00:25:31.370 --> 00:25:32.360
I think it's fine.

333
00:25:33.110 --> 00:25:35.150
We can test it now.

334
00:25:37.530 --> 00:25:44.340
Let's go back to localhost 3000 inside the signing page.

335
00:25:45.190 --> 00:25:48.100
Let's sign in with another account's.

336
00:25:51.450 --> 00:25:57.370
Just first I show you that we don't have any users here.

337
00:25:57.390 --> 00:25:58.560
Let me refresh.

338
00:26:05.800 --> 00:26:06.430
Okay.

339
00:26:07.830 --> 00:26:08.670
Now.

340
00:26:10.100 --> 00:26:13.490
We can sign in with this account, for example.

341
00:26:19.190 --> 00:26:19.620
Okay.

342
00:26:19.640 --> 00:26:21.920
We are getting the console log.

343
00:26:23.180 --> 00:26:25.400
Excuse me then.

344
00:26:25.400 --> 00:26:26.840
Uh, let's try this.

345
00:26:27.770 --> 00:26:29.300
Refresh this page.

346
00:26:32.150 --> 00:26:32.540
Yeah.

347
00:26:32.570 --> 00:26:40.940
We're getting a new collection and the first document is with the user ID is created.

348
00:26:41.690 --> 00:26:48.590
It has the email name timestamp user ID, which is similar to this one.

349
00:26:49.970 --> 00:26:57.740
User image and also username that was for this part.

350
00:26:59.790 --> 00:27:03.570
And as I mentioned before, we can get the error as well.

351
00:27:03.750 --> 00:27:05.730
So it's very simple.

352
00:27:05.730 --> 00:27:08.010
We can just use, try and catch.

353
00:27:08.430 --> 00:27:09.960
We just say try.

354
00:27:10.200 --> 00:27:11.100
We write and try.

355
00:27:11.100 --> 00:27:20.040
And we can get the auto suggestion, try, catch statement and we can bring everything inside the try

356
00:27:20.040 --> 00:27:20.610
here.

357
00:27:24.580 --> 00:27:26.740
And then for the error.

358
00:27:28.090 --> 00:27:32.530
We just for now we console.log.

359
00:27:32.560 --> 00:27:34.420
Error later we can make a.

360
00:27:40.190 --> 00:27:44.470
We can make a toaster to show it as a toast.

361
00:27:46.540 --> 00:27:48.550
But for now, that is fine.

362
00:27:48.580 --> 00:27:50.530
We can get the error now as well.

363
00:27:51.460 --> 00:27:52.240
Okay.

364
00:27:55.030 --> 00:27:57.970
Let's try this again with another user.

365
00:27:57.970 --> 00:28:00.160
So assigning which Google.

366
00:28:01.840 --> 00:28:03.760
I we try the other user.

367
00:28:07.830 --> 00:28:13.320
Now we should see another document added and also in authentication.

368
00:28:14.250 --> 00:28:16.260
We should see both of them.

369
00:28:18.700 --> 00:28:23.350
With Google private provider and the time that we are signed in.

370
00:28:25.400 --> 00:28:25.950
Okay.

371
00:28:27.960 --> 00:28:29.520
In the next step.

372
00:28:29.760 --> 00:28:30.780
We want to.

373
00:28:31.960 --> 00:28:33.370
For example, when we are in the.

374
00:28:35.600 --> 00:28:37.940
Localhost, 3000.

375
00:28:40.160 --> 00:28:40.490
No.

376
00:28:40.490 --> 00:28:42.890
We actually signed in.

377
00:28:44.980 --> 00:28:45.790
But.

378
00:28:47.680 --> 00:28:53.680
As you can see, we are not signing because we cannot put any post because the signing information is

379
00:28:53.680 --> 00:28:55.870
coming from next off now.

380
00:28:56.590 --> 00:29:03.970
But we are often authenticated the person using fire fire based authentication.

381
00:29:03.970 --> 00:29:13.000
So we need to get the information from the Firebase authentication and also update these sections,

382
00:29:13.000 --> 00:29:14.860
for example, in sidebar.

383
00:29:18.180 --> 00:29:18.960
We will use.

384
00:29:18.990 --> 00:29:23.820
We were importing U.S. from next off.

385
00:29:25.020 --> 00:29:28.590
And then we were creating getting the decision and.

386
00:29:29.540 --> 00:29:30.770
Based on that.

387
00:29:30.770 --> 00:29:39.710
If the decision was true, we were showing the sidebar, we were showing the the buttons and the mini

388
00:29:39.710 --> 00:29:40.550
profile.

389
00:29:40.550 --> 00:29:46.760
But instead of this, you want to create get it from the Firebase authentication.

390
00:29:48.700 --> 00:29:52.390
So in the next step, we want to do that.

391
00:29:53.360 --> 00:29:56.900
So here, inside sidebar, that is.

392
00:29:57.800 --> 00:30:00.430
We don't want to use next.

393
00:30:00.440 --> 00:30:03.860
Arthur, we delete this one completely.

394
00:30:05.460 --> 00:30:08.310
We don't want to create a situation.

395
00:30:09.170 --> 00:30:10.790
So we should get an error now.

396
00:30:10.790 --> 00:30:11.450
But.

397
00:30:12.510 --> 00:30:18.600
We can just get everything from Firebase authentication here.

398
00:30:19.580 --> 00:30:26.000
So first we need to create the get the off and off this coming from get.

399
00:30:28.980 --> 00:30:29.730
Off.

400
00:30:30.890 --> 00:30:33.380
Which is coming from Firebase of.

401
00:30:37.160 --> 00:30:40.490
After that, we can create.

402
00:30:42.930 --> 00:30:44.220
A use effect.

403
00:30:44.430 --> 00:30:47.810
You know, let me just show you first.

404
00:30:47.850 --> 00:30:55.620
But, uh, let me show you in the final, final version.

405
00:30:56.190 --> 00:31:00.180
In all pages, for example, this is the homepage.

406
00:31:00.600 --> 00:31:05.130
And if you go inside this, for example, post.

407
00:31:07.410 --> 00:31:08.910
We still have the sidebar.

408
00:31:08.910 --> 00:31:14.590
So I want to just inside the sidebar, which is common in our website.

409
00:31:14.610 --> 00:31:17.550
I want to get the authentication

410
00:31:20.130 --> 00:31:21.120
data.

411
00:31:22.120 --> 00:31:24.340
And then I want to store it.

412
00:31:25.000 --> 00:31:30.990
Store the user inside the global state using recoil and use it everywhere.

413
00:31:31.000 --> 00:31:40.750
For example, we can use it when we are making the post, signing and liking any anywhere inside our

414
00:31:40.750 --> 00:31:41.530
website.

415
00:31:41.530 --> 00:31:48.850
So we don't we don't need to fetch the user data all the time in all components.

416
00:31:48.850 --> 00:31:54.730
We can just do it one time inside the sidebar and the sidebar is always

417
00:31:57.100 --> 00:32:03.100
rendering inside our website because it's existed in all pages.

418
00:32:03.970 --> 00:32:05.080
So here.

419
00:32:06.090 --> 00:32:07.110
We can.

420
00:32:09.160 --> 00:32:09.790
Use.

421
00:32:10.600 --> 00:32:10.990
Use.

422
00:32:10.990 --> 00:32:11.540
Effect.

423
00:32:11.570 --> 00:32:12.270
Hook.

424
00:32:16.680 --> 00:32:19.830
Let's create the use of fact first.

425
00:32:22.960 --> 00:32:25.660
The dependency we are using.

426
00:32:26.770 --> 00:32:32.020
It's just an empty bracket because we want to only render this one time.

427
00:32:32.920 --> 00:32:36.610
When this page is refreshed.

428
00:32:40.250 --> 00:32:44.200
Or when something is changing inside the page.

429
00:32:44.210 --> 00:32:46.220
For example, the.

430
00:32:47.900 --> 00:32:50.270
Uh, yeah, that's one time is enough.

431
00:32:50.270 --> 00:32:53.960
Because we are authenticated a person one time and then.

432
00:32:54.860 --> 00:33:01.770
We want to check if the person is authenticated one time and if the person click on the sign out button.

433
00:33:01.790 --> 00:33:05.060
That's the different story we can re render.

434
00:33:06.140 --> 00:33:11.690
We can use sign out method from Firebase to sign out the person.

435
00:33:12.830 --> 00:33:17.970
Now we want to check the status of the person that is signing or not.

436
00:33:17.990 --> 00:33:24.500
We can use a method called on off a state change from Firebase Off.

437
00:33:25.190 --> 00:33:28.410
And this is going to take two things to off.

438
00:33:28.430 --> 00:33:37.580
So we want to know which person and also this is going to give us the user if the user exists or not.

439
00:33:37.610 --> 00:33:42.110
It gives us this and we check here.

440
00:33:43.410 --> 00:33:45.240
If the user exists.

441
00:33:47.810 --> 00:33:50.900
We want to catch the user data from the.

442
00:33:52.130 --> 00:33:55.040
Collection your users collections.

443
00:33:55.040 --> 00:33:56.870
So the address here.

444
00:33:58.820 --> 00:34:01.250
The document reference.

445
00:34:03.150 --> 00:34:04.980
Is equal to.

446
00:34:05.820 --> 00:34:13.650
We want to get the document data here, which is coming from DB from Firebase.

447
00:34:14.660 --> 00:34:16.280
Here you have imported.

448
00:34:17.360 --> 00:34:20.720
And the collection name is users.

449
00:34:21.820 --> 00:34:24.760
And finally, we want to get the user ID.

450
00:34:25.090 --> 00:34:27.460
If you remember inside the auth.

451
00:34:29.770 --> 00:34:33.580
We had this address current user.

452
00:34:34.720 --> 00:34:45.010
Then we had to provide the data and in the first element of the array we could get the user ID.

453
00:34:47.050 --> 00:34:47.220
Okay.

454
00:34:47.350 --> 00:34:49.210
Now we have the address.

455
00:34:52.660 --> 00:34:56.560
Then we want to create a snap shot.

456
00:34:56.560 --> 00:35:07.690
So we just say, Doc, snap and we can wait and get this snap shot using get doc.

457
00:35:10.040 --> 00:35:12.740
And the document reference is this one.

458
00:35:16.700 --> 00:35:17.900
So that is okay.

459
00:35:17.990 --> 00:35:23.330
We now we are getting the user from the database.

460
00:35:23.930 --> 00:35:28.670
We can also we can double check here as well.

461
00:35:28.670 --> 00:35:32.720
We just say if the user exists.

462
00:35:34.140 --> 00:35:36.660
For any reason if this doesn't exist.

463
00:35:39.520 --> 00:35:40.100
Uh.

464
00:35:41.630 --> 00:35:42.980
And then the.

465
00:35:45.230 --> 00:35:46.310
We want to.

466
00:35:47.650 --> 00:35:48.280
Just.

467
00:35:49.700 --> 00:35:51.080
When this one happened.

468
00:35:54.930 --> 00:35:56.190
Uh, we want to.

469
00:35:57.060 --> 00:35:59.010
First, we want to create a.

470
00:36:02.070 --> 00:36:03.540
Global estate.

471
00:36:03.540 --> 00:36:12.360
As I mentioned before, we want to create a global estate call current user so we can just say set.

472
00:36:14.410 --> 00:36:20.290
Current user for the view when we want to change this state.

473
00:36:21.700 --> 00:36:23.230
And then we can use.

474
00:36:23.380 --> 00:36:24.250
Use.

475
00:36:25.280 --> 00:36:26.390
Recoil.

476
00:36:30.110 --> 00:36:42.550
You just say use the recoil and this can be this should be used recoil a state that is coming from recoil

477
00:36:42.700 --> 00:36:44.620
we can import it.

478
00:36:46.300 --> 00:36:51.220
Now we haven't created this inside the recoil atom.

479
00:36:52.050 --> 00:36:53.880
So we can.

480
00:36:55.190 --> 00:36:55.640
Here.

481
00:36:55.640 --> 00:36:56.570
We can just.

482
00:36:57.900 --> 00:37:00.330
Create another file.

483
00:37:03.610 --> 00:37:04.630
We call it.

484
00:37:07.470 --> 00:37:08.700
User.

485
00:37:12.880 --> 00:37:16.780
User Atom James.

486
00:37:18.660 --> 00:37:20.790
Let's copy one of these.

487
00:37:24.540 --> 00:37:26.280
So we can copy this one.

488
00:37:27.850 --> 00:37:32.050
And we change this model to user state.

489
00:37:32.590 --> 00:37:35.020
And the key is user state.

490
00:37:35.960 --> 00:37:40.760
And the default value is null means the person is not existed.

491
00:37:45.300 --> 00:37:52.980
So here we can just say initial value is the user state that we have created inside the atom.

492
00:37:52.980 --> 00:37:56.880
So we need to import it from atom user atom.

493
00:37:58.300 --> 00:37:58.600
Okay.

494
00:37:58.660 --> 00:38:04.090
Now, they said if the if the document exists.

495
00:38:05.350 --> 00:38:08.260
Inside our database we want to set.

496
00:38:10.090 --> 00:38:11.890
This current user.

497
00:38:13.020 --> 00:38:14.940
To that document.

498
00:38:16.720 --> 00:38:20.020
So this is going to be doc snap.

499
00:38:21.140 --> 00:38:23.580
Which we are getting here, Dot.

500
00:38:23.610 --> 00:38:26.250
If you remember, it's inside data.

501
00:38:27.430 --> 00:38:27.940
Okay.

502
00:38:31.010 --> 00:38:34.370
And then there is a problem here.

503
00:38:34.400 --> 00:38:43.220
Maybe you have noticed we have a vat here, but we don't have a cent center, a synchronous function.

504
00:38:44.330 --> 00:38:46.660
We cannot do the use effect.

505
00:38:46.670 --> 00:38:48.200
Turn it to a synchronous.

506
00:38:48.230 --> 00:38:52.100
We need to create a separate function.

507
00:38:53.650 --> 00:38:58.300
And we call this, for example, Fitch.

508
00:38:59.460 --> 00:39:00.510
User.

509
00:39:01.230 --> 00:39:05.340
And this can be a synchronous.

510
00:39:10.780 --> 00:39:13.270
And we put this everything.

511
00:39:14.440 --> 00:39:15.910
Inside this.

512
00:39:16.720 --> 00:39:21.790
And but we need to call this function somewhere.

513
00:39:21.800 --> 00:39:24.280
So we need to call it here.

514
00:39:24.670 --> 00:39:25.900
So now we can.

515
00:39:27.270 --> 00:39:31.580
Remove the problems in our browser.

516
00:39:31.590 --> 00:39:34.650
Let me check if you're getting an error.

517
00:39:37.140 --> 00:39:39.990
So we got the error I was talking about.

518
00:39:42.990 --> 00:39:44.580
Still getting error.

519
00:39:44.610 --> 00:39:45.780
Let me check.

520
00:39:46.740 --> 00:39:51.390
Line 29 said we are using a wait.

521
00:39:53.530 --> 00:39:55.330
And that is a synchronous.

522
00:39:56.740 --> 00:39:57.910
Yes.

523
00:40:05.010 --> 00:40:06.450
Each user.

524
00:40:09.340 --> 00:40:10.220
And.

525
00:40:23.590 --> 00:40:26.140
So this is inside this.

526
00:40:31.210 --> 00:40:32.950
It should work, actually.

527
00:40:43.330 --> 00:40:46.480
Let's try and just refresh the page.

528
00:40:48.870 --> 00:40:51.510
It isn't allowed in non synchronous function.

529
00:40:52.380 --> 00:40:53.380
That's weird.

530
00:40:57.580 --> 00:41:04.300
The problem is this function should be inside the if statement.

531
00:41:05.130 --> 00:41:06.630
So we.

532
00:41:09.050 --> 00:41:12.680
Just let me move this phone here.

533
00:41:14.670 --> 00:41:16.800
And then this one.

534
00:41:21.990 --> 00:41:24.150
This should be here.

535
00:41:33.280 --> 00:41:35.380
So fetch user.

536
00:41:39.110 --> 00:41:42.800
And then this one should be inside.

537
00:41:45.180 --> 00:41:46.070
So.

538
00:41:51.340 --> 00:41:52.630
Let me check.

539
00:41:55.020 --> 00:41:57.450
So this is the error.

540
00:41:57.480 --> 00:42:02.820
So we are gaining because we use section instead of current user.

541
00:42:03.300 --> 00:42:12.510
So let's first console log current user and we see that we are getting the information or not and we

542
00:42:12.510 --> 00:42:13.500
open the.

543
00:42:15.210 --> 00:42:18.360
A console using F 12.

544
00:42:19.650 --> 00:42:21.780
Let's refresh the page.

545
00:42:24.860 --> 00:42:29.270
So let's get rid of all these errors and then we fix that one.

546
00:42:29.450 --> 00:42:33.800
So instead of session, we want to use current user.

547
00:42:35.760 --> 00:42:41.770
Some say if this current user exists, we want to show these icons.

548
00:42:42.520 --> 00:42:45.130
And for the button as well.

549
00:42:48.340 --> 00:42:56.260
And here instead of session we should say current user name.

550
00:42:57.010 --> 00:42:59.440
Current User Username.

551
00:43:01.180 --> 00:43:03.280
Now we can protect them as well.

552
00:43:05.140 --> 00:43:06.400
And then.

553
00:43:07.260 --> 00:43:08.880
So let's try now.

554
00:43:10.620 --> 00:43:13.050
Still secession is not defined.

555
00:43:14.110 --> 00:43:17.620
And let me see where we missed the session.

556
00:43:18.070 --> 00:43:20.980
I search for session here.

557
00:43:22.000 --> 00:43:23.080
So.

558
00:43:25.400 --> 00:43:27.710
This one user.

559
00:43:28.870 --> 00:43:29.620
Current user.

560
00:43:29.620 --> 00:43:34.300
But then if you remember, we just said user image instead.

561
00:43:38.070 --> 00:43:41.550
Now they think this signing is not defined.

562
00:43:43.390 --> 00:43:45.040
So let's.

563
00:43:48.090 --> 00:43:49.800
Let's remove this for now.

564
00:43:54.190 --> 00:43:55.780
We cannot remove it.

565
00:43:56.230 --> 00:43:59.500
So let's remove the archaic phone.

566
00:44:04.410 --> 00:44:04.650
Okay.

567
00:44:04.830 --> 00:44:16.290
We should see our website or document is not defined, so we just need to import document from file

568
00:44:16.290 --> 00:44:17.040
store.

569
00:44:21.140 --> 00:44:25.310
Now sign knots is not defined 79.

570
00:44:27.610 --> 00:44:29.380
79.

571
00:44:31.490 --> 00:44:34.220
So let's say move this for now.

572
00:44:35.040 --> 00:44:35.640
Okay.

573
00:44:37.590 --> 00:44:41.810
Actually we are signing because we are authenticated.

574
00:44:41.820 --> 00:44:45.300
Now let's check who is authenticated.

575
00:44:45.780 --> 00:44:47.910
So the current user.

576
00:44:57.300 --> 00:45:00.640
So it's showing now.

577
00:45:00.660 --> 00:45:02.970
But the.

578
00:45:05.810 --> 00:45:07.250
Because here.

579
00:45:18.500 --> 00:45:19.340
Shouldn't.

580
00:45:28.050 --> 00:45:35.550
So let's add this sign out as well so we can exactly know we are really signing or not.

581
00:45:36.330 --> 00:45:41.370
So here that we remove this sign out, we can bring it back.

582
00:45:41.370 --> 00:45:47.580
But instead of using, we can use a sign out from Firebase Authentication.

583
00:45:47.580 --> 00:45:49.110
That's just a method.

584
00:45:51.450 --> 00:45:54.990
If we call this method, we're going to be sign out.

585
00:45:55.590 --> 00:45:57.120
So let's try now.

586
00:45:57.420 --> 00:46:01.350
When we click on this image, we should sign out.

587
00:46:02.300 --> 00:46:06.170
So we're getting an error from Firebase.

588
00:46:07.100 --> 00:46:08.990
Sign out is not a function.

589
00:46:08.990 --> 00:46:11.180
So we cannot use it like this.

590
00:46:12.110 --> 00:46:13.730
We need to.

591
00:46:15.690 --> 00:46:17.550
Make a function for it.

592
00:46:19.310 --> 00:46:21.140
We call this on.

593
00:46:22.810 --> 00:46:27.520
Sign out and recreate the function here.

594
00:46:28.480 --> 00:46:30.190
Just add a top.

595
00:46:31.590 --> 00:46:34.530
We create a function and we call it on.

596
00:46:35.590 --> 00:46:37.600
Sign out.

597
00:46:39.090 --> 00:46:49.170
And we just need to call the sign out from next from the Firebase Auth.

598
00:46:50.950 --> 00:46:53.980
And this is getting the off as well.

599
00:46:53.980 --> 00:46:57.730
So the oath should be added to sign out.

600
00:46:58.060 --> 00:47:03.070
And here we need to set the current user to null again.

601
00:47:05.330 --> 00:47:07.160
So let's try this.

602
00:47:08.100 --> 00:47:08.760
Here.

603
00:47:08.760 --> 00:47:10.160
We sign out.

604
00:47:10.170 --> 00:47:12.090
As you can see, we signed out.

605
00:47:13.010 --> 00:47:16.290
Okay, let's decrease the size.

606
00:47:17.110 --> 00:47:17.740
Here.

607
00:47:18.770 --> 00:47:21.840
Okay for signing now.

608
00:47:21.840 --> 00:47:23.360
It doesn't do anything.

609
00:47:23.360 --> 00:47:26.330
We want to go to the that page.

610
00:47:26.330 --> 00:47:27.590
The signing page.

611
00:47:29.060 --> 00:47:34.480
In order to do that before we were using just signing a method of next off.

612
00:47:34.490 --> 00:47:40.040
But now we want to use the next route.

613
00:47:41.650 --> 00:47:43.750
So we need to import.

614
00:47:46.470 --> 00:47:47.820
Use router.

615
00:47:48.810 --> 00:47:54.180
Sorry, we use router from next router.

616
00:47:55.110 --> 00:47:59.730
Then we need to initialize it here at the top.

617
00:47:59.730 --> 00:48:07.410
So just say coms and we call it the router and this is going to be equal to use router.

618
00:48:09.140 --> 00:48:13.040
And now we can use the router to go to another page.

619
00:48:13.040 --> 00:48:13.640
So.

620
00:48:15.000 --> 00:48:23.610
Here we bring back the and click on the button for the signing and we just create a function and then

621
00:48:23.610 --> 00:48:25.530
we just say, router dot.

622
00:48:26.380 --> 00:48:27.130
Push.

623
00:48:28.150 --> 00:48:33.890
And we want this to push us to sign.

624
00:48:34.720 --> 00:48:39.970
It was in the folder called off sign and.

625
00:48:42.750 --> 00:48:43.140
Okay.

626
00:48:43.200 --> 00:48:44.310
Let's try it.

627
00:48:45.950 --> 00:48:47.450
Now we click on signing.

628
00:48:47.450 --> 00:48:49.430
We should go to this page.

629
00:48:50.260 --> 00:48:52.720
Let's sign in with another.

630
00:48:54.120 --> 00:48:57.390
Or, for example, is signing with this.

631
00:49:03.640 --> 00:49:06.400
We are getting the current user here.

632
00:49:07.580 --> 00:49:11.730
But we are not redirecting to the homepage.

633
00:49:11.750 --> 00:49:13.490
We're still in the same page.

634
00:49:13.490 --> 00:49:17.540
So inside the the sign in page.

635
00:49:20.220 --> 00:49:21.220
After we.

636
00:49:22.470 --> 00:49:24.840
We sign in here.

637
00:49:27.760 --> 00:49:30.520
Let's delete this console log.

638
00:49:30.520 --> 00:49:35.170
And after this we need to bring to use that same system.

639
00:49:35.170 --> 00:49:35.740
The.

640
00:49:37.980 --> 00:49:39.000
Use.

641
00:49:41.030 --> 00:49:44.330
Router from next router.

642
00:49:44.330 --> 00:49:46.520
We need to initialize it here.

643
00:49:47.450 --> 00:49:56.540
We just say router is equal to use router and after we sign in the person.

644
00:49:57.610 --> 00:49:59.140
We can just say.

645
00:50:00.520 --> 00:50:06.430
Rather don't push and we bring the person to homepage.

646
00:50:08.600 --> 00:50:10.250
So let's try it again.

647
00:50:16.720 --> 00:50:17.980
We try this?

648
00:50:20.460 --> 00:50:24.390
Now, after this, we should go to the homepage.

649
00:50:25.560 --> 00:50:26.340
Okay.

650
00:50:27.180 --> 00:50:34.230
And then we also we see the persons data inside the mini profile and we see the.

651
00:50:38.640 --> 00:50:40.080
So that's fine.

652
00:50:46.100 --> 00:50:46.580
Okay.

653
00:50:47.120 --> 00:50:49.220
I don't know why we're still getting the.

654
00:50:50.320 --> 00:50:53.620
Not for the user, but we have the user actually.

655
00:50:54.670 --> 00:50:58.000
So let's see again inside the sidebar.

656
00:51:02.420 --> 00:51:03.350
Console.log.

657
00:51:03.380 --> 00:51:04.700
Current user.

658
00:51:15.130 --> 00:51:18.370
Let's console.log here at the top.

659
00:51:22.200 --> 00:51:25.920
Now we are getting now the surface to page.

660
00:51:30.920 --> 00:51:31.490
Okay.

661
00:51:32.730 --> 00:51:35.070
We are getting the current user, which is this one.

662
00:51:35.070 --> 00:51:41.160
Lets sign out by clicking on the person's image.

663
00:51:42.890 --> 00:51:43.820
Now you're getting.

664
00:51:43.820 --> 00:51:45.590
No, that's okay.

665
00:51:46.190 --> 00:51:50.510
So let's sign in again with someone else.

666
00:51:52.680 --> 00:51:54.660
Like this person.

667
00:51:57.060 --> 00:51:57.430
Okay.

668
00:51:57.480 --> 00:52:04.080
Now we should go back to homepage and we should get a different current user.

669
00:52:05.250 --> 00:52:08.220
But it's a hand user ID and everything.

670
00:52:09.480 --> 00:52:12.050
So that was it for the sidebar section.

671
00:52:12.060 --> 00:52:15.000
Now let me close this.

672
00:52:16.190 --> 00:52:22.540
Now we want to have the input section because the input, the post everything is based on the next off.

673
00:52:22.550 --> 00:52:29.600
Now we want to change it to, to, uh, firebase authentication.

674
00:52:29.600 --> 00:52:32.360
But now our work is easier.

675
00:52:32.360 --> 00:52:39.230
We don't need to use use effect and fetch the user data.

676
00:52:39.230 --> 00:52:47.240
We just need to have this global state current user in anywhere in our RPF site and we get the current

677
00:52:47.240 --> 00:52:47.810
user.

678
00:52:49.730 --> 00:52:59.420
So in the next component we can go to the input that jazz and we change everything from next off to

679
00:52:59.420 --> 00:53:02.450
Firebase Authentication.

680
00:53:03.440 --> 00:53:10.670
So let's first delete the use session and the import from next auth.

681
00:53:14.290 --> 00:53:14.850
Okay.

682
00:53:14.890 --> 00:53:15.790
Now.

683
00:53:17.230 --> 00:53:19.570
We just need to import.

684
00:53:21.350 --> 00:53:23.040
We need to just get the.

685
00:53:24.770 --> 00:53:26.240
Just do it at the top.

686
00:53:29.190 --> 00:53:29.950
Uh.

687
00:53:32.560 --> 00:53:38.650
Just here, we create another global hawk using recoil.

688
00:53:39.160 --> 00:53:43.840
And this is going to be current user.

689
00:53:45.360 --> 00:53:47.430
Be just a set current user.

690
00:53:48.370 --> 00:53:54.820
And this is going to be equal to use recoil a state.

691
00:54:03.310 --> 00:54:07.800
I think we have our imported, uh, we didn't import it yet.

692
00:54:09.060 --> 00:54:18.990
Use we call stage and the initial value is user state, which is coming from atom.

693
00:54:20.940 --> 00:54:23.550
So we need to import them both.

694
00:54:27.320 --> 00:54:30.020
So here are the top I import.

695
00:54:34.420 --> 00:54:37.090
Use recoil.

696
00:54:37.980 --> 00:54:41.250
A state from.

697
00:54:42.690 --> 00:54:43.710
Recoil.

698
00:54:45.900 --> 00:54:47.700
Then we import.

699
00:54:50.470 --> 00:54:52.060
User state.

700
00:54:53.340 --> 00:54:55.070
From user atom.

701
00:54:56.200 --> 00:54:56.660
Okay.

702
00:54:57.250 --> 00:54:59.410
Now we have the current user.

703
00:55:01.240 --> 00:55:05.980
So instead of session everywhere we use in session, we can use the current user.

704
00:55:05.980 --> 00:55:09.430
For example, this should be current user that user ID.

705
00:55:11.510 --> 00:55:16.070
And the image, if you remember, it was a user image.

706
00:55:18.680 --> 00:55:21.110
And we have the name.

707
00:55:23.870 --> 00:55:25.480
Which is.

708
00:55:28.620 --> 00:55:28.810
Yeah.

709
00:55:28.860 --> 00:55:30.600
That's his name as well.

710
00:55:31.540 --> 00:55:33.370
And that is your username.

711
00:55:35.290 --> 00:55:36.580
So that's fine.

712
00:55:38.110 --> 00:55:39.190
And then.

713
00:55:40.640 --> 00:55:41.870
We?

714
00:55:41.870 --> 00:55:46.070
Let's see where we just search for a session.

715
00:55:47.050 --> 00:55:48.430
Here we say session.

716
00:55:48.430 --> 00:55:51.220
We can just change this one to current user.

717
00:55:53.090 --> 00:56:00.980
For the image, user image, we just say current user dot user image.

718
00:56:06.130 --> 00:56:08.530
Let me see if maybe.

719
00:56:09.710 --> 00:56:12.080
That's user image testifying.

720
00:56:15.760 --> 00:56:16.390
Okay.

721
00:56:16.570 --> 00:56:17.650
That's okay.

722
00:56:18.580 --> 00:56:20.690
Let's see what else we have.

723
00:56:20.710 --> 00:56:22.800
I think it's completed.

724
00:56:22.810 --> 00:56:25.090
Now let's protect this.

725
00:56:31.110 --> 00:56:37.460
And we should have some sign out button here as well.

726
00:56:40.100 --> 00:56:40.300
Yeah.

727
00:56:40.370 --> 00:56:41.990
Here we have on click.

728
00:56:42.500 --> 00:56:44.860
We have signed out.

729
00:56:45.500 --> 00:56:49.010
We can just create a function again on.

730
00:56:51.140 --> 00:56:52.730
Sign out.

731
00:56:53.530 --> 00:56:56.060
Now we create it here at the top.

732
00:57:00.380 --> 00:57:02.780
The function name is on.

733
00:57:04.720 --> 00:57:06.040
So I.

734
00:57:09.610 --> 00:57:10.290
Out.

735
00:57:11.560 --> 00:57:16.630
And firstly, we need to just say sign.

736
00:57:18.150 --> 00:57:27.510
You used sign up from fire based off and we need to off as well so just off but this is.

737
00:57:28.260 --> 00:57:30.480
And we should create it here.

738
00:57:33.760 --> 00:57:38.380
We need firstly import set off.

739
00:57:41.700 --> 00:57:42.750
And then.

740
00:57:43.750 --> 00:57:44.350
Here.

741
00:57:44.350 --> 00:57:47.500
We just create a constant and we call it off.

742
00:57:47.800 --> 00:57:50.080
And this is going to be equals.

743
00:57:52.480 --> 00:57:52.930
Sorry.

744
00:57:52.930 --> 00:57:53.380
This is.

745
00:57:53.380 --> 00:57:54.490
Get off.

746
00:57:54.830 --> 00:57:56.110
I think this is.

747
00:57:56.110 --> 00:57:56.980
Get off.

748
00:57:57.910 --> 00:58:00.100
You just say get off.

749
00:58:02.630 --> 00:58:03.860
And then.

750
00:58:06.890 --> 00:58:08.330
In the function.

751
00:58:10.760 --> 00:58:16.790
We set the current user to NULL again when we sign out.

752
00:58:17.480 --> 00:58:20.000
So let's test this now.

753
00:58:20.000 --> 00:58:22.520
We can see the input, actually.

754
00:58:23.300 --> 00:58:26.420
Let's make a new.

755
00:58:27.750 --> 00:58:28.560
Post.

756
00:58:28.740 --> 00:58:32.060
Just say hello to that.

757
00:58:32.530 --> 00:58:34.800
It's coming here.

758
00:58:35.930 --> 00:58:37.100
That's fine.

759
00:58:37.100 --> 00:58:38.300
And then.

760
00:58:42.160 --> 00:58:44.190
Let's sign out on the side of.

761
00:58:44.350 --> 00:58:45.190
We see it.

762
00:58:47.570 --> 00:58:48.170
We.

763
00:58:49.070 --> 00:58:51.020
We click here to sign out.

764
00:58:51.570 --> 00:58:53.180
Och, it's working.

765
00:58:54.100 --> 00:58:56.680
Let's sign in again with another account.

766
00:59:10.400 --> 00:59:11.000
Okay.

767
00:59:11.840 --> 00:59:12.140
Yeah.

768
00:59:12.140 --> 00:59:13.070
It's working.

769
00:59:14.680 --> 00:59:15.580
That's fine.

770
00:59:18.190 --> 00:59:19.400
Next step, we can.

771
00:59:19.850 --> 00:59:25.330
We're going to fix the post section because now we're using actually.

772
00:59:27.780 --> 00:59:28.620
Uh.

773
00:59:30.880 --> 00:59:33.610
I don't know who who put the comment for me.

774
00:59:36.520 --> 00:59:37.150
Okay.

775
00:59:37.720 --> 00:59:39.400
Thank you so much for the comment.

776
00:59:40.800 --> 00:59:48.690
And then because people were using this, testing it and creating it.

777
00:59:48.810 --> 00:59:50.310
So it's happening.

778
00:59:50.310 --> 00:59:51.540
Everything real time.

779
00:59:52.380 --> 00:59:58.440
And then let's fix this post section.

780
59:59.220 --> 1:00:01.590
So now we.

781
1:00:03.070 --> 1:00:05.540
Uh, we just got back to post.

782
1:00:05.660 --> 1:00:06.580
Geez.

783
1:00:12.990 --> 1:00:13.750
And.

784
1:00:15.410 --> 1:00:17.120
Let's remove this session.

785
1:00:18.070 --> 1:00:19.270
Which is here.

786
1:00:21.200 --> 1:00:24.170
Next off, we don't need this.

787
1:00:25.330 --> 1:00:26.500
Session.

788
1:00:28.730 --> 1:00:32.060
And we need to import the current user.

789
1:00:32.060 --> 1:00:33.890
So after this.

790
1:00:35.030 --> 1:00:41.060
We can just create a constant and this is going to be current user.

791
1:00:43.770 --> 1:00:44.520
We need.

792
1:00:44.520 --> 1:00:46.620
We don't need to change it, actually.

793
1:00:47.900 --> 1:00:49.420
In the post.

794
1:00:49.430 --> 1:00:52.100
So we can just use that one.

795
1:00:53.060 --> 1:01:00.410
We just say use record of state and the state we want to use is user state.

796
1:01:03.300 --> 1:01:04.950
And this is coming from Aton.

797
1:01:06.940 --> 1:01:07.720
Okay.

798
1:01:11.230 --> 1:01:16.090
So let's search for session and we change it to current user.

799
1:01:17.270 --> 1:01:18.230
So.

800
1:01:18.940 --> 1:01:20.410
Ford has like.

801
1:01:22.030 --> 1:01:25.690
We can use the current user.

802
1:01:26.140 --> 1:01:27.010
We can.

803
1:01:29.070 --> 1:01:30.030
Protect it.

804
1:01:30.030 --> 1:01:36.090
And also we can we need to add it as a dependency as well because when the current user change, we

805
1:01:36.090 --> 1:01:39.810
want to call this use effect.

806
1:01:41.980 --> 1:01:46.110
This copy this current user and the next section is here.

807
1:01:46.120 --> 1:01:48.460
So this is user ID.

808
1:01:51.210 --> 1:01:52.920
And here as well.

809
1:01:57.060 --> 1:01:58.350
This one.

810
1:02:05.570 --> 1:02:06.500
Next.

811
1:02:10.410 --> 1:02:10.660
Okay.

812
1:02:10.680 --> 1:02:19.740
For a sign in, we need to redirect the person instead of sign in with the next auth.

813
1:02:20.460 --> 1:02:22.830
So let's fix this one first.

814
1:02:22.980 --> 1:02:24.510
So I comment this.

815
1:02:25.750 --> 1:02:32.080
And yeah, we have to use a router so we don't need to import it again.

816
1:02:32.620 --> 1:02:35.860
So here we just push the person.

817
1:02:38.180 --> 1:02:40.340
You just say rooter that push.

818
1:02:41.890 --> 1:02:46.420
And this is going to be a fourth sign.

819
1:02:47.390 --> 1:02:47.810
And

820
1:02:50.510 --> 1:02:53.630
so I just leave it as a comment.

821
1:02:54.390 --> 1:02:57.780
Next session is here.

822
1:02:59.130 --> 1:03:02.340
Let's change it to current user.

823
1:03:08.980 --> 1:03:12.340
Next one is here according to user.

824
1:03:14.510 --> 1:03:16.160
College user.

825
1:03:16.700 --> 1:03:17.330
Okay.

826
1:03:17.600 --> 1:03:19.650
So we missed that one.

827
1:03:19.670 --> 1:03:22.220
I think it's finished now.

828
1:03:23.090 --> 1:03:25.880
Let's see the results.

829
1:03:26.880 --> 1:03:27.400
Okay.

830
1:03:27.410 --> 1:03:28.040
Uh.

831
1:03:32.860 --> 1:03:34.150
Let's.

832
1:03:35.990 --> 1:03:37.190
Like this.

833
1:03:37.430 --> 1:03:38.600
That's working.

834
1:03:41.080 --> 1:03:42.630
And we need.

835
1:03:42.640 --> 1:03:45.070
I just put a new post.

836
1:03:45.070 --> 1:03:48.520
We just said test and then.

837
1:03:50.990 --> 1:03:53.120
Let me try to delete it.

838
1:03:53.410 --> 1:03:54.740
Let's just say delete.

839
1:03:55.740 --> 1:03:56.180
Okay.

840
1:03:56.190 --> 1:03:57.330
It's working to.

841
1:03:59.670 --> 1:04:00.990
For the comment.

842
1:04:02.930 --> 1:04:09.230
We should get an error because we need to fix the comment model.

843
1:04:09.710 --> 1:04:13.890
So let's come back to the homepage for the model.

844
1:04:13.910 --> 1:04:15.590
We're going to fix it.

845
1:04:18.020 --> 1:04:18.650
Soon.

846
1:04:18.800 --> 1:04:23.180
Let's check everything in the post as.

847
1:04:25.290 --> 1:04:27.880
So here's here.

848
1:04:29.530 --> 1:04:31.750
So we sign in the person here.

849
1:04:33.580 --> 1:04:36.340
Should be another sign as well.

850
1:04:36.350 --> 1:04:37.630
Let me check.

851
1:04:41.170 --> 1:04:43.230
Search for signing.

852
1:04:43.230 --> 1:04:43.670
Yeah.

853
1:04:43.980 --> 1:04:49.890
If the current user is not excessive, you need to sign in again.

854
1:04:49.890 --> 1:04:53.520
So here we just redirect the person to.

855
1:04:59.400 --> 1:05:02.670
Uh, which I say.

856
1:05:04.040 --> 1:05:04.850
Dot.

857
1:05:06.410 --> 1:05:07.310
Push.

858
1:05:08.490 --> 1:05:11.220
And we pushed the person to off.

859
1:05:12.360 --> 1:05:14.180
Sign in.

860
1:05:18.200 --> 1:05:19.310
Let's try it.

861
1:05:20.000 --> 1:05:24.160
So let's sign out now and try to like the person.

862
1:05:24.170 --> 1:05:27.680
We should be redirected again.

863
1:05:27.860 --> 1:05:33.620
Let's put the comment we are redirecting to so.

864
1:05:36.330 --> 1:05:38.040
That's fine.

865
1:05:45.470 --> 1:05:46.790
And then.

866
1:05:47.300 --> 1:05:49.520
Okay, now let's sign in again.

867
1:06:14.410 --> 1:06:17.980
So now we need to fix the model part.

868
1:06:17.980 --> 1:06:20.410
So we go to model.

869
1:06:23.910 --> 1:06:28.620
Should a comment model that jazz and we fix this one.

870
1:06:29.190 --> 1:06:31.650
So first we need to delete.

871
1:06:33.400 --> 1:06:34.750
The U.S..

872
1:06:36.530 --> 1:06:37.880
The session.

873
1:06:41.820 --> 1:06:44.730
So let's import the model.

874
1:06:44.940 --> 1:06:48.810
Just under this model, we need to.

875
1:06:50.170 --> 1:06:58.090
Current user and this is going to be equal use recoil state.

876
1:06:59.340 --> 1:07:03.300
From the initial value is user.

877
1:07:05.580 --> 1:07:11.870
This state which is coming from a user at.

878
1:07:13.670 --> 1:07:14.060
Okay.

879
1:07:14.980 --> 1:07:18.160
Let's search for succession here.

880
1:07:20.860 --> 1:07:22.780
We changed his phone to.

881
1:07:24.270 --> 1:07:25.350
Current.

882
1:07:27.800 --> 1:07:28.730
User.

883
1:07:32.930 --> 1:07:34.340
The username.

884
1:07:35.370 --> 1:07:46.860
The image should be user image and for user ID just current user.

885
1:07:48.270 --> 1:07:52.740
What else we have here inside the image?

886
1:07:54.310 --> 1:08:00.760
This is should this one should be current user and the image is user image.

887
1:08:00.910 --> 1:08:01.320
Okay.

888
1:08:03.740 --> 1:08:06.140
What else we have, that is.

889
1:08:06.170 --> 1:08:06.820
That's it.

890
1:08:06.830 --> 1:08:07.850
Let's test it.

891
1:08:11.790 --> 1:08:14.130
So we just put a comma here.

892
1:08:18.950 --> 1:08:20.300
Just a test.

893
1:08:21.430 --> 1:08:22.420
Reply.

894
1:08:26.920 --> 1:08:27.520
Okay.

895
1:08:27.840 --> 1:08:28.780
It's working.

896
1:08:31.790 --> 1:08:32.930
Like this person.

897
1:08:33.050 --> 1:08:34.220
So it doesn't work.

898
1:08:36.910 --> 1:08:45.160
Now we need to fix the actually the comment section because the comment has a different component and

899
1:08:45.160 --> 1:08:49.450
it's we need to remove it.

900
1:08:51.100 --> 1:08:52.990
The model is fixed.

901
1:08:53.020 --> 1:08:54.790
So let's go.

902
1:08:55.810 --> 1:08:59.770
For example, here we just go to the comment section.

903
1:09:02.480 --> 1:09:05.190
So let's go to comment.

904
1:09:05.190 --> 1:09:05.840
Commenter J.

905
1:09:05.870 --> 1:09:06.770
S.

906
1:09:07.700 --> 1:09:09.140
We delete the

907
1:09:12.140 --> 1:09:13.550
next auth.

908
1:09:14.830 --> 1:09:15.880
I'm here.

909
1:09:16.920 --> 1:09:17.670
And.

910
1:09:20.420 --> 1:09:21.050
Here.

911
1:09:23.000 --> 1:09:26.360
Let's bring the current user.

912
1:09:36.060 --> 1:09:40.050
And this is going to be used to recoil a state.

913
1:09:42.060 --> 1:09:44.880
And user state.

914
1:09:46.690 --> 1:09:50.290
It's just coming from the user at all.

915
1:09:50.290 --> 1:09:55.150
Right, so let's copy this and search for session.

916
1:09:59.170 --> 1:10:06.670
The first one is here, we can protect it and also we need to add it as a dependency.

917
1:10:07.900 --> 1:10:12.760
Then we say if the situation exists, show that.

918
1:10:15.920 --> 1:10:18.590
We can like the like it.

919
1:10:20.030 --> 1:10:21.680
So let's change this.

920
1:10:23.940 --> 1:10:26.370
And here.

921
1:10:30.890 --> 1:10:32.690
This one is username.

922
1:10:34.260 --> 1:10:37.140
And otherwise, we need to sign it.

923
1:10:37.170 --> 1:10:40.470
So we need to redirect the person.

924
1:10:41.980 --> 1:10:42.910
To.

925
1:10:47.860 --> 1:10:50.380
The off and signed.

926
1:10:52.210 --> 1:10:53.380
Sign.

927
1:10:56.160 --> 1:10:59.700
Let me check that if we have a router already or not.

928
1:11:00.590 --> 1:11:03.560
Yes, we have the user out, so it's fine.

929
1:11:04.250 --> 1:11:07.520
We try the next one.

930
1:11:07.520 --> 1:11:16.040
If the user is not exists again, we need to sign in router to push.

931
1:11:18.300 --> 1:11:19.110
Off.

932
1:11:20.670 --> 1:11:21.720
Exactly.

933
1:11:21.750 --> 1:11:23.700
Off and sign in.

934
1:11:26.600 --> 1:11:27.860
What is next?

935
1:11:31.690 --> 1:11:32.980
So here.

936
1:11:34.780 --> 1:11:36.190
User ID.

937
1:11:38.260 --> 1:11:39.620
I think it's fine.

938
1:11:39.640 --> 1:11:40.570
Let's check.

939
1:11:42.900 --> 1:11:43.800
Now.

940
1:11:46.170 --> 1:11:48.180
I can delete it?

941
1:11:48.180 --> 1:11:49.140
Probably.

942
1:11:52.290 --> 1:11:52.830
Okay.

943
1:11:54.180 --> 1:11:57.570
So let's like so we can like it.

944
1:11:57.570 --> 1:12:00.720
Now, let's put a comment here.

945
1:12:02.460 --> 1:12:05.010
Just say thank you.

946
1:12:10.610 --> 1:12:11.680
Like myself.

947
1:12:11.690 --> 1:12:14.720
So the comment section is working as well.

948
1:12:21.580 --> 1:12:22.010
Good.

949
1:12:23.450 --> 1:12:24.050
So.

950
1:12:25.970 --> 1:12:29.210
Let's test it again by signing out.

951
1:12:29.420 --> 1:12:31.310
So now sign out.

952
1:12:32.370 --> 1:12:33.750
As you can see, the.

953
1:12:37.100 --> 1:12:38.240
The hearts change.

954
1:12:38.240 --> 1:12:40.280
This is because we added this.

955
1:12:41.210 --> 1:12:42.770
We add it as a dependency.

956
1:12:43.160 --> 1:12:48.590
If we didn't add it as a dependency, that one should stay still.

957
1:12:48.590 --> 1:12:49.280
Read.

958
1:12:49.910 --> 1:12:52.610
So let's sign in again.

959
1:12:58.560 --> 1:13:02.940
I want to show you how dependency is very important first.

960
1:13:03.600 --> 1:13:06.960
So let's see in this comment.

961
1:13:11.130 --> 1:13:13.800
So I have already liked.

962
1:13:17.160 --> 1:13:17.290
Now.

963
1:13:17.470 --> 1:13:19.350
I didn't like it with this account.

964
1:13:19.360 --> 1:13:21.240
So as you can see, this is red.

965
1:13:21.250 --> 1:13:25.870
Now, if I remove the dependency inside the.

966
1:13:28.020 --> 1:13:30.630
Let me check the use effect.

967
1:13:36.600 --> 1:13:36.940
But.

968
1:13:41.600 --> 1:13:42.620
Here.

969
1:13:43.350 --> 1:13:47.940
I added the current user if I remove the current user here now.

970
1:13:49.640 --> 1:13:53.240
If I sign out, you just pay attention to this rate.

971
1:13:54.370 --> 1:13:55.880
See, it's still the red.

972
1:13:55.930 --> 1:13:58.270
It shouldn't be red, but.

973
1:14:00.650 --> 1:14:09.320
Uh, yeah, the current if we have the current user, when the current users change this one, the state

974
1:14:09.320 --> 1:14:10.760
is updated as well.

975
1:14:12.850 --> 1:14:13.620
Okay.

976
1:14:24.410 --> 1:14:30.530
I just we need to add it some louder as well, so I'm going to add it later.

977
1:14:31.790 --> 1:14:35.210
So everything is working nice now.

978
1:14:43.130 --> 1:14:48.740
So inside the comments, let me search for the sign in.

979
1:14:49.280 --> 1:14:49.680
Ms..

980
1:14:49.700 --> 1:14:51.230
Some sign in.

981
1:14:52.950 --> 1:14:54.000
No, it's fine.

982
1:14:54.690 --> 1:14:56.070
Fix all of them.

983
1:14:58.160 --> 1:14:58.480
Yeah.

984
1:14:58.490 --> 1:15:06.320
That was it for the updating our projects from next off to Firebase Authentication.

985
1:15:06.650 --> 1:15:13.460
So now we don't need to actually have the next off authenticate next off package.

986
1:15:13.460 --> 1:15:17.840
We can just actually delete it and.

987
1:15:20.120 --> 1:15:25.730
Now we can also add the rules in our.

988
1:15:28.020 --> 1:15:29.400
If you look at the.

989
1:15:30.790 --> 1:15:37.870
Our firebase, we can now add the rules in the storage and also to the Firebase database.

990
1:15:38.980 --> 1:15:49.690
So see that the rules for storage is just it's just everybody can read and write.

991
1:15:49.690 --> 1:15:53.500
So even they are not authenticated.

992
1:15:53.500 --> 1:15:54.280
They can.

993
1:15:55.360 --> 1:16:05.650
They can use my database inside the browser to upload whatever they want in our database, but actually

994
1:16:05.650 --> 1:16:08.380
we want to limit them for the authenticated person.

995
1:16:08.380 --> 1:16:17.800
And also I want to limit the person just can upload the image, not the videos or anything else.

996
1:16:18.490 --> 1:16:23.200
And the image should be less than a specific size.

997
1:16:23.200 --> 1:16:27.490
For example, less than two megabytes or less than one megabyte.

998
1:16:27.490 --> 1:16:28.210
So we can.

999
1:16:29.350 --> 1:16:34.870
We can add more rules here and also for database as well.

1000
1:16:34.870 --> 1:16:36.520
We can add some rules.

1001
1:16:38.340 --> 1:16:41.250
So that was it for the authentication part.

1002
1:16:41.910 --> 1:16:44.820
Before we forget, we just need to add.

1003
1:16:45.940 --> 1:16:52.630
This path to the top and we can just deploy it again to the vessel.

1004
1:16:53.890 --> 1:16:56.110
So let's start the server.

1005
1:16:58.080 --> 1:17:01.820
And we add everything to get.

1006
1:17:02.880 --> 1:17:05.010
B create a comet.

1007
1:17:07.560 --> 1:17:12.270
With a message of We just say.

1008
1:17:13.740 --> 1:17:14.760
Update.

1009
1:17:18.220 --> 1:17:21.460
And the message would be, for example, add.

1010
1:17:23.560 --> 1:17:24.610
Fire.

1011
1:17:25.540 --> 1:17:28.570
Base fend off.

1012
1:17:29.370 --> 1:17:31.290
And to remove.

1013
1:17:33.750 --> 1:17:35.220
Next off.

1014
1:17:38.380 --> 1:17:40.000
Which at this.

1015
1:17:43.790 --> 1:17:44.480
Okay.

1016
1:17:44.510 --> 1:17:45.830
I think it's fine.

1017
1:17:47.070 --> 1:17:48.540
We just push it to get.

1018
1:17:52.030 --> 1:17:57.040
Now if you go to the final.

1019
1:17:58.110 --> 1:17:59.100
We just.

1020
1:18:00.030 --> 1:18:01.680
Let me go to Warsaw.

1021
1:18:10.210 --> 1:18:11.140
Low gain.

1022
1:18:15.060 --> 1:18:17.730
Let's try the other browser.

1023
1:18:24.930 --> 1:18:25.620
Here.

1024
1:18:28.510 --> 1:18:30.550
Because I already have the account here.

1025
1:18:31.680 --> 1:18:33.750
I don't want to sign it again.

1026
1:18:37.610 --> 1:18:40.530
So this one.

1027
1:18:44.410 --> 1:18:44.770
Kick.

1028
1:18:45.760 --> 1:18:55.000
So the date the last commit is update and faster and let's see if it's deploying or not.

1029
1:19:00.440 --> 1:19:01.640
Just.

1030
1:19:02.740 --> 1:19:03.850
Still building.

1031
1:19:04.930 --> 1:19:07.210
Let's check the deployments.

1032
1:19:09.920 --> 1:19:11.540
I think it's ready now.

1033
1:19:11.540 --> 1:19:16.370
We need we can go to the website here and check.

1034
1:19:19.310 --> 1:19:19.760
Yeah.

1035
1:19:19.950 --> 1:19:23.000
Uh, yeah, it's working.

1036
1:19:23.600 --> 1:19:25.850
And the new version is up to date.

1037
1:19:26.180 --> 1:19:27.200
Updated.

1038
1:19:30.020 --> 1:19:32.390
So let's open the.

1039
1:19:33.570 --> 1:19:34.860
Console.

1040
1:19:36.000 --> 1:19:44.160
Yeah we see the current user is not so this is the new version and also in GitHub.

1041
1:19:47.180 --> 1:19:48.260
Scott.

1042
1:19:49.720 --> 1:19:50.650
To get.

1043
1:19:56.550 --> 1:20:01.680
And let me check my last repository.

1044
1:20:04.630 --> 1:20:05.410
Twitter.

1045
1:20:07.900 --> 1:20:15.400
You can see the last comment is update at FOB Firebase off and remove next off.

1046
1:20:15.520 --> 1:20:17.650
And it's already deployed.

1047
1:20:20.140 --> 1:20:22.240
And you can see all the changes.

1048
1:20:22.240 --> 1:20:25.340
If you're confused with the video, you can just check.

1049
1:20:25.360 --> 1:20:31.660
For example, we deleted we added the ATM here or deleted the use section.

1050
1:20:31.900 --> 1:20:41.440
So by just doing it a split, not unified, you can easily see where.

1051
1:20:42.420 --> 1:20:48.690
Is change and you can simply apply it to your own things.

1052
1:20:48.720 --> 1:20:56.340
It was a lot of work for us, but now actually we could we got rid of one package and also we can add

1053
1:20:56.340 --> 1:20:58.770
the rules and also we can.

1054
1:21:00.760 --> 1:21:03.340
At the user page as well.

1055
1:21:04.790 --> 1:21:05.410
Okay.

1056
1:21:05.470 --> 1:21:09.220
So you're in the next section for the more updates.

1057
1:21:09.220 --> 1:21:14.530
And also we beat other section like adding the rules on other things.

1058
1:21:15.160 --> 1:21:15.480
See.
