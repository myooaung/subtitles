WEBVTT
1
00:00:00.780 --> 00:00:06.240
Hello and welcome to another section here we are going to be building a snap chat clone so here I'm

2
00:00:06.240 --> 00:00:09.880
on snap chats Web site you can sort of see how it works.

3
00:00:09.900 --> 00:00:12.630
You're supposed to be able to take a picture of yourself.

4
00:00:12.870 --> 00:00:18.060
In this case of video and you can select a friend that you want to send that to and then the friend

5
00:00:18.060 --> 00:00:22.030
will be able to open up that snap and see what's going on there.

6
00:00:22.110 --> 00:00:27.660
So as you can see in this video snap chats going to have about a million extra features that our app

7
00:00:27.660 --> 00:00:33.300
is not going to have like all these chats and stickers stories videos things like that but this is what

8
00:00:33.300 --> 00:00:35.250
our app is going to look like.

9
00:00:35.310 --> 00:00:40.920
So we're going to come here we're going to have a nice log in the screen and we're going to make this

10
00:00:40.920 --> 00:00:43.290
very simple to just have a go situation.

11
00:00:43.290 --> 00:00:49.290
So if it's the very first time they've put in this e-mail in a password we're just going to say hit

12
00:00:49.290 --> 00:00:51.290
the button and we'll create an account for you.

13
00:00:51.480 --> 00:00:55.920
And if those already an account will log in that user so we know we've done this before but we're going

14
00:00:55.920 --> 00:00:57.610
to adopt that style again.

15
00:00:58.020 --> 00:01:04.170
So when a user signs in they'll be able to come to this home screen and if they want to log out they

16
00:01:04.170 --> 00:01:09.960
can or they can say you know what I want to make a new snap snap is what we send to people it's basically

17
00:01:09.960 --> 00:01:15.840
a picture with some text so if we say we want to send a new snap we can go ahead and choose an image

18
00:01:15.840 --> 00:01:16.740
that we want to send.

19
00:01:16.740 --> 00:01:23.310
So I have this nice little test image here I can add some sort of message or a note so I might just

20
00:01:23.310 --> 00:01:29.870
say hello and I'm going to hit next then I can choose a user that I want to send this message to so

21
00:01:29.870 --> 00:01:34.930
I'm going to send it to myself just so I can see if this works on the name that I sign in with.

22
00:01:35.040 --> 00:01:36.470
Nick at test dot org.

23
00:01:36.470 --> 00:01:42.120
So I'm going to go ahead and select that and oh oh my goodness look here at my home screen I can see

24
00:01:42.600 --> 00:01:46.900
the snap that I just received so I'm going to go ahead and click on this.

25
00:01:47.010 --> 00:01:53.070
I'm going to play that halo message that was sent with the snap and then also there's the picture that

26
00:01:53.070 --> 00:01:53.820
was uploaded.

27
00:01:53.820 --> 00:01:57.730
And look at this when we hit the back button then the snap disappear.

28
00:01:57.730 --> 00:02:03.570
So that's one of the magical things about Snap chat is it's the idea that you send pictures and messages

29
00:02:03.570 --> 00:02:06.750
to your friends but then those disappear after they view them.

30
00:02:06.750 --> 00:02:11.050
So as soon as the user hits that back button boom the snap is gone.

31
00:02:11.130 --> 00:02:11.710
OK.

32
00:02:12.060 --> 00:02:16.470
So this is the app that we're building in something special that we're going to be doing here.

33
00:02:16.470 --> 00:02:22.140
We're going to be building it with firebase which is Google's back end system in order to create apps

34
00:02:22.140 --> 00:02:28.590
that need some sort of data to be moved you know from device to device and even if you want to upload

35
00:02:28.590 --> 00:02:32.730
to storage you're going to see all the different pieces of firebase that were going to be touching in

36
00:02:32.730 --> 00:02:33.180
here.

37
00:02:33.390 --> 00:02:38.880
We're also going to be making this app in Scotland so that'll be interesting to you know apply Katelin

38
00:02:39.150 --> 00:02:41.270
in a fully functional app here.

39
00:02:41.670 --> 00:02:46.510
But as always I'd invite you to go ahead and try and get this app done by yourself.

40
00:02:46.560 --> 00:02:50.390
A great learning experience especially with all this new stuff like firebase.

41
00:02:50.640 --> 00:02:53.610
And you know making an app with cotland.

42
00:02:53.820 --> 00:02:57.900
But up to you about how you want to handle that at the very least.

43
00:02:57.990 --> 00:03:02.580
You know you can still go through with Java but do use them firebase back in.

44
00:03:02.700 --> 00:03:07.260
So with that let's go ahead and get started on building this thing.

45
00:03:07.260 --> 00:03:07.530
All right.

46
00:03:07.530 --> 00:03:13.260
To go ahead and get started here let's create a new Android studio project I'm going to be calling this

47
00:03:13.260 --> 00:03:19.650
one snap chat and go ahead make sure you got your domain and everything else set up.

48
00:03:19.650 --> 00:03:21.950
I'm going to do include cotland support here.

49
00:03:21.950 --> 00:03:27.060
I think it's important to see a full fledged app using cotland that will be fun to work with here so

50
00:03:27.060 --> 00:03:30.550
let's go ahead and select that next Choose your API.

51
00:03:30.570 --> 00:03:34.490
I'm going to go for the latest and greatest with API 26.

52
00:03:34.770 --> 00:03:38.160
And then let's just go ahead and start with an empty activity.

53
00:03:38.160 --> 00:03:42.000
And we want main activity for our first one.

54
00:03:42.330 --> 00:03:47.880
So we'll go ahead and let that set up and while that's going we need to go ahead and get firebase set

55
00:03:47.880 --> 00:03:48.240
up.

56
00:03:48.240 --> 00:03:53.570
So again firebase This is back in service provided by Google it's very similar to parse.

57
00:03:53.570 --> 00:04:01.000
It was a competitive Par's before Parsa was shut down I guess Parsa still alive because it's open source.

58
00:04:01.170 --> 00:04:06.360
So I guess you could say that they are still you know competing with each other but it's a little bit

59
00:04:06.360 --> 00:04:07.170
different now.

60
00:04:07.350 --> 00:04:12.690
So let's go ahead in a new tab Let's go to firebase dotcom

61
00:04:15.220 --> 00:04:16.890
and we'll go ahead and get started.

62
00:04:16.890 --> 00:04:20.880
So you do need a Google account to go ahead and use this service.

63
00:04:20.890 --> 00:04:24.980
So if you need to go ahead and sign in I've already done that here.

64
00:04:25.060 --> 00:04:28.390
Looks like our banjo's Android studio project finished.

65
00:04:28.720 --> 00:04:35.110
But once you are signed in here at firebase dot com let's go ahead and just go to the console.

66
00:04:35.110 --> 00:04:39.300
This is where you can start new projects and get things going here.

67
00:04:39.580 --> 00:04:47.200
So in firebase has an awesome implementation of walking you through how to start a new project here

68
00:04:47.230 --> 00:04:52.410
and you can see I've worked on a couple of different apps here in the back end and snap chat a few times

69
00:04:52.410 --> 00:04:57.220
but let's go ahead and make a new one so we're going to say add project and we have to go ahead and

70
00:04:57.220 --> 00:05:02.740
give it a name and I'm going to call this snap chat and I'm just going to call it Orio so I know that

71
00:05:02.740 --> 00:05:10.600
this is what we're working on so snapchat Oreo looks good and this apps that you make on firebase can

72
00:05:10.600 --> 00:05:16.720
work for Android devices iOS devices and they even have the ability to work with a Web site.

73
00:05:16.720 --> 00:05:20.020
So if you want to create like a custom back and through this you can do that too.

74
00:05:20.020 --> 00:05:22.090
So it's pretty versatile.

75
00:05:22.440 --> 00:05:30.020
And we'll go ahead and create this again I always sort of live in fear that fire base is going to suffer

76
00:05:30.020 --> 00:05:34.730
the same fate as parts that one day it's just going to sort of poof and disappear because Google says

77
00:05:34.730 --> 00:05:37.490
now this isn't profitable anymore but we'll see.

78
00:05:37.490 --> 00:05:38.120
We'll see.

79
00:05:38.120 --> 00:05:41.660
So you should get some sort of welcome page here.

80
00:05:41.660 --> 00:05:44.660
I swear this changes all the time so might be a little bit different.

81
00:05:44.870 --> 00:05:49.810
But you want to find wherever the option is to add firebase to your Android apps.

82
00:05:49.820 --> 00:05:55.370
We'll go ahead and select on this then you need to go and get your package name which you can go back

83
00:05:55.370 --> 00:05:58.490
to android studio and it should be at the top of your main activity.

84
00:05:58.490 --> 00:06:02.230
So in my case that's commnet Zappy code does snap chat.

85
00:06:02.480 --> 00:06:05.160
So I'll just go ahead and copy and paste that in.

86
00:06:05.300 --> 00:06:09.170
Then you can provide an apt nickname if you want to.

87
00:06:09.260 --> 00:06:16.060
I'm just going to call this snap chat Orio and specify here Android.

88
00:06:16.370 --> 00:06:20.440
So you could have an iOS version and an android version if you want to.

89
00:06:20.440 --> 00:06:22.130
So you know you can put that out there.

90
00:06:22.400 --> 00:06:27.030
But again all these things can be changed later so you can do that if you want to.

91
00:06:27.050 --> 00:06:33.010
We're not going to worry about the signing certificate so we'll just say register app then we need to

92
00:06:33.010 --> 00:06:39.220
download this Google services that Jason and this is kind of a cool way to set up that basically has

93
00:06:39.220 --> 00:06:43.570
all the keys that you need to work with this new app that you've just created.

94
00:06:43.570 --> 00:06:47.440
So like it says we need to go ahead and add this into our app folder so we're going to go to Android

95
00:06:47.440 --> 00:06:53.500
studio change this little option up top you know our little project viewer here change it to show Android

96
00:06:53.500 --> 00:06:54.800
to project.

97
00:06:55.270 --> 00:06:59.980
And inside we're going to open up our app folder here and that's where we want to bring is that outfielder's

98
00:06:59.980 --> 00:07:05.940
so I'm going to take this download that I have and I'm going to bring it right here into the app folder.

99
00:07:06.070 --> 00:07:11.400
Go ahead and add that you should see that Google services dash dot Jaison.

100
00:07:11.410 --> 00:07:17.610
Now if you've downloaded this file multiple times make sure the one that you had just says Google services.

101
00:07:17.620 --> 00:07:21.490
It's not like Google servers to Google services copy.

102
00:07:21.660 --> 00:07:26.560
It needs to be exactly the name Google services because when firebase starts up that's what it's going

103
00:07:26.560 --> 00:07:28.220
to be looking for.

104
00:07:28.750 --> 00:07:35.290
So with that in place let's go ahead and hit continue then here's some great old information that we

105
00:07:35.290 --> 00:07:41.660
have to add in order to download the firebase code in the SDK into our project.

106
00:07:41.680 --> 00:07:45.300
So the first one is we're going to move on to the project level bill great.

107
00:07:45.430 --> 00:07:50.820
So let's get back to android studio and here we're going to open up this bill duct cradle.

108
00:07:50.890 --> 00:07:54.260
Remember this isn't in the app folder This is the project folder.

109
00:07:54.370 --> 00:07:56.170
And let's go back.

110
00:07:56.180 --> 00:07:59.490
So inside of the dependencies we want to add this line of code.

111
00:07:59.690 --> 00:08:05.560
So when you're watching this the version might be different if you do ever have compatibility issues.

112
00:08:05.620 --> 00:08:11.410
Maybe move back to the one that I'm referencing here 3.1 points zero but it's probably OK to go use

113
00:08:11.410 --> 00:08:15.390
the latest and if you have issues you can always just change the inside of your cradle file.

114
00:08:15.410 --> 00:08:22.300
So we're going to go inside of our dependencies here and we're going to add in this Google services

115
00:08:22.800 --> 00:08:24.070
that's going to ask us to sync.

116
00:08:24.070 --> 00:08:29.920
But there's one more thing that we have to add so we'll wait on that then we're going to copy this next

117
00:08:29.920 --> 00:08:32.490
line of code and this goes inside of the app level.

118
00:08:32.490 --> 00:08:35.730
Bill doc cradle it says put this on the bottom of the file.

119
00:08:36.100 --> 00:08:42.280
So we're going to go over to inside of the app folder here build that cradle and I'm going to go all

120
00:08:42.280 --> 00:08:46.160
the way down to the bottom and I'm going to paste in the supply plug in.

121
00:08:46.240 --> 00:08:51.750
I always like to leave a blank space after it just to be safe here.

122
00:08:51.760 --> 00:08:56.680
But with this after you've added these two lines the one inside of this build duct cradle and that one

123
00:08:57.190 --> 00:09:01.600
we're going to go ahead and hit sync now and that's going to go out and get all the appropriate code

124
00:09:02.050 --> 00:09:03.590
and bring it into our project.

125
00:09:03.600 --> 00:09:09.010
So that's going to take a little bit of time and so we'll just go ahead and say finish here in order

126
00:09:09.010 --> 00:09:10.280
to get this started.

127
00:09:10.540 --> 00:09:17.110
So with that in place we now have a firebase app ready to go.

128
00:09:17.110 --> 00:09:22.180
It's amazing how quickly that just happened if you've ever tried to make your own back and you know

129
00:09:22.180 --> 00:09:24.340
how much of a chore that is to get rolling.

130
00:09:24.340 --> 00:09:31.360
So we now want to move forward and add our log in page to our app.

131
00:09:31.360 --> 00:09:37.600
All right so let's go ahead and move over to Android studio and we are going to design first our log

132
00:09:37.600 --> 00:09:41.270
in page and then we'll move forward with adding some code to it.

133
00:09:41.290 --> 00:09:47.470
So remember that we're going to make it sort of the seamless process so that the user can sign up or

134
00:09:47.470 --> 00:09:48.340
log in.

135
00:09:48.340 --> 00:09:50.050
Just all in one fell swoop.

136
00:09:50.110 --> 00:09:55.020
We're going to make it very easy for them so let's delete the text view that's already there.

137
00:09:55.570 --> 00:10:01.390
Then we're going to go ahead and we're going to add first to added text to our file so that user can

138
00:10:01.390 --> 00:10:06.750
enter their username or their passwords we're going to put one up here.

139
00:10:07.150 --> 00:10:09.960
And let's go ahead and center this.

140
00:10:10.060 --> 00:10:12.730
And we wanted it to be connected to the top.

141
00:10:12.810 --> 00:10:17.340
So we'll go ahead and have that map in another text.

142
00:10:17.380 --> 00:10:23.100
Right below here and I want it to be pretty close to it's from there.

143
00:10:23.100 --> 00:10:28.990
And let's go ahead and do a plus up to the top and I'm going to make that have 16 spaces just like it's

144
00:10:28.990 --> 00:10:33.580
friend and let's center this.

145
00:10:33.580 --> 00:10:40.120
Next we want to add a go button which is essentially either going to be sign up or log in depending

146
00:10:40.180 --> 00:10:42.360
on the user's situation.

147
00:10:42.370 --> 00:10:45.720
So go ahead and change the text on that to go.

148
00:10:46.180 --> 00:10:52.870
And then we just want to make sure that this is also centered and that is a certain distance from its

149
00:10:52.870 --> 00:10:57.050
friends and that it kept the 16 like we had before.

150
00:10:57.070 --> 00:11:04.460
So now with the name and the password here we want to make sure that we are not filling it with the

151
00:11:04.490 --> 00:11:09.940
you know name initially in fact we want to have hints there that you know saying hey this should be

152
00:11:10.270 --> 00:11:17.710
your email and this should be your password so we'll change that password delete the text there and

153
00:11:17.710 --> 00:11:21.820
now we have sort of that greyed out email and password.

154
00:11:21.880 --> 00:11:27.280
So let me go ahead and run this on my device to make sure I can get this up and running it's going to

155
00:11:27.280 --> 00:11:29.810
take a while for that emulator to show up.

156
00:11:29.860 --> 00:11:36.930
But with that in place let me go to and give proper names to these elements and or ID names so I'm going

157
00:11:36.930 --> 00:11:40.630
to call this one e-mail text.

158
00:11:40.920 --> 00:11:42.940
I'm going to call this one.

159
00:11:42.960 --> 00:11:49.800
We'll say yes we want all those changes now let's go ahead and update the password here and we'll go

160
00:11:49.800 --> 00:11:57.420
ahead and call this the password edit text.

161
00:11:57.830 --> 00:12:01.010
Oh we seem to have lost our field there.

162
00:12:01.010 --> 00:12:01.830
There we go.

163
00:12:01.850 --> 00:12:05.830
So we're going to call this one the password

164
00:12:08.880 --> 00:12:11.560
your password edit text.

165
00:12:12.060 --> 00:12:12.600
Excellent.

166
00:12:12.600 --> 00:12:17.520
And then for our go button I think we can simply just call the go button.

167
00:12:17.520 --> 00:12:21.090
I know kind of a boring name but it works.

168
00:12:21.090 --> 00:12:23.620
So we'll take our Go button here.

169
00:12:24.930 --> 00:12:28.830
It will change its name to go button.

170
00:12:28.840 --> 00:12:30.760
Now there's a few more things that we have to set.

171
00:12:30.760 --> 00:12:36.140
And for example with this go button we need to have an on click function name there.

172
00:12:36.400 --> 00:12:40.110
So let's just go ahead and change that to something like Go collect.

173
00:12:40.140 --> 00:12:43.380
Now that seems like a fine enough name.

174
00:12:43.570 --> 00:12:46.780
That is if Android studio is going to respond here.

175
00:12:47.500 --> 00:12:49.950
It's like we're like stuck on a loop or something.

176
00:12:54.280 --> 00:12:59.130
Well while that's working maybe I'll go ahead and work on these email and password edit text or the

177
00:12:59.200 --> 00:13:02.760
email something nice that we can do for our users.

178
00:13:02.950 --> 00:13:08.410
Is say you know what type of input they should be looking for and if we go ahead and change this from

179
00:13:08.410 --> 00:13:13.930
a text person name if we change it to text e-mail address that's going to hopefully bring up the correct

180
00:13:14.380 --> 00:13:20.650
keyboard and also if the user has with that autocomplete API that we talked about in an e-mail ready

181
00:13:20.650 --> 00:13:25.890
to go we can go ahead and utilize that with the password same thing too.

182
00:13:25.990 --> 00:13:30.100
We want to go ahead and uncheck text person name and we want text password.

183
00:13:30.100 --> 00:13:36.650
I don't make it so it's all kind of you know hidden from the user's screen there.

184
00:13:36.970 --> 00:13:43.360
And now that our app has finished here let's go ahead and see if we can't change what is on click is

185
00:13:43.360 --> 00:13:44.660
and there we go.

186
00:13:44.740 --> 00:13:48.220
That seemed to work a lot faster there.

187
00:13:48.220 --> 00:13:52.110
All right so with that I think visually we have everything in place.

188
00:13:52.180 --> 00:13:57.190
So let's go ahead and go to our main activity and the first thing I think that we should do is add the

189
00:13:57.190 --> 00:13:59.920
function for when someone hits that go button.

190
00:13:59.920 --> 00:14:04.380
So I'm going to add a new function and name that we had given it was go clicked.

191
00:14:04.510 --> 00:14:10.460
So I'll go ahead and inside of here we're going to provide a view as the parameter here.

192
00:14:10.720 --> 00:14:13.700
Let's make sure we get the auto complete on this.

193
00:14:14.080 --> 00:14:19.720
So we get everything properly imported and then we'll go do our curly brackets.

194
00:14:19.740 --> 00:14:20.560
OK.

195
00:14:20.800 --> 00:14:26.710
So with this we now need to talk about how we can do some authentication things and we want to be able

196
00:14:26.710 --> 00:14:31.990
to take you know someone's email and password that they entered and go ahead and use those.

197
00:14:31.990 --> 00:14:38.080
Now in order to do that we have to get access to them so we're going to go ahead and provide some properties

198
00:14:38.080 --> 00:14:38.260
here.

199
00:14:38.260 --> 00:14:41.880
So the first one is going to be for the e-mail text.

200
00:14:42.130 --> 00:14:53.100
So we're just going to say our e-mail and text guess I spell that correctly that text.

201
00:14:53.630 --> 00:15:00.200
And we're going to say that this should be of type and text but we're going to make that an optional

202
00:15:00.230 --> 00:15:02.250
and initially set that equal to no.

203
00:15:02.270 --> 00:15:04.530
But here inside of our own created we'll will say.

204
00:15:05.000 --> 00:15:05.460
All right.

205
00:15:05.630 --> 00:15:07.430
E-mail and text.

206
00:15:07.430 --> 00:15:11.600
We are going to set you equal to the fine view by Heidi.

207
00:15:11.920 --> 00:15:15.290
The e-mail text.

208
00:15:15.420 --> 00:15:16.520
Great.

209
00:15:16.580 --> 00:15:20.780
We're going to do a very similar thing for the passwords so I'm just going to go ahead and copy paste

210
00:15:20.780 --> 00:15:25.380
this and change this to password and that text.

211
00:15:25.910 --> 00:15:33.170
And again almost the exact same thing here so it is copy and paste and this should be the password edit

212
00:15:33.170 --> 00:15:38.440
text and I'll change that to say password text on the ID.

213
00:15:38.450 --> 00:15:46.010
Now we have access to these two pieces of information but then we need to start working with the authentication

214
00:15:46.010 --> 00:15:48.320
part of firebase.

215
00:15:48.320 --> 00:15:53.820
So in order to do this let's go ahead and move back to our browser here and click on this button up

216
00:15:53.820 --> 00:15:59.300
at the top that says go to Dock's firebase has some awesome documentation.

217
00:15:59.580 --> 00:16:05.570
And I don't think that was supposed to download something I actually wanted to go to the link for docs

218
00:16:06.260 --> 00:16:10.850
so just say you know they have good documentation they may have good documentation but they don't have

219
00:16:10.880 --> 00:16:11.240
good

220
00:16:14.430 --> 00:16:15.740
not a good Web site here.

221
00:16:15.750 --> 00:16:16.470
This is not good.

222
00:16:16.470 --> 00:16:24.390
So when the new tab I'm just going to search for firebase docs will kill it slow us down and look at

223
00:16:24.380 --> 00:16:24.710
that.

224
00:16:24.780 --> 00:16:26.770
OK now we're at the correct place.

225
00:16:26.880 --> 00:16:32.280
So we wanted to work with Android so click on getting started for Android and if you see a page similar

226
00:16:32.280 --> 00:16:32.750
to this.

227
00:16:32.790 --> 00:16:37.920
This is what we're looking for on the left side it's going to list out all the different functionality

228
00:16:37.920 --> 00:16:38.790
of firebase.

229
00:16:38.790 --> 00:16:46.170
And then for example if we're working with authentication that's our log in stuff we type on authentication

230
00:16:47.100 --> 00:16:48.580
go down here to Android.

231
00:16:48.750 --> 00:16:52.800
And for example this getting started with the fire based STK.

232
00:16:52.800 --> 00:16:54.960
This is where we want to go get some information.

233
00:16:54.960 --> 00:16:57.650
So this is where we should move to.

234
00:16:57.660 --> 00:17:02.400
So now it's going to tell us everything that we need in order to get up and running and it says Install

235
00:17:02.400 --> 00:17:07.860
the firebase SDK get the firebase Cotts all the stuff we've done those options so we're good there but

236
00:17:07.890 --> 00:17:15.000
next we need to add something to our cradle file here in order to download firebase off.

237
00:17:15.000 --> 00:17:20.250
So there's a bunch of pieces of firebase and they've broken out into pieces so that you're not downloading

238
00:17:20.250 --> 00:17:26.100
things that you won't necessarily use because we're using auth we have to copy this line of code and

239
00:17:26.160 --> 00:17:32.940
we're going to go into our project and we want to go to the app level build that great also make sure

240
00:17:32.940 --> 00:17:34.010
you're in the app folder.

241
00:17:34.020 --> 00:17:35.210
Bill doc great.

242
00:17:35.580 --> 00:17:38.740
And we are going to be adding a extra dependency.

243
00:17:38.760 --> 00:17:45.780
And so here we're going to go ahead and paste this in to where it says compile and it's going to go

244
00:17:45.780 --> 00:17:47.850
ahead and have that so let's do a sync now.

245
00:17:47.880 --> 00:17:51.020
So it has a chance to go ahead and get that rolling.

246
00:17:51.390 --> 00:18:00.720
But then let's talk about what we need in order to use this stuff so the first thing is the main object

247
00:18:00.720 --> 00:18:06.930
that we're going to be working with is this firebase off that get instance it gives us this fire base

248
00:18:07.020 --> 00:18:08.880
off that we're going to be calling off.

249
00:18:08.880 --> 00:18:13.500
That's what they referred to it as in the documentation and I think that's a good way to use it moving

250
00:18:13.500 --> 00:18:13.980
forward.

251
00:18:13.980 --> 00:18:22.890
So let's get back to android studio here and we want to get to our main activity in up here where we

252
00:18:22.890 --> 00:18:25.140
have our edit text all this good stuff.

253
00:18:25.250 --> 00:18:35.040
We're going to add a vowel for this off and we're going to say them off is equal to capital firebase.

254
00:18:35.040 --> 00:18:39.880
And if you've got the proper imports there you should be able to see firebase off.

255
00:18:39.880 --> 00:18:44.730
And if you don't see firebase off you don't get that auto complete that probably means you need to go

256
00:18:44.730 --> 00:18:48.750
back and check that you've got everything correct inside of your bill duct cradle and that you've done

257
00:18:48.750 --> 00:18:49.990
the proper sinks.

258
00:18:50.040 --> 00:18:54.880
But assuming that you have you've got firebase off don't get instance.

259
00:18:54.930 --> 00:19:03.400
So this will now give us this off object that we can use to then start working on the log functionality.

260
00:19:03.780 --> 00:19:04.800
So that's the first step.

261
00:19:04.800 --> 00:19:10.770
Then next if we go over hope I keep open up chrome here I'm going to close chrome so I don't mistake

262
00:19:10.770 --> 00:19:12.900
it I want to see Safari here.

263
00:19:13.140 --> 00:19:18.320
Now with this the documentation from this point forward is amazing.

264
00:19:18.330 --> 00:19:23.220
If you want to see the current sign in user to see if they're even signed in or not you can just simply

265
00:19:23.220 --> 00:19:23.970
do this.

266
00:19:23.990 --> 00:19:28.050
Emma Dockett current user if they're not signed in that will be equal to know.

267
00:19:28.170 --> 00:19:33.900
They show you how to sign up new users how to sign in existing users how to get user information like

268
00:19:33.960 --> 00:19:40.490
email display name all sorts awesome stuff and you can see on the left here they help you do Twitter

269
00:19:40.520 --> 00:19:44.350
Facebook log in Google sign in all sorts of different things.

270
00:19:44.400 --> 00:19:51.890
A phone number based app that would be really cool you know functionality but please explore the documentation

271
00:19:51.900 --> 00:19:54.950
there's some awesome stuff here and I think Google's done a great job.

272
00:19:54.960 --> 00:20:00.540
But if we talk about what it is that we're trying to accomplish with our app Well the first thing is

273
00:20:01.020 --> 00:20:07.560
we want to know first off is if our user is actually signed in because if they're already signed in

274
00:20:07.560 --> 00:20:10.850
we don't want them to have to re-enter in their information.

275
00:20:11.100 --> 00:20:17.050
So let's go back to android studio here and inside of our create I think this is where we should check

276
00:20:17.070 --> 00:20:19.580
and see if the users currently signed it.

277
00:20:19.650 --> 00:20:24.630
So we're just going to do a little statement here in the if statement that we're looking for is we want

278
00:20:24.630 --> 00:20:32.850
to take our em off object and we're going to do it get current user and we're going to see if this is

279
00:20:32.850 --> 00:20:34.900
not equal to no.

280
00:20:35.130 --> 00:20:36.740
So if it's not equal to no.

281
00:20:36.750 --> 00:20:40.730
That means that we have a signed in user which then means we want to log in.

282
00:20:41.010 --> 00:20:44.660
Well if we're going to log in let's go ahead and make a function that helps us to log in.

283
00:20:44.670 --> 00:20:48.360
So I'm going to make a new function I'm just going to simply call it log in.

284
00:20:48.360 --> 00:20:53.550
We don't need to pass in any parameters and I'm just going to call this log in function and this will

285
00:20:53.550 --> 00:20:59.700
essentially move us to the next activity so for now we don't put anything in or log in function but

286
00:20:59.700 --> 00:21:05.940
just know in the future we want to move to the next activity.

287
00:21:06.630 --> 00:21:07.490
All right.

288
00:21:07.530 --> 00:21:11.790
So with this in place that is sort of our first check to see if they're already signed and that's sort

289
00:21:11.790 --> 00:21:12.830
of the easy thing.

290
00:21:12.900 --> 00:21:17.290
But the next situation is when someone taps on this go button.

291
00:21:17.310 --> 00:21:17.960
Right.

292
00:21:17.970 --> 00:21:19.620
What is the process that we want to follow.

293
00:21:19.620 --> 00:21:30.660
Well the first thing is we want to first check if if we can log in the user and then we'll say if that

294
00:21:30.660 --> 00:21:34.530
doesn't work we are going to sign up the user.

295
00:21:34.530 --> 00:21:35.500
That's sort of our flow.

296
00:21:35.500 --> 00:21:40.380
So first check and see if we can log in the user and if we can't we're going to sign in the user.

297
00:21:40.380 --> 00:21:44.460
So how do we go ahead and do a log in.

298
00:21:44.460 --> 00:21:51.330
Well if we just go ahead and scroll down here sign in existing users there's this awesome documentation.

299
00:21:51.330 --> 00:21:55.440
So I'm just going to go ahead and copy all this codes that's here.

300
00:21:55.470 --> 00:22:02.670
It's a great starting point on the comeback and I'm going to paste it right in an awesome Android studio's

301
00:22:02.700 --> 00:22:07.240
going to ask us and say hey do you want to convert this into Codlin.

302
00:22:07.470 --> 00:22:14.040
Well it's supposed to ask us if we want to convert this into column let's try that one more time I'm

303
00:22:14.040 --> 00:22:16.560
going to copy from here.

304
00:22:17.240 --> 00:22:17.930
OK.

305
00:22:18.210 --> 00:22:22.020
And Paste that and there we go says Do you want to convert to cotland.

306
00:22:22.050 --> 00:22:25.830
I'll say yes and then I'll go off and do its thing.

307
00:22:25.830 --> 00:22:30.630
Now there's a couple of pieces that are missing here so it's not exactly perfect but it's a good starting

308
00:22:30.630 --> 00:22:31.540
point.

309
00:22:31.560 --> 00:22:36.810
So the first one is is that em off there's this function called sign in with email and password where

310
00:22:36.810 --> 00:22:39.000
it's looking for an email and a password.

311
00:22:39.180 --> 00:22:43.530
So we want to go ahead and grab the information from the email edit text and password edit text and

312
00:22:43.530 --> 00:22:44.460
put them there.

313
00:22:44.790 --> 00:22:51.510
So first for email will say e-mail edit text dot and we want to go ahead and get the text that's inside

314
00:22:51.510 --> 00:22:54.750
of there and then we'll go ahead and turn that into a string.

315
00:22:54.750 --> 00:22:56.210
Same with the password.

316
00:22:56.400 --> 00:23:03.910
We're going to say password edit text text not editable text text.

317
00:23:04.280 --> 00:23:07.730
And when you want to go ahead and turn that into a string.

318
00:23:08.490 --> 00:23:15.090
So with that then we get this all complete list and on which basically gives us back two options here

319
00:23:15.450 --> 00:23:17.330
in one situation.

320
00:23:17.370 --> 00:23:21.590
Everything worked out and that is this is successful.

321
00:23:21.600 --> 00:23:24.510
And then the situation is if things failed.

322
00:23:24.510 --> 00:23:31.650
So what we want to do is if things are successful well then very simply the only thing that we want

323
00:23:31.650 --> 00:23:33.380
to do here is we just want to log in.

324
00:23:33.480 --> 00:23:35.980
So I'm just going to call my log in function.

325
00:23:36.000 --> 00:23:37.070
Boom that's it.

326
00:23:37.080 --> 00:23:42.030
That's all we need to do now in the ELTs situation.

327
00:23:42.210 --> 00:23:48.420
This is where we would want to then attempt to sign up the user because if they logged in tried to log

328
00:23:48.420 --> 00:23:54.870
in and it didn't work then we need to say you know oh we need to sign up the user.

329
00:23:54.870 --> 00:24:00.350
And so what we're going to do now is then go attempt to sign up the user.

330
00:24:00.360 --> 00:24:07.000
So if you want to see what it's like to do this without copy and pasting if we just go back to our documentation

331
00:24:07.000 --> 00:24:13.100
and we look at first signing up a user it's called create user with email and password.

332
00:24:13.110 --> 00:24:21.300
So let's go back to this android studio and say am off thought create user with email and password and

333
00:24:21.300 --> 00:24:24.310
you can see it's looking for two strings inside of here.

334
00:24:24.600 --> 00:24:27.330
So we're going to use the two strings that we had before.

335
00:24:27.330 --> 00:24:32.350
Again the email and the password so just go ahead and pass those in.

336
00:24:32.400 --> 00:24:37.740
But then we need to add this dot add on complete Wessner.

337
00:24:37.920 --> 00:24:46.100
So we're going to go ahead and do a dot at the end of this and say add on complete complete listener.

338
00:24:46.110 --> 00:24:48.450
So go ahead and add one of those.

339
00:24:48.480 --> 00:24:53.850
Then inside of this long complete list there's a few things that we've got to patch in and basically

340
00:24:54.360 --> 00:24:56.760
we want to follow the same format that's here.

341
00:24:56.760 --> 00:25:02.390
So we're going to go ahead and pass this for the current context just like we have above.

342
00:25:02.400 --> 00:25:06.450
But then we want to do some curly brackets that allow us to move forward.

343
00:25:06.450 --> 00:25:11.700
And so after our parentheses we're going to go ahead and add some curly brackets and then we need this

344
00:25:11.700 --> 00:25:16.600
task with the arrow and so we'll go ahead and paste that in there.

345
00:25:16.680 --> 00:25:20.970
And with this all in place then we can now run some code here.

346
00:25:20.970 --> 00:25:26.730
And so one thing that I do want to point out with these e-mail edit text password texts.

347
00:25:27.030 --> 00:25:30.120
Those have the chance to be knowable.

348
00:25:30.120 --> 00:25:35.340
And so we'll go ahead and put a little question mark here and that's going to get rid of these errors

349
00:25:35.340 --> 00:25:37.800
that we're seeing right now.

350
00:25:38.940 --> 00:25:46.500
But with that in place and I'll be honest if you want to make a fully fledged professional app you should

351
00:25:46.500 --> 00:25:51.660
probably do some more detailed checking of you know saying hey if we didn't if we got no back for the

352
00:25:51.660 --> 00:25:56.400
e-mail password we should do some proper handling of that send user the correct message.

353
00:25:56.400 --> 00:26:02.220
But in this case we're just trying to get to the point in the app where we can show you how to create

354
00:26:02.790 --> 00:26:05.150
objects inside of firebase and stuff like that.

355
00:26:05.160 --> 00:26:10.020
I mean you know you have those skills to go do that so we're not going to spend the time to do all that.

356
00:26:10.080 --> 00:26:13.190
But with this in place then right.

357
00:26:13.200 --> 00:26:19.950
So we've done this create user with email and password when we did this add on complete Lisner again

358
00:26:20.430 --> 00:26:25.050
inside of here we want to break down some information so we have this task object that will tell us

359
00:26:25.050 --> 00:26:26.700
whether or not things worked out.

360
00:26:27.000 --> 00:26:34.440
So we're going to do an if statement just like above we're going to say if task dot is successful.

361
00:26:34.950 --> 00:26:38.300
Well in this situation again we want to log in.

362
00:26:38.300 --> 00:26:42.330
There's a little bit more information that we're going to have to do but we'll come back.

363
00:26:42.330 --> 00:26:47.970
In fact I'm just going to leave a little message for myself and I'm just going to say add to database

364
00:26:47.970 --> 00:26:53.640
that will make no sense right now but we'll come back here and talk about that in a moment.

365
00:26:53.940 --> 00:27:00.450
And then if it's not successful in our situation well this is where we would want to tell the user that

366
00:27:00.450 --> 00:27:05.380
something didn't go quite right and so I think a toast message maybe is the right way to do that.

367
00:27:05.790 --> 00:27:13.440
So we're going to do a text message I will say make text and inside of your will just pass this and

368
00:27:13.440 --> 00:27:23.590
the message that will display is maybe something like log in failed try again.

369
00:27:23.990 --> 00:27:32.900
And then we go and after that we'll say how long we want to display this or say maybe toast length.

370
00:27:33.890 --> 00:27:41.000
I like the length short and then we'll just do a dot show on the end of that tape.

371
00:27:41.130 --> 00:27:47.330
So this appropriately will handle you know first we try and sign the user if that works plug them in

372
00:27:47.340 --> 00:27:52.040
if it doesn't we'll try and create a user with the information provided that works.

373
00:27:52.200 --> 00:27:53.040
We will log them in.

374
00:27:53.040 --> 00:27:56.220
But if that doesn't work we will send a text message.

375
00:27:56.340 --> 00:28:02.250
And really the last of that we need is to provide this log in functionality which is basically moving

376
00:28:02.250 --> 00:28:07.560
to the next activity which we don't have another activity right now so we've got to go ahead and create

377
00:28:07.560 --> 00:28:08.040
that.

378
00:28:08.320 --> 00:28:12.260
So up in Android studio let's do file new activity.

379
00:28:12.630 --> 00:28:18.390
Let's pick one from the gallery we just one empty one and I'm going to call this the Snap's activity

380
00:28:18.390 --> 00:28:23.760
because remember after user logs in they should be able to see all of their snaps.

381
00:28:23.760 --> 00:28:29.040
And so I'm going to go ahead and call this one Snap's activity will get finished there.

382
00:28:29.040 --> 00:28:33.080
Now with this Snap's activity I can create the intent.

383
00:28:33.180 --> 00:28:42.900
So I'm going to say vaule intent is equal to capital intent and inside of this intent I'm first going

384
00:28:42.900 --> 00:28:52.970
to provide this as a context and then I'm going to say I want to move over to the Snapp's activity activity.

385
00:28:53.460 --> 00:28:58.740
And with this we have to provide the class which in cotland it's a little bit different and let me go

386
00:28:58.740 --> 00:29:01.950
ahead and make sure we important the intense stuff.

387
00:29:02.190 --> 00:29:07.740
And then with this Snap's activity let's get our auto complete here here we're going to do colon colon

388
00:29:08.280 --> 00:29:10.290
and then we want to do this class dot Java.

389
00:29:10.290 --> 00:29:15.150
That's the way to appropriately get the class if we need to send it here with the intent.

390
00:29:15.510 --> 00:29:21.240
And then we just simply want to start that activity so we can say start activity and we'll pass in that

391
00:29:21.480 --> 00:29:22.290
intent.

392
00:29:22.440 --> 00:29:29.070
OK so with this all in place we should have a fully functional log in page.

393
00:29:29.070 --> 00:29:31.640
So let's go ahead and try this are going to hit run.

394
00:29:32.070 --> 00:29:36.040
We'll get our emulator ready to show up here.

395
00:29:37.870 --> 00:29:47.000
Go ahead and close this right and if you do get an error message I saw this the first time that I was

396
00:29:47.000 --> 00:29:49.670
running the app we got a little bit of an issue here.

397
00:29:49.730 --> 00:29:53.180
Oh we've got our own issues to work with.

398
00:29:53.180 --> 00:29:58.120
Let's go ahead and see what's going on here.

399
00:29:58.350 --> 00:30:05.430
J.D. K. looks like it may be imported some of the wrong things so I'm going to delete anyway.

400
00:30:05.460 --> 00:30:12.030
There's an important read I'm just going to go ahead and delete those and we'll come fix any issues

401
00:30:12.030 --> 00:30:14.640
that we're having.

402
00:30:16.380 --> 00:30:23.250
I think maybe when we copy and paste the code it had just found it auto imported some information that

403
00:30:23.250 --> 00:30:26.610
maybe we didn't need so let's go ahead and just see.

404
00:30:26.610 --> 00:30:29.400
Now after removing those imports if that doesn't help us.

405
00:30:29.400 --> 00:30:34.710
But again wanted to get back if you have some weird errors and if you look down and log cat and they

406
00:30:34.710 --> 00:30:40.650
say something about Google Play services needed needing to be update that you don't have the right version

407
00:30:40.680 --> 00:30:41.780
or something like that.

408
00:30:41.790 --> 00:30:45.900
Well let me tell you what you need to do there.

409
00:30:45.990 --> 00:30:53.400
If you go ahead with your app you click on this little three dots here the ellipses and go down to Google

410
00:30:53.400 --> 00:30:53.880
Play.

411
00:30:53.880 --> 00:30:55.870
You can hit this update button.

412
00:30:56.130 --> 00:31:00.210
You're going to have to provide your Google username and password.

413
00:31:00.210 --> 00:31:02.630
Say yes to the information they're going to ask you.

414
00:31:02.730 --> 00:31:08.580
Option like do you want to save information on the device make sure that that is selected and sort of

415
00:31:08.580 --> 00:31:09.500
switched over to.

416
00:31:09.500 --> 00:31:10.270
Yes.

417
00:31:10.330 --> 00:31:15.210
Should be the default option but don't switch that to no where else to get kind of in this nasty bug

418
00:31:15.210 --> 00:31:20.130
which then you'd have to delete this emulator bring back a new one and try this whole process again

419
00:31:20.180 --> 00:31:23.790
but make sure you get that in place.

420
00:31:24.210 --> 00:31:28.970
But let's go ahead and see we've got one more issue here.

421
00:31:29.010 --> 00:31:36.310
Failure for a task parameter view is never used.

422
00:31:36.510 --> 00:31:39.770
Let me go ahead and see what's going on here.

423
00:31:39.840 --> 00:31:44.640
So I'm not exactly sure what the issue was but what solved it for me in case you run into this is I

424
00:31:44.640 --> 00:31:52.410
just did a build clean project and then I went and ran it on the emulator again had no issues so that

425
00:31:53.100 --> 00:31:55.630
if that helps you that's what's going on here.

426
00:31:55.950 --> 00:32:01.190
So with this in place let's go ahead and try and create a user and see what happens.

427
00:32:01.190 --> 00:32:10.120
So I'm going to use Nick at Zappy co dot com and I'll make a password just ABC 1 2 3 4.

428
00:32:10.260 --> 00:32:13.050
I'll go ahead and hit the go button here.

429
00:32:13.050 --> 00:32:19.620
So you can see we get a log and failed try again and if we go to log cat we could try and get some information

430
00:32:19.620 --> 00:32:23.340
there I'm going to save you from trying to go see what's going on.

431
00:32:23.340 --> 00:32:33.990
Basically we need to go back to our fire base here and we need to move over and kind of set up the authentication

432
00:32:33.990 --> 00:32:34.240
stuff.

433
00:32:34.240 --> 00:32:39.120
So over here on the left we need to go to develop and then move down into authentication.

434
00:32:39.120 --> 00:32:45.370
Now with this we have to set up a sign in method so if you go ahead and click on this we need to.

435
00:32:45.390 --> 00:32:45.840
You can.

436
00:32:45.850 --> 00:32:49.140
So remember all those options I said before like you can sign on with the phone.

437
00:32:49.140 --> 00:32:51.470
Google Facebook Twitter whatever.

438
00:32:51.900 --> 00:32:56.140
We're using e-mail passwords so we need to set this to enable.

439
00:32:56.250 --> 00:32:58.210
So we'll go ahead and hit save there.

440
00:32:58.260 --> 00:33:03.540
So now that this is enabled even without resetting the app or anything we can just go back to her emulator

441
00:33:03.540 --> 00:33:07.780
here and now if I try and sign him like this it'll work.

442
00:33:07.780 --> 00:33:08.250
Look at that.

443
00:33:08.250 --> 00:33:14.450
I moved on to the next activity and if I go ahead and hit the back button now that a user has been created

444
00:33:14.460 --> 00:33:19.950
and if you want to prove that one's been created go ahead and click on this user's tab here for authentication

445
00:33:19.950 --> 00:33:23.910
and look there's that Nick at Zappy code that we have just created.

446
00:33:24.180 --> 00:33:29.730
So if I go ahead and hit this button again now it will simply just sign in rather than creating a new

447
00:33:29.730 --> 00:33:32.330
user and we are into our EP.

448
00:33:32.370 --> 00:33:37.560
So this is a great place to stop at this point and the app will go ahead and talk about what we need

449
00:33:37.560 --> 00:33:39.380
to do in the next lecture.
