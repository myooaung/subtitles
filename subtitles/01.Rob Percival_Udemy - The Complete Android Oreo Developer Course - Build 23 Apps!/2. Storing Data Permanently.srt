1
00:00:00,600 --> 00:00:05,880
All right let's go ahead and get started with talking about how it is that we can save data permanently

2
00:00:05,880 --> 00:00:10,320
inside of our apps and we kind of had the big example from last time when we tried to save our favorite

3
00:00:10,320 --> 00:00:11,460
memorable places.

4
00:00:11,460 --> 00:00:17,640
And every time we reopened the app essentially everything that we had just saved those memorable places

5
00:00:18,180 --> 00:00:19,200
they were gone.

6
00:00:19,200 --> 00:00:23,110
So there's a couple of ways that you can save data inside of Android.

7
00:00:23,280 --> 00:00:25,470
You can work with shared preferences.

8
00:00:25,470 --> 00:00:26,660
That's where we're going to cover right now.

9
00:00:26,660 --> 00:00:30,430
You can work with databases that's kind of the more big a robust option there.

10
00:00:30,600 --> 00:00:35,540
And for different apps different situations are going to you know the share preferences versus the database

11
00:00:35,540 --> 00:00:36,330
is going to work better.

12
00:00:36,330 --> 00:00:39,270
There's all sorts of different use cases out there.

13
00:00:39,270 --> 00:00:42,090
But let's go ahead and start first with our shared preferences.

14
00:00:42,090 --> 00:00:45,660
We're going to learn about that make an app or two and then we're going to move on to databases and

15
00:00:45,660 --> 00:00:48,680
talk about that and again make an app or two there.

16
00:00:48,720 --> 00:00:54,210
So let's go ahead and start a new Android studio project to learn about shared preferences Let's go

17
00:00:54,210 --> 00:01:00,280
ahead and just make that the name of our out of our shared preferences.

18
00:01:00,300 --> 00:01:01,070
Excellent.

19
00:01:01,160 --> 00:01:07,250
We'll just do the default for all this good stuff and we'll get moving forward.

20
00:01:07,320 --> 00:01:13,400
So the basic idea was shared preferences is supposed to contain small amounts of information.

21
00:01:13,410 --> 00:01:21,270
So ideally you know maybe the user has for example the way they want the background color in the app

22
00:01:21,270 --> 00:01:27,540
to look or if they've chosen to have dates displayed in 24 hour increments versus the 12 with AM PM

23
00:01:27,570 --> 00:01:32,850
I don't know just little tiny things you know you should be able to save inside of the shared preferences.

24
00:01:32,850 --> 00:01:38,460
Now if you're making some super big robust app right where you're saving a ton of data shared preferences

25
00:01:38,450 --> 00:01:40,180
are going to really get stretched.

26
00:01:40,170 --> 00:01:45,720
In fact when we go and apply this to our memorable places app you'll see how it kind of has some limitations

27
00:01:45,720 --> 00:01:46,030
there.

28
00:01:46,050 --> 00:01:52,100
But enough with that let's go just go ahead and dive in with an example so we don't need to do any lay

29
00:01:52,100 --> 00:01:52,760
out stuff here.

30
00:01:52,760 --> 00:01:55,940
This is all going to be code for the beginning part of this.

31
00:01:55,940 --> 00:01:59,390
So first let's just talk about how we get to the shared preferences.

32
00:01:59,630 --> 00:02:07,040
Well there's a class called Shared preferences and it looks like I've type too early that an android

33
00:02:07,040 --> 00:02:10,300
studio hasn't had a chance to catch up to me.

34
00:02:10,340 --> 00:02:16,200
So we'll go ahead give us a second we go so we get our shared preferences.

35
00:02:16,350 --> 00:02:21,090
I'm just going to call this lowercase shared preferences and lets give ourselves some room to type.

36
00:02:21,090 --> 00:02:24,640
So this should be equal to this.

37
00:02:24,660 --> 00:02:30,330
Does it get shared preferences so this kind of gets us to where those are stored.

38
00:02:30,330 --> 00:02:35,790
Now you want to go ahead and reference or the first thing the name that it's looking for this parameter

39
00:02:35,790 --> 00:02:38,810
here is it's want to know what the name of the app is.

40
00:02:39,030 --> 00:02:44,460
So lucky for us if we just go up to where it says package if we just copy exactly what's up there we

41
00:02:44,460 --> 00:02:47,300
want to copy paste that right below.

42
00:02:47,550 --> 00:02:48,810
That's what we're looking for.

43
00:02:48,810 --> 00:02:49,560
OK.

44
00:02:49,680 --> 00:02:54,090
Now the next thing that it's asking for here is it's asking you know how is it that you want this to

45
00:02:54,090 --> 00:02:54,990
be saved.

46
00:02:55,020 --> 00:03:01,670
So if we type out capital context on text dot there's a couple of different options in here.

47
00:03:01,680 --> 00:03:05,060
But we want mode and we want private.

48
00:03:05,150 --> 00:03:08,830
So let's add a semi-colon at the end there.

49
00:03:08,850 --> 00:03:15,240
So the basic idea here is that you can have shared preferences that can be shared between apps like

50
00:03:15,240 --> 00:03:19,980
if you have a series of apps that you know you all want to use sort of the same combined piece of data

51
00:03:20,010 --> 00:03:24,210
you can do that but in our situation we want all this information just for apps.

52
00:03:24,210 --> 00:03:27,420
That's why I provided our app name and said hey we want mode private.

53
00:03:27,420 --> 00:03:29,510
Just keep things right here.

54
00:03:29,570 --> 00:03:30,140
OK.

55
00:03:30,570 --> 00:03:35,090
Now that we've got that in place let me go ahead and walk you through a very quick example so the things

56
00:03:35,100 --> 00:03:42,390
that you can share save inside of shared preferences there like strings arrays ints doubles kind of

57
00:03:42,390 --> 00:03:44,430
basic types of information.

58
00:03:44,430 --> 00:03:48,720
So let's go ahead and just try and save a string for example.

59
00:03:48,930 --> 00:03:52,200
So we're going to get access to these shared preferences that we had before.

60
00:03:52,200 --> 00:03:59,130
Notice the lowercase shared preferences so they shared preferences don't edit because we want to alter

61
00:03:59,130 --> 00:04:02,920
save some information in there and we're going to say Dot put.

62
00:04:03,090 --> 00:04:07,500
And this will show you the different things that you can put in there for example booleans floats long

63
00:04:07,500 --> 00:04:08,800
strings of string set.

64
00:04:08,800 --> 00:04:09,490
Right.

65
00:04:09,510 --> 00:04:11,830
So in our case we just want to learn how to add a string.

66
00:04:12,030 --> 00:04:14,250
So first you have to give a name to the string.

67
00:04:14,250 --> 00:04:16,950
This is not the actual string that you want to save.

68
00:04:16,950 --> 00:04:19,780
So in this example let's save you know what the.

69
00:04:20,010 --> 00:04:25,100
Let's say we have an app that takes in a user name right whatever the user wants to call themselves.

70
00:04:25,140 --> 00:04:29,760
If we're taking in a username the first string should be called a user name right.

71
00:04:29,760 --> 00:04:31,770
That's not what the user typed in.

72
00:04:31,770 --> 00:04:35,360
It's just saying hey the thing that we're trying to save is a user name.

73
00:04:35,370 --> 00:04:38,640
This is kind of similar to when we were working with extras right.

74
00:04:38,640 --> 00:04:43,860
Whenever we put an extra into an intent we had to give it a name so we pulled it back out we could grab

75
00:04:43,860 --> 00:04:44,830
that.

76
00:04:44,940 --> 00:04:50,560
So then the next piece of information the next string that we want to add in here is the actual name.

77
00:04:50,580 --> 00:04:54,830
So if it was my user name I'd want you know my username to be something like Nick.

78
00:04:54,840 --> 00:05:01,380
So I want to put a string inside of shared preferences called user name but it holds the actual value

79
00:05:01,740 --> 00:05:03,100
of Nick J.

80
00:05:03,330 --> 00:05:06,830
So once we've got that you want to do a dot apply.

81
00:05:06,900 --> 00:05:10,290
That essentially saves that into the shared preferences.

82
00:05:10,290 --> 00:05:13,640
Now if you go ahead and grab information out of the shared preferences right.

83
00:05:13,650 --> 00:05:18,490
This right here this is putting information into the shared preferences we're editing there.

84
00:05:18,660 --> 00:05:24,060
Now to get information back out again we're going to type out shared preferences.

85
00:05:24,150 --> 00:05:26,950
But in this case we're going to dot get.

86
00:05:26,970 --> 00:05:33,510
And you can see we can get strings longs floats booleans all this awesome stuff so we want to go ahead

87
00:05:33,540 --> 00:05:34,770
and get a string.

88
00:05:34,770 --> 00:05:36,720
So we're going to say get string.

89
00:05:36,720 --> 00:05:40,110
Now it's going to ask us for the name of what it is that we're looking for.

90
00:05:40,110 --> 00:05:43,540
So in this case we'll just provide user name like we have right there.

91
00:05:43,860 --> 00:05:47,760
And the next thing that we need to provide here is a default value.

92
00:05:47,760 --> 00:05:56,370
So this is just in case you know it's not able to find anything under the user name and it's going to

93
00:05:56,370 --> 00:06:01,230
give back sort of the default information so we'll just put an empty string here to say hey if you can't

94
00:06:01,230 --> 00:06:03,730
find anything just give us an empty string.

95
00:06:04,110 --> 00:06:05,910
All right so this will kick us back a string.

96
00:06:05,910 --> 00:06:12,630
Let's go ahead and save the somewhere song say capital string user name should be equal to this and

97
00:06:12,630 --> 00:06:14,200
to confirm that this is working.

98
00:06:14,220 --> 00:06:19,980
And I should get our emulator up and run in the background because that does take a second to get going.

99
00:06:19,980 --> 00:06:23,880
I'm going to go ahead and say All right let's log out this information.

100
00:06:24,600 --> 00:06:26,280
So I'll say opes.

101
00:06:26,640 --> 00:06:28,520
Not that big thing.

102
00:06:29,260 --> 00:06:33,940
Oh and looks like I'd want to try and run that one more time.

103
00:06:38,340 --> 00:06:40,110
Says it's already running.

104
00:06:41,170 --> 00:06:42,640
You mean it's just being finicky.

105
00:06:42,640 --> 00:06:43,230
I don't know.

106
00:06:43,240 --> 00:06:48,870
But remember we want to log out some information so we'll say log I.

107
00:06:49,210 --> 00:06:57,700
And we want to first say that you know something like this is the username and then we'll go ahead and

108
00:06:57,700 --> 00:07:02,870
provide whatever's inside of that user name string just like that.

109
00:07:04,000 --> 00:07:07,470
Now that we've got this all in place let's go ahead and see.

110
00:07:07,840 --> 00:07:12,910
Oh yeah our emulator still kicking up there so I'll go ahead and start the video once this loads up.

111
00:07:12,910 --> 00:07:15,490
All right we've finally got the app to open up here.

112
00:07:15,520 --> 00:07:21,190
Go ahead and check log cat see if we've got anything that says something like this is username.

113
00:07:21,190 --> 00:07:21,830
So go ahead.

114
00:07:21,820 --> 00:07:26,630
Move up for a second here.

115
00:07:26,650 --> 00:07:29,440
Not seen anything.

116
00:07:29,470 --> 00:07:30,400
Oh there it is.

117
00:07:30,400 --> 00:07:32,230
This is the username Nic.

118
00:07:32,230 --> 00:07:32,680
OK.

119
00:07:32,740 --> 00:07:38,680
So this worked and just just to kind of prove that this is actually working and that you know this wasn't

120
00:07:38,680 --> 00:07:43,600
just some sort of fluke that oh we just made it here saved it does not actually saved in there.

121
00:07:43,870 --> 00:07:48,500
Let's go ahead and comment out this line of code where we save in the name Nick.

122
00:07:48,520 --> 00:07:53,790
And let's just say you know open up the app go and try and pull something called user name OK.

123
00:07:53,800 --> 00:07:55,930
So we'll go ahead and hit run here.

124
00:07:55,930 --> 00:08:02,260
This is sort of our test to see hate was able to save the information that we put inside of shared preferences

125
00:08:02,350 --> 00:08:04,060
last time.

126
00:08:04,060 --> 00:08:06,820
So app opens up.

127
00:08:06,880 --> 00:08:07,520
Look at that.

128
00:08:07,540 --> 00:08:10,110
This is the username Nick.

129
00:08:10,150 --> 00:08:15,760
So this means we were successfully from last time able to save some information and this time we didn't

130
00:08:15,760 --> 00:08:20,740
put anything inside we just simply said pull out whatever's inside of username and we were able to do

131
00:08:20,740 --> 00:08:21,000
that.

132
00:08:21,010 --> 00:08:21,550
OK.

133
00:08:21,850 --> 00:08:23,570
So give yourself a nice little pat on the back.

134
00:08:23,590 --> 00:08:27,980
You've successfully saved your very first thing inside of shared preferences.

135
00:08:28,080 --> 00:08:28,810
OK.

136
00:08:29,320 --> 00:08:35,500
Now let's go ahead and comment out the rest of this code for a second here because I'm going to show

137
00:08:35,500 --> 00:08:42,910
you then how we can save an array of things because remember with our memorable places app we wanted

138
00:08:42,910 --> 00:08:49,700
to save an array of the places and the particular locations where they were associated with right like

139
00:08:50,170 --> 00:08:51,520
we want all that information.

140
00:08:51,510 --> 00:08:58,330
And the problem is right now if we go to like shared preferences dot and we want to say put whatever

141
00:08:58,800 --> 00:09:03,160
are we have to do share preferences not at first.

142
00:09:03,270 --> 00:09:04,490
Here we go.

143
00:09:04,690 --> 00:09:09,610
Put right like we can only do put string put Boullion and you might be wondering Well how's all of that

144
00:09:09,610 --> 00:09:10,520
supposed to work.

145
00:09:10,630 --> 00:09:12,400
Well let me show you here.

146
00:09:12,400 --> 00:09:18,040
So the first thing we've got to do is you got to create an array list so let's just say we want to save

147
00:09:18,070 --> 00:09:19,690
an array list of some friends.

148
00:09:19,960 --> 00:09:25,630
So we'll just say array list that's supposed to be out of a bunch of strings and we'll just call it

149
00:09:25,630 --> 00:09:26,600
friends.

150
00:09:26,860 --> 00:09:27,190
OK.

151
00:09:27,190 --> 00:09:31,030
So this is equal to a new list.

152
00:09:31,090 --> 00:09:38,980
So I mean call on that and then let's add some friends in here so say friends and I misspelled friends

153
00:09:38,980 --> 00:09:50,300
up here wonder why the autocomplete wasn't going friends that add maybe add Fido friends that had let's

154
00:09:50,300 --> 00:09:55,290
say had like Sarah in there and we'll do one more.

155
00:09:55,360 --> 00:10:07,110
Say friends dot finish and remove Teske friends Dot had said our last friend Jones.

156
00:10:07,330 --> 00:10:10,300
OK so we've got an array list of three items in there.

157
00:10:10,300 --> 00:10:11,650
Simple enough right.

158
00:10:12,010 --> 00:10:14,010
But again if you were wondering.

159
00:10:14,020 --> 00:10:16,600
OK so I've got this now fresh array list.

160
00:10:16,600 --> 00:10:22,140
I go to my shared preferences I say Dot added on this and I'm going to put.

161
00:10:22,460 --> 00:10:27,940
But we can only put a string boolean float in long or string set now might be tempting to do the string

162
00:10:27,940 --> 00:10:34,010
set because you know sets kind of like arrays except for sets don't hold order.

163
00:10:34,300 --> 00:10:37,690
They just hold uniqueness so we could have an issue if we have duplicate items.

164
00:10:37,690 --> 00:10:43,210
But even more like with a memorable places we want to make sure it's in a particular order and you know

165
00:10:43,210 --> 00:10:48,610
maybe our friends here this is our ranking of our top friends and that you know we want it to stay the

166
00:10:48,610 --> 00:10:49,000
same.

167
00:10:49,000 --> 00:10:51,980
So something that we can do is we can.

168
00:10:52,050 --> 00:10:57,610
Cyril serialise this array list and turn it into a string and serialising basically it's kind of like

169
00:10:57,610 --> 00:11:02,490
turning when we turned our data into Jason Jason back into data.

170
00:11:02,500 --> 00:11:05,310
It's a way to kind of turn everything into a string.

171
00:11:05,470 --> 00:11:07,670
And so that then we can pull it back out.

172
00:11:07,960 --> 00:11:11,830
So in order to do this I mean ultimately what we're going to do is put a string but we're gonna have

173
00:11:11,830 --> 00:11:14,470
to serialize this information first.

174
00:11:14,470 --> 00:11:19,600
So we're going to go up to Android studio file new and we want to add a new class.

175
00:11:19,630 --> 00:11:27,820
So just go here to Java class and the name that we're looking for here is object serial

176
00:11:29,850 --> 00:11:31,220
Isar.

177
00:11:31,230 --> 00:11:39,630
Make sure we get that spelled correctly S E R I know ICR K once you've got that go ahead and hit OK.

178
00:11:40,020 --> 00:11:48,060
And then there's this class called object Serializer that allows you to do this with Java objects although

179
00:11:48,480 --> 00:11:53,340
Rob has created one specifically for this course that's pretty close to the original it just handles

180
00:11:53,340 --> 00:11:55,190
exceptions a little bit differently.

181
00:11:55,410 --> 00:11:58,860
So for this one just go ahead and go to Android

182
00:12:01,530 --> 00:12:04,340
Android of course.

183
00:12:04,350 --> 00:12:13,200
Dot com flash object Serializer dot HCM L K.

184
00:12:13,590 --> 00:12:17,850
So if you go ahead and go to this page this is going to contain the code that Rob has created for us

185
00:12:17,850 --> 00:12:20,520
that's going to allow us to serialize the stuff.

186
00:12:20,520 --> 00:12:24,430
So again this is really close to the object Serializer that we have in Java.

187
00:12:24,450 --> 00:12:29,130
I mean if you want to know more information about this just go ahead and type out object Serializer

188
00:12:29,130 --> 00:12:31,770
or Java and you can see what that looks like.

189
00:12:31,770 --> 00:12:40,440
But for our course here let's go ahead and copy this code and we'll come back to android studio and

190
00:12:40,470 --> 00:12:47,370
we'll just go ahead and select everything except for that top package part can and we'll go ahead and

191
00:12:47,370 --> 00:12:49,580
paste that information in there.

192
00:12:49,660 --> 00:12:50,320
OK.

193
00:12:50,760 --> 00:12:59,300
So basically the code inside of here it allows us to again turn something and serialize it and I'll

194
00:12:59,310 --> 00:13:00,330
show you how to use it now.

195
00:13:00,330 --> 00:13:01,850
So we're going to come back here.

196
00:13:01,860 --> 00:13:07,560
Remember we want to do a put string but before that now what we're going to do is we're going to make

197
00:13:07,560 --> 00:13:19,440
a new object from this so we're going to see a capital object Serializer dot the serialise excuse me

198
00:13:19,440 --> 00:13:19,730
here.

199
00:13:19,770 --> 00:13:21,210
So we've got this.

200
00:13:21,210 --> 00:13:27,460
And we want to say objects Serializer the DC realized when we want to like undo it but want to say serialise.

201
00:13:27,720 --> 00:13:32,240
And we're going to pass in our friends array list just like that.

202
00:13:32,730 --> 00:13:39,800
And once we've gone ahead and done that then this should give us back a string.

203
00:13:39,810 --> 00:13:43,380
Now we're getting a little bit of a thing here because we got to surround this with a try catch because

204
00:13:43,380 --> 00:13:49,260
something might go wrong here and I'm going extend this out to be just a straight up exception.

205
00:13:49,380 --> 00:13:55,890
But really this is all we need in order to make things work like this will give us back a proper string.

206
00:13:55,890 --> 00:14:00,520
So what we're going to do is I'm going to cut this line of code here.

207
00:14:00,830 --> 00:14:01,390
Paste it.

208
00:14:01,400 --> 00:14:06,600
And so the string that we're going to put in is actually just going to be all just copy this excuse

209
00:14:06,600 --> 00:14:11,580
me cut it and paste it right inside of there or put our semi-colon at the end.

210
00:14:11,580 --> 00:14:18,370
And this essentially will take our array list here and it's going to turn it into one single stream.

211
00:14:18,480 --> 00:14:19,260
OK.

212
00:14:19,560 --> 00:14:22,980
So once we've gone ahead and done this we want to make sure that we apply all of it.

213
00:14:22,980 --> 00:14:26,860
So we're going to do it dots apply at the end there.

214
00:14:27,330 --> 00:14:34,830
And let's see oh with this I forgot we've got to put a name inside of here so make sure you have double

215
00:14:34,830 --> 00:14:36,390
quotes and then a comma.

216
00:14:36,390 --> 00:14:39,920
So just like before when we were saying you know this is user name right.

217
00:14:39,930 --> 00:14:43,630
Like we have to give some sort of name here let's call this just simply friends.

218
00:14:43,730 --> 00:14:44,220
OK.

219
00:14:44,490 --> 00:14:51,750
So now putting in a string called friends and we're using this object Serializer to turn this list of

220
00:14:51,750 --> 00:14:53,130
friends into that now.

221
00:14:53,250 --> 00:14:54,470
Something I think we should do.

222
00:14:54,470 --> 00:14:59,050
That will be just kind of interesting is to see what the serialise string looks like.

223
00:14:59,070 --> 00:15:02,320
Let's go ahead and just larget So it's a log.

224
00:15:02,710 --> 00:15:05,160
And we're going to pass inside of here.

225
00:15:05,510 --> 00:15:10,300
The name friends will go ahead and paste that.

226
00:15:10,980 --> 00:15:15,690
And then let's go and add this whole thing here.

227
00:15:15,860 --> 00:15:16,740
OK.

228
00:15:16,920 --> 00:15:22,210
Because I will you know kind of giving you an idea of what's going on in the background here.

229
00:15:22,320 --> 00:15:27,510
But once we go ahead and have this in place let's talk about how we can then take these friends back

230
00:15:27,510 --> 00:15:28,120
out.

231
00:15:28,290 --> 00:15:35,820
So what we're going to do is we're going to create an array list of strings and let's just go ahead

232
00:15:35,820 --> 00:15:40,620
and call this new friends because this is going to be the information coming out of shared preferences

233
00:15:40,620 --> 00:15:44,770
so we'll have this equal to a new array list.

234
00:15:44,850 --> 00:15:45,900
Great.

235
00:15:45,960 --> 00:15:51,720
And then this is the part where we take our new friends and we set it equal to the DC or realization

236
00:15:51,870 --> 00:15:52,560
of something.

237
00:15:52,560 --> 00:16:02,400
So we're going to say here capital object Serializer dot de serialise gay and you can see that it was

238
00:16:02,400 --> 00:16:04,990
looking for a string inside of here.

239
00:16:05,130 --> 00:16:11,280
So the string that we want to pass It is whatever we get back from the shared preferences so in here

240
00:16:11,280 --> 00:16:17,280
we're going to type shared preferences dot get string and we've got to provide them what name we're

241
00:16:17,280 --> 00:16:20,210
looking for and so that's lowercase friends.

242
00:16:20,460 --> 00:16:24,660
And then the next thing is we have to provide some sort of default value.

243
00:16:24,660 --> 00:16:29,940
Now it's a little bit tempting here to just put in an empty string but for some reason we aren't able

244
00:16:29,940 --> 00:16:33,540
to get back the proper piece of information.

245
00:16:33,720 --> 00:16:38,400
Well then we would just want to pass in you know like the serializer is going to break.

246
00:16:38,400 --> 00:16:43,200
So in this case we want to pass in just a new serialized empty array list.

247
00:16:43,200 --> 00:16:47,910
I know it sounds a little bit confusing here but that's essentially what we're looking for so we're

248
00:16:47,910 --> 00:16:51,040
going to pass inside of here.

249
00:16:51,440 --> 00:17:00,540
Object Serializer dot serialise and we're going to do a new array list of type string.

250
00:17:00,800 --> 00:17:01,610
OK.

251
00:17:02,040 --> 00:17:04,470
So again nothing inside of here.

252
00:17:04,470 --> 00:17:08,250
In fact we got that open and close parentheses.

253
00:17:08,380 --> 00:17:15,160
But essentially what that does is it allows us to put in and give back an empty string just in case.

254
00:17:15,180 --> 00:17:19,010
So let's go ahead and surround this also with a try catch.

255
00:17:19,080 --> 00:17:21,060
So do a try here.

256
00:17:21,460 --> 00:17:30,750
Then we'll go ahead and catch it with exception easy and we'll do our Iuda print

257
00:17:33,320 --> 00:17:34,880
stack trace.

258
00:17:35,480 --> 00:17:39,920
Now the last piece of information that we've got to do to make this work is we have to cast back this

259
00:17:39,920 --> 00:17:44,910
object Serializer to say hey that this thing's going to come back as an array list.

260
00:17:45,110 --> 00:17:49,820
So what we're going to do is just put our parentheses here and say hey this thing is going to come back

261
00:17:50,210 --> 00:17:52,490
as an array list of type string.

262
00:17:52,550 --> 00:17:56,870
So you can even autocomplete help us out there to get that all working.

263
00:17:56,870 --> 00:17:58,470
Now let's go ahead and run that.

264
00:17:58,470 --> 00:18:04,450
So there's a couple cool things that I want to check out here we should one make sure that you know

265
00:18:04,460 --> 00:18:10,250
when we do this log we want to see how it did the serialization stuff but then we also want to print

266
00:18:10,250 --> 00:18:16,310
out or log out this new friends which I guess I forgot to do so let's go ahead and do that on the say

267
00:18:16,310 --> 00:18:17,920
log I.

268
00:18:18,290 --> 00:18:21,720
And we want to log out new friends.

269
00:18:21,860 --> 00:18:30,510
I guess I should call it first in a string we'll say new friends just like that.

270
00:18:31,100 --> 00:18:38,800
And then we're going to pass in new friends dot to street.

271
00:18:39,410 --> 00:18:43,130
So there's two logs that we're looking for the first one is how did the serialization.

272
00:18:43,130 --> 00:18:47,810
And then the second one is that we're going to get back the new friends Israel is to make sure we got

273
00:18:47,810 --> 00:18:54,830
back everything correctly so let's run this now get our emulator up here get log cat to

274
00:18:57,390 --> 00:18:59,420
and here it comes.

275
00:18:59,450 --> 00:19:03,710
App opens up and let's go ahead and scroll see what we got.

276
00:19:03,710 --> 00:19:10,840
So first off we can very simply see here that new friends the successfully turned it into Fido Sarah

277
00:19:10,850 --> 00:19:11,630
Jones right.

278
00:19:11,630 --> 00:19:16,040
And that was the exact order that we had filed Asser phyto Sarah Jones.

279
00:19:16,060 --> 00:19:16,340
Right.

280
00:19:16,340 --> 00:19:17,200
We got those back.

281
00:19:17,210 --> 00:19:20,120
That works completely just like we were hoping for.

282
00:19:20,120 --> 00:19:26,750
Now the surprising part when we said turn our friends list into a serialized thing which turns it into

283
00:19:26,750 --> 00:19:27,730
a string.

284
00:19:27,740 --> 00:19:30,680
Look at what it gave us this.

285
00:19:30,820 --> 00:19:32,450
I mean it to us as humans.

286
00:19:32,450 --> 00:19:39,230
This just looks like absolute jibberish but to Java it will be able to take this and it did successfully

287
00:19:39,230 --> 00:19:40,790
turn it back into an array list.

288
00:19:40,780 --> 00:19:47,210
And this is all about sort of machines being able to talk to machines efficiently in a very efficient

289
00:19:47,210 --> 00:19:47,970
way.

290
00:19:47,990 --> 00:19:54,200
So I know it looks a little bit crazy but I want you to sort of see how the sausage is made here with

291
00:19:54,200 --> 00:19:54,980
all of that.

292
00:19:55,160 --> 00:19:58,760
Now just like we did earlier just to confirm that this is all working.

293
00:19:59,030 --> 00:20:06,440
Let's go ahead and comment out all the code where we add in our friends array list so let's go ahead

294
00:20:06,440 --> 00:20:09,940
and do a multi line start in there and we'll end it there.

295
00:20:10,010 --> 00:20:17,540
And I just want to see if we can log out the new friends from what should be saved inside of shared

296
00:20:17,540 --> 00:20:18,140
preferences.

297
00:20:18,150 --> 00:20:22,620
So go ahead and run this and see what we get back.

298
00:20:27,390 --> 00:20:32,310
OK so looks like the emulator opened up so let's open up Blog Cat and look at that.

299
00:20:32,320 --> 00:20:38,500
We get Fido Sarah and Jones so we know for sure that we were able to save in that information and pull

300
00:20:38,500 --> 00:20:40,820
it back and turn it into an array.

301
00:20:40,840 --> 00:20:42,840
It's pretty cool stuff there.

302
00:20:43,360 --> 00:20:49,990
All right with all of this in place it's now time to move back into our memorable places app and apply

303
00:20:49,990 --> 00:20:57,130
this so that we will be able to successfully you know save those places from session to session.

304
00:20:57,130 --> 00:20:59,760
Now I'm going to offer this is a challenge right.

305
00:20:59,770 --> 00:21:03,580
I just Tochtli this new skill and I want you to apply it to our previous project.

306
00:21:03,580 --> 00:21:07,020
Of course if you're not feeling 100 percent comfortable you can just go ahead watch it with me.

307
00:21:07,030 --> 00:21:09,690
But I would recommend going and giving this a try.

308
00:21:09,850 --> 00:21:18,160
So if you're so inclined go fix memorable places so that it will save in the places into shared preferences.

309
00:21:18,310 --> 00:21:18,730
Go ahead.

310
00:21:18,730 --> 00:21:20,300
Hit pause that.

311
00:21:20,380 --> 00:21:25,150
All right so we want to make changes to our memorable places absolute's go ahead and open that.

312
00:21:25,170 --> 00:21:31,630
I'm going to go to my recent projects and look there's a memorable places so don't open this up in a

313
00:21:31,690 --> 00:21:33,750
new window here.

314
00:21:33,910 --> 00:21:39,460
Now in order to work with this we're going to need that object Serializer class that we had before right

315
00:21:39,460 --> 00:21:40,400
here from Rob.

316
00:21:40,450 --> 00:21:44,910
It's actually going to go ahead and just copy this name so that I make sure I don't misspell it.

317
00:21:45,160 --> 00:21:52,920
And in this new project is a file class paste and object serializer.

318
00:21:53,070 --> 00:21:59,980
I'm going to go back to Rob's code copy of all of this back to android studio make sure I keep the package

319
00:22:00,030 --> 00:22:02,900
but then paste in all that information.

320
00:22:03,010 --> 00:22:07,130
OK so that's a nice starting point for us then.

321
00:22:07,150 --> 00:22:11,330
Let's go ahead and move over to our maps activity.

322
00:22:11,830 --> 00:22:17,770
OK so the place that we want to make some changes to here is whenever we are going to be you know saving

323
00:22:17,770 --> 00:22:19,480
a new piece of information.

324
00:22:19,600 --> 00:22:20,180
Right.

325
00:22:20,270 --> 00:22:26,620
And so right now whenever someone does one of these long presses you know we go through all this information

326
00:22:26,620 --> 00:22:33,010
to get the address come down here and then we have the marker and then right now we're adding that new

327
00:22:33,010 --> 00:22:41,050
address into you know the places array list and we're adding the lat long object into the locations

328
00:22:41,410 --> 00:22:46,390
and we say hey you know this view go notify yourself of all these new changes and that stuff is all

329
00:22:46,390 --> 00:22:47,630
fine that's good.

330
00:22:47,860 --> 00:22:49,090
But then after this.

331
00:22:49,090 --> 00:22:53,980
This is where we want to say hey what's inside of this place is re what's inside these locations.

332
00:22:53,980 --> 00:22:58,990
Let's go ahead and save these things into shared preferences and then afterwards we'll still do that

333
00:22:59,500 --> 00:23:01,540
toast to say the location was saved.

334
00:23:01,660 --> 00:23:06,250
So what we want to do here is first get access to our shared preferences.

335
00:23:06,250 --> 00:23:14,590
So we'll just say shared preferences is equal to this don't get shared preferences and then we'll go

336
00:23:14,590 --> 00:23:24,940
ahead and pass in the name of our app which is up here at the top excellent and we'll paste that then

337
00:23:24,940 --> 00:23:29,500
we've got to go ahead and say how we want this to be saved and we want this to be private so we're going

338
00:23:29,500 --> 00:23:33,850
to do mode private and add ours semi-colon there.

339
00:23:34,100 --> 00:23:34,750
OK.

340
00:23:35,050 --> 00:23:41,560
So that gives us access to shared preferences then what we've got to do is we've got to start to say

341
00:23:41,560 --> 00:23:46,930
things so for the places array list we know how to save an array list via a string.

342
00:23:46,960 --> 00:23:47,200
Right.

343
00:23:47,200 --> 00:23:50,160
We just did that with the whole serialization stuff.

344
00:23:50,230 --> 00:23:53,620
So let's go ahead and create first a try catch because we're going to need that.

345
00:23:53,620 --> 00:24:04,240
So try and catch where you look for the old exception we will print that out.

346
00:24:04,240 --> 00:24:05,450
Awesome.

347
00:24:05,500 --> 00:24:10,560
And then the code that we want to run inside of here is we're going to get access to our shared preferences

348
00:24:10,570 --> 00:24:13,150
we want to do an edit because we're trying to save.

349
00:24:13,240 --> 00:24:17,120
So we're going to say edit and we want to put a string.

350
00:24:17,380 --> 00:24:23,740
And this is going to be for the places R-ALA So just let's go ahead and type out lowercase places just

351
00:24:23,740 --> 00:24:24,610
like that.

352
00:24:24,850 --> 00:24:29,690
And then the next thing that we want to do is you want to serialize the places array list.

353
00:24:29,880 --> 00:24:34,630
So all say capital objects Serializer dot serialise.

354
00:24:34,690 --> 00:24:40,720
And again what we want to pass in is this main activity that places all this type out main activity

355
00:24:41,770 --> 00:24:43,690
places just like that.

356
00:24:43,700 --> 00:24:44,290
OK.

357
00:24:44,680 --> 00:24:50,770
Once we've done that we want to do a apply to sort of save our information there and that's all it takes

358
00:24:50,780 --> 00:24:55,080
in order to save the places array list inside of them.

359
00:24:55,090 --> 00:25:02,020
Now when it comes to locations it's a little bit trickier because places let me go ahead and go back

360
00:25:02,020 --> 00:25:09,040
to that man activity so you can see this places is an array list of string objects where locations is

361
00:25:09,040 --> 00:25:15,280
an array list of lat long objects and the serializer class that we have isn't able to take a lat long

362
00:25:15,280 --> 00:25:19,690
object and serialize it into a big string.

363
00:25:19,810 --> 00:25:24,510
It can work with like strings doubles ints floats kind of the basic types.

364
00:25:24,820 --> 00:25:31,780
But for a lat long that's not one of the options for us so we kind of have to deconstruct or longs in

365
00:25:31,780 --> 00:25:38,620
order to do all of this and essentially all that all out long is a latitude and longitude is sort of

366
00:25:38,620 --> 00:25:40,150
right there in the name.

367
00:25:40,150 --> 00:25:46,030
So what we're going to do is first we're going to get create two new array lists for latitude and longitude

368
00:25:46,180 --> 00:25:49,780
longitude So we're going to say let's make an array list.

369
00:25:49,810 --> 00:25:55,510
And it's important we want these to be strings because an array list of strings can be saved and serialized

370
00:25:55,510 --> 00:25:56,320
into shared data.

371
00:25:56,380 --> 00:26:07,300
All say a list of strings that we'll call latitudes is going to be equal to a new array list just like

372
00:26:07,300 --> 00:26:07,950
that.

373
00:26:08,110 --> 00:26:14,350
And we're going to copy this so that we can paste it down below and say we also want to do this for

374
00:26:14,410 --> 00:26:15,600
longitudes.

375
00:26:15,870 --> 00:26:22,360
OK so we have this new array of risk list for latitude and longitude and we want to fill these up with

376
00:26:22,960 --> 00:26:26,410
the correct information so probably best to do that with a for loop.

377
00:26:26,710 --> 00:26:29,500
So let's go ahead and make a for loop here.

378
00:26:29,530 --> 00:26:32,890
Was this do our ints is equal to zero.

379
00:26:32,890 --> 00:26:34,170
Classic.

380
00:26:34,450 --> 00:26:40,630
Then we want to go ahead and do this for however many things are in the locations array and so we're

381
00:26:40,630 --> 00:26:43,370
going to go ahead and type out.

382
00:26:43,380 --> 00:26:48,460
I well in fact if we're doing a for loop here maybe it's better to do a for loop where we don't use

383
00:26:48,460 --> 00:26:50,350
AI and we just move through each of the objects.

384
00:26:50,350 --> 00:26:57,250
So in fact let's go ahead and change this we're going to do lat long and I'm going to call this cord's

385
00:26:57,310 --> 00:26:59,010
for coordinate.

386
00:26:59,320 --> 00:27:04,710
And we're going to say Do this for main activity locations.

387
00:27:04,720 --> 00:27:08,680
So this says go ahead and loop through everything inside of locations that way this will make it just

388
00:27:08,680 --> 00:27:13,300
a little bit easier to work with because each time it just gives us a different coordinate.

389
00:27:13,300 --> 00:27:20,410
So now we can say latitudes dot add and what we need to do is we need to turn that double into a string

390
00:27:20,410 --> 00:27:28,340
so we're going to say a capital double to string and then we're going to pass and chord dot latitude

391
00:27:29,800 --> 00:27:36,160
so that is going to fill up our latitude array list and let's go ahead and copy and paste this for our

392
00:27:36,160 --> 00:27:43,070
longitude so unimportant that you change this to longitudes and you change this to longitude there.

393
00:27:43,090 --> 00:27:49,660
All right so now that we have that for loop in place that means we now have two array lists that we

394
00:27:49,660 --> 00:27:52,540
can save in the shared preferences.

395
00:27:52,540 --> 00:28:00,220
So I'm going to go ahead and just copy this line of code right where we are right now serializing the

396
00:28:00,220 --> 00:28:01,110
places.

397
00:28:01,480 --> 00:28:09,790
And I'm just going to paste it twice for our latitudes and longitudes and I'm going to call the string

398
00:28:09,790 --> 00:28:16,420
for this one lapse and I'm going to call this one lawns and I'm just going.

399
00:28:16,420 --> 00:28:24,390
Rather than saying main activity up places is going to be latitudes and this is going to be longitudes.

400
00:28:24,950 --> 00:28:26,740
Well it looks like we missed.

401
00:28:27,150 --> 00:28:29,670
Oh no we just had the places.

402
00:28:29,850 --> 00:28:30,810
We go.

403
00:28:30,810 --> 00:28:36,810
So now we are essentially saving three different light array lists into shared preferences.

404
00:28:36,840 --> 00:28:38,810
Right we're doing the places.

405
00:28:38,820 --> 00:28:41,970
But then also this new latitude and longitudes.

406
00:28:41,970 --> 00:28:42,770
All right.

407
00:28:43,140 --> 00:28:49,790
So with those pieces in place let's go ahead and just make sure our app works as it is right now so

408
00:28:49,800 --> 00:28:52,700
let's go ahead and run this on our emulator.

409
00:28:53,260 --> 00:28:59,070
And really the next step for us is we just want to make sure that we can get this information out of

410
00:28:59,070 --> 00:29:04,440
our app successfully meaning that when we open the app again that we can pull that information.

411
00:29:04,440 --> 00:29:07,090
So we'll wait for this app to open up.

412
00:29:07,110 --> 00:29:08,690
There it is.

413
00:29:08,700 --> 00:29:16,800
And let's say we add a new place and let's go ahead and give it a position so that we can not be in

414
00:29:16,800 --> 00:29:17,870
the middle of the ocean.

415
00:29:17,880 --> 00:29:25,430
Yeah we're back in New York so I when to do a long press year on the map and look at that location saved.

416
00:29:25,440 --> 00:29:30,780
So we should have something saved there but we don't have any code so that if we were to example open

417
00:29:30,780 --> 00:29:35,310
this app again right like if I did a double click on this

418
00:29:38,030 --> 00:29:42,930
that's shared preferences and oh no I want to do this memorable places.

419
00:29:43,040 --> 00:29:45,410
OK I got to go home first.

420
00:29:45,530 --> 00:29:47,280
No I should not have long press that.

421
00:29:47,290 --> 00:29:47,880
There we go.

422
00:29:47,970 --> 00:29:48,440
OK.

423
00:29:48,660 --> 00:29:55,520
So let's say I go home and then I double click this and I X out.

424
00:29:56,100 --> 00:29:57,350
This is driving me nuts.

425
00:29:57,340 --> 00:29:58,240
Supposed to be able to.

426
00:29:58,320 --> 00:29:59,830
OK and let's try it one time.

427
00:29:59,880 --> 00:30:01,720
I guess it only needed one click.

428
00:30:01,920 --> 00:30:07,210
But if I close out of memorable places and then I come back and I open it up

429
00:30:10,150 --> 00:30:14,780
there's memorable places it should have had my location saved but it didn't.

430
00:30:14,860 --> 00:30:16,740
So that's the code that we want to right now.

431
00:30:16,990 --> 00:30:21,550
So that's going to be inside of our main activity right when the main activity opens up here and it's

432
00:30:21,550 --> 00:30:22,990
listing everything in that list view.

433
00:30:22,990 --> 00:30:28,210
This is where we want to show other locations from the shared preferences.

434
00:30:28,210 --> 00:30:34,360
So here inside of main activity before we go ahead and do this places dot ad and all that good stuff

435
00:30:34,360 --> 00:30:35,330
right.

436
00:30:35,530 --> 00:30:39,360
We want to go ahead and write a little bit of code before that.

437
00:30:39,370 --> 00:30:44,510
So up here at the top first thing that we got to do is we've got to get access to our shared preferences.

438
00:30:44,530 --> 00:30:53,920
So again just shared preferences lowercase shared preferences is equal to this get shared preferences

439
00:30:54,460 --> 00:31:04,300
and provide the name of the app and go ahead and copy and paste that and then also want to go see a

440
00:31:04,330 --> 00:31:08,180
capital context dot moed private.

441
00:31:08,350 --> 00:31:11,500
So that gives us access to shared preferences.

442
00:31:11,500 --> 00:31:17,140
The next thing that we want to do is we want to be able to have the array lists for the latitudes in

443
00:31:17,140 --> 00:31:18,520
the longitudes.

444
00:31:18,520 --> 00:31:27,880
So let's just go ahead and create new array list that's going to hold a bunch of strings and we'll just

445
00:31:27,880 --> 00:31:31,220
call this in fact let's just go back to the maps activity.

446
00:31:31,270 --> 00:31:35,900
We're going to copy these to array lists because they're essentially going to have the exact same name.

447
00:31:35,950 --> 00:31:38,060
We'll just go ahead and paste it right like that.

448
00:31:38,080 --> 00:31:38,640
OK.

449
00:31:38,890 --> 00:31:42,100
So we're making our way lists of latitudes and longitudes.

450
00:31:42,100 --> 00:31:45,780
Then we want to go and attempt to pull this out of shared preferences.

451
00:31:45,790 --> 00:31:47,880
Let's get a try catch ready.

452
00:31:48,060 --> 00:31:49,520
There our trying.

453
00:31:49,990 --> 00:31:57,570
And then we'll just catch any and all exception that we'll call each and go ahead and print that out.

454
00:31:57,580 --> 00:31:57,910
All right.

455
00:31:57,910 --> 00:32:03,700
So inside of the trial now this is where we want to try and go and get things so the first thing let's

456
00:32:03,700 --> 00:32:05,270
just go ahead and get the places.

457
00:32:05,350 --> 00:32:14,830
So we're going to say places is equal to and we want to get to object Serializer dot de serialized so

458
00:32:14,830 --> 00:32:18,340
this is looking for strings so let's go ahead and give it a string.

459
00:32:18,610 --> 00:32:26,620
We're going to say let's go to our shared preferences dot get string and we have to provide the name

460
00:32:26,620 --> 00:32:30,610
first of what we're looking for in this case we're just looking for places that will go ahead and put

461
00:32:30,610 --> 00:32:31,250
that.

462
00:32:31,610 --> 00:32:39,340
And then we have to give it you know some sort of example or default in case we weren't able to get

463
00:32:39,340 --> 00:32:39,880
things back.

464
00:32:39,880 --> 00:32:51,930
So let's go back to here where we were adding in our default and oh no we did that in the other application.

465
00:32:51,930 --> 00:32:54,060
So let's go back to our shared preferences.

466
00:32:54,060 --> 00:33:00,780
Remember when we just created said hey object Serializer make a new array less blah blah blah we'll

467
00:33:00,780 --> 00:33:10,830
get all of them in place so just go ahead and copy that come back to our other project here and go back

468
00:33:10,830 --> 00:33:15,510
to main activity and we'll paste that right inside.

469
00:33:15,550 --> 00:33:16,010
OK.

470
00:33:16,320 --> 00:33:21,690
So with this we have to go ahead and cast this to say this is going to come back as an array list of

471
00:33:21,690 --> 00:33:22,650
strings.

472
00:33:22,650 --> 00:33:25,800
And that is all it takes to get our places.

473
00:33:27,090 --> 00:33:31,890
But the next thing that we need to do here is we need to go get the latitudes and longitudes So it's

474
00:33:31,890 --> 00:33:34,860
kind of eerily similar to this line of code.

475
00:33:34,860 --> 00:33:37,420
So in fact let's just go ahead.

476
00:33:37,650 --> 00:33:39,560
Don't forget your semi-colon.

477
00:33:39,570 --> 00:33:46,470
Let's go ahead and copy this line of code and we will paste it twice so that we can change it for the

478
00:33:46,470 --> 00:33:48,530
latitudes and longitudes.

479
00:33:48,540 --> 00:33:54,210
So in this case we're going to say latitudes and when we come down here for places Remember we call

480
00:33:54,240 --> 00:33:58,240
this Latz Let's confirm and we call that Latz and lawns.

481
00:33:58,290 --> 00:34:00,480
So we're going to get our laps.

482
00:34:00,540 --> 00:34:06,250
This one we're going to get our lawns and we'll just change this one to longitudes.

483
00:34:06,440 --> 00:34:07,860
OK.

484
00:34:08,130 --> 00:34:12,680
So with all that information in place that should go ahead and grab each of the things right it should

485
00:34:12,690 --> 00:34:16,680
grab the places latitudes and longitudes.

486
00:34:16,690 --> 00:34:23,310
Now if this is the case you know we want to go ahead and we have a little bit of a tricky situation

487
00:34:23,310 --> 00:34:29,790
here right and that's what these latitude longitude these ultimately need to go and fill up our locations

488
00:34:30,630 --> 00:34:31,710
array list.

489
00:34:31,710 --> 00:34:36,420
And so you know we're going to have to do a little bit of work to make that happen now before we do

490
00:34:36,420 --> 00:34:37,730
any of that.

491
00:34:37,920 --> 00:34:44,520
We need to clear out everything here to make sure that we're working with fresh array list so places

492
00:34:45,220 --> 00:34:46,560
to clear.

493
00:34:46,620 --> 00:34:49,820
We want to do the same for the latitudes.

494
00:34:49,860 --> 00:34:54,530
Clear wanna do this for our longitudes.

495
00:34:54,860 --> 00:34:55,630
Clear.

496
00:34:55,830 --> 00:34:58,370
And we also want to do this for our locations.

497
00:34:58,380 --> 00:35:04,290
Let's just go ahead clear out all of these arrays make sure nothing's inside of there that we can start

498
00:35:04,290 --> 00:35:04,990
fresh.

499
00:35:05,050 --> 00:35:10,380
OK so we've done all that clearing them we're going to come down here and say after we've done all this

500
00:35:10,380 --> 00:35:11,840
try catch stuff.

501
00:35:12,210 --> 00:35:18,500
We want to do a check and make sure that we can actually take these latitude longitude and put them

502
00:35:18,510 --> 00:35:20,160
into locations.

503
00:35:20,160 --> 00:35:26,430
So first let's read an if statement here and this statement is just going to check and see if we have

504
00:35:26,520 --> 00:35:29,370
the proper arrays that we're looking for.

505
00:35:29,370 --> 00:35:37,160
So first let's go ahead and check places we're going to see if places Dotts size is greater than zero.

506
00:35:37,520 --> 00:35:42,960
And we're going to say and we want to go ahead and check latitude sort of say latitudes that size is

507
00:35:42,960 --> 00:35:44,060
greater than zero.

508
00:35:44,100 --> 00:35:50,700
And if longitudes size is greater than zero.

509
00:35:50,730 --> 00:35:58,500
So this essentially says we're not moving forward unless we've got latitudes longitudes and places arrays.

510
00:35:58,840 --> 00:36:05,010
Then the next check that we're going to see is make sure that the latitudes and longitudes are the exact

511
00:36:05,010 --> 00:36:06,810
same size as the places.

512
00:36:06,870 --> 00:36:15,810
So we'll do another statement here and this time we're going to say places dot signs and check and see

513
00:36:15,810 --> 00:36:23,920
if this is a doubles equal sign equal to latitudes dot size and let's do the same thing for the longitude

514
00:36:23,950 --> 00:36:31,240
will say places that size is equal to longitude size.

515
00:36:31,460 --> 00:36:32,180
OK.

516
00:36:32,460 --> 00:36:34,540
So that's going to be a quick test for us.

517
00:36:34,540 --> 00:36:38,270
Make sure that everything's you know of the same size here.

518
00:36:38,340 --> 00:36:45,300
Now if that is the case then we're going to go ahead and move forward by doing a for loop and this is

519
00:36:45,300 --> 00:36:51,810
where we're going to take the latitudes and longitudes in merge them into the locations array list.

520
00:36:51,840 --> 00:36:58,920
So we're going to say four and this time we actually do want to go ahead and use an eye because we're

521
00:36:58,920 --> 00:37:02,010
going to be working with two different arrays less here.

522
00:37:02,220 --> 00:37:12,030
So when I say it is equal to zero as long as it is less than the latitudes that size and you could have

523
00:37:12,030 --> 00:37:17,870
chosen places latitudes longitudes because we just checked here that they were all the same size.

524
00:37:18,090 --> 00:37:19,750
And then we'll just go ahead and say I.

525
00:37:19,860 --> 00:37:21,000
Plus plus.

526
00:37:21,340 --> 00:37:21,960
OK.

527
00:37:22,140 --> 00:37:27,330
So now that we're here this is where we sort of add everything together so we're going to say locations

528
00:37:27,610 --> 00:37:34,450
not and and remember it's looking for a lat long objects are going to say new lat long.

529
00:37:34,560 --> 00:37:38,850
And it's just looking forward to doubles and this is the latitude and longitude.

530
00:37:38,850 --> 00:37:45,690
So the first one we'll say the capitol double parce double so if we pass this the string will go ahead

531
00:37:45,690 --> 00:37:53,620
and turn to a double so it will just simply say latitudes not get at a high tank.

532
00:37:53,970 --> 00:38:00,000
And then we also want to do this for our longitudes.

533
00:38:00,030 --> 00:38:04,270
And I say double parse double.

534
00:38:04,350 --> 00:38:09,510
We're going to say and longitudes not yet and that will pass in an index.

535
00:38:09,600 --> 00:38:12,980
I can say let's not forget our semi-colon there.

536
00:38:12,980 --> 00:38:19,710
So this is the line of code that sort of reconstructs everything and adds all of that back together.

537
00:38:19,840 --> 00:38:25,320
Now the last thing that we need to do is we need to have an else statement on here so if these things

538
00:38:25,320 --> 00:38:26,580
aren't the same size right.

539
00:38:26,580 --> 00:38:30,420
All that information if they're stopped for some reason they didn't come back.

540
00:38:30,600 --> 00:38:34,020
Well that probably means that this is the first time that the apps been open.

541
00:38:34,020 --> 00:38:40,920
So in that case this is where we'd want to add you know a new item into places and location right for

542
00:38:40,920 --> 00:38:45,520
the very first ones who will go ahead and place that code right inside there.

543
00:38:45,630 --> 00:38:46,220
OK.

544
00:38:46,560 --> 00:38:50,440
So with that in place let's go ahead and run our app see what it looks like.

545
00:38:50,490 --> 00:38:55,920
This is sort of a big moment of truth for us.

546
00:38:55,920 --> 00:39:00,160
So looks like everything finished up it's going to relaunch our app.

547
00:39:00,210 --> 00:39:04,770
So here you can see or already had a location from before so that should tell us you know that we were

548
00:39:04,770 --> 00:39:12,240
in a pretty good location but let's you know go pick a new place on the map here something on Rikers

549
00:39:12,240 --> 00:39:13,060
Island.

550
00:39:13,100 --> 00:39:13,500
OK.

551
00:39:13,500 --> 00:39:15,660
So if I hit the back button look at that.

552
00:39:15,850 --> 00:39:19,850
There's something on Hazon street if we click on it it's going to take us back there.

553
00:39:19,860 --> 00:39:23,620
Now let's go ahead and say you know we do our double click here.

554
00:39:24,090 --> 00:39:26,190
I think only one click.

555
00:39:26,190 --> 00:39:31,650
I keep wanting to do double but if I hit the X on memorable places so we've essentially cleared out

556
00:39:31,650 --> 00:39:35,920
the app right like when we come back to it here and we open it up.

557
00:39:36,270 --> 00:39:37,620
Oh my goodness look at that.

558
00:39:37,620 --> 00:39:43,530
It has the same locations that we can click on these and get back to them in just a really prove that

559
00:39:43,530 --> 00:39:44,520
this is the case.

560
00:39:44,640 --> 00:39:50,520
I'm going to go ahead and run this app one more time on the emulator so you can see whether we physically

561
00:39:50,520 --> 00:39:53,530
close out of the app or we just relaunch it here from Android studio.

562
00:39:53,550 --> 00:39:54,480
Look at that.

563
00:39:54,660 --> 00:39:56,940
The information is saved here.

564
00:39:57,000 --> 00:40:00,120
So give yourself a nice big pat on the back.

565
00:40:00,120 --> 00:40:04,610
We turn to what essentially was an app with a ton of promise but didn't ultimately deliver because it

566
00:40:04,610 --> 00:40:07,770
didn't say anything and now it's completely functional.

567
00:40:08,010 --> 00:40:13,050
So you did see we had a little bit of struggle here right with this whole having to take the lat long

568
00:40:13,080 --> 00:40:18,660
objects put them into two separate rainless save those and pull them back out then recreate the locations

569
00:40:18,660 --> 00:40:23,010
like it was kind of messy so you'll notice as we go through and learn about databases there will be

570
00:40:23,010 --> 00:40:28,080
some situations where it's like oh the database makes sense but there will be also be situations where

571
00:40:28,080 --> 00:40:29,770
the shared preferences makes sense.

572
00:40:29,790 --> 00:40:34,030
We're going to making notes app that you'll say oh yeah that's definitely a good idea there.

573
00:40:34,140 --> 00:40:39,600
So we have two Android skills that we need to learn before we go ahead and make the notes apps all going

574
00:40:39,600 --> 00:40:43,560
to go ahead and cover those first then we'll go make that notes out OK.

575
00:40:43,590 --> 00:40:44,580
So let's keep truckin.
