WEBVTT
1
00:00:00.480 --> 00:00:03.030
Hello and welcome to the Notes app.

2
00:00:03.090 --> 00:00:05.620
This is a really fun app though we're going to create.

3
00:00:05.730 --> 00:00:11.460
It's going to take the things that we learn about Alert dialogs shared preferences menus and put them

4
00:00:11.460 --> 00:00:12.230
all together.

5
00:00:12.240 --> 00:00:17.340
So the basic idea is you're going to have an app where you can save some notes for for example the very

6
00:00:17.340 --> 00:00:21.920
first time you open up I misspelled this but you would have something that says something like example

7
00:00:21.930 --> 00:00:24.380
note and let me just go ahead and change this.

8
00:00:24.390 --> 00:00:27.840
I feel dumb that I didn't get this fixed earlier but look at that.

9
00:00:27.840 --> 00:00:31.520
So we have our example note here that would maybe show up the first time you open the app.

10
00:00:31.530 --> 00:00:37.980
And if you want to edit the note you can always click on it and you know changes say example note is

11
00:00:37.980 --> 00:00:40.380
fun or something like that when you hit the back button.

12
00:00:40.380 --> 00:00:44.570
Those saves have been changed and you can always you know come back make changes.

13
00:00:44.570 --> 00:00:47.090
You can also hit this menu item and add a note.

14
00:00:47.280 --> 00:00:49.850
So maybe we'll just say Hello there.

15
00:00:50.070 --> 00:00:51.470
And look when we hit back.

16
00:00:51.470 --> 00:00:54.250
Now we have the example of those fun and hello there.

17
00:00:54.480 --> 00:00:58.920
If you ever have a note that you no longer like are you treating it as like a To Do list or something

18
00:00:58.920 --> 00:01:03.750
you can always click and hold for a long time which brings up this dialog box says Do you want to delete

19
00:01:03.750 --> 00:01:04.800
this and I'll say yes.

20
00:01:04.800 --> 00:01:07.360
And all sudden it's gone.

21
00:01:07.410 --> 00:01:12.600
And the important thing to note here is with the note app is that if we were to close out of the note

22
00:01:12.630 --> 00:01:19.560
app hit the X there and come back and open it again should save any changes that we have.

23
00:01:19.560 --> 00:01:22.670
So for example you see oh look at say the example note is fun.

24
00:01:22.680 --> 00:01:26.530
And if we have multiple notes those should all be saved inside of there.

25
00:01:26.700 --> 00:01:30.150
So there's going to be a couple of things that you're going to have to learn right.

26
00:01:30.150 --> 00:01:37.710
How do you do the long click listener thing when someone wants to do a long click on a list item.

27
00:01:37.950 --> 00:01:43.410
What are you going to do when someone's making changes to a note right when they're typing here.

28
00:01:43.410 --> 00:01:46.340
How do you make sure you're updating the correct information.

29
00:01:46.510 --> 00:01:48.550
All things that you can learn to Google with.

30
00:01:48.600 --> 00:01:50.400
So that's my challenge for you.

31
00:01:50.400 --> 00:01:51.820
Go ahead and create this app.

32
00:01:51.960 --> 00:01:56.730
If you get stuck needing any help just want to see how why did it you can always come forward and watch

33
00:01:56.730 --> 00:01:57.050
with me.

34
00:01:57.060 --> 00:01:59.660
But please go give that the old college try.

35
00:01:59.770 --> 00:02:03.000
Can't go ahead and hit pause now.

36
00:02:03.390 --> 00:02:05.980
All right so let's go ahead and get started with the notes app.

37
00:02:06.000 --> 00:02:11.580
We're going to start a new Android studio project and I'm going to simply just call it notes and we'll

38
00:02:11.580 --> 00:02:17.450
go ahead and use all our defaults like we have before and get started on this bad boy.

39
00:02:19.650 --> 00:02:25.470
So really the first thing that we want to dive into here first is we want to set up the first activity

40
00:02:25.470 --> 00:02:30.570
so we want to have our list view ready to rock and roll than we want to fill it with the appropriate

41
00:02:30.570 --> 00:02:35.520
information and then we can go about the business of when someone selects one of those that we can go

42
00:02:35.520 --> 00:02:38.790
ahead and move them onto the next screen and all that jazz.

43
00:02:38.790 --> 00:02:42.140
So really everything starts at the first activity.

44
00:02:42.270 --> 00:02:49.410
So I think we should go ahead and dive on the visual side first of actually adding a list view to the

45
00:02:49.410 --> 00:02:57.330
X M-L there and then we can go about the business of setting up our list adapter and all that jazz.

46
00:02:57.330 --> 00:02:57.600
All right.

47
00:02:57.600 --> 00:03:01.260
So this finally loaded up let's give us selves some space to work with.

48
00:03:01.350 --> 00:03:06.660
Want to get rid of this text for you and then I'm going to move down to the containers and bring out

49
00:03:06.690 --> 00:03:11.890
a list view to want this to take up the whole screen and it looks like it's doing a good job so I'm

50
00:03:11.890 --> 00:03:14.900
just going to pin some constraints around the edge here.

51
00:03:15.310 --> 00:03:19.750
I'm going to go ahead and give this an ID of list for you.

52
00:03:19.780 --> 00:03:20.140
All right.

53
00:03:20.140 --> 00:03:25.630
Once we've gone ahead and got down in place let's go ahead and move over to our main activity where

54
00:03:25.630 --> 00:03:26.860
we'll get this all set up.

55
00:03:26.860 --> 00:03:31.990
So step one is we've got to create our list view or at least get access to it.

56
00:03:31.990 --> 00:03:41.110
So we'll name this list for you and say this is equal to find view by the our DOT DOT list view.

57
00:03:41.500 --> 00:03:42.700
Excellent.

58
00:03:42.760 --> 00:03:48.550
Once we have that in place we then need to go create an array list to hold all the notes that we want

59
00:03:48.550 --> 00:03:48.970
to have.

60
00:03:48.970 --> 00:03:55.300
So probably best that we set this up top because we're going to need it in a couple of places so let's

61
00:03:55.300 --> 00:03:59.020
create a new array index out of bounds.

62
00:03:59.020 --> 00:04:05.260
We want array list and this should be of type string because this is going to hold all of our notes

63
00:04:05.320 --> 00:04:11.760
that we're going to have we'll just simply call them notes and say hey this should be a new array list.

64
00:04:11.800 --> 00:04:13.030
Simple as that.

65
00:04:13.420 --> 00:04:18.940
So with that in place let's go ahead and add an example note just to go ahead and get things started.

66
00:04:18.940 --> 00:04:25.020
So we'll say no start ad and we'll maybe just add something as an example.

67
00:04:25.020 --> 00:04:34.000
Note Keong once we've got that in place we've got to set up our array adapter so we'll say array dafter

68
00:04:34.660 --> 00:04:42.830
and we want to just go ahead and call that lower case re adapter and we'll make a new array adapter.

69
00:04:42.850 --> 00:04:49.980
And for that context will pass and this and then want to get to that simple laya which is Android Dot

70
00:04:50.150 --> 00:04:59.110
are lay out datt simple list item 1 and then we have to say what array we're working less with.

71
00:04:59.110 --> 00:05:01.610
So we'll go ahead and pass notes there.

72
00:05:01.910 --> 00:05:05.880
OK what that a chapter in place we just have to take our list view.

73
00:05:06.060 --> 00:05:13.280
And on that same set adapter so we'll go ahead and pass in our array adapter.

74
00:05:13.900 --> 00:05:19.090
So we've done this a million times let's go ahead and get this rolling on the emulator that's going

75
00:05:19.090 --> 00:05:21.870
to take a second to get all set up there.

76
00:05:21.870 --> 00:05:26.920
But you know we can trust that this is probably going to work because all we did was we made an array

77
00:05:26.920 --> 00:05:30.200
with one item in it and we had it show up inside of our list view.

78
00:05:30.220 --> 00:05:35.290
So probably don't need to test that quite yet we can probably safely go ahead and move on to our next

79
00:05:35.350 --> 00:05:40.810
item of business which is when someone selects one of these notes we want to be able to move them on

80
00:05:40.810 --> 00:05:45.220
to the next activity but we don't even have another activity to move on towards.

81
00:05:45.220 --> 00:05:46.240
So let's go ahead and do that.

82
00:05:46.240 --> 00:05:51.440
We're going to save file new and we want a new activity.

83
00:05:51.610 --> 00:05:58.560
And we're just looking for a blank activity doesn't seem to be there so let's go to the gallery.

84
00:05:59.020 --> 00:06:02.250
Empty activity I guess that's what we were looking for.

85
00:06:02.350 --> 00:06:07.150
Now as far as a name for this goes you can choose whatever you'd like but I think something like note

86
00:06:07.780 --> 00:06:13.330
Ed. activity is probably pretty good that describes what should be going on inside of this.

87
00:06:13.330 --> 00:06:21.810
We'll go ahead and build that once we have access to this we want to go ahead and make it so that we

88
00:06:21.810 --> 00:06:29.550
have the correct visual side of this up and running so let's go to our activity note Ed. SML screen

89
00:06:29.550 --> 00:06:36.160
here and inside of this really what we want to do is just fill it with a giant.

90
00:06:36.190 --> 00:06:44.090
So let's go ahead and grab one of these edit texts and bring it down into the app OK.

91
00:06:44.170 --> 00:06:47.850
I will take just a second here to go get the constraint stuff to show up.

92
00:06:47.850 --> 00:06:48.940
Awesome.

93
00:06:48.990 --> 00:06:57.420
So with all of that there we want to go ahead and just add pins to all the sides here and let's just

94
00:06:57.420 --> 00:07:01.060
go ahead and set these numbers so that they are all zero.

95
00:07:01.430 --> 00:07:06.920
OK and that's going to make it so that just stretches everywhere that we need it to.

96
00:07:07.410 --> 00:07:08.340
Those are all zero.

97
00:07:08.340 --> 00:07:14.110
And then let's go ahead and change our constraints until it fills up the entire space.

98
00:07:14.250 --> 00:07:15.160
And look at that.

99
00:07:15.420 --> 00:07:19.110
We get this nice text that goes everywhere.

100
00:07:19.110 --> 00:07:26.400
So with this it already has an idea of added text that's fine soldiers sort of keep that as is with

101
00:07:26.400 --> 00:07:27.980
this now in place though.

102
00:07:27.990 --> 00:07:31.890
Let's go ahead and make it so that we can move now to this activity right.

103
00:07:31.900 --> 00:07:35.230
That was the whole purpose of getting this thing set up.

104
00:07:35.430 --> 00:07:42.870
So we're going to come down here and we need to take our list view and we are going to set the on item

105
00:07:42.870 --> 00:07:48.520
click listener so we're going to say set on item click listener.

106
00:07:48.810 --> 00:07:55.080
And for this we need a new adapter view on item click listener.

107
00:07:55.090 --> 00:07:58.590
Boom it's going to add in all the fancy code for us.

108
00:07:58.590 --> 00:08:02.610
And the big thing that we want to do here now is we want to make an intent that will take us to the

109
00:08:02.610 --> 00:08:04.080
next activity.

110
00:08:04.080 --> 00:08:11.130
So we'll do capital intense and we'll just call it lowercase intent is equal to a new capital intent

111
00:08:12.030 --> 00:08:19.320
where we first want to get the application context and then we're going to take a note.

112
00:08:19.350 --> 00:08:24.730
The thing that we want to move to is note editor activities are going to say that talk class.

113
00:08:25.020 --> 00:08:28.080
And that's telling us where we want this attempt to go.

114
00:08:28.080 --> 00:08:33.410
We should add an extra to the intent to say which particular note it was that was selected.

115
00:08:33.720 --> 00:08:38.190
So we're going to type out lower case content which is that object we just created and when I say Dot

116
00:08:38.310 --> 00:08:43.260
put extra And first we have to give a name to the extra that we're adding here.

117
00:08:43.260 --> 00:08:46.010
And I think maybe just calling it note ID.

118
00:08:46.590 --> 00:08:51.860
So this you know for example is the top one note ID will be zero that will be 1 than 2 right.

119
00:08:51.870 --> 00:08:53.290
So on and so forth.

120
00:08:53.580 --> 00:08:59.610
And then we need to pass for the actual ID or the you know into what they selected So we're going to

121
00:08:59.610 --> 00:09:00.010
pass.

122
00:09:00.030 --> 00:09:02.690
I just right inside of there.

123
00:09:02.690 --> 00:09:08.670
And once we've done that we just simply have to start the activity with that intent.

124
00:09:09.120 --> 00:09:17.580
So let's go ahead and run this and see if we can't move over to that next activity after tapping something

125
00:09:17.580 --> 00:09:18.540
on that list view.

126
00:09:20.820 --> 00:09:30.740
So wait a second here for emulator friend looks like it finally finished up and come in for the first

127
00:09:30.740 --> 00:09:31.370
time we'll get that.

128
00:09:31.380 --> 00:09:32.780
There's our one example no.

129
00:09:32.810 --> 00:09:37.730
And if we click on that boom all of a sudden we are here we've got this nice added text that we can

130
00:09:37.730 --> 00:09:38.880
work with.

131
00:09:38.960 --> 00:09:40.720
That's pretty awesome.

132
00:09:40.730 --> 00:09:46.810
So the one thing that we do want to fix with this though is that you can see the edit text here.

133
00:09:46.810 --> 00:09:51.210
It's kind of has the text in the middle and it be nice if we had that up at the top.

134
00:09:51.290 --> 00:09:58.490
So let's go back into our visual editor here and we want to make some appropriate changes so with the

135
00:09:58.550 --> 00:09:59.940
edit text selected.

136
00:09:59.990 --> 00:10:03.490
Let's go ahead and move over to some more detailed options here.

137
00:10:03.500 --> 00:10:06.880
Scroll down until you find gravity.

138
00:10:07.400 --> 00:10:12.380
And once you find gravity if you extend that down right now it's selected to center vertical.

139
00:10:12.410 --> 00:10:18.500
We want to have at the top and uncheck center vertical and there you can see sort of up to the top left

140
00:10:18.560 --> 00:10:21.520
and we can now appropriately handle that.

141
00:10:21.690 --> 00:10:22.530
OK.

142
00:10:22.910 --> 00:10:28.370
So with that in place we now want to write some code inside of our note editor so that when somebody

143
00:10:28.370 --> 00:10:32.360
selects something for example let me go ahead and hit the back button here.

144
00:10:32.360 --> 00:10:38.120
Right so someone taps on one of these example notes we would want to be able to display the appropriate

145
00:10:38.120 --> 00:10:43.160
information if we needed to over here and this note editor directivity.

146
00:10:43.160 --> 00:10:47.430
So in order to do this let's go ahead and first get access to that.

147
00:10:47.470 --> 00:10:58.400
It takes all say at a text slower case that a text is equal to fine view by ID card Id add a text.

148
00:10:58.400 --> 00:11:04.790
Excellent then with that in place we want to pull out whatever the particular note ideas so we can do

149
00:11:04.790 --> 00:11:14.240
some checking there so let's go get the intent by saying intent is equal to get intent.

150
00:11:14.300 --> 00:11:14.650
All right.

151
00:11:14.660 --> 00:11:20.870
Once we have access to that that we want to pull that particular note Id outsole make a new object called

152
00:11:20.880 --> 00:11:28.260
note ID and this will be equal to our intent dot net.

153
00:11:28.360 --> 00:11:30.600
And this is where we want to get to the end.

154
00:11:30.650 --> 00:11:32.540
So get it extra.

155
00:11:32.810 --> 00:11:39.500
And what we're looking for is lower case capital note Id make sure that this spelling is the exact same

156
00:11:39.980 --> 00:11:44.810
as what you had over here in fact it might be just safe to copy this and paste it there just to confirm

157
00:11:44.810 --> 00:11:46.330
you've got the right thing.

158
00:11:46.520 --> 00:11:51.800
And then we also need to provide a default here in case we don't get the appropriate information through.

159
00:11:51.800 --> 00:11:58.100
So if something you know if this is the case I think what we should do is add a negative one here because

160
00:11:58.160 --> 00:12:01.900
the number that we're going to be passing over it can either be as low as zero.

161
00:12:01.930 --> 00:12:06.920
That because of the first item in an array or it could go up to over many notes we have but if it's

162
00:12:06.920 --> 00:12:11.450
negative one like that's not a number that can be passed through so that's a nice default value that

163
00:12:11.450 --> 00:12:15.420
could warn us like hey something's not going correctly.

164
00:12:15.500 --> 00:12:20.720
So what we'll do is we'll create an if statement in check and see and make sure that something is not

165
00:12:20.750 --> 00:12:22.890
equal to negative one.

166
00:12:23.030 --> 00:12:23.560
That's what we'll do.

167
00:12:23.560 --> 00:12:33.530
I will say if no ID is not equal to negative 1 meaning that you know we didn't have to use our default

168
00:12:33.530 --> 00:12:41.360
value then we can go ahead and take whatever note that was passed to us and we can add it into the edit

169
00:12:41.360 --> 00:12:43.250
text and set that text there.

170
00:12:43.250 --> 00:12:50.570
So we're going to say edit text set text and the text that we want to set it to is whatever we got from

171
00:12:50.660 --> 00:12:51.230
the notes.

172
00:12:51.230 --> 00:12:57.530
Now in order to get access to the notes array from the previous activity what we're going to have to

173
00:12:57.530 --> 00:13:03.420
do is add a static in front of here so that we can access that information.

174
00:13:03.560 --> 00:13:12.380
But with that in place we should be able to say main activity dot notes and let's see this is not coming

175
00:13:12.380 --> 00:13:14.000
through for us.

176
00:13:14.120 --> 00:13:23.000
So we changed this to static Oh I accidentally deleted the array list so it will do frailest like that.

177
00:13:23.000 --> 00:13:24.380
There we go.

178
00:13:24.420 --> 00:13:25.970
This should be much happier now.

179
00:13:25.970 --> 00:13:33.110
So now we can type out notes and say Dot get and we're going to pass in the index of note Id and that'll

180
00:13:33.140 --> 00:13:36.770
pull out the appropriate string and put it inside of the add text.

181
00:13:36.770 --> 00:13:39.370
So let's go ahead and give that a test.

182
00:13:39.410 --> 00:13:41.930
See how that all works out for us.

183
00:13:44.200 --> 00:13:54.420
And so open up our emulator here they're the building all finished and let's say we tap on example note

184
00:13:54.870 --> 00:13:59.460
that it passes over example noted we can you know update some information there.

185
00:13:59.460 --> 00:14:05.880
Now you'll notice the problem is let's say I want to change example note to say example node is cool.

186
00:14:05.900 --> 00:14:07.160
Or something like that.

187
00:14:07.320 --> 00:14:11.160
When I hit the back button it doesn't update the list view here.

188
00:14:11.160 --> 00:14:16.920
So that's sort of our next step is we need to figure out how when someone's making changes to an edit

189
00:14:16.920 --> 00:14:22.930
text that we can appropriately write some code to you know save that information.

190
00:14:22.950 --> 00:14:27.090
Now this was something I had as a challenge for you so again I'm going to show you the process that

191
00:14:27.090 --> 00:14:30.780
I went through to go find this information just by Googling it.

192
00:14:30.780 --> 00:14:34.240
So let's go ahead and open up a web browser.

193
00:14:34.470 --> 00:14:38.910
I'm going to search something like because the main goal here is I want to know how we can run some

194
00:14:38.910 --> 00:14:50.910
code when someone is working with an edit text so maybe will say added text run code when text changed.

195
00:14:51.060 --> 00:14:51.380
OK.

196
00:14:51.390 --> 00:14:55.040
And you may be wondering why didn't I put Android or anything in there.

197
00:14:55.110 --> 00:14:57.230
Edit text is pretty familiar.

198
00:14:57.240 --> 00:15:03.180
Like exclusive to android I think if we had just said like how to change text we maybe would have had

199
00:15:03.180 --> 00:15:07.890
to specify Android but that might be something that helps us out a bit.

200
00:15:07.890 --> 00:15:11.160
So there's a couple of different options on here.

201
00:15:11.160 --> 00:15:16.780
This first one this looks like it might have the most promise or just go ahead and click on this one.

202
00:15:16.790 --> 00:15:19.520
All right let's see what we've got here.

203
00:15:19.520 --> 00:15:25.740
So they're saying OK so what you can do is you can add a text change listener.

204
00:15:26.120 --> 00:15:29.430
And with this you can go ahead and they have some functions.

205
00:15:29.430 --> 00:15:35.390
Yeah I think this is what we're looking for is that after text change before text change and the text

206
00:15:35.390 --> 00:15:38.440
change so that's pretty cool stuff there.

207
00:15:38.450 --> 00:15:38.780
All right.

208
00:15:38.780 --> 00:15:40.010
So let's go ahead and roll with this.

209
00:15:40.010 --> 00:15:45.740
Let's go back to android studio and what we're going to do is after we've done this if statement this

210
00:15:45.740 --> 00:15:50.780
is where we want to be looking for any sort of changes so will first get access to our edit text.

211
00:15:50.780 --> 00:15:56.190
And again just to confirm what we want to do is add text changed listener.

212
00:15:56.210 --> 00:15:56.650
OK.

213
00:15:56.660 --> 00:16:03.140
So let's go back to android studio and say that add text change listener.

214
00:16:03.260 --> 00:16:03.770
Look at that.

215
00:16:03.770 --> 00:16:09.390
That was there and then the thing that we have to pass inside of here was a tech watcher.

216
00:16:09.400 --> 00:16:09.690
Yep.

217
00:16:09.710 --> 00:16:11.140
Text watcher there.

218
00:16:11.150 --> 00:16:18.530
So we're going to say new capital text Wotcher and boom it adds all this excellent code for us about

219
00:16:18.560 --> 00:16:21.980
you know before the text is changed after the text is changed.

220
00:16:21.980 --> 00:16:28.430
Stuff like that but it's really just on text change like if someone has added a new piece of a new character

221
00:16:28.430 --> 00:16:30.570
in there they've deleted something or whatever it is.

222
00:16:30.620 --> 00:16:32.540
This code will get run here.

223
00:16:32.600 --> 00:16:37.800
So this is where we want to do our code to say hey we need to update this information.

224
00:16:37.880 --> 00:16:44.480
So the first thing that we're going to do is we're going to update the array to say hey you know notes

225
00:16:44.510 --> 00:16:46.860
you should have something else inside of here.

226
00:16:47.090 --> 00:16:49.390
So let's get access to that.

227
00:16:49.390 --> 00:16:51.960
Notes are a first main activity notes.

228
00:16:52.130 --> 00:16:58.370
On this we want to say set and we have to specify what index it is that we're trying to change here

229
00:16:58.790 --> 00:17:02.740
and that of course is going to be node ID that we pulled out earlier.

230
00:17:03.110 --> 00:17:07.320
So go ahead and put a note Id inside of there.

231
00:17:07.400 --> 00:17:14.780
Then once we have note Id set the next thing that we want to do is we want to pass forward here.

232
00:17:14.790 --> 00:17:25.210
Capital string dot value of and this is where we're going to use this char sequence in order to turn

233
00:17:25.210 --> 00:17:26.770
this char sequence into a string.

234
00:17:26.770 --> 00:17:32.710
So this is basically the new code thats inside of that edit text so we're going to put char sequence

235
00:17:33.460 --> 00:17:35.110
just like that.

236
00:17:35.290 --> 00:17:41.710
And then once we've changed that array list then we have to tell the array adapter hey you've got new

237
00:17:41.710 --> 00:17:47.450
things so we're going to go to our main activity dot and we try and type out a re adapter it's not there.

238
00:17:47.650 --> 00:17:53.770
So that means we have to take our array adapter and initially set this up top go ahead and do that and

239
00:17:53.770 --> 00:17:56.290
we're going to have to change it to be static.

240
00:17:56.810 --> 00:17:57.390
OK.

241
00:17:57.430 --> 00:18:02.920
And then we'll just get rid of this so we're just setting up the array adapter so that now we can come

242
00:18:02.920 --> 00:18:10.240
and say oh now we get the raid after hey notify data set change that says you know something different

243
00:18:10.240 --> 00:18:11.310
has come through.

244
00:18:11.380 --> 00:18:12.490
You've got to work with this.

245
00:18:12.500 --> 00:18:14.810
So let's go ahead and give that a run.

246
00:18:14.980 --> 00:18:17.400
Make sure that it's working all correctly.

247
00:18:19.930 --> 00:18:23.190
We'll pull up our nice emulator here.

248
00:18:23.610 --> 00:18:25.070
OK so we get the example now.

249
00:18:25.090 --> 00:18:32.170
And I say example note dude exclamation point that the back button look at that is it has now changed

250
00:18:32.800 --> 00:18:38.320
the array list over here that we've called notes so that then it's displaying the appropriate information

251
00:18:38.330 --> 00:18:42.620
if I tap on this again looking at it it's got our new updated information.

252
00:18:42.910 --> 00:18:47.470
So really the next step for us is if someone wants to add a new note it would be nice if we had the

253
00:18:47.470 --> 00:18:53.080
little menu dropdown here that we could say hey add a new note and that'll take us through the process

254
00:18:53.110 --> 00:18:54.980
of creating a new note.

255
00:18:55.000 --> 00:18:57.890
So in order to do that we have to get a menu.

256
00:18:57.970 --> 00:19:04.440
So let's go ahead and bring out our listing of the project and we are going to add our new directory.

257
00:19:04.480 --> 00:19:05.700
So right click.

258
00:19:06.010 --> 00:19:13.270
New directory and I simply want to call that menu then with menu selected We're going to say file new

259
00:19:13.420 --> 00:19:15.530
menu resource file.

260
00:19:15.550 --> 00:19:21.970
Now you can name this whatever you'd like but I'm going to call it add underscored note underscore menu

261
00:19:22.630 --> 00:19:26.560
just like that and make sure that's going into the menu directory.

262
00:19:27.070 --> 00:19:33.910
Will hit OK there and then we get this cool file where we can you know actually add some menu items

263
00:19:33.910 --> 00:19:34.830
inside of here.

264
00:19:35.100 --> 00:19:41.170
So let's go ahead and add an item and we just do that by simply typing the item and then we've got to

265
00:19:41.170 --> 00:19:47.110
set first it's title sort of say Android and let's scroll down for title.

266
00:19:47.140 --> 00:19:48.170
There we go.

267
00:19:48.580 --> 00:19:57.850
So let's go ahead and just call this ad note excellent that we have to set an I.D. for this so we'll

268
00:19:57.850 --> 00:20:04.990
do that out plus I.D. and we're going to add inside of there had their score note and then we can go

269
00:20:04.990 --> 00:20:07.230
ahead and that item.

270
00:20:07.240 --> 00:20:08.120
All right.

271
00:20:08.120 --> 00:20:11.230
So let's go check it out visually it seems fine.

272
00:20:11.230 --> 00:20:16.570
This is going to be a very simple menu but then we need to write the appropriate code to one create

273
00:20:16.570 --> 00:20:21.370
this menu but then also respond when someone taps on the note.

274
00:20:21.400 --> 00:20:26.770
So let's move back to our main activity and we're going to be adding some methods here and I'm going

275
00:20:26.770 --> 00:20:29.930
to put these below diong create it.

276
00:20:30.100 --> 00:20:35.950
It might be good to kind of leave a comment here and say hey the stuff below this is like our menu code.

277
00:20:35.950 --> 00:20:43.890
So what we're going to type on here is first the create menu options menu.

278
00:20:43.900 --> 00:20:45.020
There we go.

279
00:20:45.490 --> 00:20:52.270
So the code that we want to run into here before we return the super stuff you want to create our menu

280
00:20:52.280 --> 00:20:56.550
inflator we'll call menu inflator this is equal to a new low.

281
00:20:56.570 --> 00:20:57.120
Not new.

282
00:20:57.130 --> 00:21:07.210
We want to get menu inflator and then we'll take that menu inflator and then we'll say Dot inflate and

283
00:21:07.240 --> 00:21:08.890
we're going to pass it first.

284
00:21:09.040 --> 00:21:13.130
Our dot menu Dot had no menu.

285
00:21:13.150 --> 00:21:13.420
Right.

286
00:21:13.420 --> 00:21:18.970
That was the one that we added here that makes sense right.

287
00:21:19.060 --> 00:21:22.450
Then we have to pass in one more parameter inside of there.

288
00:21:22.720 --> 00:21:28.310
And that's going to be the actual menu that was passed into here.

289
00:21:28.360 --> 00:21:31.610
So we'll go ahead and put in menu.

290
00:21:31.630 --> 00:21:32.460
All right.

291
00:21:32.710 --> 00:21:38.050
So with that in place we have all the code to create the menu but then we want to write some code to

292
00:21:38.050 --> 00:21:41.550
be able to respond when someone clicks on one of the menu items.

293
00:21:41.560 --> 00:21:47.570
So this is where we do on options item selected.

294
00:21:47.800 --> 00:21:51.640
And in this we're going to go ahead and get rid of the return.

295
00:21:51.640 --> 00:21:57.770
For now we do want the super options item selected but then below what we're going to do before.

296
00:21:57.790 --> 00:22:00.100
I mean we've always done a switch statement.

297
00:22:00.100 --> 00:22:05.200
This might be a use case where we do want to use an IF statement to say hey because there's only one

298
00:22:05.200 --> 00:22:08.170
item let's just make sure it's the right item and then we can move forward.

299
00:22:08.170 --> 00:22:16.150
So let's do a little statement here and what we're going to be checking is the item to get item ID and

300
00:22:16.150 --> 00:22:23.830
see if this is equal to our DOT ID ad note.

301
00:22:24.130 --> 00:22:29.890
OK so if this is the case then this means we have what we want so we're going to want to go ahead and

302
00:22:29.890 --> 00:22:36.140
return true there if this is not the case this is where would we we would return false.

303
00:22:36.140 --> 00:22:39.070
We'll go ahead and put that option there.

304
00:22:39.210 --> 00:22:40.000
Okay.

305
00:22:40.300 --> 00:22:44.750
But assuming we do get the proper thing like what is it that we want to do.

306
00:22:44.770 --> 00:22:51.160
Well we want to do an intent where we move over to the new note activity and we want to start that up.

307
00:22:51.160 --> 00:22:58.550
So let's just go ahead and make a new Intent called intent and this is going to be equal to a new intent.

308
00:22:58.780 --> 00:23:05.380
And we want to go ahead and do our get application context and we're going to have it be a note added

309
00:23:05.470 --> 00:23:07.640
activity class.

310
00:23:08.220 --> 00:23:10.900
And then just go ahead and say start

311
00:23:13.450 --> 00:23:16.420
activity.

312
00:23:16.720 --> 00:23:18.350
This is not coming up for us.

313
00:23:18.350 --> 00:23:22.080
Let's see start activity.

314
00:23:22.240 --> 00:23:26.830
There we go and we pass forward the intent called intent.

315
00:23:26.830 --> 00:23:27.910
All right.

316
00:23:27.910 --> 00:23:34.560
So with this all in place this should when we select that menu item take us over to the next screen

317
00:23:34.570 --> 00:23:39.220
so let's go ahead and try that there you're going to go ahead and hit run

318
00:23:43.870 --> 00:23:46.970
skewed or you later ready to come check this out.

319
00:23:50.510 --> 00:23:51.000
All right.

320
00:23:51.050 --> 00:23:52.370
So finally load up

321
00:23:55.180 --> 00:23:58.210
and come on emulator you can do it.

322
00:23:58.570 --> 00:24:01.960
OK so we're going to hit this little menu item and say add note.

323
00:24:02.050 --> 00:24:02.580
Look at that.

324
00:24:02.590 --> 00:24:03.970
It takes us to a new place.

325
00:24:04.000 --> 00:24:05.200
But check this out.

326
00:24:05.200 --> 00:24:12.330
If we try making some changes we know everything kind of explodes and we can dive into the errors here

327
00:24:12.340 --> 00:24:15.830
and in fact maybe let's do it just so that you can see what the actual area looks like.

328
00:24:15.840 --> 00:24:21.740
Wow it's a big one but it's this array index out of bounds exception.

329
00:24:21.850 --> 00:24:25.060
And take a moment to see if you can figure out what the problem is it's.

330
00:24:25.090 --> 00:24:31.160
Well if we come back to this note editor right we did this if statement to say hey if you know note

331
00:24:31.170 --> 00:24:37.690
ID is negative one as long as it's not negative 1 then you know go ahead and do this tech stuff right.

332
00:24:37.690 --> 00:24:43.350
And then here below whenever we make a change we say hey go to the notes thing and on the index of note

333
00:24:43.360 --> 00:24:44.490
Id go ahead and do this.

334
00:24:44.500 --> 00:24:51.010
If nobody is negative one and you're trying to update a position in the array of negative one that's

335
00:24:51.010 --> 00:24:52.330
where you index out of bounds.

336
00:24:52.340 --> 00:24:56.290
Exception comes you can never have a negative index for an array.

337
00:24:56.290 --> 00:25:02.140
And so that's why this is freaking out so we need to read a little bit of code to talk about the situation

338
00:25:02.140 --> 00:25:08.110
when we moved to this activity and there is no node ID that came forward as an intent.

339
00:25:08.120 --> 00:25:11.320
And so then the default is negative one like how do we handle that.

340
00:25:11.620 --> 00:25:16.660
Well we go ahead and we do an else statement here and the first thing that we do is we go to our main

341
00:25:16.660 --> 00:25:23.770
activity and we get to the notes array and we add a new note inside of there so we add a new empty string

342
00:25:23.980 --> 00:25:25.280
just like this.

343
00:25:25.390 --> 00:25:31.000
And then what we have to do is pick a note ID and really the node ID since we just added a new item

344
00:25:31.000 --> 00:25:33.990
onto there should just be whatever the last item is.

345
00:25:34.000 --> 00:25:41.260
So we're going to take this node ID and we're going to say this is equal to main activity dot notes

346
00:25:41.350 --> 00:25:44.220
and we want to get the size of this.

347
00:25:44.350 --> 00:25:50.380
But then we do have to minus one because for example if it's an array of four items if we set the index

348
00:25:50.380 --> 00:25:57.100
of four that wouldn't be the last index you'd want it to be three because to go 0 1 2 3 and that's how

349
00:25:57.160 --> 00:25:57.890
that all works.

350
00:25:57.880 --> 00:25:59.010
OK.

351
00:25:59.560 --> 00:26:06.400
So you can see we're getting an error here now because it's saying hey you said this entier was called

352
00:26:06.400 --> 00:26:09.590
final and no ID that's not what we want.

353
00:26:09.610 --> 00:26:16.390
So let's go ahead and cut this and we're going to have a note Id set up top here and we'll simply just

354
00:26:16.390 --> 00:26:20.030
say hey update note ID as needed.

355
00:26:20.110 --> 00:26:21.080
As we move through.

356
00:26:21.250 --> 00:26:21.890
OK.

357
00:26:22.480 --> 00:26:28.330
So now that we've got those pieces of information in place let's go ahead and check this out.

358
00:26:28.330 --> 00:26:35.500
We'll run the emulator one more time and hoping here that this will finally give us what we need in

359
00:26:35.500 --> 00:26:37.030
order to show this information.

360
00:26:37.030 --> 00:26:42.540
So here comes the emulator Let's say I want to add something new.

361
00:26:43.120 --> 00:26:44.020
OK.

362
00:26:44.200 --> 00:26:46.770
So you can see this came through with just a name.

363
00:26:46.780 --> 00:26:52.260
And if I type name Nick or something like that we hit the back button.

364
00:26:52.680 --> 00:26:54.570
Ok that works.

365
00:26:54.640 --> 00:26:57.500
It's a little bit not ideal.

366
00:26:57.520 --> 00:27:04.210
And the situation there is if we go to our activity note Ed. The default text inside of there right

367
00:27:04.210 --> 00:27:04.840
now has name.

368
00:27:04.840 --> 00:27:09.670
So if we double click on this and we just make it an empty string I think that'll make it that much

369
00:27:09.700 --> 00:27:11.130
easier to sort of work with.

370
00:27:11.140 --> 00:27:16.930
And we'll be a little bit more intuitive for the user but I mean this essentially is working right like

371
00:27:16.930 --> 00:27:18.810
we can and you know I can change this.

372
00:27:18.820 --> 00:27:21.380
I could delete if I wanted to and say like hello.

373
00:27:21.520 --> 00:27:23.850
If we go back look that's added to the list.

374
00:27:23.860 --> 00:27:30.340
We're in a great place but there's a couple of things missing the big one is that we can't delete an

375
00:27:30.340 --> 00:27:36.570
item right now like if we do a long press on any of these Nothing shows up the idea right you know is

376
00:27:36.580 --> 00:27:40.170
do a long press and then we get the little dialogue says Do you want to delete this.

377
00:27:40.180 --> 00:27:40.680
Yes.

378
00:27:41.470 --> 00:27:44.080
And then we also don't have this permanently stored.

379
00:27:44.140 --> 00:27:53.360
If I go ahead and hit this button here I can close out of the notes app come back to the main screen.

380
00:27:53.430 --> 00:27:55.770
I opened up notes again.

381
00:27:56.720 --> 00:27:57.640
Well look at this.

382
00:27:57.650 --> 00:27:58.420
Everything's gone.

383
00:27:58.420 --> 00:28:02.170
We just have that one example note like we did before.

384
00:28:02.180 --> 00:28:07.310
So in order to fix this let's first make it so that we can delete notes and then we can move forward

385
00:28:07.310 --> 00:28:08.300
from there.

386
00:28:08.330 --> 00:28:15.380
Let's go to our note editor activity and after we've or excuse me the main activity so right now we

387
00:28:15.380 --> 00:28:20.310
have the code for an on item click listener and that's just a single click.

388
00:28:20.360 --> 00:28:23.850
But now we want to add something for when someone does a long click.

389
00:28:23.900 --> 00:28:33.290
So we're going to type out list you dot set on item but instead of click Lisner we want on item long

390
00:28:33.470 --> 00:28:34.310
click listener.

391
00:28:34.350 --> 00:28:38.000
OK so this is when someone taps and holds for a long time.

392
00:28:38.000 --> 00:28:40.460
So with this it's fairly similar.

393
00:28:40.460 --> 00:28:46.310
We're going to do a new adapter view but you can see it says on item long click listener likely it just

394
00:28:46.370 --> 00:28:47.680
auto returns that for us.

395
00:28:47.690 --> 00:28:49.160
That's pretty nice.

396
00:28:49.250 --> 00:28:55.150
And then we get this function inside of here that says On item one click and but this time that some

397
00:28:55.160 --> 00:29:01.760
a little bit interesting is we return true or false with this function and that's saying whether or

398
00:29:01.760 --> 00:29:05.520
not you should allow this long press to happen.

399
00:29:05.540 --> 00:29:11.060
And so in this situation we just want to make sure that we return true or else it's not going to let

400
00:29:11.060 --> 00:29:14.040
our code run so let's just go ahead and leave that at the bottom.

401
00:29:14.120 --> 00:29:20.450
But really the code that we want to run inside of here is you know we want to create a alert dialog

402
00:29:20.450 --> 00:29:24.700
and to present it to the user and say hey do you want to delete this particular note.

403
00:29:24.950 --> 00:29:30.620
And so in order to do that first let's get access to the item it is that we want to delete and that's

404
00:29:30.620 --> 00:29:32.200
this right here.

405
00:29:32.450 --> 00:29:34.840
And you might be thinking Hey we could just go ahead and use i.

406
00:29:34.850 --> 00:29:39.470
But we're actually at a different point going to have a variable called Die and maybe I'll just wait

407
00:29:39.470 --> 00:29:40.870
till that point to show you that.

408
00:29:40.880 --> 00:29:44.670
But just know we're going to run into some issues with naming here.

409
00:29:44.780 --> 00:29:48.450
So let's go ahead and creating new alert dialog.

410
00:29:48.650 --> 00:29:54.350
So a new alert dialog dot builder you guys are becoming pros at this.

411
00:29:54.350 --> 00:30:00.660
We've done this quite a few times and we want to pass in main activity this way.

412
00:30:00.740 --> 00:30:05.030
So that's there let's start adding our no additional details here so the first thing that we got to

413
00:30:05.030 --> 00:30:10.020
do is set the icon so choose that for this one.

414
00:30:10.220 --> 00:30:22.640
Let's go ahead and do lowercase Android Dot are dot drawable dot will do I see dialog alert on this

415
00:30:22.640 --> 00:30:23.280
one.

416
00:30:23.630 --> 00:30:24.490
OK.

417
00:30:24.920 --> 00:30:31.070
The next thing that we want to set here is the titles are they set title and that will maybe just equals

418
00:30:31.150 --> 00:30:31.890
this to say.

419
00:30:31.910 --> 00:30:36.290
Are you sure this is pretty similar to what we had before.

420
00:30:36.290 --> 00:30:38.970
Remember when we made it really dramatic.

421
00:30:39.050 --> 00:30:45.710
But this time when we do set message will be a little bit more specific here will say do you want to

422
00:30:46.220 --> 00:30:51.820
delete this note case or are you getting very specific here like you're about to delete a note.

423
00:30:51.830 --> 00:30:53.360
Is that what you want to do.

424
00:30:53.360 --> 00:30:58.960
So let's set the positive buttons or do dot set positive button.

425
00:30:59.000 --> 00:31:02.920
So this is going to be the situation right that they do want to delete it.

426
00:31:02.930 --> 00:31:07.430
So in this case let's go ahead and provide that the text for that which should just be a simple yes

427
00:31:07.970 --> 00:31:11.440
but then we also need to add a new click.

428
00:31:11.470 --> 00:31:17.810
Listeners are going to say new Capitol dialogue interface on click listener it makes all this great

429
00:31:17.810 --> 00:31:20.620
stuff for us then from here.

430
00:31:20.840 --> 00:31:26.620
What we want to do is go through the business of deleting the note which would dive into the notes array

431
00:31:26.630 --> 00:31:27.430
and get rid of that.

432
00:31:27.440 --> 00:31:33.070
But something that I want to point out here is that you know the item that they selected in the list

433
00:31:33.070 --> 00:31:35.100
view is represented by you and I here.

434
00:31:35.120 --> 00:31:41.840
But then there's also an int i hear that comes through and I'll be honest I'm not exactly sure what

435
00:31:41.840 --> 00:31:45.920
this i represents but it's going to overwrite this one.

436
00:31:45.950 --> 00:31:51.350
So something that we can do to sort of prevent all of this is we can make a new end that we are going

437
00:31:51.350 --> 00:31:59.510
to call maybe item to delete and we'll just set this equal to whatever I is and then this way we can

438
00:31:59.510 --> 00:32:02.720
use this item to delete to get to the appropriate value.

439
00:32:02.720 --> 00:32:09.980
So inside of here we can say you know for example notes that remove OK and we're going to get rid of

440
00:32:09.980 --> 00:32:15.070
whatever item to delete is equal to right because if they tap the first one that will be equal to zero

441
00:32:15.080 --> 00:32:17.760
it will be 1 to whatever.

442
00:32:17.780 --> 00:32:23.420
And once we've done that we want to notify the array adapter hey we've got some new information.

443
00:32:23.420 --> 00:32:24.950
So say a re adapter.

444
00:32:25.040 --> 00:32:27.650
Notify data set changed.

445
00:32:27.980 --> 00:32:28.390
OK.

446
00:32:28.400 --> 00:32:32.080
Make sure you get an ending semi-colon there for that.

447
00:32:32.330 --> 00:32:34.930
And with this you would think oh we're done Nope.

448
00:32:34.940 --> 00:32:36.370
One more thing that we've got to do.

449
00:32:36.370 --> 00:32:39.100
We've got to set the negative button.

450
00:32:39.110 --> 00:32:45.410
So before I do that semi-colon I guess we want to do set negative button and with this we'll go ahead

451
00:32:45.410 --> 00:32:47.470
and bridge just provide the text of no.

452
00:32:47.480 --> 00:32:52.300
And for the unclick listener we're just going to say no because it's like hey you know what.

453
00:32:52.300 --> 00:32:55.990
Just they choose no we don't want to do anything just close out the dialogue.

454
00:32:56.520 --> 00:33:03.660
Write and I almost forgot this too we need to do a show on the end of this to make sure that the dialog

455
00:33:03.660 --> 00:33:05.250
box gets shown.

456
00:33:05.250 --> 00:33:09.220
But with this we should now be able to delete items.

457
00:33:09.220 --> 00:33:16.750
Let's go ahead and run this gang and we'll see what we get here.

458
00:33:17.070 --> 00:33:17.530
Yes.

459
00:33:17.790 --> 00:33:21.680
Still missing the shared preferences stuff to save this data.

460
00:33:21.830 --> 00:33:27.370
But at least this should be fully functional except for the savings so there's an example note here.

461
00:33:27.390 --> 00:33:29.100
If I do a long press I get this.

462
00:33:29.100 --> 00:33:30.170
Are you sure.

463
00:33:30.240 --> 00:33:32.100
Do you want to delete this note if I say yes.

464
00:33:32.110 --> 00:33:34.010
Boom like that it's gone.

465
00:33:34.080 --> 00:33:37.530
Now I can add a new one and say maybe something like Hi there.

466
00:33:37.530 --> 00:33:38.060
Look at that.

467
00:33:38.050 --> 00:33:40.870
It didn't start with the default text name so that's good.

468
00:33:40.870 --> 00:33:45.340
And if I hit back oh there's high there and I can say at maybe adding new.

469
00:33:45.350 --> 00:33:49.460
No I just say what's up.

470
00:33:49.470 --> 00:33:51.820
And when I can go back.

471
00:33:52.140 --> 00:33:52.610
OK.

472
00:33:52.650 --> 00:33:56.160
And then if I want to delete one of these like you know what I'm sick of what's up.

473
00:33:56.160 --> 00:33:57.010
So I'm going to delete that.

474
00:33:57.020 --> 00:33:58.380
Boom it's gone.

475
00:33:58.380 --> 00:33:59.060
Or this one.

476
00:33:59.070 --> 00:33:59.520
I just.

477
00:33:59.520 --> 00:34:00.690
No actually I don't want to do it.

478
00:34:00.690 --> 00:34:01.480
I hit No.

479
00:34:01.680 --> 00:34:02.650
It's totally fine.

480
00:34:02.790 --> 00:34:03.430
OK.

481
00:34:03.480 --> 00:34:04.650
So nice pat on the back.

482
00:34:04.650 --> 00:34:09.990
The app works completely except for the saving which arguably could be the most important part.

483
00:34:09.990 --> 00:34:11.710
So let's dive into it.

484
00:34:11.940 --> 00:34:17.160
So there's a couple of places that we want to add shared preference code so that we can say hey you

485
00:34:17.160 --> 00:34:21.990
know we want to update things here and here so one of them is when we delete stuff we want to make a

486
00:34:21.990 --> 00:34:22.340
change.

487
00:34:22.350 --> 00:34:28.890
But the other one is whenever the user is you know making a new note or editing an existing note that

488
00:34:28.890 --> 00:34:31.330
would be a time that we would want to make some changes.

489
00:34:31.340 --> 00:34:37.440
So it's really whenever we are messing with the notes array that's when we want to mess with shared

490
00:34:37.440 --> 00:34:38.430
preferences.

491
00:34:38.640 --> 00:34:44.630
So let's go over to our note editor activity and right now when we're you know updating the notes Saray

492
00:34:44.670 --> 00:34:47.840
to have the appropriate new information and all that stuff.

493
00:34:47.850 --> 00:34:50.970
Let's go ahead an update shared preferences.

494
00:34:50.970 --> 00:34:53.390
So remember to get to shared preferences.

495
00:34:53.400 --> 00:35:00.900
We just got to create a new object called Shared preferences and we're going to do get application context

496
00:35:01.770 --> 00:35:08.670
dot get shared preferences inside of here we've got to pass the name of the app so go ahead and just

497
00:35:08.670 --> 00:35:19.890
copy this from the package and then we are going to say contex dot and we want to get the private and

498
00:35:19.900 --> 00:35:24.210
I have to scroll through to find that mode private.

499
00:35:24.210 --> 00:35:25.590
There we go.

500
00:35:26.280 --> 00:35:33.450
OK so with that in place the next thing that we need to do is we need to convert the notes array into

501
00:35:33.450 --> 00:35:35.250
something that we can put into shared preferences.

502
00:35:35.250 --> 00:35:40.440
So you remember before we did all the serialization code now we're going to put it into something called

503
00:35:40.440 --> 00:35:47.160
a set which is like an array but it doesn't hold the order of things which in this case for the notes

504
00:35:47.410 --> 00:35:52.140
maybe the you no particular order of things doesn't matter because we have no way to change the order

505
00:35:52.140 --> 00:35:56.940
of things so I think here a set would make sense and it's going to make it that much easier to work

506
00:35:56.940 --> 00:35:57.300
with.

507
00:35:57.300 --> 00:36:01.240
So let's go ahead and do one of those We're going to say hash.

508
00:36:01.230 --> 00:36:01.680
Set.

509
00:36:01.680 --> 00:36:03.150
That's what we're looking for.

510
00:36:03.570 --> 00:36:09.450
And this hash that is just going to hold a bunch of strings and we're going to say OK we're going to

511
00:36:09.450 --> 00:36:15.990
give this the name of set and set is going to be equal to a new capital hash set and we'd now have to

512
00:36:15.990 --> 00:36:19.940
fill it though with a starting point and that's going to be our main activity.

513
00:36:19.950 --> 00:36:20.980
Dodd notes.

514
00:36:21.150 --> 00:36:28.200
So we're saying convert this array list into a hash set and then the hash set is something that we can

515
00:36:28.200 --> 00:36:32.280
save into our shared preferences.

516
00:36:32.280 --> 00:36:35.820
So then we're going to say shared preferences edit.

517
00:36:36.120 --> 00:36:41.450
And on that we want to do put string set see that awesome item down there.

518
00:36:41.670 --> 00:36:42.840
So we have to give it a name.

519
00:36:42.870 --> 00:36:47.280
So let's just go ahead and call these notes because this is going to contain all the notes and then

520
00:36:47.310 --> 00:36:53.070
we'll simply go ahead and pass in the set that we had created so we'll pass in that set there and we've

521
00:36:53.070 --> 00:36:58.130
got to make sure we do apply on that so that all the saving takes place.

522
00:36:58.350 --> 00:36:59.000
OK.

523
00:36:59.190 --> 00:37:05.310
So that makes the saves for whenever someone edits something we also want to do you know make some changes

524
00:37:05.310 --> 00:37:08.740
for never somebody is going to delete an item.

525
00:37:08.760 --> 00:37:09.330
Right.

526
00:37:09.330 --> 00:37:15.150
So it's almost exactly the same code that we have right here so let's just copy these three lines of

527
00:37:15.150 --> 00:37:16.010
code.

528
00:37:16.320 --> 00:37:18.030
Copy and look at this.

529
00:37:18.030 --> 00:37:19.870
We're just going to paste it down below.

530
00:37:19.890 --> 00:37:24.900
Yes I want to import those things and boom that is all we need to get things moving forward because

531
00:37:24.900 --> 00:37:32.250
all this code does it says cause you know here we had updated the notes with you know notified the list

532
00:37:32.250 --> 00:37:37.200
view about this stuff right like we just need to now tell shared preferences about this new piece of

533
00:37:37.200 --> 00:37:37.770
information.

534
00:37:37.770 --> 00:37:39.800
So this code here and here.

535
00:37:39.810 --> 00:37:41.850
Exactly the same.

536
00:37:41.850 --> 00:37:48.030
Now really the last place that we need to make a change inside of this app is when the app opens up

537
00:37:48.030 --> 00:37:53.370
for the very first time and that's to say you know hey if there's already some data there go ahead and

538
00:37:53.370 --> 00:37:59.100
put that in if there's no data we'd probably want to add like an example note and get that all up and

539
00:37:59.100 --> 00:37:59.520
running.

540
00:37:59.550 --> 00:38:06.510
So what we're going to do is we're going to scroll up here to our on create method and after you know

541
00:38:06.510 --> 00:38:11.400
we've created the list view and stuff we'd want to get access to the shared preferences so let's go

542
00:38:11.400 --> 00:38:19.060
ahead and I think we're going to go ahead and save some code here by I'm going to cut these shared preferences

543
00:38:19.060 --> 00:38:26.710
here and I'm going to paste it up top to say hey this is where we're creating the shared preferences.

544
00:38:27.070 --> 00:38:36.730
But then what I'm going to do is I'm going to copy let me get to the end of this so I'm going to go

545
00:38:36.820 --> 00:38:40.010
and copy all of this.

546
00:38:40.440 --> 00:38:40.920
OK.

547
00:38:40.960 --> 00:38:46.630
And then what we'll do is we'll delete from here that we have this set up top.

548
00:38:46.660 --> 00:38:52.240
And then what we'll do is here inside of and create this is where we'll get access to share preferences

549
00:38:52.240 --> 00:38:57.910
so then we don't have to repeat the code and that makes this code down here just that much easier.

550
00:38:58.270 --> 00:39:04.120
So we get access to these shared preferences right and that's all good then what we want to do is we

551
00:39:04.120 --> 00:39:06.690
want to get information about.

552
00:39:06.750 --> 00:39:09.640
Let's go ahead and bundles those together.

553
00:39:09.640 --> 00:39:15.350
So before we add our example don't let's go ahead and see if we get anything out of shared preferences.

554
00:39:15.700 --> 00:39:22.030
So we're going to create a new hash that is going to hold some strings and we'll just simply call this

555
00:39:22.030 --> 00:39:31.570
set and we're going to say that set is equal to our shared preferences not yet string set very specific

556
00:39:31.570 --> 00:39:31.690
here.

557
00:39:31.690 --> 00:39:37.090
Make sure you get string set not just string the string said that we're looking for is something called

558
00:39:37.090 --> 00:39:38.890
lowercase notes right.

559
00:39:38.890 --> 00:39:41.280
That's the same place that we call that there.

560
00:39:41.590 --> 00:39:45.460
And with this we need to provide a default in case it doesn't come through.

561
00:39:45.460 --> 00:39:50.500
In this case we want to provide note like if there's nothing we want to provide no on that's our way

562
00:39:50.500 --> 00:39:52.510
of saying yeah this didn't pan out.

563
00:39:52.740 --> 00:39:57.190
Now we do need to make sure we do an appropriate cast here and say that this is going to be a set of

564
00:39:57.190 --> 00:39:58.420
strings.

565
00:39:58.420 --> 00:40:03.000
So go ahead and add that code and then we can do a cool little if statement.

566
00:40:03.010 --> 00:40:07.030
So let's go ahead and set up an if statement so curly brackets.

567
00:40:07.060 --> 00:40:13.360
So we want to check and see if the set is equal to nil because if it's equal to all that means we weren't

568
00:40:13.360 --> 00:40:18.060
able to pull something out of shared preference which means there's probably no notes inside of there.

569
00:40:18.250 --> 00:40:20.790
So if that's the case then what we want to say is.

570
00:40:20.800 --> 00:40:24.080
All right let's run this code where we add an example.

571
00:40:24.100 --> 00:40:24.400
No.

572
00:40:24.400 --> 00:40:30.880
So we'll go ahead and paste that in and then but if not if there is something there then we want to

573
00:40:30.880 --> 00:40:36.080
say hey let's take this set that we pulled out and let's add it to the notes array.

574
00:40:36.100 --> 00:40:41.360
So we'll say notes now is equal to a new capital array list.

575
00:40:41.410 --> 00:40:49.840
And we're going to pass in the new array list and we're going to pass in the set just like that and

576
00:40:49.840 --> 00:40:53.560
it's going to create a new array list from the information in that set.

577
00:40:53.560 --> 00:40:57.420
So like I said before the order may not be exactly preserved.

578
00:40:57.460 --> 00:40:58.560
That's totally fine.

579
00:40:58.570 --> 00:41:03.820
That's expected that's you know what you would probably see happen there but let's go ahead and run

580
00:41:03.820 --> 00:41:10.780
the sap and see now if we've able to have the information saved from session to session.

581
00:41:10.810 --> 00:41:13.180
So here comes the app.

582
00:41:13.210 --> 00:41:16.780
Look here's an example note let me add a new one for example.

583
00:41:16.780 --> 00:41:20.460
Like I say Hi there John.

584
00:41:20.860 --> 00:41:22.180
And we'll hit the backbone.

585
00:41:22.210 --> 00:41:22.720
Oh look.

586
00:41:22.720 --> 00:41:31.270
Now there's two notes so I'm going to go ahead and close out of this and X out of notes and we'll come

587
00:41:31.270 --> 00:41:35.110
back and now open up notes again and look at that.

588
00:41:35.200 --> 00:41:36.540
We still have an example note.

589
00:41:36.550 --> 00:41:37.990
And the Hi there John.

590
00:41:37.990 --> 00:41:40.120
So let's go ahead and delete some of these.

591
00:41:40.120 --> 00:41:43.880
I'm going to delete that one and I'm going to delete this one too.

592
00:41:44.060 --> 00:41:47.760
Then let's go ahead and close out of this.

593
00:41:47.950 --> 00:41:49.440
That didn't work like that.

594
00:41:49.610 --> 00:41:56.920
Go wait till the X shows up then let's delete that come back and then we'll open up notes and look at

595
00:41:56.920 --> 00:41:57.280
this.

596
00:41:57.280 --> 00:42:02.590
So this is a cool little feature I thought so you can notice that it's blank and that's because we actually

597
00:42:02.590 --> 00:42:05.560
still got something back from shared preferences.

598
00:42:05.560 --> 00:42:07.880
But it was an empty string set so it didn't come back.

599
00:42:07.900 --> 00:42:12.610
No but it came back as empty so it didn't add the example note which I think would be annoying as user

600
00:42:12.610 --> 00:42:14.240
if you deleted that example no.

601
00:42:14.240 --> 00:42:15.700
And it kept coming back.

602
00:42:15.780 --> 00:42:16.630
That would be very annoying.

603
00:42:16.640 --> 00:42:20.890
But the first time the app opens up would probably be nice to have an example notes so that people know

604
00:42:20.890 --> 00:42:21.600
how things work.

605
00:42:21.610 --> 00:42:26.780
But you know I can have blank notes here and if I add a new one maybe I use this as like a to do list

606
00:42:26.790 --> 00:42:30.180
and I say walk the dog or something like that.

607
00:42:30.310 --> 00:42:32.220
Look all of a sudden it's there.

608
00:42:32.290 --> 00:42:37.190
I could use it to do it I could also use it a journaling thing like let's say and make an entry like

609
00:42:37.210 --> 00:42:40.950
today I ate lots of cheese.

610
00:42:40.990 --> 00:42:41.360
Right.

611
00:42:41.380 --> 00:42:42.790
Something crazy like that.

612
00:42:42.790 --> 00:42:47.560
This is the weirdest journal entry in the world but you know at least it's something you can use this

613
00:42:47.560 --> 00:42:48.450
note at.

614
00:42:48.760 --> 00:42:50.190
However you'd like.

615
00:42:50.260 --> 00:42:52.690
So I hope you enjoyed creating this app.

616
00:42:52.690 --> 00:42:53.920
We did some awesome stuff.

617
00:42:53.920 --> 00:42:58.930
We took what we learned about shared preferences menus alert dialogs.

618
00:42:58.930 --> 00:43:04.060
Put them all together here in one app and we're now at a position that you know we've learned of one

619
00:43:04.060 --> 00:43:05.110
way to save storage.

620
00:43:05.110 --> 00:43:09.670
Now we're going to learn how to do it with databases so you're going to learn some really cool differences

621
00:43:09.670 --> 00:43:14.370
between databases and shared preferences and you know when you'll want to use each one.

622
00:43:14.370 --> 00:43:18.890
They have strengths and weaknesses to each and you'll sort of see that as we move along.

623
00:43:18.960 --> 00:43:22.630
So I kind of consider this the halfway point of the section.

624
00:43:22.650 --> 00:43:25.770
Let's go ahead and move forward and learn about databases.
