WEBVTT

00:05.200 --> 00:10.700
A case of this video we're going to look at how we can add and remove foreign keys from a table.

00:11.540 --> 00:17.450
So here I've already written out the escrow for how to add and remove foreign keys.

00:17.450 --> 00:23.240
So to add a foreign key we need to type out a table followed by the table name and then we need to type

00:23.330 --> 00:27.160
and constrain and follow it by a constraint name.

00:27.160 --> 00:32.940
So actually we make we make up the constraint name here so we can name it whatever we like.

00:33.890 --> 00:37.970
And then we need to type foreign key followed by the column name.

00:37.970 --> 00:45.170
So this is the column which we want to set as the foreign key that we need to type references followed

00:45.170 --> 00:46.960
by the table name.

00:47.120 --> 00:53.690
So the table which this foreign key is referencing and then open a pair of brackets and the column which

00:53.690 --> 00:56.300
is foreign key is referencing.

00:56.300 --> 01:00.060
So let's look an example of adding a foreign key.

01:00.080 --> 01:04.550
So hero of type describe addresses and describe people.

01:04.550 --> 01:13.550
So let's just run describe addresses and you can see we have this ID field which is the ID of each address

01:14.390 --> 01:23.350
and then in the People table for your own describe people we have this address id call them.

01:23.350 --> 01:30.550
So I want to make this address id column in the People table a foreign key which references the ID column

01:30.700 --> 01:32.090
in the addresses table.

01:32.260 --> 01:34.480
So let's add that now.

01:34.620 --> 01:44.430
So we need to come in here and we need to go on a new line and we can type out table people because

01:44.430 --> 01:48.030
we're altering the people table will not be addresses table.

01:48.540 --> 01:56.940
And then we need to type that constraint followed by a foreign key constraint name which we can make

01:56.940 --> 01:57.930
up now.

01:58.440 --> 02:06.540
So let's call it f k for foreign key underscore people address.

02:06.930 --> 02:10.180
So this is the name of a foreign key constraint.

02:10.470 --> 02:15.040
And then on the next line we can type for an k.

02:15.200 --> 02:19.820
I open up her brackets and not the column which we make in a foreign key.

02:19.860 --> 02:29.310
So in this case address IDEI and then we need to go ask you know what column this is referencing.

02:29.850 --> 02:34.450
So we need to type references followed by the table name.

02:34.770 --> 02:41.370
So we're referencing the addresses table and then we need to open the brackets and at the column within

02:41.370 --> 02:44.340
the addresses table that we're referencing.

02:44.340 --> 02:47.250
So it's the ID column in the addresses table.

02:47.250 --> 02:52.130
And then need to finish up with a semi-colon and then we just need to run this query.

02:57.470 --> 02:58.580
And then we can run.

02:58.580 --> 02:59.710
Describe people

03:02.870 --> 03:10.210
and drag this up so you can see now on the key we have mo.

03:10.450 --> 03:13.290
Whereas before it was blank for the address ID.

03:13.360 --> 03:21.750
So we've added all foreign key constraint to the address id column in The People table.

03:22.330 --> 03:28.240
One thing you have to be careful of when you're adding foreign keys is the column that you're referencing

03:28.240 --> 03:31.340
here has to be a primary key.

03:31.630 --> 03:37.870
So if you removed this primary key for the ID column and the addresses table in the previous video then

03:37.870 --> 03:40.750
you need to add that back before you run this statement.

03:40.750 --> 03:42.080
Otherwise you get an error.

03:42.340 --> 03:51.530
So whenever you're referencing a column for a foreign key it must be a primary key.

03:51.530 --> 03:55.130
So now let's look at how we can remove foreign keys from a table.

03:55.490 --> 03:56.450
So you can see here.

03:56.480 --> 03:58.660
I've already written out that as well.

03:58.910 --> 04:05.990
So we need to type out the table full by the table name and then type drop foreign key and then just

04:06.080 --> 04:07.640
add the constraint name.

04:07.640 --> 04:13.060
So is this the same as the constraint name that you defined when you added the foreign key.

04:13.190 --> 04:18.510
So let's remove this foreign key which we just set up for the address ID.

04:18.710 --> 04:24.280
So in the next line let's type out a table for that by the table name.

04:24.290 --> 04:26.210
So people in this case.

04:26.420 --> 04:32.200
And then we can type drop the foreign key followed by the constraint name.

04:32.210 --> 04:38.960
So the constraint name we set up was FKK under school people dress.

04:39.380 --> 04:40.930
Make sure you spell it correctly.

04:41.420 --> 04:50.910
And then we can just run that query to remove all foreign key OK so that's it for this video.

04:50.910 --> 04:54.360
Looking how we can add and remove foreign keys from a table.

04:54.540 --> 04:56.640
Let's move on to the next video.
