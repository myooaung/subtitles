WEBVTT
1
00:00:02.340 --> 00:00:06.240
[Autogenerated] throughout the moment, the application has no security at all.

2
00:00:06.240 --> 00:00:08.640
We have no concept of users,

3
00:00:08.640 --> 00:00:13.200
so the first thing we need to do is to add a user's table to the database.

4
00:00:13.200 --> 00:00:15.640
And we do that using migrations.

5
00:00:15.640 --> 00:00:20.840
If you remember, migrations are in the Migrations folder in common.

6
00:00:20.840 --> 00:00:22.290
They went up to number three,

7
00:00:22.290 --> 00:00:25.160
so we're going to add a new file and call this four.

8
00:00:25.160 --> 00:00:28.740
Create users Table SQL.

9
00:00:28.740 --> 00:00:30.440
The SQL looks like this.

10
00:00:30.440 --> 00:00:32.230
Create a table called users.

11
00:00:32.230 --> 00:00:35.210
It has an IDE field, which is an auto increment field.

12
00:00:35.210 --> 00:00:41.450
First name, last name email on password and IDE is the primary key Now.

13
00:00:41.450 --> 00:00:44.160
The password is not stored in plain text here,

14
00:00:44.160 --> 00:00:46.410
but it will be stored in the database.

15
00:00:46.410 --> 00:00:48.680
And we'll talk about how we store and manage passwords.

16
00:00:48.680 --> 00:00:52.810
As we go through this module as well as the users table,

17
00:00:52.810 --> 00:00:57.640
we now need to associate the articles that the user has with that user.

18
00:00:57.640 --> 00:01:01.250
We need to modify the article stable sort of do that.

19
00:01:01.250 --> 00:01:02.940
We add a new migration.

20
00:01:02.940 --> 00:01:06.740
This was called ad user column to articles table.

21
00:01:06.740 --> 00:01:08.840
The SQL for that will look like this.

22
00:01:08.840 --> 00:01:13.130
You have to alter table commands one to add the user ID column

23
00:01:13.130 --> 00:01:22.000
to articles and make sure it's not null. I want to add the foreign key between the articles, table and users table.

