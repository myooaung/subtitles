WEBVTT
X-TIMESTAMP-MAP=LOCAL:00:00:00.000,MPEGTS:0

00:00:00.000 --> 00:00:01.340
in this lecture.

00:00:01.340 --> 00:00:08.050
Let's create a function in our contacts with Plus which in walks this delete function after

00:00:08.050 --> 00:00:09.600
certain violations.

00:00:09.600 --> 00:00:13.930
So let's open the service package on from that the contract sarees.

00:00:13.930 --> 00:00:16.540
It's come down somewhere at the bottom.

00:00:16.540 --> 00:00:24.850
Let's make some room here and then write a function public boy delete contact by idee.

00:00:24.850 --> 00:00:31.160
And this takes two parameters because we want to ensure that only logged in user is

00:00:31.160 --> 00:00:33.340
actually performing this operation.

00:00:33.340 --> 00:00:34.390
For example,

00:00:34.390 --> 00:00:35.380
if I have loved dinners,

00:00:35.380 --> 00:00:36.740
we know I'd be no dot co.

00:00:36.740 --> 00:00:39.570
I can only delete my contacts,

00:00:39.570 --> 00:00:41.130
not anybody else's.

00:00:41.130 --> 00:00:43.500
So I can do that valuation over here.

00:00:43.500 --> 00:00:51.670
So I'm gonna say you're integer idee and then into your use already as a less a map where I

00:00:51.670 --> 00:00:53.610
can put some other messages.

00:00:53.610 --> 00:01:00.510
So I'm going to say your map with string I'm string as key value data types and the name of

00:01:00.510 --> 00:01:02.270
the album reviewed as others.

00:01:02.270 --> 00:01:10.200
And inside that we have to check whether this idee is one of the contact Islay

00:01:10.200 --> 00:01:13.510
corresponding toe this user to do that.

00:01:13.510 --> 00:01:14.040
First,

00:01:14.040 --> 00:01:16.050
let's get the deal off actively.

00:01:16.050 --> 00:01:17.560
Don't get contact details.

00:01:17.560 --> 00:01:20.130
I'm gonna just copied this one on,

00:01:20.130 --> 00:01:26.690
then assigned this to a variable core Diel equals toe this on golf course.

00:01:26.690 --> 00:01:33.160
I need to press command one toe clear that variable as allies throw the exception from the

00:01:33.160 --> 00:01:33.760
function.

00:01:33.760 --> 00:01:35.770
Now that I have the deal,

00:01:35.770 --> 00:01:39.120
I can get the contact object corresponding to decide e.

00:01:39.120 --> 00:01:43.930
Let's call it a Stephen equals Toby or dot Get contact,

00:01:43.930 --> 00:01:49.260
which takes the ideas as they used ready as perimeter press comment one again.

00:01:49.260 --> 00:01:51.300
Toe arto gender That variable.

00:01:51.300 --> 00:01:52.420
I know.

00:01:52.420 --> 00:01:55.190
Notice that if the idea doesn't belong to this user,

00:01:55.190 --> 00:02:00.110
C one will become null otherwise see when it valid contact object,

00:02:00.110 --> 00:02:02.970
so I can check your if C one equals two.

00:02:02.970 --> 00:02:06.640
Now that means this ID e either doesn't exist.

00:02:06.640 --> 00:02:08.190
All the contact may exist,

00:02:08.190 --> 00:02:10.330
but it doesn't belong to this particular user.

00:02:10.330 --> 00:02:14.920
So we need to give that Adam is a Some will say your error start put.

00:02:14.920 --> 00:02:18.050
The key is probably user I d.

00:02:18.050 --> 00:02:24.850
They say that is permission denied for deleting this contact.

00:02:24.850 --> 00:02:26.600
After that,

00:02:26.600 --> 00:02:31.940
I don't have to do any other stuff so I can simply say Britain from here I know that I have

00:02:31.940 --> 00:02:33.950
the bell addition taken care off.

00:02:33.950 --> 00:02:39.720
I simply have to say deal dot delete contact and then supply the Islay off the contract

00:02:39.720 --> 00:02:40.690
that I want to build it.

00:02:40.690 --> 00:02:46.170
And with this now our service function is also really in the next lecture.

00:02:46.170 --> 00:02:49.770
Let's create a controller that asked the user toe,

00:02:49.770 --> 00:02:53.440
delete the record permanently and after the user confirms,

00:02:53.440 --> 00:02:55.660
deletes this record by calling this function.

