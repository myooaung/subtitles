WEBVTT
X-TIMESTAMP-MAP=LOCAL:00:00:00.000,MPEGTS:0

00:00:00.000 --> 00:00:01.210
in this lecture.

00:00:01.210 --> 00:00:07.430
Let's right the do post function in the edit and update Contact Summit where I have to

00:00:07.430 --> 00:00:12.960
receive the perimeter idea as well as the farm fields that the users submit and then

00:00:12.960 --> 00:00:16.310
construct a contact of victims in the service function.

00:00:16.310 --> 00:00:21.560
So the court is very similar to the court that is written in the contacts of leg.

00:00:21.560 --> 00:00:25.340
So where I'm supposed to read all these from the HTML form,

00:00:25.340 --> 00:00:27.410
create a contact object,

00:00:27.410 --> 00:00:32.130
get the currently logged the new The needle from the session cleared an error object.

00:00:32.130 --> 00:00:35.110
All these things are going to be exactly same.

00:00:35.110 --> 00:00:40.280
So I'm going to simply copy this and then come back to the edit and update context.

00:00:40.280 --> 00:00:40.790
All right,

00:00:40.790 --> 00:00:41.550
That's right.

00:00:41.550 --> 00:00:43.350
The do post over here.

00:00:43.350 --> 00:00:46.230
Control stays dio people on,

00:00:46.230 --> 00:00:47.390
then press enter.

00:00:47.390 --> 00:00:49.970
Replace this score with this one.

00:00:49.970 --> 00:00:50.840
Now,

00:00:50.840 --> 00:00:53.900
instead of copying and pasting discord,

00:00:53.900 --> 00:00:58.350
which is where I'm converting a request object into contact object,

00:00:58.350 --> 00:01:03.830
we can achieve the same thing using a filter which we will do in the next lecture.

00:01:03.830 --> 00:01:05.140
But for now,

00:01:05.140 --> 00:01:07.110
let's keep this as is,

00:01:07.110 --> 00:01:10.670
we now have the contact object that is going to be updated.

00:01:10.670 --> 00:01:15.240
We have an errors collection we have The surgery subject I'll have to do is to call this

00:01:15.240 --> 00:01:15.800
function.

00:01:15.800 --> 00:01:18.500
Surveys dot update contact.

00:01:18.500 --> 00:01:20.780
The idea is supposed to be returned,

00:01:20.780 --> 00:01:21.970
which I haven't done yet.

00:01:21.970 --> 00:01:23.360
So let's keep that as it is,

00:01:23.360 --> 00:01:26.550
see is the contact object heralds the others collection.

00:01:26.550 --> 00:01:31.150
Let's read through this I d from the request perimeter.

00:01:31.150 --> 00:01:33.090
So I'm gonna go to the beginning somewhere here.

00:01:33.090 --> 00:01:36.610
And that good is gonna be more or less this one.

00:01:36.610 --> 00:01:40.490
So I'll copy this part on then paste over here.

00:01:40.490 --> 00:01:42.980
So if I d is not present,

00:01:42.980 --> 00:01:48.380
it's gonna be redirected back to the homepage on In case if idea is entered,

00:01:48.380 --> 00:01:50.170
it is a non numerical value.

00:01:50.170 --> 00:01:51.570
Then this will throw an exception.

00:01:51.570 --> 00:01:56.550
And we have handled that l 500 in the dot xml But if everything is OK,

00:01:56.550 --> 00:01:58.750
we are now updating the contact.

00:01:58.750 --> 00:02:00.840
But after updating the contact,

00:02:00.840 --> 00:02:03.250
it is possible that there s invalidation others.

00:02:03.250 --> 00:02:05.530
If validation directs exists,

00:02:05.530 --> 00:02:07.630
I would like to go back to the same form.

00:02:07.630 --> 00:02:09.160
But if there is no other,

00:02:09.160 --> 00:02:11.000
then I would like to go to the view,

00:02:11.000 --> 00:02:11.850
contact details,

00:02:11.850 --> 00:02:17.400
which is what we have done in the ad contact Summit so I can basically copy this entire

00:02:17.400 --> 00:02:23.170
stuff and then come back here and then paste it without making any changes.

00:02:23.170 --> 00:02:25.690
So let's save this restart.

00:02:25.690 --> 00:02:26.290
Dunk it.

00:02:26.290 --> 00:02:30.520
Let's go back to the browser.

00:02:30.520 --> 00:02:31.970
Log off.

00:02:31.970 --> 00:02:37.730
Logan s come on with password.

00:02:37.730 --> 00:02:39.490
Secret view.

00:02:39.490 --> 00:02:42.000
All contacts click on Beauty days.

00:02:42.000 --> 00:02:42.890
It did.

00:02:42.890 --> 00:02:46.940
The deed is Let's get those city as Dallas,

00:02:46.940 --> 00:02:54.250
Andi State as Texas click on Save details on Now you can see it's been updated,

00:02:54.250 --> 00:02:57.820
and it's also being shown here in the view contact,

00:02:57.820 --> 00:02:58.170
details,

00:02:58.170 --> 00:02:58.650
speech.

00:02:58.650 --> 00:02:59.790
However,

00:02:59.790 --> 00:03:02.030
if I goto any details on,

00:03:02.030 --> 00:03:02.500
Let's say,

00:03:02.500 --> 00:03:03.220
for example,

00:03:03.220 --> 00:03:07.940
I'm gonna remove this two letters here and take on Seven Hills because we had the

00:03:07.940 --> 00:03:09.490
validations in the services,

00:03:09.490 --> 00:03:13.580
you can see that it comes back with a validation and a message,

00:03:13.580 --> 00:03:14.630
so that is taken.

00:03:14.630 --> 00:03:15.590
Get off on.

00:03:15.590 --> 00:03:16.960
If I don't have the phone number,

00:03:16.960 --> 00:03:17.610
for example,

00:03:17.610 --> 00:03:18.660
click on save details.

00:03:18.660 --> 00:03:23.890
We get that error message So all our it is functioning as expected.

00:03:23.890 --> 00:03:27.420
Before we finish one small change to be done,

00:03:27.420 --> 00:03:29.150
you can see that when I clicked on the edit,

00:03:29.150 --> 00:03:30.710
the caption still says,

00:03:30.710 --> 00:03:36.630
Add new contact details and that's family because we are making use of the same jsp that be

00:03:36.630 --> 00:03:40.610
used for ad which is the contact form on the caption.

00:03:40.610 --> 00:03:42.330
Here is a hardcore did one.

00:03:42.330 --> 00:03:43.670
Instead of this,

00:03:43.670 --> 00:03:49.410
I can make use off a JCB expression which is going to check if title exists.

00:03:49.410 --> 00:03:51.010
Then we will use the title.

00:03:51.010 --> 00:03:52.730
But if title doesn't exist,

00:03:52.730 --> 00:04:00.560
let you something called Let a contact form save this now The title is not there in any of

00:04:00.560 --> 00:04:01.140
the scopes.

00:04:01.140 --> 00:04:01.600
Obviously,

00:04:01.600 --> 00:04:07.120
if I refresh your or if I click on save details and then come back again,

00:04:07.120 --> 00:04:10.760
you can see it says contact form because title is not phone,

00:04:10.760 --> 00:04:12.340
the same thing is gonna happen.

00:04:12.340 --> 00:04:14.120
If I go to the our contact,

00:04:14.120 --> 00:04:14.740
you can see there.

00:04:14.740 --> 00:04:14.930
Also,

00:04:14.930 --> 00:04:17.110
it's going to say the same thing as contact form.

00:04:17.110 --> 00:04:22.830
We can control this now by keeping an attribute called title in the request cope just

00:04:22.830 --> 00:04:24.330
before going to the form.

00:04:24.330 --> 00:04:26.080
So in the other contacts omelet,

00:04:26.080 --> 00:04:26.860
for example,

00:04:26.860 --> 00:04:32.350
this is where the farm is rendered on what I can do that can keep the title in the request

00:04:32.350 --> 00:04:32.790
cope here.

00:04:32.790 --> 00:04:39.330
So I would say request dot said attribute on the attribute name is gonna be title the value

00:04:39.330 --> 00:04:41.760
is going to be late at a new contact.

00:04:41.760 --> 00:04:44.560
Details on the same thing.

00:04:44.560 --> 00:04:45.510
I may give here.

00:04:45.510 --> 00:04:48.270
Also save this.

00:04:48.270 --> 00:04:50.890
But as in the idiot contact sublet,

00:04:50.890 --> 00:04:58.590
I can say here in the do get just before going toe that jsp I can say request that said

00:04:58.590 --> 00:04:59.630
Attribute title.

00:04:59.630 --> 00:05:04.130
Let's give the caption as it contact details.

00:05:04.130 --> 00:05:05.050
Save this.

00:05:05.050 --> 00:05:06.620
That's restart.

00:05:06.620 --> 00:05:09.000
Dunk it because we're making changes toe job,

00:05:09.000 --> 00:05:16.530
all fines and then come back toe our browser log off lugging with We know that we know dot

00:05:16.530 --> 00:05:20.470
co secret If I take on other contact,

00:05:20.470 --> 00:05:22.790
I was expecting a different title here.

00:05:22.790 --> 00:05:28.540
That's probably because in the JSP we will use a condition here instead of giving it like

00:05:28.540 --> 00:05:29.090
this is say,

00:05:29.090 --> 00:05:33.590
if title not equals to know display the title otherwise contact form.

00:05:33.590 --> 00:05:34.680
So let's say this.

00:05:34.680 --> 00:05:40.930
Go home and then come back toe on contact on now you should see add a new contact needed.

00:05:40.930 --> 00:05:42.460
I go to the view on context.

00:05:42.460 --> 00:05:44.650
Click on Robert Mueller's details,

00:05:44.650 --> 00:05:48.150
any details and this is where it says it contact details.

00:05:48.150 --> 00:05:53.330
So with this now we are done with the edit and update contact details modern.

00:05:53.330 --> 00:05:54.290
However,

00:05:54.290 --> 00:06:00.050
we will do a bit of re factoring by shifting discord into a filter,

00:06:00.050 --> 00:06:02.370
which will do in the next lecture.

