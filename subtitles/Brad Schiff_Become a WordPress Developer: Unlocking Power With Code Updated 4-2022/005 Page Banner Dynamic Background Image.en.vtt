WEBVTT
1
00:00:01.600 --> 00:00:02.650
Hello, everyone.

2
00:00:03.010 --> 00:00:08.110
In this lesson, we will learn how to make our page banner area dynamic.

3
00:00:08.530 --> 00:00:11.860
Now, when I say page banner area, what am I referring to?

4
00:00:12.280 --> 00:00:18.430
Well, if I click on about us up in the navigation, I'm referring to this area that I'm highlighting

5
00:00:18.460 --> 00:00:19.150
right now.

6
00:00:19.510 --> 00:00:21.580
So the title text is dynamic.

7
00:00:21.610 --> 00:00:25.000
But this subtitle text still is static.

8
00:00:25.390 --> 00:00:31.000
And perhaps most importantly, I also want to make the background image or photograph dynamic.

9
00:00:31.360 --> 00:00:35.470
So that way each page or post can have its own unique background up here.

10
00:00:35.830 --> 00:00:41.170
Now, you might be thinking to yourself, hey, we learned about the featured image in our previous

11
00:00:41.170 --> 00:00:41.860
lessons.

12
00:00:42.220 --> 00:00:46.960
So maybe we can use the featured image to allow authors to upload a background photo.

13
00:00:47.380 --> 00:00:51.730
And that would indeed work for a generic blog post or page like this.

14
00:00:52.090 --> 00:00:53.590
But it wouldn't work for everything.

15
00:00:53.710 --> 00:00:53.960
Right.

16
00:00:54.010 --> 00:00:58.500
For example, that strategy would not work with our professor post type.

17
00:00:58.930 --> 00:01:06.430
Because if I go to a professor detail screen, so maybe Dr. Bachs a lot in WordPress, a post can only

18
00:01:06.430 --> 00:01:10.000
have one single featured image.

19
00:01:10.330 --> 00:01:15.700
So if we've already used up our featured image on the portrait of the professor, we're going to need

20
00:01:15.700 --> 00:01:21.460
to utilize a different feature in order to let authors upload a page banner background photo.

21
00:01:21.820 --> 00:01:28.240
So what we're going to do is create a new custom field that will allow users to upload a file.

22
00:01:28.440 --> 00:01:34.000
Right, or upload a photograph, just like we will create a custom field that will let users input a

23
00:01:34.000 --> 00:01:35.470
custom subtitle.

24
00:01:35.920 --> 00:01:40.090
So without further ado, let's go and create those custom fields right now.

25
00:01:40.450 --> 00:01:46.690
So over in the admen dashboard, towards the bottom of the sidebar, let's click on Custom Fields.

26
00:01:47.500 --> 00:01:50.110
Let's go ahead and create a new field group.

27
00:01:50.530 --> 00:01:54.910
Add new let's name this field group page banner.

28
00:01:55.720 --> 00:02:02.140
And we want this group to contain two fields, one field for the subtitle and another field for the

29
00:02:02.140 --> 00:02:02.770
image.

30
00:02:03.460 --> 00:02:05.230
So let's add the first field.

31
00:02:06.100 --> 00:02:06.850
Let's name it.

32
00:02:06.970 --> 00:02:08.620
Page, banner.

33
00:02:09.060 --> 00:02:10.330
Subtitle.

34
00:02:11.700 --> 00:02:16.870
Okay, for the field type, we can go ahead and leave that set to the default of text.

35
00:02:17.230 --> 00:02:19.120
We just want a plain text input.

36
00:02:19.720 --> 00:02:25.180
Let's scroll down and let's go ahead and add another field for our image.

37
00:02:26.290 --> 00:02:30.520
So add field, let's name it, page, banner.

38
00:02:31.690 --> 00:02:33.220
Background image.

39
00:02:35.990 --> 00:02:36.240
OK.

40
00:02:36.300 --> 00:02:38.810
And let's be sure to adjust the field type.

41
00:02:39.360 --> 00:02:43.200
So instead of text, let's set this to image.

42
00:02:43.590 --> 00:02:46.950
You'll see the image lives under a subsection named content.

43
00:02:47.360 --> 00:02:52.260
OK, image and all of the other options are OK to leave as the default.

44
00:02:52.770 --> 00:02:54.150
So let's scroll down a bit.

45
00:02:55.380 --> 00:03:00.600
We don't need to create any additional fields, but I do want to focus our attention on this location

46
00:03:00.600 --> 00:03:01.320
box.

47
00:03:01.680 --> 00:03:07.890
So in the past, we've limited our custom fields to only display on certain post types.

48
00:03:08.250 --> 00:03:13.650
But when it comes to page banner, we want that on every single post type that we have.

49
00:03:13.960 --> 00:03:14.150
Right.

50
00:03:14.190 --> 00:03:19.260
We want to on blog posts and pages and events and programs and professors.

51
00:03:19.590 --> 00:03:22.170
Now you'll notice that there is not an all option.

52
00:03:22.500 --> 00:03:25.470
But what we can do is leave this rule in place.

53
00:03:25.830 --> 00:03:29.040
Show it only if post type is equal to post.

54
00:03:29.430 --> 00:03:39.600
And then we can click this or button to add and or rule and say or if post type is not equal to post.

55
00:03:39.930 --> 00:03:41.160
And it's a bit unintuitive.

56
00:03:41.190 --> 00:03:45.120
But if you stop and think about it, one of these will always be true.

57
00:03:45.560 --> 00:03:45.700
OK.

58
00:03:45.810 --> 00:03:50.010
So that way this page banner field group will always display no matter what.

59
00:03:50.490 --> 00:03:55.830
So let's scroll up to the top and go ahead and publish or save this new field group.

60
00:03:57.270 --> 00:04:03.350
And let's take it for a spin by going into professors and let's try to edit Dr. Bachs a lot.

61
00:04:05.190 --> 00:04:05.700
Perfect.

62
00:04:05.730 --> 00:04:11.280
So here we see the new field page, banner, subtitle and page banner background image.

63
00:04:11.730 --> 00:04:17.670
Now, really quick before I type in a subtitle for Dr. Bachs lot and also upload a banner image.

64
00:04:17.970 --> 00:04:25.320
I first want to add a new image size that is well suited for this really wide but not very tall background

65
00:04:25.350 --> 00:04:25.860
area.

66
00:04:26.130 --> 00:04:33.030
So right now I want us to jump into our text editor and open up functions, dot BHP in our theme folder.

67
00:04:33.390 --> 00:04:39.150
And remember, in our previous lesson, when we registered these image sizes of Professor Landscape

68
00:04:39.180 --> 00:04:44.930
and Professor Portrait, well, right below that, let's just add on another new image size.

69
00:04:45.810 --> 00:04:49.810
And let's give this size a nickname of page banner.

70
00:04:50.550 --> 00:04:52.050
And how wide should it be?

71
00:04:52.590 --> 00:04:54.210
Let's say 15 hundred.

72
00:04:54.810 --> 00:04:56.340
And how tall should it be?

73
00:04:56.850 --> 00:04:58.750
Let's say three hundred and fifty.

74
00:04:59.250 --> 00:05:06.150
And let's say true that it should indeed be cropped to match this size perfectly, lets out a semicolon

75
00:05:06.150 --> 00:05:07.950
at the end there and then hit save.

76
00:05:08.510 --> 00:05:08.670
OK.

77
00:05:08.850 --> 00:05:14.030
Now, with this new image size in place, let's go ahead and fill out the new custom fields for Dr.

78
00:05:14.030 --> 00:05:14.800
Bachs a lot.

79
00:05:15.240 --> 00:05:25.170
So for the subtitled text, I will say the leading voice on barking and biology and for the background

80
00:05:25.170 --> 00:05:30.000
image, just click add image and I'm going to upload a new file.

81
00:05:32.350 --> 00:05:35.440
You can find this image in the related resources for this lesson.

82
00:05:35.770 --> 00:05:37.870
I'm just going to upload a picture of a field.

83
00:05:38.080 --> 00:05:40.810
Maybe the dog likes to play catch or fetch in the field.

84
00:05:41.310 --> 00:05:41.490
OK.

85
00:05:41.590 --> 00:05:43.600
Let's click select image down in the bottom.

86
00:05:43.600 --> 00:05:43.930
Right.

87
00:05:44.490 --> 00:05:44.670
OK.

88
00:05:44.740 --> 00:05:47.200
Let's go ahead and save or update this post.

89
00:05:48.310 --> 00:05:54.850
And now the next logical step is to find out how to actually use those custom field values here on the

90
00:05:54.850 --> 00:05:55.630
front end.

91
00:05:56.380 --> 00:06:01.570
Now, at the end of the day, we are going to have to update basically every template file we've created

92
00:06:01.570 --> 00:06:04.880
so far because every template is using a page banner.

93
00:06:05.230 --> 00:06:05.440
Right.

94
00:06:05.530 --> 00:06:09.970
Our blog posts are pages, events, professors, programs.

95
00:06:10.060 --> 00:06:16.690
But for now, just to get started, let's work on the single professor template as our starting place.

96
00:06:17.020 --> 00:06:22.330
And then once we have things working, we can stop and take the time to learn how to remove some of

97
00:06:22.330 --> 00:06:24.550
the duplication in our code base.

98
00:06:24.820 --> 00:06:25.030
Right.

99
00:06:25.060 --> 00:06:29.920
We can learn how to create a reusable function that generates the page banner area.

100
00:06:30.460 --> 00:06:32.770
But for right now, let's not get ahead of ourselves.

101
00:06:33.100 --> 00:06:38.590
Long story short, let's just jump into our single professor template file and work on pulling in the

102
00:06:38.590 --> 00:06:42.750
dynamic subtitle and background image in the text editor.

103
00:06:43.210 --> 00:06:51.250
Let's open up single Professor Dot BHP and let's begin with the subtitle so we can delete this static

104
00:06:51.250 --> 00:06:51.640
place.

105
00:06:51.640 --> 00:07:00.080
Hold there, don't forget me text and instead drop in to BHP and run the function named the field.

106
00:07:00.490 --> 00:07:07.330
And then for the argument, we just type in the custom field name, which was page underscore banner

107
00:07:07.390 --> 00:07:09.670
underscore subtitle.

108
00:07:10.720 --> 00:07:11.980
Go ahead and save that.

109
00:07:13.310 --> 00:07:13.860
Perfect.

110
00:07:13.960 --> 00:07:16.510
The leading voice on barking and biology.

111
00:07:16.960 --> 00:07:19.480
Next up, let's work on the background image.

112
00:07:19.910 --> 00:07:26.670
So on this div that has a class of page banner, B.G. image, we see an inline background image style.

113
00:07:27.160 --> 00:07:28.900
But most importantly, we have this.

114
00:07:28.900 --> 00:07:35.530
You are RL and you'll notice that we are already using P AHP to echo the U r that points towards the

115
00:07:35.530 --> 00:07:41.260
generic ocean fall-back background image so we can keep this BHP block.

116
00:07:41.290 --> 00:07:43.630
But let's go ahead and delete this echo.

117
00:07:43.660 --> 00:07:44.740
Get theme file.

118
00:07:44.800 --> 00:07:45.670
Ocean code.

119
00:07:46.180 --> 00:07:51.100
So I'm just going to delete from the beginning of the word echo to the end of the parentheses right

120
00:07:51.100 --> 00:07:51.410
after.

121
00:07:51.460 --> 00:07:52.100
Ocean J.

122
00:07:52.100 --> 00:07:52.500
Big.

123
00:07:53.710 --> 00:07:59.680
OK, so now I've got an empty opening and closing p p area and the first thing I want to do is create

124
00:07:59.740 --> 00:08:00.610
a variable.

125
00:08:00.850 --> 00:08:09.070
We could name it whatever we want, let's call it page banner image and let's set it to equal the results

126
00:08:09.160 --> 00:08:14.230
of gift field and then we just type in the field name.

127
00:08:15.010 --> 00:08:21.150
So remember the custom field was page banner, back round image.

128
00:08:21.760 --> 00:08:24.430
Let's be sure to include a semicolon right after that.

129
00:08:25.400 --> 00:08:25.550
OK.

130
00:08:25.630 --> 00:08:31.390
Now, so far all we've done is create a variable with this name, but we haven't actually output or

131
00:08:31.450 --> 00:08:33.280
echoed anything onto the page.

132
00:08:33.820 --> 00:08:36.520
So now right after the semicolon that we just wrote.

133
00:08:37.030 --> 00:08:45.610
Let's go out and let's begin by looking inside that variable we just created, page banner image.

134
00:08:46.200 --> 00:08:48.520
And this variable is actually an array.

135
00:08:48.730 --> 00:08:52.480
That's what the advanced custom fields plugin is going to return here for us.

136
00:08:52.870 --> 00:08:57.610
So to look inside an array right after it, we can open up a pair of square brackets.

137
00:08:58.120 --> 00:09:01.000
And then inside those square brackets, we can say quotes.

138
00:09:01.450 --> 00:09:02.210
You are L.

139
00:09:02.680 --> 00:09:06.130
And this is going to give us the path or you are L to the image.

140
00:09:06.580 --> 00:09:06.820
Cool.

141
00:09:06.850 --> 00:09:08.620
So let's go ahead and save that.

142
00:09:10.950 --> 00:09:12.660
And there we see the new image.

143
00:09:13.200 --> 00:09:17.080
Now, it's not cropped perfectly and we will learn more about that in just a moment.

144
00:09:17.520 --> 00:09:22.290
But first, I want to address a common concern you might have, because you might be thinking to yourself,

145
00:09:22.320 --> 00:09:27.870
Brad, how in the world am I supposed to have known that this variable is an array?

146
00:09:28.260 --> 00:09:32.010
And how am I supposed to know that it contains a property named You are ill?

147
00:09:32.320 --> 00:09:32.530
Right.

148
00:09:32.640 --> 00:09:37.410
Because in the real world, there isn't going to be someone whispering in your ear all the answers like

149
00:09:37.410 --> 00:09:37.920
this.

150
00:09:38.280 --> 00:09:40.080
So here's what I have to say about that.

151
00:09:40.530 --> 00:09:46.740
Aside from checking out the official documentation on the advanced custom Fields Web site, what I like

152
00:09:46.740 --> 00:09:51.870
to do is just print or dump out information about the variable onto the screen.

153
00:09:52.200 --> 00:09:57.420
So, for example, down here where we are outputting plain text, like the title, maybe right in that

154
00:09:57.420 --> 00:09:59.610
area, we could drop into P HP.

155
00:10:00.120 --> 00:10:05.550
And if you were curious what lived inside this variable, if you're curious what this function of field

156
00:10:05.850 --> 00:10:10.530
returns down here, you could just say print r.

157
00:10:10.920 --> 00:10:16.110
Remember we learned about this function several lessons ago and then just pass it wherever you want

158
00:10:16.110 --> 00:10:17.100
to learn more about.

159
00:10:17.490 --> 00:10:21.780
So in this case, it would be our variable name, page, banner image.

160
00:10:22.740 --> 00:10:26.490
You don't need any quotes around it because we're not passing a string of text.

161
00:10:26.510 --> 00:10:29.130
We're just passing the actual variable itself.

162
00:10:29.760 --> 00:10:33.060
But as soon as I save that, it's a bit difficult to read.

163
00:10:33.090 --> 00:10:37.140
But you can see that gives us everything we need to know about that variable.

164
00:10:37.380 --> 00:10:41.940
So at the very beginning here, we can see that it's an array and then we can see all the properties

165
00:10:41.940 --> 00:10:43.380
and data that lives inside it.

166
00:10:43.800 --> 00:10:48.000
So, for example, here's that you are property that we used that returns a U.

167
00:10:48.000 --> 00:10:50.330
RL, obviously, to the J pig.

168
00:10:50.640 --> 00:10:50.790
OK.

169
00:10:50.910 --> 00:10:53.190
So that's just a quick tip I want you to be aware of.

170
00:10:53.430 --> 00:10:57.780
If you're ever wondering how you're supposed to figure this stuff out on your own in the future.

171
00:10:58.290 --> 00:10:59.640
Let's go ahead and delete that.

172
00:10:59.910 --> 00:11:01.740
We don't need that debugging info.

173
00:11:02.490 --> 00:11:07.500
And let's get back to the topic of cropping, because as we can see, I don't think this is the ideal

174
00:11:07.500 --> 00:11:09.480
part of the image that we want to be showing.

175
00:11:10.650 --> 00:11:16.470
So when we echoed out the property of you, RL that lives inside this variable, that's going to give

176
00:11:16.470 --> 00:11:19.910
us the original huge five thousand pixel Y.

177
00:11:19.930 --> 00:11:20.700
J Peg.

178
00:11:21.150 --> 00:11:27.480
If instead we want to use one of our custom sizes, our custom aspect ratios right over in functions

179
00:11:27.480 --> 00:11:28.210
dot HP.

180
00:11:28.800 --> 00:11:37.590
If we want to use this page banner image size, that's 15 hundred by 350, all we need to do is instead

181
00:11:37.590 --> 00:11:39.540
of looking inside the u r l property.

182
00:11:40.020 --> 00:11:42.160
Let's look inside assizes property.

183
00:11:42.840 --> 00:11:46.740
And then inside of that, add on another pair of square brackets.

184
00:11:47.430 --> 00:11:49.530
Just type in the name of the image size you want.

185
00:11:49.710 --> 00:11:51.810
So page banner.

186
00:11:52.560 --> 00:11:52.680
OK.

187
00:11:52.770 --> 00:11:54.150
Let's go ahead and save that.

188
00:11:56.360 --> 00:12:01.840
And we can see that that's already much, much better, again, by default, WordPress is going to crop

189
00:12:01.840 --> 00:12:03.910
towards the very center of the photo.

190
00:12:04.420 --> 00:12:10.360
But if we wanted more fine grained control, maybe if we wanted to crop towards the bottom of that photo,

191
00:12:10.870 --> 00:12:13.540
all we would need to do is go back into editing.

192
00:12:13.630 --> 00:12:14.800
Dr. Barks a lot.

193
00:12:15.880 --> 00:12:21.850
And for that custom image field, just hover over it and then click the little pencil icon to edit the

194
00:12:21.850 --> 00:12:22.420
image.

195
00:12:23.090 --> 00:12:28.720
And because we installed that manual crop plug in, we can just click this crop image option right here

196
00:12:29.650 --> 00:12:32.020
and to draw your attention to these tabs up top.

197
00:12:32.350 --> 00:12:35.050
We don't need to edit the thumbnail version of the image.

198
00:12:35.350 --> 00:12:38.530
We want to edit the page banner version of the image.

199
00:12:39.250 --> 00:12:44.950
Click on that and then you can see it already constrains us to the perfect aspect ratio.

200
00:12:45.430 --> 00:12:47.590
And then you can just drag it wherever you want.

201
00:12:47.950 --> 00:12:50.770
So maybe the dog likes to play catch right on the grass here.

202
00:12:51.190 --> 00:12:52.360
So scroll down, click.

203
00:12:52.510 --> 00:12:53.160
Crop it.

204
00:12:55.940 --> 00:12:59.990
The image was successfully cropped, so as soon as we go back here and refresh.

205
00:13:00.500 --> 00:13:04.700
Well, actually, remember, a regular refresh will not show us the newest cropped version.

206
00:13:04.910 --> 00:13:07.400
But if we perform a hard or full refresh.

207
00:13:07.440 --> 00:13:10.400
So hold down the shift key while clicking the reload icon.

208
00:13:11.660 --> 00:13:12.170
Perfect.

209
00:13:12.230 --> 00:13:14.120
There we see the new cropped version.

210
00:13:14.750 --> 00:13:16.730
So that takes care of the background image.

211
00:13:17.000 --> 00:13:22.520
Now, before we move along any further and worry about what happens if a professor doesn't have an image

212
00:13:22.820 --> 00:13:24.830
or doesn't have a custom subtitle.

213
00:13:25.130 --> 00:13:25.340
Right.

214
00:13:25.370 --> 00:13:30.650
Before we set up the default fallback values, I first want to ask us a hypothetical question.

215
00:13:31.010 --> 00:13:37.670
What if we wanted to add a custom page banner image to our About US page or to one of our blog posts?

216
00:13:38.060 --> 00:13:45.110
Well, at the moment, that means we would have to duplicate this code here into paged up BHP and single

217
00:13:45.120 --> 00:13:46.120
dot BHP.

218
00:13:46.550 --> 00:13:50.750
Now, in the programming world, duplicate code is a touchy subject.

219
00:13:51.110 --> 00:13:55.670
Obviously, too much duplicate code is an issue because then if you ever wanted to make a change to

220
00:13:55.670 --> 00:14:00.000
this HDMI oil, you would have to edit 10 BHP files.

221
00:14:00.350 --> 00:14:05.870
But on the other side of the spectrum, we don't always want to try to eliminate all duplicate code.

222
00:14:06.080 --> 00:14:11.030
The millisecond it pops up, because that often results in really inflexible.

223
00:14:11.240 --> 00:14:14.990
One size fits all functions that are just awkward to work with.

224
00:14:15.350 --> 00:14:21.230
So in our very next lesson, we are going to try to find the happy middle ground between those two extremes.

225
00:14:21.620 --> 00:14:24.770
We will create a recyclable page banner function.

226
00:14:25.220 --> 00:14:27.260
And I don't want you to do what I'm about to do right now.

227
00:14:27.260 --> 00:14:28.810
This just for a quick example.

228
00:14:29.210 --> 00:14:33.100
But once we're done with our function, we can just say page, banner.

229
00:14:34.310 --> 00:14:46.160
And then maybe pass it in array of options and say title should be a love subtitle should be, hey,

230
00:14:47.270 --> 00:14:50.930
background image should be whatever it should be.

231
00:14:51.300 --> 00:14:51.460
Right.

232
00:14:51.500 --> 00:14:52.640
So that's a lot cleaner.

233
00:14:52.880 --> 00:14:56.510
We don't mind duplicating this in each of our template files.

234
00:14:56.870 --> 00:15:01.850
And then the real meat and potato guts of the function, the brains of the function will live in our

235
00:15:01.850 --> 00:15:02.480
functions.

236
00:15:02.480 --> 00:15:03.860
Dot p hp file.

237
00:15:04.130 --> 00:15:05.330
It should be a really fun.

238
00:15:05.360 --> 00:15:07.510
Perhaps even a breakthrough moment lesson.

239
00:15:07.910 --> 00:15:08.990
Let's keep things rolling.

240
00:15:09.050 --> 00:15:11.720
And I will see you in the next lesson.
