WEBVTT
1
00:00:00.001 --> 00:00:06.007
(bright music)

2
00:00:06.007 --> 00:00:10.004
- [Instructor] So far, we managed to refactor existing code

3
00:00:10.004 --> 00:00:15.003
to move from direct method calls to event system.

4
00:00:15.003 --> 00:00:16.008
In this challenge,

5
00:00:16.008 --> 00:00:20.000
we want you to extend existing functionality

6
00:00:20.000 --> 00:00:23.004
of customer service remove method.

7
00:00:23.004 --> 00:00:27.001
This method is responsible for removing user

8
00:00:27.001 --> 00:00:29.000
from the database.

9
00:00:29.000 --> 00:00:34.001
However, we also want you to inform the customer, by email,

10
00:00:34.001 --> 00:00:37.002
that his account has been removed.

11
00:00:37.002 --> 00:00:41.002
First, you should create a new event.

12
00:00:41.002 --> 00:00:46.009
For example, you can call it CustomerRemovedEvent.

13
00:00:46.009 --> 00:00:49.006
Make sure this event is published

14
00:00:49.006 --> 00:00:53.000
once the customer has been removed.

15
00:00:53.000 --> 00:00:58.003
Next, create a listener that is capturing new event

16
00:00:58.003 --> 00:01:03.003
and is calling existing methods from email service.

17
00:01:03.003 --> 00:01:04.009
For sending an email,

18
00:01:04.009 --> 00:01:09.006
you already have a method called CustomerRemovedEmail

19
00:01:09.006 --> 00:01:12.009
that is just doing lock print.

20
00:01:12.009 --> 00:01:16.006
And finally, you can run a test method

21
00:01:16.006 --> 00:01:18.005
to test if email service

22
00:01:18.005 --> 00:01:22.004
has been called app or user removal.

23
00:01:22.004 --> 00:01:26.004
This challenge should take about five to 10 minutes.

24
00:01:26.004 --> 00:01:29.008
When you're done, or if you get stuck,

25
00:01:29.008 --> 00:01:32.005
you can check out my solution reader

26
00:01:32.005 --> 00:01:35.000
to see how I solved the challenge.

