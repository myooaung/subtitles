WEBVTT
1
00:00:00.690 --> 00:00:07.710
Or writes on the last video we kind of organizes a little bit we put the database in another location

2
00:00:08.570 --> 00:00:12.220
the database connection and we refactor this a little bit.

3
00:00:12.220 --> 00:00:19.440
Now let's go ahead and create a query here on this select so that we can pull the ID from the database

4
00:00:19.610 --> 00:00:22.200
IDs that we have for records here.

5
00:00:22.200 --> 00:00:25.380
All right we only got two right now and let's do that.

6
00:00:25.410 --> 00:00:28.170
Let's go ahead and create that right away.

7
00:00:28.560 --> 00:00:30.520
So.

8
00:00:32.380 --> 00:00:37.000
So let's go ahead and I'm just going to comment that out.

9
00:00:37.270 --> 00:00:37.920
All right.

10
00:00:38.190 --> 00:00:41.480
And the first thing that I want to do here is create a query right.

11
00:00:41.610 --> 00:00:46.570
As a matter of fact we have one up here we can use this right here.

12
00:00:47.360 --> 00:00:47.970
All right.

13
00:00:48.030 --> 00:00:52.620
And that's it we can use this because this is going to select everything from the users.

14
00:00:52.710 --> 00:00:59.830
So we have to do down here is create a while loop to pool all this information out.

15
00:01:00.150 --> 00:01:04.230
All right so let's create a while loop for us.

16
00:01:04.230 --> 00:01:08.760
Let's go ahead and do the feed tag of course.

17
00:01:08.760 --> 00:01:14.700
All right.

18
00:01:15.870 --> 00:01:20.460
It's this is this is this here.

19
00:01:20.580 --> 00:01:22.840
And then we can organize it right.

20
00:01:23.640 --> 00:01:28.980
All right so while and shows open in wow.

21
00:01:29.100 --> 00:01:36.030
And we're going to say while rolled like we learned before how to read information and let's make it

22
00:01:36.030 --> 00:01:47.350
equal to my rescue Well I fetch and we're going to say so associate of a raise actually better then.

23
00:01:47.660 --> 00:01:49.080
All right.

24
00:01:49.560 --> 00:01:53.300
And why do we want to fetch the salt right.

25
00:01:53.310 --> 00:01:55.360
Because that's what we got here.

26
00:01:55.740 --> 00:01:57.910
This is the result from the query right.

27
00:01:58.080 --> 00:02:02.410
So let's just copy that ring it down here.

28
00:02:03.450 --> 00:02:05.060
OK.

29
00:02:05.250 --> 00:02:09.790
And I just want to go ahead and use this whole thing there as a matter of fact.

30
00:02:09.860 --> 00:02:15.590
So just bring that up here and I'm going to use it with Echo.

31
00:02:16.210 --> 00:02:19.080
All right let's do that.

32
00:02:19.100 --> 00:02:20.390
Lay here.

33
00:02:20.710 --> 00:02:25.730
When the enclosure and apostrophe's there.

34
00:02:26.470 --> 00:02:27.110
OK.

35
00:02:27.180 --> 00:02:33.310
Now we've got to take these quotes out of there because we've got we can have double cords inside those

36
00:02:33.360 --> 00:02:34.110
cords.

37
00:02:34.110 --> 00:02:37.450
We've got to put single quotes if not this line.

38
00:02:38.010 --> 00:02:42.190
If you put a double coil he's going to tell BHB to stop executing here.

39
00:02:42.630 --> 00:02:46.680
And then you put double quotes here he's going to get confused going to give you an error.

40
00:02:46.710 --> 00:02:49.720
So make sure you put single quotes right.

41
00:02:49.890 --> 00:02:53.240
You can see my code changes when I put the records.

42
00:02:53.280 --> 00:02:57.830
So I did my editor is already telling me that something is wrong.

43
00:02:57.840 --> 00:03:04.980
All right so what we want to put here is the row I say as a matter of fact I want to make this row.

44
00:03:05.190 --> 00:03:10.600
This row is going to return like an associate of field or an associate of a array.

45
00:03:10.600 --> 00:03:14.330
So he's going to return like this ID.

46
00:03:14.580 --> 00:03:22.770
That's how we we can echo it but I'm going to make sure that this actually turns into I'm going to create

47
00:03:23.340 --> 00:03:25.620
I'm going to put this in a variable basically.

48
00:03:25.830 --> 00:03:36.880
Right I write this in a variable and is giving me a narrow arrow here let's just check since I expect

49
00:03:36.990 --> 00:03:39.210
of course I got that.

50
00:03:39.810 --> 00:03:41.850
We get that because we don't have a semi-colon there.

51
00:03:41.850 --> 00:03:46.650
So we're pulling the ID number what we actually designed is not dynamically.

52
00:03:46.690 --> 00:03:53.580
We're going to do it right now ID and make sure you have it here to ID.

53
00:03:53.640 --> 00:03:56.220
So now we're pull the two ideas from the database.

54
00:03:56.230 --> 00:03:57.810
We got one in three.

55
00:03:58.200 --> 00:04:01.730
We can create another record used to show you that it does work.

56
00:04:01.740 --> 00:04:04.020
So let's just create another record real quick.

57
00:04:04.140 --> 00:04:06.350
So that way you can see that he's going to do that.

58
00:04:06.360 --> 00:04:15.160
So let's go to the create file that we have the logging create and create another record real quick

59
00:04:16.290 --> 00:04:18.000
so that where we can see this plane.

60
00:04:18.050 --> 00:04:18.430
Right.

61
00:04:18.540 --> 00:04:23.080
So this is the log in underscore create and you're going to create another user I'm going to call this

62
00:04:23.640 --> 00:04:25.210
I don't know.

63
00:04:25.230 --> 00:04:31.850
Prince pass were Francis or something close.

64
00:04:31.860 --> 00:04:33.080
I can't see it.

65
00:04:33.160 --> 00:04:39.090
And then I click submit that already created our Recker and that's a good sign.

66
00:04:39.090 --> 00:04:43.550
We're going to refresh it here use to make sure and we see that we have a new record here.

67
00:04:43.560 --> 00:04:44.970
Now we're going to go to that file.

68
00:04:44.970 --> 00:04:49.890
The update right here the update.

69
00:04:49.890 --> 00:04:50.930
See how that is.

70
00:04:50.940 --> 00:04:52.920
But just make sure we are here.

71
00:04:53.010 --> 00:04:57.630
And as you can see here we have the new idea here number five.

72
00:04:57.750 --> 00:05:03.770
So now we're pulling data directly from the database into this select field here.

73
00:05:03.960 --> 00:05:04.230
Right.

74
00:05:04.230 --> 00:05:06.770
Really cool.

75
00:05:06.770 --> 00:05:07.260
All right.

76
00:05:07.260 --> 00:05:13.670
And we did this with a WHILE loop but we have the Querrey up here so make sure you always have a query

77
00:05:13.680 --> 00:05:17.890
if you don't have a query you can pull information from the database.

78
00:05:17.910 --> 00:05:22.810
This is a this is what is actually pulling information this query right here.

79
00:05:22.890 --> 00:05:28.530
And we use this function to send it in right here with a connection so make sure that you understand

80
00:05:28.530 --> 00:05:29.640
the concept.

81
00:05:29.640 --> 00:05:35.520
Now what I really wanted to do is actually I don't like this the way it is right now this is too messy

82
00:05:35.520 --> 00:05:36.090
right.

83
00:05:36.390 --> 00:05:40.050
So I want to actually create a function to do this for me.

84
00:05:40.050 --> 00:05:48.600
So what I'm going to do is I'm going to take all the square Riady here I'm going to take it out right

85
00:05:48.690 --> 00:05:56.000
and and going back and I'm going to create a new file before well before I do.

86
00:05:56.010 --> 00:05:59.070
Let's just do her back tears that way we have it just in case.

87
00:05:59.180 --> 00:06:04.850
But let's create a new file and call it functions and they already have a functions on the regular file

88
00:06:04.850 --> 00:06:10.250
folder so don't get confused just making new functions under my Cuil folder.

89
00:06:10.250 --> 00:06:16.700
So I'm just going to send new file functions if you want you can name or something else and you're going

90
00:06:16.700 --> 00:06:19.640
to name it functions at BHB.

91
00:06:19.640 --> 00:06:20.050
Right.

92
00:06:20.210 --> 00:06:24.440
And that's open this.

93
00:06:24.440 --> 00:06:27.290
And if you don't want to close it that's fine.

94
00:06:28.210 --> 00:06:36.440
BHB knows that you won you know ph because after this so now I'm going to I'm going to paste that Kohary

95
00:06:36.440 --> 00:06:38.450
in there from the logging OBD-II.

96
00:06:38.480 --> 00:06:40.520
I just kind of take this off right here.

97
00:06:40.520 --> 00:06:41.630
There we go.

98
00:06:41.670 --> 00:06:49.670
So now remember to always include it up here because if you don't include it you won't have the same

99
00:06:49.670 --> 00:06:52.240
functionality so that's included here.

100
00:06:52.330 --> 00:06:55.500
Functions duppy HP.

101
00:06:55.610 --> 00:06:56.710
There we go.

102
00:06:56.790 --> 00:07:03.280
Now let's actually take this off to here because it's too messy.

103
00:07:03.340 --> 00:07:05.630
When when I use a function.

104
00:07:06.410 --> 00:07:08.280
So that's what we're going to be doing here.

105
00:07:08.720 --> 00:07:16.850
Let's just put this in below here and we're going to wrap all this code in a function just like we learn

106
00:07:16.850 --> 00:07:17.800
how to do functions right.

107
00:07:17.810 --> 00:07:19.490
Isn't is going to be a custom functions.

108
00:07:19.610 --> 00:07:21.060
So what is this going.

109
00:07:21.080 --> 00:07:24.890
This function going to do because you've got to be descriptive with functions where you can remember

110
00:07:25.280 --> 00:07:29.170
this function is going to find it's going to pool all the data from.

111
00:07:29.180 --> 00:07:37.190
They use a stable so data show or data show all data.

112
00:07:37.250 --> 00:07:39.650
Just going to color like this.

113
00:07:39.650 --> 00:07:40.930
All right.

114
00:07:41.930 --> 00:07:45.930
And let's just wrap it up on the function.

115
00:07:45.960 --> 00:07:50.140
And now we have this function here where we have to do is call the function from the other side.

116
00:07:50.130 --> 00:07:52.890
Any should work good should work perfect.

117
00:07:52.890 --> 00:07:58.040
Let's make sure we save and save this file save for there if you want.

118
00:07:58.070 --> 00:08:03.710
But I did already with my keywords and wanted to show you that I didn't and this go to logging of date

119
00:08:04.270 --> 00:08:05.490
here.

120
00:08:06.020 --> 00:08:10.890
All we have to do is call the function right in between the select here where we had the loop.

121
00:08:10.940 --> 00:08:11.910
OK.

122
00:08:12.230 --> 00:08:13.610
So that's all I'm going to do.

123
00:08:13.640 --> 00:08:15.030
Call the function.

124
00:08:15.260 --> 00:08:20.550
Boom let's just make sure this is a little bit more organized this way.

125
00:08:20.980 --> 00:08:24.690
And we can condense it condense it a little bit.

126
00:08:25.220 --> 00:08:27.020
That looks a lot cleaner doesn't it.

127
00:08:27.020 --> 00:08:27.880
Right.

128
00:08:28.460 --> 00:08:30.920
And then we do have all these files here.

129
00:08:31.460 --> 00:08:42.590
What I really want to do is actually make this a little more let's just make it like this.

130
00:08:42.850 --> 00:08:43.880
All right.

131
00:08:44.750 --> 00:08:49.670
And just make sure that any clue is here.

132
00:08:49.670 --> 00:08:50.430
Perfect.

133
00:08:50.440 --> 00:08:53.280
I think this is this looks a lot better like this.

134
00:08:53.280 --> 00:08:53.480
All right.

135
00:08:53.480 --> 00:08:56.140
So let's go ahead and see what's going on.

136
00:08:56.350 --> 00:09:00.180
And so this live guy written without errors.

137
00:09:00.200 --> 00:09:01.780
All right.

138
00:09:03.080 --> 00:09:05.370
All right so we need to get rid of this.

139
00:09:05.600 --> 00:09:09.190
All right so this looks good but it's not pulling anything out of here.

140
00:09:09.320 --> 00:09:10.420
I wonder why.

141
00:09:10.510 --> 00:09:11.200
Right.

142
00:09:11.620 --> 00:09:13.480
Well let's check let's see what happens.

143
00:09:13.520 --> 00:09:14.820
All right.

144
00:09:15.680 --> 00:09:24.740
So this function here is not pulling the data out of it so the problem is not here because obviously

145
00:09:24.740 --> 00:09:27.830
the function it's working.

146
00:09:27.830 --> 00:09:31.500
We've got functions that BHP there is including it.

147
00:09:31.790 --> 00:09:39.770
And what we need to do is we need to include this data base on the functions because it functions don't

148
00:09:39.770 --> 00:09:41.520
know anything about the database.

149
00:09:41.690 --> 00:09:48.370
So let's make sure that we have this database included here right now where we have that information.

150
00:09:48.680 --> 00:09:55.060
Not that we want to do is we need to make sure that this connection here is global.

151
00:09:55.060 --> 00:09:56.300
All right.

152
00:09:57.140 --> 00:10:01.310
So global connection.

153
00:10:01.310 --> 00:10:01.920
All right.

154
00:10:02.150 --> 00:10:04.670
So let's go back to the day.

155
00:10:04.700 --> 00:10:06.320
And now we're picking up the data.

156
00:10:06.320 --> 00:10:07.760
Now let me explain to you what happened.

157
00:10:07.760 --> 00:10:08.840
Right.

158
00:10:09.680 --> 00:10:14.960
So we created a function in the

159
00:10:17.810 --> 00:10:23.830
function that BHB be here when we were looking for connection we couldn't find it anywhere because I

160
00:10:23.830 --> 00:10:25.750
had never included that database.

161
00:10:25.790 --> 00:10:28.680
The database file which has the connection.

162
00:10:29.060 --> 00:10:34.190
So it was no way they were going to find it was going to do anything it was just going to stay there.

163
00:10:34.190 --> 00:10:41.510
Now because I have the connection variable somewhere else even though I'm including a here I need to

164
00:10:41.510 --> 00:10:46.400
still set it up as a global right because it's inside this function.

165
00:10:46.400 --> 00:10:51.050
Remember that everything inside a function is in the local scope.

166
00:10:51.200 --> 00:10:54.600
So nothing gets in the function unless you put it in yourself.

167
00:10:54.680 --> 00:11:02.150
And the way we put in things like like variables from all the places in functions is with a global keyword.

168
00:11:02.150 --> 00:11:04.290
This would make the variable global.

169
00:11:04.370 --> 00:11:05.170
Right.

170
00:11:05.270 --> 00:11:08.750
It would bring it in from outside in this case is going to be in another file.

171
00:11:08.750 --> 00:11:10.120
So make sure that you do that.

172
00:11:10.130 --> 00:11:10.810
OK.

173
00:11:10.880 --> 00:11:18.140
So anyways I think we did a lot in this in this video here and on the next one I'm going to show you

174
00:11:18.470 --> 00:11:26.190
how to create the rest of the query here too when we click Update to update the files.

175
00:11:26.240 --> 00:11:28.920
Well the data here in the database.

176
00:11:28.950 --> 00:11:29.200
Right.

177
00:11:29.190 --> 00:11:30.890
So anyway thank you so much for watching.

178
00:11:30.890 --> 00:11:36.650
Hopefully you are able to understand what we did if not just rewind the video is super easy what we

179
00:11:36.650 --> 00:11:37.660
did.

180
00:11:37.750 --> 00:11:38.630
All right.

181
00:11:38.630 --> 00:11:38.900
All right.

182
00:11:38.900 --> 00:11:40.710
Thank you so much and I see you in the next lecture
