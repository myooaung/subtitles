1
00:00:01,990 --> 00:00:02,900
Hi, everyone.

2
00:00:03,130 --> 00:00:06,850
In this lecture, we're going to implement the touch related events.

3
00:00:08,090 --> 00:00:16,040
All right, but before actually doing that, what I want to do here is I wanted to do this in the previous

4
00:00:16,400 --> 00:00:19,830
lecture, but that was almost 30 minutes.

5
00:00:19,850 --> 00:00:25,970
So what happens when the ball goes off the canvas?

6
00:00:25,980 --> 00:00:28,200
What what happens if it goes below?

7
00:00:28,640 --> 00:00:34,130
So when it goes below, what we want to do is we want to call the new we want to call a new game.

8
00:00:34,820 --> 00:00:35,210
Right.

9
00:00:35,390 --> 00:00:35,990
So.

10
00:00:37,740 --> 00:00:45,630
Right inside our update ball function, so right in here, what I'm going to do is I'm going to go ahead

11
00:00:46,050 --> 00:00:48,470
and I'm going to create an if statement.

12
00:00:48,480 --> 00:00:55,890
So we are going to say and I'm going to call it out of the canvas.

13
00:00:58,220 --> 00:01:08,450
Ball moves out of the canvas and you're going to say if if the ball's y velocity is greater than the

14
00:01:08,450 --> 00:01:13,080
canvas is height, canvas elements, height.

15
00:01:14,330 --> 00:01:20,110
Why do we want to do we want to call in out of bounds function?

16
00:01:20,450 --> 00:01:20,800
All right.

17
00:01:21,080 --> 00:01:28,190
So when the Y velocity y position is greater than the canvas is height, we want to call and out of

18
00:01:28,190 --> 00:01:29,570
bounds function.

19
00:01:33,330 --> 00:01:39,710
All right, and what I'm going to do here is I'm going to go where is our home?

20
00:01:39,990 --> 00:01:42,720
Where should I put this function out of bounds?

21
00:01:43,560 --> 00:01:44,550
So.

22
00:01:45,910 --> 00:01:48,190
I'm going to go on top of this, said dimension's.

23
00:01:50,570 --> 00:02:02,780
OK, and I want to copy this to right here, and I'm going to call this out of bounds function, so

24
00:02:02,780 --> 00:02:04,130
let's create that function.

25
00:02:04,280 --> 00:02:05,960
So what do we want to do here?

26
00:02:06,500 --> 00:02:07,190
For now?

27
00:02:07,220 --> 00:02:13,030
What I want to do here is I just want to go ahead and I want to call a new game.

28
00:02:13,090 --> 00:02:13,430
Right.

29
00:02:13,460 --> 00:02:14,540
So out.

30
00:02:15,560 --> 00:02:22,890
Of bounds, and I'm going to call it a new game function, so let's call it right here.

31
00:02:23,300 --> 00:02:25,050
Now let's see what it is going to do.

32
00:02:25,070 --> 00:02:26,870
So we are going to let it go.

33
00:02:29,990 --> 00:02:30,500
There you go.

34
00:02:30,800 --> 00:02:37,220
So when it heads, when it goes off the canvas, you can see that our new game, which is responsible

35
00:02:37,220 --> 00:02:40,590
for the new paddle, for the new ball, is going to appear.

36
00:02:40,610 --> 00:02:43,670
So if I even if I bring the paddle right here.

37
00:02:45,020 --> 00:02:50,090
The paddle and the ball should go to the original position, which they did, right?

38
00:02:50,110 --> 00:02:52,460
So that's what I wanted to do here as well.

39
00:02:52,490 --> 00:02:53,360
Next stop.

40
00:02:55,920 --> 00:03:02,880
What I want to do is I want to go ahead and I want to modify the angle based on which the ball is going

41
00:03:02,880 --> 00:03:03,560
to spin.

42
00:03:04,110 --> 00:03:08,690
So actually it is going to happen within the same function.

43
00:03:09,300 --> 00:03:14,280
So I'm going to say modify modify the angle.

44
00:03:17,230 --> 00:03:25,580
The come on the angle based off based off the ball spin.

45
00:03:26,350 --> 00:03:31,780
All right, so in here, what are we going to do as first off, we need to find find the current angle,

46
00:03:32,230 --> 00:03:33,090
current angle?

47
00:03:33,370 --> 00:03:36,400
What is the current angle at which the ball actually spins?

48
00:03:36,610 --> 00:03:43,130
So for that, I'm going to create an angle, a variable, and I'm going to say math dot eight and two.

49
00:03:43,480 --> 00:03:52,450
Now, this method is going to return the angle in radians from the x axis to a point so from the ball

50
00:03:52,450 --> 00:03:53,900
whenever the ball is here.

51
00:03:54,070 --> 00:04:00,790
So from this x axis, I want to find out at which angle this ball is going to bounce off.

52
00:04:00,910 --> 00:04:03,680
So this angle, this angle, this this or this one.

53
00:04:04,270 --> 00:04:06,180
That's why we are going to use this method.

54
00:04:06,460 --> 00:04:14,470
So for this method, what we are going to actually do here as I'm going to grab all of this and I'm

55
00:04:14,470 --> 00:04:22,510
going to put him inside our bouncing the ball off the paddle and I'm going to grab this, cut it and

56
00:04:22,510 --> 00:04:23,890
I'm going to put it right here.

57
00:04:24,980 --> 00:04:25,380
Right.

58
00:04:25,400 --> 00:04:28,710
And actually, I'm not going to put it right like that.

59
00:04:28,910 --> 00:04:35,360
First off, I'm going to pass and the balls, the the balls, negative velocity, wave velocity and

60
00:04:35,360 --> 00:04:36,170
then I'm going to pass.

61
00:04:36,170 --> 00:04:41,660
And the ball's positive y yv the ball's positive velocity.

62
00:04:42,770 --> 00:04:43,440
All right.

63
00:04:43,450 --> 00:04:44,540
So you know what?

64
00:04:44,540 --> 00:04:48,730
I'm not going to because we are going to need that of y velocity.

65
00:04:48,740 --> 00:04:55,430
I'm not going to delete it from there because that is responsible for that, for changing the direction

66
00:04:55,430 --> 00:04:56,240
of the velocity.

67
00:04:56,630 --> 00:05:00,600
We just want to find the angle at which that velocity is being changed.

68
00:05:01,040 --> 00:05:09,200
So right after that, I'm going to grab the angle and I'm going to add on to it a random value, random

69
00:05:09,890 --> 00:05:13,350
times, the math dot pi.

70
00:05:13,760 --> 00:05:15,350
So what is the math?

71
00:05:15,350 --> 00:05:17,150
Math dot pi?

72
00:05:18,050 --> 00:05:20,330
We should execute this function as well.

73
00:05:20,600 --> 00:05:26,600
So the math that's pi we know is going to give us 180 degrees, right.

74
00:05:27,950 --> 00:05:35,540
So if I divide it by two, we are going to get 45 degrees and then from there I'm going to say math

75
00:05:35,540 --> 00:05:37,790
that pi divided by four.

76
00:05:38,330 --> 00:05:40,970
All right, we are going to get another 45 degrees.

77
00:05:41,240 --> 00:05:41,440
Right.

78
00:05:41,540 --> 00:05:44,390
And I am going to multiply all of this.

79
00:05:45,590 --> 00:05:54,020
With the ball spin, so let's do that, it's multiplied with the ball spin.

80
00:05:54,530 --> 00:05:55,080
There we go.

81
00:05:55,280 --> 00:05:59,690
So we have created the ball spin as zero point two now, right?

82
00:06:01,260 --> 00:06:06,960
So we do have our angle and I'm going to call the appli ball speed in here as well, and I'm going to

83
00:06:06,960 --> 00:06:08,660
pass and the angle as well.

84
00:06:09,090 --> 00:06:09,960
So let's save it.

85
00:06:09,960 --> 00:06:18,210
And I'm going to go up the I'm going to go to our appli ball speed function now, and I'm going to show

86
00:06:18,210 --> 00:06:18,880
you something.

87
00:06:18,900 --> 00:06:20,460
So where is that function?

88
00:06:22,120 --> 00:06:23,440
A fly ball speed, right?

89
00:06:23,470 --> 00:06:28,840
So you know what, I'm just going to come and tell the draw functions, we don't need them for now.

90
00:06:28,870 --> 00:06:29,860
We might need them.

91
00:06:29,860 --> 00:06:31,200
We will need them later.

92
00:06:31,930 --> 00:06:34,150
So this is going to be a new game.

93
00:06:34,160 --> 00:06:40,390
I'm going to keep its curve ball dimensions and I'm going to comment tell these classes as well.

94
00:06:40,400 --> 00:06:44,260
So let's go up to our appli ball speed.

95
00:06:44,410 --> 00:06:46,960
And on top, what I'm going to do is I'm going to say.

96
00:06:49,270 --> 00:07:01,330
So I'm going to say keeping keeping the angle between two limits and what are the two limits, it's

97
00:07:01,330 --> 00:07:03,880
going to be 30 degrees and 150.

98
00:07:04,330 --> 00:07:12,760
Why do we need to keep them between these two limits is because whenever it is greater than that, then

99
00:07:12,760 --> 00:07:18,940
the ball is going to move very weird and it is going to be very difficult for the user to play it.

100
00:07:18,940 --> 00:07:26,530
So so we are going to say if the angle and the angle is going to be this angle that we have passed there,

101
00:07:26,950 --> 00:07:32,980
if the angle is less than the math, that PI varies the math.

102
00:07:34,230 --> 00:07:43,220
Math darte pi, so math that PI is going to give us one hundred and eighty degrees divided by six,

103
00:07:43,230 --> 00:07:47,020
we are going to get 30 degrees if it is less than 30 degrees.

104
00:07:47,040 --> 00:07:53,490
We are going to say that the angle should be equal to the math that pi divided by six.

105
00:07:53,880 --> 00:07:58,710
We are we want to keep it at that 30 degrees limit.

106
00:07:59,100 --> 00:08:07,590
Ancef elusive angle is greater than math.

107
00:08:07,590 --> 00:08:16,980
Dot pi times five divided by six is going to give us hundred and fifty degrees.

108
00:08:17,370 --> 00:08:21,210
If it is greater than that, we are going to keep it at that.

109
00:08:22,350 --> 00:08:27,690
So let's copy it, let's put it right here and let's change this to an equal sign, let's say.

110
00:08:27,840 --> 00:08:33,390
So how can we actually test this is I'm going to put in a console clock here.

111
00:08:34,049 --> 00:08:34,980
So I'm going to say.

112
00:08:37,070 --> 00:08:38,950
And goal one.

113
00:08:40,049 --> 00:08:47,130
Right, let's do this, so this is going to be angle one and I'm going to say.

114
00:08:48,880 --> 00:08:51,310
All right, and let's grab our angle.

115
00:08:53,000 --> 00:09:01,740
Angle and let's divide it by math, dot pi times 180 degrees St. 180.

116
00:09:01,880 --> 00:09:05,300
So we get a something in degrees actually.

117
00:09:05,870 --> 00:09:06,280
Right.

118
00:09:06,290 --> 00:09:08,780
So that is going to be a council log there.

119
00:09:08,810 --> 00:09:11,570
And we are going to have a council log down below.

120
00:09:14,070 --> 00:09:22,380
All right, so we are going to have our angle, too, we have our angle time divided by math, this.

121
00:09:24,250 --> 00:09:30,220
And for this to actually really work, what I'm going to do is I'm going to put the ball spin to something

122
00:09:30,220 --> 00:09:33,430
extreme so we can actually test this.

123
00:09:34,270 --> 00:09:44,320
So let's save it and let's and you can see that the angle, the spin angle was 39 for that, but now

124
00:09:44,320 --> 00:09:45,580
it is 109.

125
00:09:45,580 --> 00:09:46,820
Both of them are the same.

126
00:09:46,840 --> 00:09:50,050
So the angle one and the angle two are the same.

127
00:09:51,370 --> 00:09:53,810
All right, so let's get greater.

128
00:09:54,010 --> 00:10:00,070
So now we can see that the angle is staying between 39 and 109, so you should get something that is

129
00:10:00,430 --> 00:10:02,570
either less than 30.

130
00:10:02,620 --> 00:10:03,280
There we go.

131
00:10:04,150 --> 00:10:04,600
It is.

132
00:10:04,600 --> 00:10:06,100
That was 141.

133
00:10:06,250 --> 00:10:10,750
So you should get something that is less than 30 or.

134
00:10:11,380 --> 00:10:11,900
There we go.

135
00:10:11,920 --> 00:10:12,720
This is the point.

136
00:10:13,030 --> 00:10:22,120
So you can see that our angle was one of 51, but the appli speed function actually kept the angle to

137
00:10:22,120 --> 00:10:23,000
at 150.

138
00:10:23,410 --> 00:10:29,650
So for this to actually work is I'm going to reiterate, this is we should either get a.

139
00:10:32,190 --> 00:10:40,080
We should either get a 30 degree angle less than that, and the angle, too, should be 30 or we should

140
00:10:40,080 --> 00:10:42,280
get something that is bigger than 151.

141
00:10:42,570 --> 00:10:45,600
We got bigger than 150, sorry, 150.

142
00:10:45,930 --> 00:10:47,070
We got bigger than that.

143
00:10:47,070 --> 00:10:50,610
And it can it it kept it at 150.

144
00:10:51,090 --> 00:10:53,660
So the speed was right here.

145
00:10:53,670 --> 00:11:00,390
So the angle before this if statement was 151, but we kept it at 150.

146
00:11:02,260 --> 00:11:05,470
So instead of a single one, I could say angle

147
00:11:08,320 --> 00:11:17,710
default, default, and I could say angle intended or angle output output is better.

148
00:11:18,640 --> 00:11:24,970
So now if I do this one, so you can see that both of them are the same, our if statement is not working.

149
00:11:25,180 --> 00:11:25,770
There we go.

150
00:11:25,900 --> 00:11:30,210
We got one fifty one point six and angle output was one fifty.

151
00:11:31,060 --> 00:11:34,150
So let me see if we can grab a 30.

152
00:11:34,390 --> 00:11:41,030
So again, it was one fifty point five, even by like two decimal points.

153
00:11:41,050 --> 00:11:42,430
It is still going to work.

154
00:11:43,590 --> 00:11:50,640
This is upwards, you can see that the spin is very, very big, the reason for that is we have put

155
00:11:50,640 --> 00:11:51,960
the ball spin to one.

156
00:11:52,230 --> 00:11:56,630
That's why this is the extreme amount of spin that it is going to get.

157
00:11:57,270 --> 00:12:03,150
See, it is upwards or it is like in the left direction and it is completely random.

158
00:12:04,260 --> 00:12:09,680
We don't have control over that, but we don't get something there.

159
00:12:09,690 --> 00:12:11,980
We should get something on the other side as well.

160
00:12:15,290 --> 00:12:16,370
All right.

161
00:12:16,490 --> 00:12:17,450
Uh.

162
00:12:23,510 --> 00:12:27,620
Hmm, let's check our code out one more time.

163
00:12:27,650 --> 00:12:34,070
So if the angle is less than math that pi divided by six, we keep it up there and if it is greater

164
00:12:34,070 --> 00:12:38,900
than this amount, we keep it at that amount and we have passed it here.

165
00:12:38,930 --> 00:12:45,890
So if I come down here, the minimum bounce angle for us is going to be.

166
00:12:48,600 --> 00:12:56,430
We have our serve ball function, so we have said that the minimum bounce angle is going to be, oh,

167
00:12:56,460 --> 00:13:03,300
let me come in this one out, because we are passing the angle from there and we do not have to pass

168
00:13:03,300 --> 00:13:05,480
the angle from here again.

169
00:13:05,490 --> 00:13:11,030
No, we actually we needed that is for the serve ball and that is for when the ball bounces.

170
00:13:11,190 --> 00:13:13,670
So we have two kinds to function calls there.

171
00:13:14,340 --> 00:13:22,410
So this is working perfectly fine because whenever we serve it, that is that has a good angle that

172
00:13:22,410 --> 00:13:23,820
has the angle that we want.

173
00:13:24,060 --> 00:13:33,300
But when it bounces off of the ball, bouncing off the paddle, if all of these conditions are true,

174
00:13:33,330 --> 00:13:39,420
we want to a turn the negative velocity and the positive.

175
00:13:41,320 --> 00:13:44,620
Update the update function.

176
00:13:47,310 --> 00:13:54,690
Let's see, so we have our ball and we change it, we have our balls position is going to be paddles

177
00:13:55,320 --> 00:13:57,110
height and the ball height.

178
00:13:57,120 --> 00:13:57,780
Perfect.

179
00:13:58,620 --> 00:14:02,430
So we do have some balls.

180
00:14:02,440 --> 00:14:02,790
Why?

181
00:14:03,510 --> 00:14:08,940
Let's add on the balls height times zero point five.

182
00:14:09,270 --> 00:14:11,170
Let's see what this is going to give us.

183
00:14:11,880 --> 00:14:16,290
So 140, I mean, we do not get a bounce off the left.

184
00:14:17,360 --> 00:14:21,200
Of the right, it goes top we should go to right as well.

185
00:14:21,650 --> 00:14:24,800
I know it's random, but we should get it so you can see it goes to left.

186
00:14:25,010 --> 00:14:28,340
It was 175 and the output is now 150.

187
00:14:29,280 --> 00:14:33,410
So we should get something, think it goes there.

188
00:14:35,620 --> 00:14:37,540
We should get less than 30.

189
00:14:38,590 --> 00:14:42,760
And you can see it goes back there, so there is something wrong with that.

190
00:14:44,060 --> 00:14:47,450
And, uh, a 10 to.

191
00:14:50,030 --> 00:14:53,310
All right, minus the ball.

192
00:14:53,960 --> 00:14:59,290
Oh, this is the ball's ex, sorry, this is going to be this well solved.

193
00:14:59,300 --> 00:15:02,400
Now you can see there we go, we get the ball there as well.

194
00:15:02,450 --> 00:15:06,790
So that was the serve the serve bowl angle was working perfectly fine.

195
00:15:07,010 --> 00:15:08,390
And now this is working fine.

196
00:15:08,540 --> 00:15:12,890
You can see that the default was 13, but we kept it at 30.

197
00:15:12,890 --> 00:15:13,970
We kept it at 30.

198
00:15:14,330 --> 00:15:17,630
So now it is going to work in both of the directions.

199
00:15:18,800 --> 00:15:28,130
So we are going to keep the angle at exactly 30 now, less than that and at 150 and not more than that.

200
00:15:30,340 --> 00:15:30,920
There we go.

201
00:15:31,120 --> 00:15:33,450
So we it bounces on both sides.

202
00:15:36,250 --> 00:15:42,520
So let's come into our appli speech and I'm going to comment about these angles, but I'm not going

203
00:15:42,520 --> 00:15:45,190
to remove them because you might need them.

204
00:15:45,190 --> 00:15:52,000
I know at the start of this lecture I said that we will be working with the touch and that's what I

205
00:15:52,000 --> 00:15:53,680
will be doing right now.

206
00:15:53,860 --> 00:15:55,060
So let's go ahead.

207
00:15:59,680 --> 00:16:08,350
On top of the arrow key events in there, I'm going to go ahead and I'm going to create a comment and

208
00:16:08,350 --> 00:16:09,970
I'm going to say touch events.

209
00:16:10,840 --> 00:16:11,230
Right.

210
00:16:11,230 --> 00:16:16,620
And in here, there is actually a good article for that, which I'm going to give you as well.

211
00:16:16,630 --> 00:16:19,270
But first off, we need to face the issue.

212
00:16:20,700 --> 00:16:26,640
Canvas, we might not face the issue in the Firefox's, but you will definitely face it in the chrom.

213
00:16:27,270 --> 00:16:29,880
So we have four different kinds of.

214
00:16:31,920 --> 00:16:39,120
Touch events, we have touch events, we have touch, cancel, touch, cancel is whenever you're playing

215
00:16:39,120 --> 00:16:41,850
a game in your mobile mobile device, right.

216
00:16:42,100 --> 00:16:46,470
And then there is suddenly a pop up and then your game is interrupted.

217
00:16:46,830 --> 00:16:47,130
Right.

218
00:16:47,310 --> 00:16:49,170
Or suddenly you get a message.

219
00:16:50,250 --> 00:16:55,650
The best way to play a game, by the way, is whenever you put your mobile phone on the flight mode,

220
00:16:55,860 --> 00:16:59,900
when you play it, you're not going to you're not going to get any ads into your game.

221
00:17:00,270 --> 00:17:02,300
That's like a good trick that you can do.

222
00:17:02,880 --> 00:17:08,599
But when and some something pops up and your touch is canceled, that is the touch cancel event.

223
00:17:09,030 --> 00:17:14,730
The reason that I am explaining this is because we have a similar event as well.

224
00:17:14,970 --> 00:17:21,869
So I'm going to create a function for this called touch, cancel the similar event that we have.

225
00:17:22,319 --> 00:17:26,720
The reason that we select canvasses because we want this touch to only work in the canvas.

226
00:17:27,359 --> 00:17:34,660
The other one is touch and so touch the touch and is whenever you lift your finger off the screen.

227
00:17:35,490 --> 00:17:38,240
So in both cases, the touch has canceled.

228
00:17:38,490 --> 00:17:42,060
One is the kind of cancellation that you want.

229
00:17:42,330 --> 00:17:44,700
The other is the kind of cancellation that you don't.

230
00:17:45,180 --> 00:17:48,580
So touch cancel is that sort of cancellation that you don't want.

231
00:17:48,750 --> 00:17:49,410
Touch Enda's.

232
00:17:49,440 --> 00:17:53,100
Whenever you left your finger up, that is going to be the touch.

233
00:17:53,110 --> 00:17:56,280
And so for that, I'm going to create a touch and.

234
00:17:57,660 --> 00:18:04,960
Function, let's copy this two more times, the next one is going to be touch, move whenever you are,

235
00:18:05,010 --> 00:18:12,540
your finger is on the screen and you slide it across the screen or slide it to top and bottom, that

236
00:18:12,540 --> 00:18:14,340
is going to be the touch move.

237
00:18:14,340 --> 00:18:16,480
It is pretty self-explanatory.

238
00:18:16,980 --> 00:18:21,580
And finally, the first one is going to be touch start.

239
00:18:22,380 --> 00:18:28,530
So that is when you place your finger on the screen, that is going to be the touch start.

240
00:18:30,260 --> 00:18:35,960
OK, so we have created all of this and let's go ahead and let's save that and.

241
00:18:37,460 --> 00:18:45,200
Oh, of course, it is going to throw all of these errors, but but in case you have, you receive another

242
00:18:45,200 --> 00:18:45,650
error.

243
00:18:46,730 --> 00:18:52,520
And that error is going to be in Chrom, I don't know whether or not that's going to be in Firefox because

244
00:18:52,520 --> 00:18:58,910
right at this part here, I was working with Chrome and then I switched to Firefox because of that bug.

245
00:18:59,360 --> 00:19:05,180
And let's go ahead and let's actually create the functions, because now we are not going to see those

246
00:19:05,180 --> 00:19:08,510
bugs because the functions are not working.

247
00:19:08,540 --> 00:19:09,730
You see another error.

248
00:19:10,790 --> 00:19:13,550
So let's come down here.

249
00:19:13,580 --> 00:19:15,270
Let's close this function.

250
00:19:15,290 --> 00:19:20,250
So where is our let's close this one, this one out of bounds.

251
00:19:20,250 --> 00:19:24,080
Set dimensions of date, bowl of date, paddle.

252
00:19:24,080 --> 00:19:26,000
If we need them, I'm going to open them.

253
00:19:26,360 --> 00:19:33,950
So right after the set dimensions, let's grab the comment and let's put it right here.

254
00:19:33,950 --> 00:19:42,080
And I'm going to call it touch events, function functions.

255
00:19:44,220 --> 00:19:51,720
So the first function is I'm going to create a function for each of them, we have called them now let's

256
00:19:52,200 --> 00:19:54,680
go ahead and let's actually create these functions.

257
00:19:55,260 --> 00:19:58,790
So I think we have created the attach X variable.

258
00:19:58,800 --> 00:20:00,090
Yes, we have done that.

259
00:20:00,720 --> 00:20:03,330
So we don't need to go up there, create that again.

260
00:20:03,340 --> 00:20:10,800
So the first one is going to be a function, touch cancer, make sure to capitalize this, because this

261
00:20:10,800 --> 00:20:13,050
is the function itself.

262
00:20:15,390 --> 00:20:19,110
All right, I'm going to pass and the event in case we need it, right?

263
00:20:19,130 --> 00:20:26,370
So for the touch cancel, we're going to call it touch function and I'm going to pass.

264
00:20:26,490 --> 00:20:26,860
No.

265
00:20:27,420 --> 00:20:30,120
So that's it for the touch cancel function.

266
00:20:30,450 --> 00:20:38,160
The next function is going to be that we are is going to be touch and and for that, I'm going to pass

267
00:20:38,160 --> 00:20:42,860
in the event in case we need it and we're basically going to do the same thing.

268
00:20:42,870 --> 00:20:46,440
We are going to call the touch function function and we're going to pass a No.

269
00:20:48,580 --> 00:20:56,010
For that, let's create the touch move function and let's grab the event.

270
00:20:56,690 --> 00:21:01,140
So in the touch function to the touch function, what do we want to pass?

271
00:21:01,370 --> 00:21:03,230
We want to grab our event now.

272
00:21:03,230 --> 00:21:06,560
The event is going to give us an array called touches.

273
00:21:07,220 --> 00:21:10,010
And from that array, we are going to grab the first item.

274
00:21:11,550 --> 00:21:17,760
And that item is going to give us the first location that the that the user has touched.

275
00:21:18,240 --> 00:21:22,680
OK, now we are just grabbing the X location, not the Y location.

276
00:21:23,070 --> 00:21:28,560
And that's because we allow the user to touch anywhere in the Y location.

277
00:21:29,380 --> 00:21:29,760
Right.

278
00:21:29,790 --> 00:21:33,000
So this is going to give us the client X. that exact location.

279
00:21:34,950 --> 00:21:35,760
And.

280
00:21:37,820 --> 00:21:38,420
Perfect.

281
00:21:38,750 --> 00:21:48,890
Let's grab the torch start function, all right, and we are going to pass in an event as well here.

282
00:21:49,570 --> 00:21:50,720
OK, so.

283
00:21:52,480 --> 00:21:53,920
What we are going to do is.

284
00:21:54,970 --> 00:22:00,760
Let's passing the event and basically we are going to do the same thing, so we are going to say touch

285
00:22:01,060 --> 00:22:09,850
IDOT Touches is right and you're going to grab the first item and from there we are going to grab the

286
00:22:09,850 --> 00:22:11,170
client X..

287
00:22:11,800 --> 00:22:18,510
So now on top here, I want to create the touch function.

288
00:22:19,690 --> 00:22:22,720
So let's say function, touch.

289
00:22:24,080 --> 00:22:29,420
And what what is going to be the parameter, the parameter is going to be X.

290
00:22:31,400 --> 00:22:31,940
All right.

291
00:22:32,940 --> 00:22:38,910
So X is going to be no, X is going to be no, X is going to have a position, X is going to have a

292
00:22:38,910 --> 00:22:39,360
position.

293
00:22:39,930 --> 00:22:41,910
So now we are going to say F.

294
00:22:44,910 --> 00:22:48,930
The X is not true, so we are going to say X is not true.

295
00:22:51,420 --> 00:22:54,640
What do we want to do if X is not true?

296
00:22:55,080 --> 00:22:55,770
Come on.

297
00:22:57,880 --> 00:23:06,160
If X is false, we want to move the we want to call them move panel function, so let's call that function,

298
00:23:06,160 --> 00:23:08,240
you can see how functions are really important.

299
00:23:08,620 --> 00:23:12,250
And from there, we are going to call the direction dot stop.

300
00:23:13,450 --> 00:23:26,800
All right, Elsbeth Ancef, the X is greater than the paddles exposition, and it means that the X is

301
00:23:26,800 --> 00:23:30,730
moving towards the right because it is greater than that.

302
00:23:31,360 --> 00:23:37,240
So we are going to call the move paddle function and we are going to call the direction.

303
00:23:39,150 --> 00:23:41,690
Direction dot, right?

304
00:23:42,610 --> 00:23:44,170
Perfect, elusive.

305
00:23:46,820 --> 00:23:58,130
House F the X is less than the paddles, paddles, exposition, we want to call the move paddle function

306
00:23:58,760 --> 00:24:03,740
and let's pass in the direction Dart left.

307
00:24:06,750 --> 00:24:07,240
Perfect.

308
00:24:07,260 --> 00:24:11,610
So so far, we have created all these and.

309
00:24:14,130 --> 00:24:18,810
OK, so let's save it, let's actually see if we have any errors, if there is something missing.

310
00:24:19,440 --> 00:24:24,720
I'm going to go to our here to these phones and I'm going to it doesn't really matter.

311
00:24:24,730 --> 00:24:29,210
It's just iPhone six, seven, eight, and it is in the landscape mode.

312
00:24:29,220 --> 00:24:39,340
I could go to portrait and reload the page and let's serve the OK, reload the page and there we go.

313
00:24:39,600 --> 00:24:44,250
So if I click, you can see that the mouse is the touch is actually moving.

314
00:24:45,520 --> 00:24:47,140
OK, so you can see that.

315
00:24:52,590 --> 00:25:02,160
OK, so we can actually move, we are not you can see that the panel is shaky some time because it is

316
00:25:02,160 --> 00:25:09,150
trying to get to this exact client its location, but it can never get to that location, so.

317
00:25:10,400 --> 00:25:17,090
See, so and and there are actually two bucks here, the first one is whenever I move it, you can see

318
00:25:17,090 --> 00:25:24,230
that whenever I move to the left and for example, like right here when I click on it.

319
00:25:25,720 --> 00:25:32,590
Departments, and when I keep clicking and now this clicking, I didn't say this, but this is actually

320
00:25:32,590 --> 00:25:33,090
tapping.

321
00:25:33,370 --> 00:25:38,500
So when you tap on the screen and hold it, it is going to move all the way to left.

322
00:25:38,500 --> 00:25:39,580
But you want it to be.

323
00:25:39,580 --> 00:25:40,300
Exactly.

324
00:25:40,300 --> 00:25:46,720
And wherever you are holding it, the reason that you can see that pop up is just because of the browser.

325
00:25:47,080 --> 00:25:52,570
The browser is going to give me that pop up and you can see that it is going to try to get to there.

326
00:25:54,340 --> 00:26:01,510
So what we're going to do is we want to remove whenever the ball is first served, but we can see that

327
00:26:01,510 --> 00:26:03,080
the ball is never served.

328
00:26:03,370 --> 00:26:05,840
So let's go ahead and let's serve the ball as well.

329
00:26:06,220 --> 00:26:12,360
So in here in the touch start, we want to say f serve ball.

330
00:26:12,520 --> 00:26:14,540
We have created this function, haven't we?

331
00:26:15,370 --> 00:26:16,570
So where is it?

332
00:26:19,230 --> 00:26:27,330
Yeah, we have created that if Savol were our we should be down here if Savol is true.

333
00:26:28,810 --> 00:26:31,000
Then we want to return, right?

334
00:26:33,080 --> 00:26:40,670
Now, let's, uh, let's before actually doing this, let's serve the ball so you can see the problem

335
00:26:40,670 --> 00:26:41,590
that I'm talking about.

336
00:26:41,870 --> 00:26:47,570
So when I click, you can see that the paddle is moving, reload, collect, the paddle is moving.

337
00:26:47,810 --> 00:26:52,530
The paddle is moving towards whichever location it is that you have topped your finger.

338
00:26:52,850 --> 00:27:02,540
So for this to be really better visible, let's put it to this iPad and let's go this way and let's

339
00:27:02,540 --> 00:27:04,110
reduce it to 90.

340
00:27:04,130 --> 00:27:06,800
Well, it didn't make that much of a difference, did it?

341
00:27:07,520 --> 00:27:12,640
Split its iPhone six, seven, eight, let's go 100.

342
00:27:12,830 --> 00:27:13,940
I think this is better.

343
00:27:15,560 --> 00:27:20,890
So when you click here, the paddles moving that way, even though this is the ball is just being served,

344
00:27:21,080 --> 00:27:22,370
you don't want to do that.

345
00:27:22,440 --> 00:27:26,750
OK, that that is going to be a bug, which we need to fix.

346
00:27:26,960 --> 00:27:32,860
So we are going to say that f serve ball is true.

347
00:27:32,990 --> 00:27:35,250
It means that the ball has already been served.

348
00:27:35,450 --> 00:27:36,620
We don't want to do anything.

349
00:27:36,620 --> 00:27:38,340
We just want to return from the function.

350
00:27:38,840 --> 00:27:39,290
So.

351
00:27:40,380 --> 00:27:44,560
This is still working, if Savol is true.

352
00:27:44,970 --> 00:27:49,640
We want to return from the function, it shouldn't work like that.

353
00:27:50,160 --> 00:27:50,850
There we go.

354
00:27:50,880 --> 00:27:52,610
It's still it is still there.

355
00:27:53,010 --> 00:27:57,130
So if Savol is true, why do we have any errors, you know?

356
00:27:57,930 --> 00:28:01,640
So let me get out of there and let's get let's go in there.

357
00:28:02,070 --> 00:28:03,930
Let's do iPhone X.

358
00:28:06,350 --> 00:28:09,650
It is still when the ball is served, it is still moving.

359
00:28:10,010 --> 00:28:12,740
This is the problem that I was talking about in Chrome.

360
00:28:12,890 --> 00:28:14,770
I'm going to give you the solution for that.

361
00:28:14,930 --> 00:28:17,600
But first, I need to know why is it still moving?

362
00:28:17,600 --> 00:28:21,410
Because we have returned it and it is still moving.

363
00:28:23,370 --> 00:28:24,540
All right, so.

364
00:28:25,980 --> 00:28:30,900
Still, let's see if there is any other problem so that I'm just going to take care.

365
00:28:31,110 --> 00:28:32,220
No, that's OK.

366
00:28:32,250 --> 00:28:38,140
So if I move that, I should be able to hit the ball.

367
00:28:38,970 --> 00:28:40,350
Come on.

368
00:28:40,410 --> 00:28:41,080
There we go.

369
00:28:41,250 --> 00:28:45,950
You can see how the paddle is like shaki jittering that sort of thing.

370
00:28:46,560 --> 00:28:51,090
It's like paddle is cold, very cold.

371
00:28:51,390 --> 00:28:52,440
So this is what I mean.

372
00:28:52,440 --> 00:28:54,350
You can see I'm sure you can see it right now.

373
00:28:55,080 --> 00:29:03,510
So what I'm going to do is before the return, I'm just going to log Eikon something to the console

374
00:29:03,840 --> 00:29:08,250
and I'm going to say ball is served perfect.

375
00:29:08,920 --> 00:29:09,750
It's like.

376
00:29:11,070 --> 00:29:17,010
So you can see that the serve this statement is not running at all, that's why he's not returning,

377
00:29:17,010 --> 00:29:18,090
because it's not running.

378
00:29:18,420 --> 00:29:20,530
So let's go to the serve ball function.

379
00:29:20,790 --> 00:29:22,530
So this is disserve ball function.

380
00:29:22,750 --> 00:29:26,910
You can see that if the ball is already moving, do not allow serve.

381
00:29:26,910 --> 00:29:27,380
Perfect.

382
00:29:27,930 --> 00:29:32,280
And basically, what is this function actually doing, this function?

383
00:29:32,280 --> 00:29:33,860
Is it actually doing nothing?

384
00:29:34,380 --> 00:29:39,620
It's actually giving us some sort of way to change the velocity.

385
00:29:40,200 --> 00:29:44,010
But so if I were to return true from this function.

386
00:29:45,010 --> 00:29:46,890
That should solve the problem, right?

387
00:29:47,140 --> 00:29:53,800
So if I click on it, you can see that we see the ball is served and the part was not moved when the

388
00:29:53,800 --> 00:29:54,690
game started.

389
00:29:54,700 --> 00:30:00,250
So so we still have that shakiness and that the paddle is nice.

390
00:30:00,280 --> 00:30:01,420
So if I click here.

391
00:30:05,140 --> 00:30:11,410
You can see this if I click here, the paddle is moving when I stop, the paddles of the paddle keeps

392
00:30:11,410 --> 00:30:12,700
moving when I start to see.

393
00:30:13,240 --> 00:30:16,730
So there are two other bugs that we need to fix here as well.

394
00:30:17,200 --> 00:30:27,400
So the first stuff which is going to be we need to fix that whenever whenever the user lifts their finger

395
00:30:27,400 --> 00:30:32,650
off the touch, then that is going to be where the paddle stops.

396
00:30:33,160 --> 00:30:33,610
All right.

397
00:30:35,470 --> 00:30:41,910
So instead of actually doing it this way now before going forward, I need to show you this as well.

398
00:30:42,310 --> 00:30:45,790
I mean, if we go to the I'm not going to go to the responsive mode.

399
00:30:46,930 --> 00:30:52,390
If we you can see that it says adding violation added non passive eventless listener.

400
00:30:52,660 --> 00:30:54,550
You can read all about it here.

401
00:30:55,000 --> 00:30:56,290
Passive event listeners.

402
00:30:56,290 --> 00:30:58,280
You can read it, read all about it here.

403
00:30:58,840 --> 00:31:06,640
So for that, I'm just going to copy that link and add it here inside the touch.

404
00:31:07,150 --> 00:31:10,180
And the replay for that is here.

405
00:31:10,390 --> 00:31:13,240
You can read about all about it there as well.

406
00:31:13,870 --> 00:31:16,540
So I'm just going to paste the report as well.

407
00:31:16,930 --> 00:31:23,650
And basically what it says as you need to add another item in case you're working with Chrome, you're

408
00:31:23,650 --> 00:31:25,940
going to get that and it is not going to work for you.

409
00:31:26,530 --> 00:31:31,200
So in case you get that, these are basically what it says is you need to add a flag.

410
00:31:31,600 --> 00:31:38,890
The flag is going to be passive and you need to add the passive as to the reason that it is requesting

411
00:31:38,890 --> 00:31:46,450
this from you is for better performance, for for mobility purposes, that sort of thing.

412
00:31:46,750 --> 00:31:55,840
It claims that whenever you add the passive flag to true, the the error is going to go away and this

413
00:31:56,080 --> 00:32:00,400
is going to be a better performance kind of thing that you do.

414
00:32:00,640 --> 00:32:08,980
So if I just cut it from there and if I come here, they can see that if you come here, it says that

415
00:32:09,580 --> 00:32:12,930
implement the behavior with respect to despatching passive listeners.

416
00:32:12,930 --> 00:32:18,880
Listener's so calling the prevent default inside executing the callback only generates a warning to

417
00:32:18,880 --> 00:32:23,160
the console can be used to dramatically improve scrolling behavior.

418
00:32:23,680 --> 00:32:25,300
So it's a good thing, I guess.

419
00:32:25,310 --> 00:32:29,110
So you just go ahead and added there, you should add it.

420
00:32:29,110 --> 00:32:33,120
And inside the repo is it gives you the the problem.

421
00:32:33,130 --> 00:32:35,330
This is the problem, how you can fix it.

422
00:32:35,350 --> 00:32:40,240
This is capture truly just the passive perfect.

423
00:32:40,250 --> 00:32:48,790
So I'm going to close these, this chrome and I've added that just for chrome.

424
00:32:48,790 --> 00:32:51,370
I didn't get that for Firefox.

425
00:32:51,880 --> 00:32:59,680
So in order to fix that problem that we have is I'm going to go ahead and say, well, actually we are

426
00:32:59,680 --> 00:33:02,370
going to do it a different way this time.

427
00:33:02,770 --> 00:33:07,930
So instead of calling this touch function, I'm going to come in.

428
00:33:07,930 --> 00:33:12,640
This one out are not going to call the we are not going to say when I click left, go left.

429
00:33:12,640 --> 00:33:14,080
When I click right, go right.

430
00:33:14,410 --> 00:33:15,400
You're not going to do that.

431
00:33:15,730 --> 00:33:17,170
We are going to remove this.

432
00:33:17,170 --> 00:33:22,210
And instead of that, we are going to grab our touch X and we're going to initialize and we are going

433
00:33:22,210 --> 00:33:23,440
to initialize it to null.

434
00:33:23,770 --> 00:33:30,100
We have declared it before so and then we are going to call our remove panel function and we are going

435
00:33:30,100 --> 00:33:31,240
to say direction.

436
00:33:33,660 --> 00:33:35,960
Direxion dot stuff.

437
00:33:36,840 --> 00:33:37,360
Perfect.

438
00:33:37,650 --> 00:33:47,190
So for the touch cancel, we did that and we want to basically do the same thing for the touch and because

439
00:33:47,190 --> 00:33:49,280
both of them are actually doing the same thing.

440
00:33:49,620 --> 00:33:51,000
So let's remove the event.

441
00:33:51,010 --> 00:33:52,230
We didn't need it here.

442
00:33:54,570 --> 00:34:00,660
For the touch move, instead of grabbing the client this way, I'm going to grab it and I'm going to

443
00:34:00,660 --> 00:34:13,050
stir it inside, touch X and I'm going to say each dot touches zero dot client X and let's copy that

444
00:34:13,050 --> 00:34:16,300
and let's pasted right here as well.

445
00:34:17,310 --> 00:34:18,409
So let's move it.

446
00:34:18,690 --> 00:34:20,010
Let's save it and.

447
00:34:22,480 --> 00:34:23,980
Well, did you break it?

448
00:34:25,540 --> 00:34:28,179
All right, so it is not moving at all now.

449
00:34:29,280 --> 00:34:30,520
Um hmm.

450
00:34:32,400 --> 00:34:35,150
Which direction that stop?

451
00:34:35,460 --> 00:34:42,190
So these are going to stop detractions and, uh, what else do we have to do here?

452
00:34:42,840 --> 00:34:43,969
We have said touchbacks.

453
00:34:43,980 --> 00:34:46,739
We should do, I think, something else with our tactics.

454
00:34:47,159 --> 00:34:49,409
We have grabbed our touchbacks.

455
00:34:51,580 --> 00:34:54,090
All right, and hmm.

456
00:34:58,650 --> 00:35:05,640
OK, so I'm going to go to my update panel function, let's update the position, so I'm going to say

457
00:35:06,990 --> 00:35:12,140
move the panel with with touch or something.

458
00:35:12,900 --> 00:35:18,030
So in here, we need we still need to change this position of touch X, right.

459
00:35:18,270 --> 00:35:19,610
For our panel to move.

460
00:35:19,770 --> 00:35:25,500
So we are going to say if touch X is not null.

461
00:35:26,590 --> 00:35:32,020
OK, if first off, we need to check if the user has touched the screen.

462
00:35:34,620 --> 00:35:41,520
That is going to give us when the touch is not now, if it is not, it means that the user has not clicked

463
00:35:42,510 --> 00:35:44,180
and we don't have any touch here.

464
00:35:44,190 --> 00:35:45,480
We don't have any touch here.

465
00:35:46,000 --> 00:35:50,790
And basically it is either touch and or whether it is touch cancel.

466
00:35:51,120 --> 00:35:54,330
So first off, we need to check if it is not touch, cancel and touch.

467
00:35:54,330 --> 00:36:03,030
And so after we checked for that, we are going to say that if Touch X is great on the paddles exposition,

468
00:36:03,900 --> 00:36:08,460
we want to move the paddle and the direction.

469
00:36:10,250 --> 00:36:18,650
The direction, the direction is going to be right and Ellos F.

470
00:36:20,000 --> 00:36:29,420
Elusive, the touchbacks is it was greater than the power also, it is less than the paddle.

471
00:36:30,110 --> 00:36:40,010
Come on, when I want to be quick, if it is less than the paddle, the paddles exposition, we want

472
00:36:40,010 --> 00:36:46,540
to call our move paddle function and we are going to pass in the direction Dart left.

473
00:36:47,210 --> 00:36:47,780
Let's say it.

474
00:36:47,780 --> 00:36:48,950
Hopefully it works.

475
00:36:49,980 --> 00:36:55,020
There we go and it stops there wherever the touch stops, it is going to stop there.

476
00:36:55,050 --> 00:37:01,410
See, we still have that shaky kind of behavior, so I'm going to implement that, even though it is

477
00:37:01,920 --> 00:37:03,860
getting closer to 40 minutes.

478
00:37:04,110 --> 00:37:08,880
I know that's a lot, but I'm going to go ahead and I'm going to implement that as well, because that

479
00:37:08,880 --> 00:37:13,720
is going to be basically a minor adjustment that we will be doing here.

480
00:37:14,070 --> 00:37:22,260
So to be able to remove the shaky behavior, what I'm going to do is I'm going to add on to the exposition

481
00:37:22,260 --> 00:37:29,190
of the paddle a small value, which is the walls with and I'm going to add it when it when it is greater

482
00:37:29,190 --> 00:37:31,170
than that, it means it's moving to the right.

483
00:37:31,170 --> 00:37:34,620
I'm going to add it when it is moving to the left, I'm going to remove it.

484
00:37:35,490 --> 00:37:36,330
Very simple.

485
00:37:36,540 --> 00:37:40,650
And also we need to we need to implement the stop as well.

486
00:37:40,650 --> 00:37:41,010
I mean.

487
00:37:41,010 --> 00:37:41,310
Right.

488
00:37:41,520 --> 00:37:46,380
So else else move.

489
00:37:46,770 --> 00:37:47,460
Paddle.

490
00:37:47,970 --> 00:37:48,540
Excuse me.

491
00:37:48,960 --> 00:37:51,420
A direction dot stop.

492
00:37:52,780 --> 00:37:58,870
Direxion, stop, perfect, so now.

493
00:38:02,170 --> 00:38:04,390
See, perfectly fine.

494
00:38:04,420 --> 00:38:05,000
There we go.

495
00:38:05,020 --> 00:38:07,310
So this is perfect simulation.

496
00:38:07,720 --> 00:38:10,900
The ball has hit, the ball has hit, the ball hit.

497
00:38:11,950 --> 00:38:17,570
And it is not shakey anymore, so there we go, boom, boys.

498
00:38:17,740 --> 00:38:18,920
It's perfectly fine.

499
00:38:19,120 --> 00:38:28,600
So we were able to actually do that and actually create the iTouch events in this lecture that said,

500
00:38:28,600 --> 00:38:30,160
see you guys in the next one.

