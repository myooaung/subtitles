WEBVTT
1
00:00:02.210 --> 00:00:03.260
Hi, everyone.

2
00:00:03.380 --> 00:00:07.550
In this lecture, we're going to capture the Arrow Keys.

3
00:00:08.970 --> 00:00:13.500
All right, so what it is actually that we are going to do in this lecture, we are going to capture

4
00:00:13.500 --> 00:00:21.780
when the arrow, the Parakey has been pressed has is key down and then when it is key up and the same

5
00:00:21.780 --> 00:00:24.110
thing for all the rest of the directions.

6
00:00:24.570 --> 00:00:26.130
So what are we going to do?

7
00:00:26.130 --> 00:00:32.790
First is I'm going to come right here and I'm going to say Arrow Directions.

8
00:00:34.420 --> 00:00:39.320
Directions event listeners, event listeners.

9
00:00:39.880 --> 00:00:44.140
Now, we have talked about giving listeners a lot, so I'm just going to go ahead and breeze through

10
00:00:44.140 --> 00:00:44.500
this.

11
00:00:44.810 --> 00:00:49.730
Right, and not explaining it that much because we have talked about it a ton.

12
00:00:50.170 --> 00:00:57.870
So, first of all, let's create some variables for whenever they are a down Iraqi, up Iraqi, left

13
00:00:57.880 --> 00:01:00.150
Iraqi and right Iraqis, they have been pressed.

14
00:01:00.460 --> 00:01:03.970
So first off, I'm going to create it for the up direction.

15
00:01:03.970 --> 00:01:09.490
I'm just going to say up there and I'm going to set it to false because initially nothing is pressed.

16
00:01:09.490 --> 00:01:10.600
You can see it.

17
00:01:10.600 --> 00:01:12.880
The ball moves in no, no direction.

18
00:01:12.910 --> 00:01:14.860
So initially it should be false.

19
00:01:15.610 --> 00:01:21.880
And let's copy this three more times and I'm going to say down it's going to be false.

20
00:01:21.880 --> 00:01:28.420
And let's put it to the left, false and right, false.

21
00:01:29.260 --> 00:01:31.540
Now, let's create the case.

22
00:01:31.810 --> 00:01:35.500
Now, the event is going to be fired on the document itself.

23
00:01:35.830 --> 00:01:42.000
We are not going to attach it to any specific element, but the document itself and we're going to add

24
00:01:42.010 --> 00:01:46.170
event listener and we are going to say key down.

25
00:01:47.110 --> 00:01:48.490
So the key is down.

26
00:01:48.820 --> 00:01:56.710
And when the key is down, the event is going to start firing and it is going to fire as as for as long

27
00:01:56.710 --> 00:01:57.790
as the key is down.

28
00:01:57.850 --> 00:01:58.180
Right.

29
00:01:58.390 --> 00:02:01.240
So for that, I'm just going to create a function key down.

30
00:02:01.660 --> 00:02:09.100
And when the event stops and when does the event start firing, the event stops firing whenever the

31
00:02:09.100 --> 00:02:10.039
key is up.

32
00:02:10.270 --> 00:02:13.190
That's why we're going to create a function for that as well.

33
00:02:13.840 --> 00:02:14.320
So.

34
00:02:16.490 --> 00:02:21.200
All right, so first off, let's go ahead and let's drop this.

35
00:02:21.230 --> 00:02:23.450
I'm just going to come down here and I'm going to say

36
00:02:25.850 --> 00:02:26.810
Arrow.

37
00:02:27.780 --> 00:02:29.850
Keys functions.

38
00:02:30.880 --> 00:02:38.710
All right, so first off, let's create the down down the key down function, so the key down, I'm

39
00:02:38.710 --> 00:02:41.930
going to grab the event because that is going to be critical for us.

40
00:02:42.280 --> 00:02:45.940
Now, first off, let's go ahead and let's log some things to the console.

41
00:02:46.390 --> 00:02:54.700
And I'm going to say I'm just going to say I'm just going to suffice to say keep key are just all right.

42
00:02:55.060 --> 00:02:57.090
I'm not going to specify key up.

43
00:02:57.100 --> 00:02:59.190
I'm just going to come in this one out.

44
00:03:00.120 --> 00:03:07.090
Let's so inside the Web page, inside the document, when the user clicks, for example, if I press

45
00:03:07.090 --> 00:03:10.310
the up arrow key, you can see that the event has been fired.

46
00:03:10.340 --> 00:03:12.460
Now, what's associated with the event?

47
00:03:13.480 --> 00:03:18.340
We have a key that says arrow up.

48
00:03:18.490 --> 00:03:19.890
And what is the key code for?

49
00:03:19.950 --> 00:03:20.830
For the up arrow.

50
00:03:21.100 --> 00:03:22.030
For the up arrow.

51
00:03:22.030 --> 00:03:23.580
The key code is 38.

52
00:03:24.100 --> 00:03:26.080
So if I come down here.

53
00:03:26.530 --> 00:03:28.840
If I commented Arrow.

54
00:03:29.920 --> 00:03:36.900
And up, it's going to be 38, I already know all of them, but I want to show it to guys anyway.

55
00:03:37.450 --> 00:03:41.840
So for this one, it's going to be 40 and there we go.

56
00:03:41.860 --> 00:03:43.540
So the key code is 40.

57
00:03:43.570 --> 00:03:45.940
And if I put it down arrow.

58
00:03:47.700 --> 00:03:54.060
Down for this one, it's going to be 40 for the left, it's going to be 37.

59
00:03:54.060 --> 00:04:00.140
So if I click on it left, you can see that it says Arrow left and it's thirty seven.

60
00:04:00.780 --> 00:04:03.340
So let's see.

61
00:04:03.360 --> 00:04:04.570
Thirty seven.

62
00:04:04.830 --> 00:04:08.130
This is how we track which arrow key has been pressed.

63
00:04:08.520 --> 00:04:10.980
So and for the right, it's going to be 39.

64
00:04:10.980 --> 00:04:12.050
I'm not going to do that.

65
00:04:12.630 --> 00:04:15.580
So this is going to be thirty nine.

66
00:04:15.760 --> 00:04:18.680
Now how can we actually use this now.

67
00:04:18.690 --> 00:04:24.630
We are going to say we are going to create four if statements and each of the statements is going to

68
00:04:24.630 --> 00:04:27.320
be for a specific key that has been pressed.

69
00:04:27.630 --> 00:04:33.270
So now if we say that E that if the E that key code.

70
00:04:35.270 --> 00:04:37.190
Is equal to 40.

71
00:04:37.760 --> 00:04:40.780
You know what, I'm going to start with the top, I'm going to say 38.

72
00:04:41.060 --> 00:04:44.690
So whenever the key code is thirty eight, what do we want to do?

73
00:04:44.960 --> 00:04:52.400
We want to say we want to grab the up direction and we want to set it to true because 38 says it's the

74
00:04:52.400 --> 00:04:53.780
up arrow has been pressed.

75
00:04:53.780 --> 00:04:58.510
And when it has been pressed the abduction, it means that we are moving in the other direction.

76
00:04:58.970 --> 00:05:05.450
So this is the first one I could copy three more times and I could put them right here.

77
00:05:05.640 --> 00:05:08.930
So for the second one, I'm going to say down.

78
00:05:10.680 --> 00:05:15.480
Now, what is the key code for the down it is 40, so let's just put it 40.

79
00:05:15.730 --> 00:05:22.200
So if the key code that is the key that has been pressed has a key code of 40, then the down direction

80
00:05:22.200 --> 00:05:25.200
is going to be it means we are moving in the down direction.

81
00:05:27.140 --> 00:05:32.650
And for the left, you are going to have 37 for the right who are going to have 39.

82
00:05:32.990 --> 00:05:38.650
So let's change this to the left and let's change this to write similarly.

83
00:05:39.040 --> 00:05:39.310
All right.

84
00:05:39.320 --> 00:05:45.260
So now we have done we have selected our arrow of arrow down, all of the key.

85
00:05:45.510 --> 00:05:49.850
So what I'm going to do is I'm just going to remove that because I don't want to create extra lines

86
00:05:49.850 --> 00:05:53.830
of code and I'm going to grab this function and I'm going to copy it down below.

87
00:05:54.200 --> 00:05:58.170
And we are basically doing the same thing right now.

88
00:05:58.640 --> 00:06:01.190
The other function is going to be key up.

89
00:06:01.190 --> 00:06:04.910
So I'm going to come up and I'm going to come in this one.

90
00:06:04.910 --> 00:06:15.650
And and now whenever the key, this key function fires on an event and that event has a key code of

91
00:06:15.650 --> 00:06:23.120
thirty eight, we want to say that the key is up now and when the key is up, the ball is no longer

92
00:06:23.120 --> 00:06:23.510
moving.

93
00:06:23.520 --> 00:06:24.890
So it is going to be false.

94
00:06:25.760 --> 00:06:32.360
And when the down direction kicks up, the ball is no longer moving and the same way for any other ones.

95
00:06:32.630 --> 00:06:36.620
So if the key is up, it means the ball is not moving in that direction.

96
00:06:36.620 --> 00:06:36.860
Right.

97
00:06:37.040 --> 00:06:43.610
So we set all of them to false, let's say it, and a right.

98
00:06:44.720 --> 00:06:52.400
So how can we actually use this now, we have successfully targeted this, so what I'm going to do is

99
00:06:52.400 --> 00:06:59.480
I'm going to come right below our game loop and I'm going to create a function that says moving the

100
00:06:59.480 --> 00:07:05.900
bowls, the balls, moving the ball.

101
00:07:06.200 --> 00:07:06.710
Right.

102
00:07:07.190 --> 00:07:10.420
And let's call this function arrow input's.

103
00:07:10.710 --> 00:07:12.520
I'm just going to call it error inputs.

104
00:07:12.860 --> 00:07:14.540
I think it makes the most sense.

105
00:07:15.860 --> 00:07:25.490
Now, if now here still we are going to need four other FS because if the ball if if the down Iraqi

106
00:07:25.490 --> 00:07:33.790
has been pressed or if the down direction is true, we want to move this ball in its Y direction.

107
00:07:33.800 --> 00:07:36.470
And what is the amount that we want to move it by?

108
00:07:36.710 --> 00:07:40.160
The amount that we want to move it by is going to be our 50.

109
00:07:40.400 --> 00:07:45.930
So we want to move it by 50 pixels whenever that bottom or down arrow has been pressed.

110
00:07:45.950 --> 00:07:49.260
So how can we translate that into code?

111
00:07:49.640 --> 00:07:57.740
So if I come here now, let's say if the up direction is true, now we know if you just pass in one

112
00:07:57.740 --> 00:08:01.850
single expression here, it is going to either return true or false.

113
00:08:02.150 --> 00:08:08.030
So if you just pass in, for example, this variable, if this variable has a boolean value, then this

114
00:08:08.030 --> 00:08:15.380
if statement is either going to return true or false, we can see that in in action.

115
00:08:15.650 --> 00:08:20.640
We can see that the ball moves.

116
00:08:21.110 --> 00:08:24.500
The ball is moving upwards.

117
00:08:25.430 --> 00:08:25.750
Right.

118
00:08:25.820 --> 00:08:29.760
So this is going to fire whenever the other direction is true.

119
00:08:29.930 --> 00:08:33.130
Now, you can see that by default, all of the directions are false.

120
00:08:33.500 --> 00:08:34.960
They are going to get true.

121
00:08:34.970 --> 00:08:46.070
They are going to be evaluated as true whenever we get whenever the abduction is, for example, whenever

122
00:08:46.070 --> 00:08:46.640
any of them.

123
00:08:47.360 --> 00:08:52.540
So in order for this to actually work, we need to call it inside here as well.

124
00:08:52.910 --> 00:08:55.090
So I'm just going to say arrow inputs.

125
00:08:55.100 --> 00:08:56.170
I'm just going to call it there.

126
00:08:56.240 --> 00:08:57.070
Let's save it.

127
00:08:57.500 --> 00:08:58.160
Let's come here.

128
00:08:58.190 --> 00:09:03.830
So now if I click the button, you can see that the ball is moving and I'm going to zoom in.

129
00:09:03.830 --> 00:09:06.750
It has moved nineteen by nineteen frames.

130
00:09:06.770 --> 00:09:07.880
So there we go.

131
00:09:07.890 --> 00:09:09.430
You can see that the ball is moving.

132
00:09:10.070 --> 00:09:12.290
So we have successfully done that.

133
00:09:12.290 --> 00:09:18.530
And now instead of logging something to the console, what it is actually that we want to move, we

134
00:09:18.530 --> 00:09:24.560
want whenever the obstruction key has been pressed, it means that the ball is moving in the right direction.

135
00:09:24.990 --> 00:09:25.310
Right.

136
00:09:25.550 --> 00:09:28.850
And what do we want to do in the other direction?

137
00:09:29.630 --> 00:09:35.870
Because in the world of success, if you're moving upwards, it means you are moving to the negative

138
00:09:35.870 --> 00:09:36.520
direction.

139
00:09:37.130 --> 00:09:42.010
It's it has it is the same concept with margins and patterns.

140
00:09:42.320 --> 00:09:48.680
So if you provide a margin of negative 10 pixel, the item, that element is going to move up.

141
00:09:49.100 --> 00:09:54.130
If you provide a margin of positive 10 pixels, that element is going to move down.

142
00:09:54.560 --> 00:09:58.220
So positive is going to be down and negative is going to be up.

143
00:09:58.520 --> 00:10:03.540
And for the X axis, negative is going to be left and positive is going to be right.

144
00:10:03.800 --> 00:10:10.850
So if you provide margin, a margin of left of negative 10 pixels, the element is going to go to the

145
00:10:10.850 --> 00:10:11.290
left.

146
00:10:11.480 --> 00:10:16.980
If you say marginal left of positive 10 pixels, the element is going to go to the right.

147
00:10:17.600 --> 00:10:22.010
So this is how the signs work in the world of success.

148
00:10:22.010 --> 00:10:24.400
And the same thing applies in JavaScript.

149
00:10:24.650 --> 00:10:30.560
So whenever the ball is moving in the other direction, we want to grab the Y position of that ball.

150
00:10:31.040 --> 00:10:37.270
And from the Y position of that ball, we want to subtract the speed.

151
00:10:37.730 --> 00:10:39.700
It means that the ball is moving up.

152
00:10:39.710 --> 00:10:40.570
So let's save it.

153
00:10:40.580 --> 00:10:41.310
Let's come here.

154
00:10:41.660 --> 00:10:44.670
So if I click on it, you can see that the ball is moving up.

155
00:10:44.870 --> 00:10:46.790
Now, there is another problem here.

156
00:10:47.030 --> 00:10:47.360
All right.

157
00:10:47.540 --> 00:10:54.260
You can see that this is actually the ideology behind creating games and behind creating motion picture

158
00:10:54.260 --> 00:10:54.830
animation.

159
00:10:55.070 --> 00:10:58.750
Whatever you can see on your screen, this is the idea behind that.

160
00:10:59.000 --> 00:11:07.190
Any time the screen is being refreshed, any time the screen is being refreshed, we are redrawing the

161
00:11:07.190 --> 00:11:07.670
screen.

162
00:11:08.420 --> 00:11:16.640
And if we do not clear the screen after we have drawn the next frame, this is what we are going to

163
00:11:16.640 --> 00:11:16.810
get.

164
00:11:16.820 --> 00:11:20.360
We are going to get a continuous line that is going to go.

165
00:11:20.550 --> 00:11:25.940
So when when the ball is right here, we need to remove all the previous false.

166
00:11:27.360 --> 00:11:27.780
All right.

167
00:11:29.520 --> 00:11:37.530
And this redrawing of the screen each time the screen is being refreshed can be better, like visualize

168
00:11:37.740 --> 00:11:47.280
if I change the film's style to stroke's style, if we just leave the insert in inner of the circle

169
00:11:47.280 --> 00:11:54.780
empty like no color and just just draw the circle friends and we are going to say stroke style instead

170
00:11:54.780 --> 00:11:56.220
of the film, we are going to say.

171
00:11:58.510 --> 00:12:03.790
We have done this so and if I click on it, you can see that we get this circle now if I try to move

172
00:12:03.790 --> 00:12:08.050
up, you can see we are reading now this is very visible right now.

173
00:12:08.050 --> 00:12:13.640
You can see that we are redrawing the circle time and time and time and time and went.

174
00:12:13.690 --> 00:12:15.460
And now the circle is right here.

175
00:12:15.580 --> 00:12:21.690
So we have to remove all the previous iterations of that circle.

176
00:12:21.940 --> 00:12:29.020
So in order to to clear our canvas, we have already talked about a specific method that we can use.

177
00:12:29.560 --> 00:12:31.420
And that is the clear RACT.

178
00:12:31.420 --> 00:12:37.360
So what I'm going to do is I'm going to grab our can canvas context and I'm going to say clear RACT

179
00:12:37.870 --> 00:12:46.390
and this is going to grab the position for X and Y and then the canvas elements with and also the canvas

180
00:12:46.390 --> 00:12:47.260
elements.

181
00:12:48.100 --> 00:12:48.840
Height.

182
00:12:49.270 --> 00:12:49.850
Perfect.

183
00:12:50.350 --> 00:12:57.370
So now if I zoom out and if I try to move up, you can see that there are still those circles being

184
00:12:57.370 --> 00:12:58.180
drawn there.

185
00:12:58.360 --> 00:13:04.410
But the difference is that now after the circle moves to the next frame, the previous frame is clear.

186
00:13:04.420 --> 00:13:04.880
That's it.

187
00:13:05.170 --> 00:13:06.850
So that's basically what we do there.

188
00:13:06.870 --> 00:13:07.660
So now click.

189
00:13:08.050 --> 00:13:08.830
You can see that.

190
00:13:08.830 --> 00:13:10.510
You can see the previous frames.

191
00:13:10.690 --> 00:13:15.040
And this gives us the illusion that this circle is moving.

192
00:13:15.550 --> 00:13:19.210
It's actually being redrawn 60 times per one second.

193
00:13:19.540 --> 00:13:20.320
Very simple.

194
00:13:20.950 --> 00:13:26.570
And you can see only the 16th time that the circle has been redrawn.

195
00:13:26.740 --> 00:13:30.870
You are not going to see the other 59 times that the circle has been drawn.

196
00:13:31.420 --> 00:13:32.320
You're not going to see it.

197
00:13:32.500 --> 00:13:37.680
And you can see that when because we don't have collision detection, the circle is moving off the canvas.

198
00:13:38.230 --> 00:13:40.090
That's why we do collision detection.

199
00:13:40.090 --> 00:13:41.590
We don't want it to move off.

200
00:13:41.860 --> 00:13:48.250
For example, when we get to creating the pong game, we don't want it to move off the canvas when the

201
00:13:48.250 --> 00:13:53.740
player paddle hits it or just like move through the player paddle.

202
00:13:54.070 --> 00:13:55.300
We don't want it to do that.

203
00:13:55.300 --> 00:13:59.320
We want it to detect that edge and then bounce back.

204
00:13:59.800 --> 00:14:06.370
That's why we want to we are going to study this collision detection in depth, because this is one

205
00:14:06.370 --> 00:14:11.890
of the core pillars of understanding game development in JavaScript and in general.

206
00:14:12.400 --> 00:14:13.780
So that's it for this lecture.

207
00:14:13.780 --> 00:14:15.130
See you guys in the next one.

208
00:14:15.130 --> 00:14:17.980
Now, before going, I need to set this back.

209
00:14:17.980 --> 00:14:24.280
So I'm just going to bring back our film style and I'm going to just go ahead and remove these strokes

210
00:14:24.430 --> 00:14:31.440
style so we get our circle and our circle has gives us the illusion that it is actually moving.

211
00:14:32.050 --> 00:14:33.670
See you guys in the next lecture.

