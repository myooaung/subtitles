WEBVTT
X-TIMESTAMP-MAP=LOCAL:00:00:00.000,MPEGTS:0

00:00:00.000 --> 00:00:06.860
Hello and welcome back to hashtag learning courses.

00:00:06.860 --> 00:00:08.310
And in this lesson,

00:00:08.310 --> 00:00:11.240
we're going to see how to reuse the Terra for models.

00:00:11.240 --> 00:00:11.920
Now,

00:00:11.920 --> 00:00:17.600
in the previous lesson we have created to models which are security group and easy to as

00:00:17.600 --> 00:00:18.190
models,

00:00:18.190 --> 00:00:20.950
and we have imported them in the main doctor fight.

00:00:20.950 --> 00:00:21.660
Now,

00:00:21.660 --> 00:00:26.730
what we're going to do is now you're going to create more easy to instances by just using

00:00:26.730 --> 00:00:27.590
the same model.

00:00:27.590 --> 00:00:28.050
Right?

00:00:28.050 --> 00:00:31.270
So we're not going to touch the easy to underscore model,

00:00:31.270 --> 00:00:32.350
Dr Jeff.

00:00:32.350 --> 00:00:38.030
We're just going to touch the main Dottie a file and we're going toe create another easy to

00:00:38.030 --> 00:00:40.690
instance using the same model.

00:00:40.690 --> 00:00:42.350
So let's go ahead and get started.

00:00:42.350 --> 00:00:45.420
So the first thing that I want to do is open up.

00:00:45.420 --> 00:00:48.850
My will be in the same project folder.

00:00:48.850 --> 00:00:50.050
Um,

00:00:50.050 --> 00:00:53.800
I'm opening up my terra farm.

00:00:53.800 --> 00:00:54.890
Ah,

00:00:54.890 --> 00:00:57.810
partial and my terra form folders.

00:00:57.810 --> 00:00:58.460
All right,

00:00:58.460 --> 00:01:00.640
so the first thing that I want to do it's,

00:01:00.640 --> 00:01:00.920
like,

00:01:00.920 --> 00:01:02.990
destroyed the instant that I've created previously.

00:01:02.990 --> 00:01:05.360
So I'm going to do terra form that strike,

00:01:05.360 --> 00:01:06.510
right?

00:01:06.510 --> 00:01:14.400
And it will last me for a confirmation in just a bit.

00:01:14.400 --> 00:01:24.160
All right,

00:01:24.160 --> 00:01:30.740
so this will be destroying the easy to instance and the security group that it created in

00:01:30.740 --> 00:01:31.880
the previous lesson.

00:01:31.880 --> 00:01:32.560
Okay,

00:01:32.560 --> 00:01:36.290
so one more thing that I want O mention here is ah,

00:01:36.290 --> 00:01:37.450
state files.

00:01:37.450 --> 00:01:37.700
Right.

00:01:37.700 --> 00:01:40.360
So when you are working in modules,

00:01:40.360 --> 00:01:44.430
you will not have state files for each specific model.

00:01:44.430 --> 00:01:44.620
Now,

00:01:44.620 --> 00:01:46.320
if you go into your model folder,

00:01:46.320 --> 00:01:47.830
you'll see nothing here.

00:01:47.830 --> 00:01:48.650
There is no Doc.

00:01:48.650 --> 00:01:52.460
TF backup are There is no doctor of state file.

00:01:52.460 --> 00:01:56.440
Everything is stored in the main ST fight itself.

00:01:56.440 --> 00:01:56.860
Right?

00:01:56.860 --> 00:01:58.110
So all the modules,

00:01:58.110 --> 00:01:58.720
Ah,

00:01:58.720 --> 00:02:04.190
information is stored in this main terra form doctor of state file.

00:02:04.190 --> 00:02:13.300
I can even open up that particular file and show you what exactly is created in that,

00:02:13.300 --> 00:02:13.820
right?

00:02:13.820 --> 00:02:16.390
So if we go here and open up,

00:02:16.390 --> 00:02:18.050
there are farmed RTF state files.

00:02:18.050 --> 00:02:20.480
Oh,

00:02:20.480 --> 00:02:22.980
there's nothing left because we have already destroyed what?

00:02:22.980 --> 00:02:24.670
I think there should be something in the back of files.

00:02:24.670 --> 00:02:25.140
Yes.

00:02:25.140 --> 00:02:26.010
So if you go here,

00:02:26.010 --> 00:02:27.850
you see that there are Ah,

00:02:27.850 --> 00:02:29.280
this is the route model.

00:02:29.280 --> 00:02:31.360
And there is nothing in here.

00:02:31.360 --> 00:02:33.060
All we have done,

00:02:33.060 --> 00:02:34.850
it's like we have created her,

00:02:34.850 --> 00:02:36.930
were imported the resources.

00:02:36.930 --> 00:02:40.810
I think this is the backup.

00:02:40.810 --> 00:02:42.210
This doesn't give us a good idea.

00:02:42.210 --> 00:02:44.200
But after this lesson,

00:02:44.200 --> 00:02:50.870
I will show you how toe actually check their terror from ST filing how the models are

00:02:50.870 --> 00:02:52.290
separated within the street fight.

00:02:52.290 --> 00:02:55.860
So let's clear this up and let's get started.

00:02:55.860 --> 00:02:58.660
So the first thing that we will do is,

00:02:58.660 --> 00:02:59.350
um,

00:02:59.350 --> 00:03:00.420
Goto,

00:03:00.420 --> 00:03:02.870
the project holder itself.

00:03:02.870 --> 00:03:06.200
Let's close everything OK,

00:03:06.200 --> 00:03:11.160
And the one which we are interested in this just e main Dottie A file.

00:03:11.160 --> 00:03:12.180
Now here.

00:03:12.180 --> 00:03:13.380
What we're going to do is,

00:03:13.380 --> 00:03:16.570
um we already have the easy to model and the security group.

00:03:16.570 --> 00:03:16.950
Wandell,

00:03:16.950 --> 00:03:23.590
we're just going to replicate this particular module and we're saying Okay,

00:03:23.590 --> 00:03:26.650
we want another copy off this easy to model,

00:03:26.650 --> 00:03:27.420
right?

00:03:27.420 --> 00:03:28.390
And,

00:03:28.390 --> 00:03:29.260
um,

00:03:29.260 --> 00:03:33.790
we are going to call it well,

00:03:33.790 --> 00:03:35.790
say easy to instance,

00:03:35.790 --> 00:03:38.300
one from model,

00:03:38.300 --> 00:03:42.360
and we'll say it's two instance to from module.

00:03:42.360 --> 00:03:44.460
Now,

00:03:44.460 --> 00:03:47.640
this will end up in creating two different,

00:03:47.640 --> 00:03:48.600
um,

00:03:48.600 --> 00:03:51.520
easy to instances for us,

00:03:51.520 --> 00:03:52.570
so we'll call it.

00:03:52.570 --> 00:03:56.290
Oh,

00:03:56.290 --> 00:03:59.270
we'll call this one.

00:03:59.270 --> 00:04:05.550
We'll call this to this is just the reference name to your model import.

00:04:05.550 --> 00:04:06.040
Right.

00:04:06.040 --> 00:04:07.310
So once you save this,

00:04:07.310 --> 00:04:11.770
all we have to do is go to terra form.

00:04:11.770 --> 00:04:13.030
Ah,

00:04:13.030 --> 00:04:13.300
good.

00:04:13.300 --> 00:04:15.950
Partial and run the tear off form in it.

00:04:15.950 --> 00:04:19.050
The reason why you have to run the terra form in it is again.

00:04:19.050 --> 00:04:21.200
Like I said in the previous lesson,

00:04:21.200 --> 00:04:25.450
whenever you add a new model or whenever you re import a specific model,

00:04:25.450 --> 00:04:30.260
you have tow run native four minutes so that the Terra form figures out that there's

00:04:30.260 --> 00:04:34.440
something new model attached to this particular main doctor.

00:04:34.440 --> 00:04:36.380
So want you to a terra form in it.

00:04:36.380 --> 00:04:42.770
You can see that there is easy to model one to model to being imported from the same source

00:04:42.770 --> 00:04:42.770
.

00:04:42.770 --> 00:04:43.420
Right?

00:04:43.420 --> 00:04:47.800
So you're reusing the same model now two times and it has been initialized.

00:04:47.800 --> 00:04:49.090
Now we can clear this.

00:04:49.090 --> 00:04:50.950
We can run terra form plan.

00:04:50.950 --> 00:04:53.460
Now you should see three Resource is being created.

00:04:53.460 --> 00:04:56.370
One is the security group and the too easy to instances.

00:04:56.370 --> 00:04:57.010
Right?

00:04:57.010 --> 00:04:59.550
So you have to We see two instances One security group.

00:04:59.550 --> 00:05:02.850
Now you can do Terra Farm apply,

00:05:02.850 --> 00:05:11.010
and it's going to create these three resources type in.

00:05:11.010 --> 00:05:11.550
Yes,

00:05:11.550 --> 00:05:16.140
And once you do this now,

00:05:16.140 --> 00:05:20.040
it will create the resources as specified.

00:05:20.040 --> 00:05:21.520
I'm gonna pass this lesson here,

00:05:21.520 --> 00:05:25.130
and I'm gonna come back once the issue Two instances are created.

00:05:25.130 --> 00:05:27.170
All right,

00:05:27.170 --> 00:05:28.850
so after ah,

00:05:28.850 --> 00:05:29.830
a few minutes.

00:05:29.830 --> 00:05:33.330
The Easter do instances are now created.

00:05:33.330 --> 00:05:38.690
Now let's go back to our council and check if they have Ah,

00:05:38.690 --> 00:05:40.050
completely provisioning.

00:05:40.050 --> 00:05:41.450
Now I just hit,

00:05:41.450 --> 00:05:42.120
refresh.

00:05:42.120 --> 00:05:45.690
And now you can see that easy to instance,

00:05:45.690 --> 00:05:51.080
one from Mardi ELISA Two instance to from module off are created and they're being

00:05:51.080 --> 00:05:51.790
initialized,

00:05:51.790 --> 00:05:54.790
and that's pretty much it.

00:05:54.790 --> 00:05:56.880
Now you have reused your,

00:05:56.880 --> 00:05:57.530
um,

00:05:57.530 --> 00:06:01.720
model and you have supplied different inputs to that,

00:06:01.720 --> 00:06:05.530
and you have created multiple resources out of the same court Now,

00:06:05.530 --> 00:06:10.320
like I said in the beginning off the lesson about the state files Now we can go ahead and

00:06:10.320 --> 00:06:12.010
check our state files.

00:06:12.010 --> 00:06:16.450
You should see that there is only one particular state file here,

00:06:16.450 --> 00:06:20.110
and there is no state files associated with any off the models here.

00:06:20.110 --> 00:06:24.940
And if you look carefully in the module section here,

00:06:24.940 --> 00:06:28.480
you should see that there is route part and inside route.

00:06:28.480 --> 00:06:32.240
But ah ah,

00:06:32.240 --> 00:06:40.490
Okay,

00:06:40.490 --> 00:06:45.250
So the pot is basically ah route and easy to module one.

00:06:45.250 --> 00:06:47.240
So inside first model,

00:06:47.240 --> 00:06:48.080
there is nothing.

00:06:48.080 --> 00:06:50.860
We don't have any resources in the second.

00:06:50.860 --> 00:06:51.580
Ah,

00:06:51.580 --> 00:06:52.650
In the second model,

00:06:52.650 --> 00:06:54.910
the part is basically under route.

00:06:54.910 --> 00:06:56.630
You have easy to model one,

00:06:56.630 --> 00:07:01.370
and you have the easy to instance resource being created.

00:07:01.370 --> 00:07:03.010
And in the second module,

00:07:03.010 --> 00:07:06.840
you have again route and easy to model to that you have imported.

00:07:06.840 --> 00:07:10.720
And it's particularly resource,

00:07:10.720 --> 00:07:12.720
and then you have the security group model.

00:07:12.720 --> 00:07:18.680
Then you have all the variables related to that particular is to model here,

00:07:18.680 --> 00:07:20.700
so that's pretty much it.

00:07:20.700 --> 00:07:24.640
This is how the state fire looks like when you use the models.

00:07:24.640 --> 00:07:25.300
And,

00:07:25.300 --> 00:07:25.860
um,

00:07:25.860 --> 00:07:32.040
I think you have learned a lot off information from this particular lesson,

00:07:32.040 --> 00:07:37.330
and I really hope that you can apply these techniques in your real projects and,

00:07:37.330 --> 00:07:37.810
um,

00:07:37.810 --> 00:07:43.910
get get the best start off the models in your infrastructure.

00:07:43.910 --> 00:07:46.780
So that's pretty much it for this lesson,

00:07:46.780 --> 00:07:48.530
and I will see you in the next lesson.

00:07:48.530 --> 00:07:53.340
You can ask me any other questions if you have in the course section,

00:07:53.340 --> 00:07:56.490
and I'll be happy to answer all those Thank you for watching

