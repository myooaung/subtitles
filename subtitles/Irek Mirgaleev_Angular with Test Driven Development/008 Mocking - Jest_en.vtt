WEBVTT

00:03.480 --> 00:07.850
Now we are going to add the same test for the chest part.

00:07.860 --> 00:12.230
So opening sign up component chests.

00:12.720 --> 00:18.090
So again, copying the previous test and pasting here.

00:18.330 --> 00:21.570
And the test is

00:24.120 --> 00:30.870
it sends username, email and password to back.

00:30.870 --> 00:38.880
And after clicking the button, by the way, there is a typo here.

00:40.790 --> 00:41.590
Enables.

00:42.020 --> 00:52.340
So we are going to fill the fields for the username and email just copying this one.

00:52.340 --> 01:01.730
This is for username and this is for email and the labels are user name with uppercase u and email with

01:01.730 --> 01:06.740
uppercase e dash mail and we will

01:09.470 --> 01:11.840
fill those inputs.

01:12.440 --> 01:20.980
This is user one and email is user one at mail com.

01:21.500 --> 01:31.070
Then we are going to click to this button and for clicking we are going to use user event click button.

01:33.630 --> 01:38.970
And again we are going to mock the functionality of fetch.

01:39.840 --> 01:48.540
But in this one we need to import the library we installed like in packages and initially we installed

01:48.540 --> 01:55.710
this library and this was for having the fetch in node environment.

01:55.950 --> 02:04.650
So the just tests are running in note and in node until the node version 18, there is no fetch.

02:04.650 --> 02:07.950
So we need to use this library.

02:07.980 --> 02:13.440
We are just importing this one like this then.

02:14.350 --> 02:18.790
Here, just like we do in the the default is.

02:18.790 --> 02:19.840
Let's open that one.

02:21.080 --> 02:22.400
Spectators.

02:22.640 --> 02:26.840
We were mocking the functionality of fetch and we will do the same thing here.

02:26.840 --> 02:28.250
But this was.

02:28.900 --> 02:36.040
Coming from the spy on was coming from the jasmine but in this one we are running the test with just

02:36.040 --> 02:38.740
so we will do like this again.

02:38.740 --> 02:41.170
We will have a spy, but this time we will call.

02:41.170 --> 02:43.360
Just spy on.

02:44.220 --> 02:46.740
And the rest is same.

02:47.280 --> 02:52.350
We are spying the fetch functionality of the window.

02:52.920 --> 02:57.780
Then the arguments are like this.

02:58.140 --> 03:02.430
It's not exactly the same like we were calling spy.

03:02.550 --> 03:04.500
All our calls, all arcs.

03:04.500 --> 03:12.090
But in this one we will get the arcs from spy mock and calls.

03:12.300 --> 03:15.240
So this is having the.

03:16.420 --> 03:18.610
The call history of this function.

03:18.610 --> 03:22.780
And we get the first one and from this first.

03:23.520 --> 03:36.180
Our first call, we will get the second parameter and it is ARX one and this is request in it.

03:37.380 --> 03:38.640
And we can just.

03:40.710 --> 03:44.100
Copy the expected parts from this test.

03:46.340 --> 03:50.060
And paste here, saving it.

03:52.400 --> 03:55.910
And here we see the test is passing.
