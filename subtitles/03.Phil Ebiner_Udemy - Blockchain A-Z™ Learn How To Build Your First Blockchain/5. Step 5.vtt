WEBVTT
1
00:00:04.860 --> 00:00:10.210
Hello and welcome to this new tutorial today we're going to make our first functions insularity.

2
00:00:10.290 --> 00:00:16.050
So as you can see these functions will get us the query and at coin's of an investor investor will be

3
00:00:16.050 --> 00:00:21.540
the input of the function and the equity in us the investor.

4
00:00:21.540 --> 00:00:25.980
All right so let's do this let's make these two functions to make a function and solidity.

5
00:00:25.980 --> 00:00:32.970
We need to start with a function then we need to give a name to that function and we'll call it equity

6
00:00:33.870 --> 00:00:35.970
in coins.

7
00:00:36.350 --> 00:00:39.700
And as we just said this function will take as argument.

8
00:00:39.810 --> 00:00:46.620
The investors are dressed like you know it's publicly which is a unique identifier that allows to differentiate

9
00:00:46.620 --> 00:00:51.980
investors and to specify a variable argument function and solidity.

10
00:00:52.140 --> 00:00:59.610
Well as for what we did previously we need to specify the type first which is an address and then the

11
00:00:59.610 --> 00:01:03.170
name of that doorbell and the name of the variable we have to choose it.

12
00:01:03.360 --> 00:01:06.270
It's going to be in this too.

13
00:01:06.510 --> 00:01:06.820
All right.

14
00:01:06.840 --> 00:01:07.990
That's pretty clear.

15
00:01:08.040 --> 00:01:13.960
We take the address of the investor as input of this equity and had coin's function but be careful.

16
00:01:13.980 --> 00:01:17.680
This is the type and this is the name of the variable.

17
00:01:18.000 --> 00:01:23.700
And then before we define what this function has to do we need to specify the type of what is function

18
00:01:23.700 --> 00:01:27.960
returns which will be of course the equity and therefore an integer.

19
00:01:27.960 --> 00:01:34.080
Again it will be an unsigned integer because the equity is always positive and besides we'll add here

20
00:01:34.080 --> 00:01:39.270
you'll see that the address of the investor is an external constant.

21
00:01:39.270 --> 00:01:44.880
There is a constant you know never modified and that is beside outside of the contract because no the

22
00:01:44.940 --> 00:01:52.740
address of the investor is not proper to the contract and will specify this by adding here external

23
00:01:53.520 --> 00:01:56.580
constant just like that external constant.

24
00:01:56.580 --> 00:01:59.450
So that's for the address of the investor.

25
00:01:59.580 --> 00:02:04.310
And now to specify the type of what this function is going to return.

26
00:02:04.470 --> 00:02:06.440
Well we have here returns.

27
00:02:06.600 --> 00:02:09.690
And then the type in parenthesis and the type.

28
00:02:09.690 --> 00:02:13.160
As we said is a you ended your function.

29
00:02:13.200 --> 00:02:18.940
So for those of you who want more information or explanation on this external constant.

30
00:02:19.140 --> 00:02:20.760
Well I prepared for you here.

31
00:02:20.940 --> 00:02:25.170
The bar of the documentation that contains these explanations.

32
00:02:25.290 --> 00:02:32.510
So in contract in this part of the documentation you will find constant state variables.

33
00:02:32.580 --> 00:02:38.220
So you click on this and here we go you have a lot more explanations on these constant state variables

34
00:02:38.640 --> 00:02:43.810
you know state variables can be declared as constant and that's what we just did.

35
00:02:44.070 --> 00:02:45.830
So great if you can check this out.

36
00:02:45.900 --> 00:02:50.040
Now let's go back to remakes and let's continue our function.

37
00:02:50.040 --> 00:02:56.320
So we are done with all the preset of this function and now to define what this function has to do.

38
00:02:56.430 --> 00:03:00.780
Be careful it's not a calling like in Python it's some brackets.

39
00:03:00.780 --> 00:03:06.210
And again if I press Enter We are America you get the closing brackets.

40
00:03:06.590 --> 00:03:07.120
OK.

41
00:03:07.270 --> 00:03:12.900
And now inside this function we have to code what we want this function to do.

42
00:03:12.900 --> 00:03:15.520
And what exactly do we want this function to do.

43
00:03:15.660 --> 00:03:20.920
Well we want this function to give us the equity in at coin's of an investor.

44
00:03:21.090 --> 00:03:23.580
We already have the address of the investor.

45
00:03:23.700 --> 00:03:29.310
So we're going to take that address and we're going to use of course the mapping that we made previously

46
00:03:29.610 --> 00:03:36.370
to take the addresses argument and returns the equity in Atkinson and that's all we have to do.

47
00:03:36.420 --> 00:03:37.940
Thanks to this mapping here.

48
00:03:38.020 --> 00:03:44.220
Now some of you might wonder why are we not using the mapping directly instead of making this new function

49
00:03:44.220 --> 00:03:45.960
which looks redundant.

50
00:03:45.960 --> 00:03:51.870
Well that's because this function that we're making right now is exactly the tool with which we will

51
00:03:51.930 --> 00:03:52.590
interact.

52
00:03:52.590 --> 00:03:59.550
In my wallet you'll see we'll have in the dropdown list of the actions we can do this function and the

53
00:03:59.550 --> 00:04:00.600
other functions we'll make.

54
00:04:00.600 --> 00:04:03.520
Like buy at coins or sell at coins.

55
00:04:03.540 --> 00:04:10.140
So that's the main reason we're making this function just retaking the mapping in order to be able to

56
00:04:10.140 --> 00:04:12.020
call this in my ether wallet.

57
00:04:12.250 --> 00:04:19.910
OK so now what we just need to do is therefore to get our mapping which we called equity at coins.

58
00:04:20.190 --> 00:04:29.220
So I'm copying this and here I'm going to return exactly this mapping return the query at coin's which

59
00:04:29.220 --> 00:04:35.400
of course takes an argument the address of the investor and therefore to finish this we just need to

60
00:04:35.420 --> 00:04:36.480
input here.

61
00:04:36.480 --> 00:04:38.160
Investor.

62
00:04:38.160 --> 00:04:38.890
All right.

63
00:04:39.000 --> 00:04:39.750
Done.

64
00:04:39.810 --> 00:04:42.260
And let's not forget the semicolon.

65
00:04:42.270 --> 00:04:42.950
There we go.

66
00:04:42.960 --> 00:04:44.340
Our function is ready.

67
00:04:44.640 --> 00:04:48.430
So congratulations for having implemented your first function.

68
00:04:48.450 --> 00:04:57.780
Now let's be very efficient and copy this in order to do the same for getting the equity in US this

69
00:04:57.780 --> 00:04:59.220
time of an investor.

70
00:04:59.400 --> 00:05:04.690
So I'm pasting that here and now know we will get a lot of errors that I've read but that's OK as is

71
00:05:04.710 --> 00:05:06.830
because we have the same functions.

72
00:05:06.840 --> 00:05:12.820
We just need to give another name here which will be of course equity in U S D.

73
00:05:12.870 --> 00:05:17.300
That's a new function which will take as argument the address of the investor.

74
00:05:17.310 --> 00:05:20.850
Don't forget that address is a type an investor is the name of the voivode.

75
00:05:21.000 --> 00:05:27.930
This investor variable is an external constant and this function will return the equity in US dollars

76
00:05:28.100 --> 00:05:33.980
of the investor and therefore I here replacing that coins by you as the.

77
00:05:34.170 --> 00:05:40.680
Because indeed the name of our mapping mapping the investor urged us to its equity in USD It's called

78
00:05:40.790 --> 00:05:45.140
equity easy and therefore here lets press enter and there we go.

79
00:05:45.150 --> 00:05:47.780
We have our second function perfect.

80
00:05:47.790 --> 00:05:49.580
So that's it for this Statoil.

81
00:05:49.590 --> 00:05:54.990
Quite an easy one in the next one it's going to get slightly more challenging because we'll make eventually

82
00:05:55.320 --> 00:06:02.910
our buy at Queen's function which will be the action the tool to buy some coins in my wallet.

83
00:06:02.940 --> 00:06:07.770
And so that's exactly what we have to implement in this next it's oil and then we'll have a final to

84
00:06:07.770 --> 00:06:14.340
toil to implement the inverse function to sell some odd coins because I remind that we offer to our

85
00:06:14.340 --> 00:06:16.160
investors the buy back option.
