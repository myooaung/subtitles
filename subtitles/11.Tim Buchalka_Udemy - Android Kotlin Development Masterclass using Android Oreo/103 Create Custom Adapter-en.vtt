WEBVTT
1

00:00:04.660 --> 00:00:06.610

so in this video we're going to have a



2

00:00:06.610 --> 00:00:08.530

look at using your list view to display



3

00:00:08.530 --> 00:00:11.230

something a bit more complex than just a



4

00:00:11.230 --> 00:00:13.420

single text widget now you can of course



5

00:00:13.420 --> 00:00:15.760

display any of the values from the XML



6

00:00:15.760 --> 00:00:17.710

that you want but I've chosen to show



7

00:00:17.710 --> 00:00:20.260

the name of the application the artist



8

00:00:20.260 --> 00:00:23.400

and the summary so here's the challenge



9

00:00:23.400 --> 00:00:25.989

you want to create a constraint layout



10

00:00:25.989 --> 00:00:28.029

containing three textview widgets



11

00:00:28.029 --> 00:00:30.730

arranged one below the other so that



12

00:00:30.730 --> 00:00:31.869

they match the image you can see



13

00:00:31.869 --> 00:00:33.850

on-screen and you want to call the



14

00:00:33.850 --> 00:00:35.980

layout list on the school record



15

00:00:35.980 --> 00:00:38.920

now the textview should have the IDS TV



16

00:00:38.920 --> 00:00:42.580

name TV artist and TV summary with the



17

00:00:42.580 --> 00:00:45.130

appropriate tech capitalization and all



18

00:00:45.130 --> 00:00:47.020

three should grow in height to match



19

00:00:47.020 --> 00:00:48.010

their contents



20

00:00:48.010 --> 00:00:50.830

now the artists our textview should also



21

00:00:50.830 --> 00:00:53.740

be able to grow wider if necessary to



22

00:00:53.740 --> 00:00:56.740

accommodate longer artist names so you



23

00:00:56.740 --> 00:00:58.240

want to make sure that all the necessary



24

00:00:58.240 --> 00:01:00.579

constraints are created so that the



25

00:01:00.579 --> 00:01:01.960

widgets will appear in the correct



26

00:01:01.960 --> 00:01:04.170

position when the layouts displayed and



27

00:01:04.170 --> 00:01:07.390

will remain below each other so



28

00:01:07.390 --> 00:01:09.159

experiment with the font sizes and bold



29

00:01:09.159 --> 00:01:10.600

so that the text will look similar to



30

00:01:10.600 --> 00:01:11.679

what you can see on the screen there



31

00:01:11.679 --> 00:01:13.929

with that image alright so that's the



32

00:01:13.929 --> 00:01:15.490

challenge say hey you go with it pause



33

00:01:15.490 --> 00:01:17.109

the video now and complete the challenge



34

00:01:17.109 --> 00:01:19.420

and I'll see you when you get back pause



35

00:01:19.420 --> 00:01:26.120

the video now



36

00:01:26.120 --> 00:01:28.430

all right so I'm going to start by



37

00:01:28.430 --> 00:01:28.970

ensuring



38

00:01:28.970 --> 00:01:31.250

I've got the layout folder expanded you



39

00:01:31.250 --> 00:01:32.930

can see here I've done that and then I'm



40

00:01:32.930 --> 00:01:34.130

going to right-click on the layout



41

00:01:34.130 --> 00:01:37.250

folder click on new and select layout



42

00:01:37.250 --> 00:01:40.340

resource file and if you recall from the



43

00:01:40.340 --> 00:01:42.260

challenge the power name we want is list



44

00:01:42.260 --> 00:01:47.840

underscore record the root element we're



45

00:01:47.840 --> 00:01:49.340

dealing with constraint layouts so it



46

00:01:49.340 --> 00:01:51.020

should become straight layer so I'm just



47

00:01:51.020 --> 00:01:53.000

going to specify enough for top enough



48

00:01:53.000 --> 00:01:54.530

characters until that's specified then



49

00:01:54.530 --> 00:01:56.360

double click and as you saw there



50

00:01:56.360 --> 00:01:58.220

everything was just fine at that point



51

00:01:58.220 --> 00:02:00.650

so I'm just click on OK and that's



52

00:02:00.650 --> 00:02:01.880

obviously showing it on the screen there



53

00:02:01.880 --> 00:02:04.070

now I'm just going to close down the



54

00:02:04.070 --> 00:02:05.869

project pane for now think of this a bit



55

00:02:05.869 --> 00:02:08.149

more space and I'm going to start by



56

00:02:08.149 --> 00:02:10.670

setting the default margin because most



57

00:02:10.670 --> 00:02:13.160

margins are going to be 16 DP so I'm



58

00:02:13.160 --> 00:02:15.740

going to come up here to the default and



59

00:02:15.740 --> 00:02:19.160

specify 16 that's the default margin and



60

00:02:19.160 --> 00:02:21.020

I'm also going to make sure auto connect



61

00:02:21.020 --> 00:02:22.700

is off you can see there that I've got



62

00:02:22.700 --> 00:02:25.040

the slash through it so that



63

00:02:25.040 --> 00:02:27.140

auto-connect is off next we're going to



64

00:02:27.140 --> 00:02:30.700

drag three text views into the design



65

00:02:30.700 --> 00:02:32.600

now I'm going to show one way to



66

00:02:32.600 --> 00:02:34.310

constrain the widgets to get the effect



67

00:02:34.310 --> 00:02:36.920

we want but it's not the only way there



68

00:02:36.920 --> 00:02:38.510

was long as your constraints keep the



69

00:02:38.510 --> 00:02:40.130

text views where they should be and



70

00:02:40.130 --> 00:02:41.989

allow them to grow without overlapping



71

00:02:41.989 --> 00:02:44.300

then that's fine all right so let's go



72

00:02:44.300 --> 00:02:55.140

through and add three text views



73

00:02:55.140 --> 00:02:57.700

all right so I'm going to start off now



74

00:02:57.700 --> 00:02:59.310

I'm going to constrain the first view of



75

00:02:59.310 --> 00:03:02.590

the first text view to the top left and



76

00:03:02.590 --> 00:03:05.379

right edges of the layouts I'm going to



77

00:03:05.379 --> 00:03:07.480

go ahead and do that so I left first



78

00:03:07.480 --> 00:03:13.120

then top and then right then we set the



79

00:03:13.120 --> 00:03:15.010

default margins of 16 which is correct



80

00:03:15.010 --> 00:03:16.840

for left to right but for the top margin



81

00:03:16.840 --> 00:03:18.879

I'm going to actually change that to 8



82

00:03:18.879 --> 00:03:20.439

so it's a little bit closer towards the



83

00:03:20.439 --> 00:03:24.639

top then the ID for this one instead of



84

00:03:24.639 --> 00:03:29.680

text view is going to be TV name and we



85

00:03:29.680 --> 00:03:31.959

want to set its width to match



86

00:03:31.959 --> 00:03:37.269

constraint and that's how it can fill



87

00:03:37.269 --> 00:03:39.700

the layout horizontally if necessary now



88

00:03:39.700 --> 00:03:42.010

the layout height that's going to be set



89

00:03:42.010 --> 00:03:43.810

to wrap content so that the text view



90

00:03:43.810 --> 00:03:45.549

can grow down the screen to accommodate



91

00:03:45.549 --> 00:03:48.189

all the text it contains and you can see



92

00:03:48.189 --> 00:03:49.689

there that's already set to wrap content



93

00:03:49.689 --> 00:03:51.329

so I don't need to make the change now



94

00:03:51.329 --> 00:03:54.099

for the text size you're not restricted



95

00:03:54.099 --> 00:03:55.329

to the values that appear in the



96

00:03:55.329 --> 00:03:57.069

drop-down by the way so in come down



97

00:03:57.069 --> 00:03:58.650

here in the text size I click on that



98

00:03:58.650 --> 00:04:00.760

you don't have to select one of those



99

00:04:00.760 --> 00:04:02.919

instead you can actually type it so I'm



100

00:04:02.919 --> 00:04:04.449

going to come up here and just type in



101

00:04:04.449 --> 00:04:06.909

20 SP which is a reasonable size and



102

00:04:06.909 --> 00:04:07.709

press Enter



103

00:04:07.709 --> 00:04:09.790

it's finally gonna come down here in a



104

00:04:09.790 --> 00:04:13.150

text style and click on B which is bold



105

00:04:13.150 --> 00:04:14.680

and you can see that's impede bold now



106

00:04:14.680 --> 00:04:17.079

in the design so basically we've got



107

00:04:17.079 --> 00:04:20.799

match constraint wrap content size of 20



108

00:04:20.799 --> 00:04:25.000

SP now just type that in again I'm not



109

00:04:25.000 --> 00:04:26.860

sure what happened there at 20 SP and



110

00:04:26.860 --> 00:04:28.990

you can see that the text is now larger



111

00:04:28.990 --> 00:04:30.580

so that's correct and we are still



112

00:04:30.580 --> 00:04:33.220

bolded all right so moving deer the next



113

00:04:33.220 --> 00:04:35.770

widget will click on that next text view



114

00:04:35.770 --> 00:04:38.199

this one we're going to have the ID of



115

00:04:38.199 --> 00:04:43.690

TV artist now it's top edge should be



116

00:04:43.690 --> 00:04:45.340

constrained to the bottom edge of TV



117

00:04:45.340 --> 00:04:48.639

name so let's do that first so top edge



118

00:04:48.639 --> 00:04:51.570

constrain to the bottom of TV note and



119

00:04:51.570 --> 00:04:53.770

also the right edge should be



120

00:04:53.770 --> 00:04:54.909

constrained to the right edge of the



121

00:04:54.909 --> 00:04:59.389

layout I'm going to go ahead and do that



122

00:04:59.389 --> 00:05:01.550

now I'm not going to constrain the left



123

00:05:01.550 --> 00:05:03.139

edge to start with this is something



124

00:05:03.139 --> 00:05:05.659

that you need to watch out for here now



125

00:05:05.659 --> 00:05:07.370

because this text view is constrained to



126

00:05:07.370 --> 00:05:10.490

the right edge of the layout and it's a



127

00:05:10.490 --> 00:05:11.960

width at the moment is set to wrap



128

00:05:11.960 --> 00:05:14.270

content the text in it's going to appear



129

00:05:14.270 --> 00:05:15.770

up against the right edge of the screen



130

00:05:15.770 --> 00:05:18.199

and the widget will expand to the left



131

00:05:18.199 --> 00:05:20.479

if it needs to so that's fine just be



132

00:05:20.479 --> 00:05:22.669

careful if you change the width to match



133

00:05:22.669 --> 00:05:25.430

constraint though and just see what I



134

00:05:25.430 --> 00:05:26.719

mean for changing the width from the or



135

00:05:26.719 --> 00:05:29.449

too much constraint now only use much



136

00:05:29.449 --> 00:05:31.099

constraint for the layout width or



137

00:05:31.099 --> 00:05:33.020

layout height if you've got a constraint



138

00:05:33.020 --> 00:05:35.389

set on both of the edges you know if



139

00:05:35.389 --> 00:05:36.860

layout then let's call width is set to



140

00:05:36.860 --> 00:05:38.270

match constraint which I've done here



141

00:05:38.270 --> 00:05:41.000

now then you need to constrain the left



142

00:05:41.000 --> 00:05:43.250

and right edges if they are high to set



143

00:05:43.250 --> 00:05:45.110

too much constraint then the top and



144

00:05:45.110 --> 00:05:47.479

bottom edges should be constrained and



145

00:05:47.479 --> 00:05:49.009

if you think about it match constraint



146

00:05:49.009 --> 00:05:50.810

means that the size of the widget is



147

00:05:50.810 --> 00:05:52.639

constrained between the two boundaries



148

00:05:52.639 --> 00:05:54.620

and if one of the boundaries isn't



149

00:05:54.620 --> 00:05:56.449

defined it's really hard for anything to



150

00:05:56.449 --> 00:05:58.879

work out what the results should be now



151

00:05:58.879 --> 00:06:00.229

you'll often get away with it for the



152

00:06:00.229 --> 00:06:01.460

width but if you do it for the height



153

00:06:01.460 --> 00:06:03.500

you can get our results you know widgets



154

00:06:03.500 --> 00:06:05.180

overlapping other widgets is a common



155

00:06:05.180 --> 00:06:06.979

symptom of using Matt's constraint when



156

00:06:06.979 --> 00:06:09.789

only one edge is constrained



157

00:06:09.789 --> 00:06:12.440

now as I've changed the widget to Matt's



158

00:06:12.440 --> 00:06:14.089

constraint let's see how to use it



159

00:06:14.089 --> 00:06:16.639

properly here now we need to constrain



160

00:06:16.639 --> 00:06:19.099

the left hand edge to the left of the



161

00:06:19.099 --> 00:06:21.229

layout so that both edges are



162

00:06:21.229 --> 00:06:23.750

constrained now we did have the text



163

00:06:23.750 --> 00:06:25.310

view positioned at the right hand side



164

00:06:25.310 --> 00:06:27.770

which gave the effect we wanted note



165

00:06:27.770 --> 00:06:29.659

that our text view feels the width of



166

00:06:29.659 --> 00:06:31.819

the screen so let's go ahead and do that



167

00:06:31.819 --> 00:06:36.500

because train it to the left so you can



168

00:06:36.500 --> 00:06:38.300

see now that's the text view feelings



169

00:06:38.300 --> 00:06:39.949

the width of the screen we're going to



170

00:06:39.949 --> 00:06:41.389

take a different approach though and



171

00:06:41.389 --> 00:06:43.159

position the text to the right of the



172

00:06:43.159 --> 00:06:45.620

text view now there's actually a quick



173

00:06:45.620 --> 00:06:47.449

way to do that using the text alignment



174

00:06:47.449 --> 00:06:49.969

attribute and we can come down here and



175

00:06:49.969 --> 00:06:51.770

see that text alignment there's five



176

00:06:51.770 --> 00:06:54.620

options there so the first two here they



177

00:06:54.620 --> 00:06:56.900

actually align the text to the left the



178

00:06:56.900 --> 00:06:58.550

difference though is at the first K is



179

00:06:58.550 --> 00:07:00.919

for right-to-left languages now this



180

00:07:00.919 --> 00:07:03.620

middle button that's sent as the text in



181

00:07:03.620 --> 00:07:05.889

the text view and the last two over here



182

00:07:05.889 --> 00:07:09.050

they write align the text again catering



183

00:07:09.050 --> 00:07:11.120

for right-to-left languages so if you



184

00:07:11.120 --> 00:07:13.200

choose the one with a vertical bar the



185

00:07:13.200 --> 00:07:15.330

in here that's the one we're gonna be



186

00:07:15.330 --> 00:07:18.450

using so I'm gonna click on that okay so



187

00:07:18.450 --> 00:07:19.740

I touched on that and in an earlier



188

00:07:19.740 --> 00:07:22.110

section there's two approaches to



189

00:07:22.110 --> 00:07:23.940

changing the alignment of something and



190

00:07:23.940 --> 00:07:25.650

we used in an image in the earlier



191

00:07:25.650 --> 00:07:28.140

example you can align the widget within



192

00:07:28.140 --> 00:07:29.610

the layout which is what we did with our



193

00:07:29.610 --> 00:07:31.650

text for you to start with or you can



194

00:07:31.650 --> 00:07:34.200

align the widgets contents inside the



195

00:07:34.200 --> 00:07:36.780

widget which is what we're now doing now



196

00:07:36.780 --> 00:07:38.310

there's often no difference between the



197

00:07:38.310 --> 00:07:39.660

two approaches they're just different



198

00:07:39.660 --> 00:07:41.690

ways to achieve the same effect



199

00:07:41.690 --> 00:07:44.190

now before we constrain the third



200

00:07:44.190 --> 00:07:46.800

textview I want to get this one the same



201

00:07:46.800 --> 00:07:48.930

right and left margins as TV name to



202

00:07:48.930 --> 00:07:50.820

make sure that that's specified 16 which



203

00:07:50.820 --> 00:07:54.540

is correct but a top margin of 0 so we



204

00:07:54.540 --> 00:07:59.130

go ahead and do that the reason is text



205

00:07:59.130 --> 00:08:00.690

views have internal padding so there's



206

00:08:00.690 --> 00:08:02.730

no need to have a top margin here for



207

00:08:02.730 --> 00:08:04.440

most rows the name will be over to the



208

00:08:04.440 --> 00:08:05.880

left and the artists over to the right



209

00:08:05.880 --> 00:08:08.100

so there's really no snow need in this



210

00:08:08.100 --> 00:08:10.310

particular case to space them apart and



211

00:08:10.310 --> 00:08:14.730

lastly a text size of 418 SP is probably



212

00:08:14.730 --> 00:08:16.920

sufficient here so we'll do that and the



213

00:08:16.920 --> 00:08:17.970

other thing we'll do is just make sure



214

00:08:17.970 --> 00:08:18.780

that it's sawn



215

00:08:18.780 --> 00:08:21.960

make it sure that it's set to bold okay



216

00:08:21.960 --> 00:08:25.050

so that's T V artists now the third one



217

00:08:25.050 --> 00:08:26.820

third text view we're going to call that



218

00:08:26.820 --> 00:08:30.870

TV summary so I click on that I D TV



219

00:08:30.870 --> 00:08:35.640

summary now it's gonna have its top edge



220

00:08:35.640 --> 00:08:37.830

constrained to the bottom edge of T V



221

00:08:37.830 --> 00:08:39.840

artist and it's right and left edges



222

00:08:39.840 --> 00:08:42.180

constrained to the layout so let's go



223

00:08:42.180 --> 00:08:44.040

ahead and do that so do the right left



224

00:08:44.040 --> 00:08:49.830

first in a so mention we're going to set



225

00:08:49.830 --> 00:08:52.620

the top edge constraint to the bottom



226

00:08:52.620 --> 00:08:57.180

edge of T V artist we want to make sure



227

00:08:57.180 --> 00:08:58.860

the layout width is set to match



228

00:08:58.860 --> 00:09:03.180

constraint you know the default font



229

00:09:03.180 --> 00:09:05.360

size of 14 is probably okay for this one



230

00:09:05.360 --> 00:09:08.910

I'm gonna set the top margin to 8 that's



231

00:09:08.910 --> 00:09:11.760

a little bit closer all right so I'll



232

00:09:11.760 --> 00:09:13.860

flick over to the XML and just make sure



233

00:09:13.860 --> 00:09:15.420

that it's formatted or the last few



234

00:09:15.420 --> 00:09:16.770

times I've done that I haven't needed to



235

00:09:16.770 --> 00:09:20.130

do anything that's all nicely four



236

00:09:20.130 --> 00:09:22.329

minutes and that's good



237

00:09:22.329 --> 00:09:23.980

okay so now that we've got a view to use



238

00:09:23.980 --> 00:09:26.170

to display the fields of our feed entry



239

00:09:26.170 --> 00:09:28.420

objects it's time to create our own



240

00:09:28.420 --> 00:09:31.179

adapter to extend the base functionality



241

00:09:31.179 --> 00:09:33.639

of the array adapter now if you remember



242

00:09:33.639 --> 00:09:34.989

from the discussion about how the



243

00:09:34.989 --> 00:09:37.509

ListView and adapt to work together the



244

00:09:37.509 --> 00:09:39.249

adapter provides the list view with a



245

00:09:39.249 --> 00:09:42.220

populated view to display now the



246

00:09:42.220 --> 00:09:44.589

current array adapters probably quite



247

00:09:44.589 --> 00:09:46.269

easy to understand because it uses a



248

00:09:46.269 --> 00:09:48.549

single textview ask the view that it



249

00:09:48.549 --> 00:09:50.529

sends to the list to the list view to



250

00:09:50.529 --> 00:09:53.049

display but here we've got three



251

00:09:53.049 --> 00:09:54.549

different text views so how does that



252

00:09:54.549 --> 00:09:56.379

actually work if we just open the



253

00:09:56.379 --> 00:09:59.049

project pane and have a look at a list



254

00:09:59.049 --> 00:10:02.679

underscore item that XML now when we set



255

00:10:02.679 --> 00:10:04.119

up the textview in the list underscore



256

00:10:04.119 --> 00:10:07.239

item XML view we created it just just to



257

00:10:07.239 --> 00:10:11.170

contain literally a single textview you



258

00:10:11.170 --> 00:10:13.449

see everything app textview so that was



259

00:10:13.449 --> 00:10:15.249

pretty straightforward the array adapter



260

00:10:15.249 --> 00:10:17.829

just uses this XML to create a textview



261

00:10:17.829 --> 00:10:20.199

and then it puts the objects text into



262

00:10:20.199 --> 00:10:23.559

it before sending it to the ListView but



263

00:10:23.559 --> 00:10:25.360

go back to our list underscore record on



264

00:10:25.360 --> 00:10:28.809

XML here we've got these three text



265

00:10:28.809 --> 00:10:31.600

views but they're all contained within



266

00:10:31.600 --> 00:10:34.149

the constraint layout view and you can



267

00:10:34.149 --> 00:10:35.499

see that in the component tree so I can



268

00:10:35.499 --> 00:10:36.970

street layout then there's the three



269

00:10:36.970 --> 00:10:39.309

text views contrasting that to the list



270

00:10:39.309 --> 00:10:41.169

of a score item is literally just a text



271

00:10:41.169 --> 00:10:45.279

- so basically constraint layout in this



272

00:10:45.279 --> 00:10:46.839

particular case for list underscore



273

00:10:46.839 --> 00:10:49.809

record in XML that's also a view so



274

00:10:49.809 --> 00:10:51.639

technically it's a view group but a view



275

00:10:51.639 --> 00:10:53.230

group is really just another kind of



276

00:10:53.230 --> 00:10:56.139

view now the ListView widget is quite



277

00:10:56.139 --> 00:10:57.939

happy to be given a constraint layout



278

00:10:57.939 --> 00:11:00.129

for the view it should use and it will



279

00:11:00.129 --> 00:11:01.989

display the constraint layout including



280

00:11:01.989 --> 00:11:05.379

any other widgets that it contains so



281

00:11:05.379 --> 00:11:07.299

keep in mind that when we talk about the



282

00:11:07.299 --> 00:11:09.639

adapter sending a view to the ListView



283

00:11:09.639 --> 00:11:12.309

you can either send a single widget such



284

00:11:12.309 --> 00:11:14.139

as the textview that we're currently



285

00:11:14.139 --> 00:11:16.839

using or it can really see but it can



286

00:11:16.839 --> 00:11:18.910

also send back a view that contains



287

00:11:18.910 --> 00:11:21.040

other views as we're about to do for



288

00:11:21.040 --> 00:11:23.110

lists tunnels called record dot XML so



289

00:11:23.110 --> 00:11:25.239

this view will happily display any view



290

00:11:25.239 --> 00:11:27.069

that it's given even if that view



291

00:11:27.069 --> 00:11:29.739

contains other views so what we're going



292

00:11:29.739 --> 00:11:32.199

to do with our custom adapter is change



293

00:11:32.199 --> 00:11:34.119

the text in each of the text views and



294

00:11:34.119 --> 00:11:35.649

send them all to the ListView



295

00:11:35.649 --> 00:11:37.899

packaged inside the constraint layout



296

00:11:37.899 --> 00:11:40.540

view so we'll create our custom adapter



297

00:11:40.540 --> 00:11:43.470

in the next video



