WEBVTT
ï»¿1
00:00:00.000 --> 00:00:03.540
Friends here we're implementing a simple shell script to

2
00:00:03.540 --> 00:00:07.200
send automatic male alert when ram memory gets low,

3
00:00:07.200 --> 00:00:10.140
let me implement this shell script with step-by-step.

4
00:00:10.140 --> 00:00:15.180
See, first of all, I have to know what is the RAM size on my host,

5
00:00:15.180 --> 00:00:16.680
then simply run free command,

6
00:00:16.680 --> 00:00:18.945
but it is showing in terms of KB.

7
00:00:18.945 --> 00:00:22.005
But I wanted to see either in MB or in GB.

8
00:00:22.005 --> 00:00:26.340
But if I go with GBD showing 0 because my RAM size is less than one,

9
00:00:26.340 --> 00:00:28.620
GBD is actually 900 only.

10
00:00:28.620 --> 00:00:31.905
That's why here I will practise with two free hyphen Yum.

11
00:00:31.905 --> 00:00:34.870
But in your real time just to go with G-O only.

12
00:00:34.870 --> 00:00:38.975
But here I'm practicing with hydronium for our practice along with young,

13
00:00:38.975 --> 00:00:41.060
if you take heifer t option.

14
00:00:41.060 --> 00:00:49.460
Now see that in the last line AD showing total US and currently available free RAM size.

15
00:00:49.460 --> 00:00:53.030
Now before deciding whether your RAM size is low,

16
00:00:53.030 --> 00:00:55.010
Armand, you hope to set a limit.

17
00:00:55.010 --> 00:01:00.200
Suppose I will take my limit or my threshold value has 400 MB.

18
00:01:00.200 --> 00:01:03.200
Whenever, if my RAM size is less than 400 MB,

19
00:01:03.200 --> 00:01:07.250
Then I can say that my RAM is getting low,

20
00:01:07.250 --> 00:01:10.040
but is based on your requirement in near real time,

21
00:01:10.040 --> 00:01:11.885
you have to set the threshold limit.

22
00:01:11.885 --> 00:01:14.750
Now from these command.

23
00:01:14.750 --> 00:01:20.860
If I grapple with total for your better Brackets,

24
00:01:20.860 --> 00:01:23.950
always tried to practice with capitals hyphen e.

25
00:01:23.950 --> 00:01:27.820
Total aren't even simply can take total only.

26
00:01:27.820 --> 00:01:29.660
Sorry.

27
00:01:29.820 --> 00:01:33.160
You are getting lost lane in that last line.

28
00:01:33.160 --> 00:01:34.465
So what I need for the field,

29
00:01:34.465 --> 00:01:37.420
then you can take either a delegate command or cut command.

30
00:01:37.420 --> 00:01:40.960
Suppose I hear, I'm going with AWPA comment or oc command.

31
00:01:40.960 --> 00:01:44.185
You are getting your last value.

32
00:01:44.185 --> 00:01:45.355
I mean, for the field,

33
00:01:45.355 --> 00:01:50.605
no command which we need to decide whether you are RAM size is low or not.

34
00:01:50.605 --> 00:01:53.540
No, let me implement a simple shell script.

35
00:01:54.210 --> 00:02:00.255
Send automatic male alert message.

36
00:02:00.255 --> 00:02:03.395
Let me write our shebang line first.

37
00:02:03.395 --> 00:02:05.360
See, first of all,

38
00:02:05.360 --> 00:02:07.355
I'm deciding a threshold limit.

39
00:02:07.355 --> 00:02:10.220
So based on your requirement in your real time,

40
00:02:10.220 --> 00:02:12.140
you will take this threshold limit,

41
00:02:12.140 --> 00:02:14.165
simply threshold limit as of now,

42
00:02:14.165 --> 00:02:17.930
in my case, 400 means it is in terms of EMB.

43
00:02:17.930 --> 00:02:24.455
Now, let me find the free available RAM.

44
00:02:24.455 --> 00:02:26.135
So just now we have seen a comment.

45
00:02:26.135 --> 00:02:30.215
So I'm taking free RAM size are available RAM.

46
00:02:30.215 --> 00:02:31.850
You can take any variable.

47
00:02:31.850 --> 00:02:35.180
Then this combined output I'm assigning to that variable.

48
00:02:35.180 --> 00:02:37.265
Now I'm writing a simple if condition.

49
00:02:37.265 --> 00:02:44.420
If tested, you are free currently available RAM usage.

50
00:02:44.420 --> 00:02:47.900
If d is less than, you know,

51
00:02:47.900 --> 00:02:51.935
we have LT come iPhone LD option less than threshold emit.

52
00:02:51.935 --> 00:02:57.140
Then you can say that your RAM size is getting low.

53
00:02:57.140 --> 00:03:00.785
Then I am writing here simply then echo.

54
00:03:00.785 --> 00:03:04.320
Simply I am taking hyphen e.

55
00:03:06.400 --> 00:03:14.300
Server is running with low RAM size.

56
00:03:14.300 --> 00:03:18.065
And what is that size? Suppose I want display in the next line.

57
00:03:18.065 --> 00:03:24.125
In the next line I am writing simply available RAM is.

58
00:03:24.125 --> 00:03:28.955
So here let me print that free RAM.

59
00:03:28.955 --> 00:03:30.530
That's it.

60
00:03:30.530 --> 00:03:32.735
Close it.

61
00:03:32.735 --> 00:03:35.045
Now let me save it.

62
00:03:35.045 --> 00:03:38.580
Probably the execution permissions for that.

63
00:03:38.590 --> 00:03:40.340
Note on it.

64
00:03:40.340 --> 00:03:41.945
See you output what you are getting.

65
00:03:41.945 --> 00:03:46.385
Somebody is running with low RAM size and available RAM is 331.

66
00:03:46.385 --> 00:03:47.570
Actually our limit is 400.

67
00:03:47.570 --> 00:03:49.955
Suppose if I take 400 instead of 100,

68
00:03:49.955 --> 00:03:53.780
if I take my limit as 300 means whenever if my RAM size available,

69
00:03:53.780 --> 00:03:55.220
RAM size is less than 300,

70
00:03:55.220 --> 00:03:59.930
then only I want to get a mail alerts saying that your RAM size is low.

71
00:03:59.930 --> 00:04:04.655
Now if I run, you are not getting the output anything because now you're free.

72
00:04:04.655 --> 00:04:08.390
Ram size is not crossing your threshold limit,

73
00:04:08.390 --> 00:04:11.015
is not less than your threshold limit.

74
00:04:11.015 --> 00:04:16.265
That's why in our case we are taken simply threshold limit, suppose 400.

75
00:04:16.265 --> 00:04:18.965
Just to trigger a male, that's it.

76
00:04:18.965 --> 00:04:21.035
Be clear in your real time,

77
00:04:21.035 --> 00:04:23.360
you'll have your RAM size in terms of gb.

78
00:04:23.360 --> 00:04:27.830
Then suppose you will take Threshold Limit as 1GB or 2GB,

79
00:04:27.830 --> 00:04:31.250
just search under ten GB available RAM is there initially.

80
00:04:31.250 --> 00:04:34.625
But whenever some applications are running you around will consume.

81
00:04:34.625 --> 00:04:38.060
But maybe sometimes if more RAM is used,

82
00:04:38.060 --> 00:04:43.340
then you are ram may fall to 1GB or 2GB.

83
00:04:43.340 --> 00:04:45.215
If we take Threshold Limit as 2GB,

84
00:04:45.215 --> 00:04:47.930
that whenever if you are free RAM size is less than two GB,

85
00:04:47.930 --> 00:04:51.950
then other time you can send automatically male alert. So that is the concept.

86
00:04:51.950 --> 00:04:53.915
Now let me save it.

87
00:04:53.915 --> 00:04:58.265
So as of now you are running manually or shells could Monday or seeing output,

88
00:04:58.265 --> 00:05:00.305
but automatically I need to send a mail alert.

89
00:05:00.305 --> 00:05:03.440
Now what I will do is instead of displaying your outward,

90
00:05:03.440 --> 00:05:05.975
I will redirect this output Pm male.

91
00:05:05.975 --> 00:05:08.960
So suppose I am writing two here.

92
00:05:08.960 --> 00:05:12.630
Suppose I want to send to this email id.

93
00:05:13.420 --> 00:05:17.760
Do with scripting or the rate gmail.com.

94
00:05:19.750 --> 00:05:22.430
Be clear, in your realtime,

95
00:05:22.430 --> 00:05:25.220
your sorrow is already configured with male command.

96
00:05:25.220 --> 00:05:28.325
So, but here I'm using a measure on Linux.

97
00:05:28.325 --> 00:05:31.475
So there are mail command is configured with

98
00:05:31.475 --> 00:05:37.085
imagine Sadat ip so that Italy can use mail command on eBay,

99
00:05:37.085 --> 00:05:39.275
Amazon ceremony, homage online.

100
00:05:39.275 --> 00:05:43.790
Let me simply write male iPhone year subject,

101
00:05:43.790 --> 00:05:48.735
RAM info I'm writing then.

102
00:05:48.735 --> 00:05:55.850
But it's just subject then to whom you are to send to address.

103
00:05:56.280 --> 00:06:01.030
Let me save it. See here,

104
00:06:01.030 --> 00:06:03.295
whenever if I run shell script,

105
00:06:03.295 --> 00:06:07.880
right, it will send a mail alert to that given me lady.

106
00:06:09.000 --> 00:06:14.980
To this melody. Generally you will get your mail eddies in your real-time to inbox.

107
00:06:14.980 --> 00:06:21.445
But here we are going to get me late May from I measure Lennox our IP.

108
00:06:21.445 --> 00:06:25.240
That's why it will store in my Gmail as a spam.

109
00:06:25.240 --> 00:06:29.110
Let me show you first to my spam details I'm in.

110
00:06:29.110 --> 00:06:31.485
As of now, we don't have anything here.

111
00:06:31.485 --> 00:06:34.200
Now let me run our shell script.

112
00:06:36.340 --> 00:06:40.415
Or just wait here, you'll see just now you got it. Ram info.

113
00:06:40.415 --> 00:06:45.740
See the details, salaries running with the low RAM size C along with info.

114
00:06:45.740 --> 00:06:47.315
Suppose if you need some date,

115
00:06:47.315 --> 00:06:48.935
that is very clear, right?

116
00:06:48.935 --> 00:06:51.110
Let me walk anymore shell script.

117
00:06:51.110 --> 00:06:54.275
You know how to command output.

118
00:06:54.275 --> 00:06:57.500
So in subject RAM info, after that,

119
00:06:57.500 --> 00:07:05.840
suppose I am writing dollar parentheses date command so that you will get data as well.

120
00:07:05.840 --> 00:07:10.640
Now let me rerun and see the output.

121
00:07:10.640 --> 00:07:13.250
Yeah, just know you got one more melody.

122
00:07:13.250 --> 00:07:16.920
Sorry, one more, may not say.

123
00:07:17.290 --> 00:07:19.010
Fine.

124
00:07:19.010 --> 00:07:22.235
But as of now you are running your shell script and it is triggering.

125
00:07:22.235 --> 00:07:23.675
Suppose in real time,

126
00:07:23.675 --> 00:07:25.130
you have to monitor continuously

127
00:07:25.130 --> 00:07:27.845
forever written rates are for every minute of for every hour,

128
00:07:27.845 --> 00:07:32.780
something like that, then you can schedule this job in contact.

129
00:07:32.780 --> 00:07:33.860
I mean, using cron tab,

130
00:07:33.860 --> 00:07:35.720
we can schedule a job, right?

131
00:07:35.720 --> 00:07:38.315
We know how to schedule a job in cron.

132
00:07:38.315 --> 00:07:42.020
Let me take a complete path for our script.

133
00:07:42.020 --> 00:07:46.505
So this is what is a best practice actually.

134
00:07:46.505 --> 00:07:48.860
So before creating a job.

135
00:07:48.860 --> 00:07:55.125
So now this is our complete shell script. Let me copy it.

136
00:07:55.125 --> 00:08:03.895
Now let me create a cron tab that says simply in crontab e. how five fields, right?

137
00:08:03.895 --> 00:08:12.085
12345. So the meaning for this is for every minute it has to run your shell script.

138
00:08:12.085 --> 00:08:13.450
So while running shell scripts,

139
00:08:13.450 --> 00:08:15.820
suppose if we haul low memory,

140
00:08:15.820 --> 00:08:17.545
low RAM size, then we'll degree male.

141
00:08:17.545 --> 00:08:21.790
That's it. And one more thing.

142
00:08:21.790 --> 00:08:26.905
Whenever if you are running giver shell script through crontab,

143
00:08:26.905 --> 00:08:30.325
it's better to provide complete path for your mail command.

144
00:08:30.325 --> 00:08:31.975
Sometimes it may not work.

145
00:08:31.975 --> 00:08:36.925
And that's why I am writing complete path for my mail command.

146
00:08:36.925 --> 00:08:38.930
Bin.

147
00:08:38.950 --> 00:08:41.700
Let me save it.

148
00:08:43.030 --> 00:08:46.760
Now crontab installing previously right now you can see

149
00:08:46.760 --> 00:08:52.445
crontab hyphen L. So you have one crontab which will trigger for every minute.

150
00:08:52.445 --> 00:08:55.175
Just observe it here and you email after one minute,

151
00:08:55.175 --> 00:08:57.260
you'll get a male.

152
00:08:57.260 --> 00:09:01.595
So suppose it is some 114940.

153
00:09:01.595 --> 00:09:05.330
Just wait for one minute so that it will trigger a male.

154
00:09:05.330 --> 00:09:11.030
So here's the way how you can send automatic mail alerts based on your requirement,

155
00:09:11.030 --> 00:09:12.290
not only for your RAM size,

156
00:09:12.290 --> 00:09:15.590
you can also implement a shell script just to get to wonder

157
00:09:15.590 --> 00:09:20.045
some moaned point size mount point usage.

158
00:09:20.045 --> 00:09:21.830
So based on that,

159
00:09:21.830 --> 00:09:24.695
you can write a shell script and you can trigger a main.

160
00:09:24.695 --> 00:09:26.510
Just now, you got it right.

161
00:09:26.510 --> 00:09:27.155
See that?

162
00:09:27.155 --> 00:09:27.980
No.

163
00:09:27.980 --> 00:09:30.875
Like when for every minute now yourselves get World War.

164
00:09:30.875 --> 00:09:35.630
We are shells could will trigger using your crontab. Instead of every minute.

165
00:09:35.630 --> 00:09:41.360
Suppose I want to check for every 30 minutes, then slashed 30.

166
00:09:41.360 --> 00:09:43.970
That's it. Okay.

167
00:09:43.970 --> 00:09:45.725
Now it will work after 30 minutes.

168
00:09:45.725 --> 00:09:47.855
It will run and we'll take the RAM uses.

169
00:09:47.855 --> 00:09:50.390
And if it is less than your threshold limit,

170
00:09:50.390 --> 00:09:52.025
they will send the automatic male alert.

171
00:09:52.025 --> 00:09:54.560
That's it. Okay.

172
00:09:54.560 --> 00:09:57.420
Okay. Yes. Thank you.

