WEBVTT
1
00:00:00.004 --> 00:00:05.002
(upbeat music)

2
00:00:05.002 --> 00:00:06.006
- [Instructor] So now it's time for me to provide you

3
00:00:06.006 --> 00:00:11.001
with the solution that I created for this exercise.

4
00:00:11.001 --> 00:00:13.002
We'll start by looking at the code here.

5
00:00:13.002 --> 00:00:15.009
I didn't modify any of the methods from any of the work

6
00:00:15.009 --> 00:00:17.004
that we've done throughout this chapter,

7
00:00:17.004 --> 00:00:20.008
so I just used all of our existing methods.

8
00:00:20.008 --> 00:00:22.009
We'll start here on line 120.

9
00:00:22.009 --> 00:00:25.006
So I created a bucket.

10
00:00:25.006 --> 00:00:28.008
I uploaded a file from my local directory,

11
00:00:28.008 --> 00:00:31.005
called F1, to that bucket.

12
00:00:31.005 --> 00:00:34.006
I then copied a file from our primary bucket,

13
00:00:34.006 --> 00:00:36.004
the one that we're using for this course,

14
00:00:36.004 --> 00:00:38.003
over to that transient bucket,

15
00:00:38.003 --> 00:00:40.004
and the file that I copied was F3.

16
00:00:40.004 --> 00:00:42.009
I kept the name the same.

17
00:00:42.009 --> 00:00:44.008
Now, on line 123,

18
00:00:44.008 --> 00:00:46.003
I get a list of files

19
00:00:46.003 --> 00:00:48.000
from the bucket itself.

20
00:00:48.000 --> 00:00:49.002
So from the transient bucket,

21
00:00:49.002 --> 00:00:50.009
I get a list of files.

22
00:00:50.009 --> 00:00:53.004
I go ahead and store those files into a list

23
00:00:53.004 --> 00:00:55.009
so that I can use that later on.

24
00:00:55.009 --> 00:00:57.006
Now, I put a printout there so that

25
00:00:57.006 --> 00:00:59.004
you can see where we're at.

26
00:00:59.004 --> 00:01:02.008
And on line 25 I iterate across that list of files

27
00:01:02.008 --> 00:01:05.003
and print the file.

28
00:01:05.003 --> 00:01:06.005
Then I download a file,

29
00:01:06.005 --> 00:01:09.006
and the file that I download is from the primary directory.

30
00:01:09.006 --> 00:01:12.003
I download the F2 file.

31
00:01:12.003 --> 00:01:16.000
I then generate a download link for the F1 file.

32
00:01:16.000 --> 00:01:20.001
This time I used a five-minute expiration on it.

33
00:01:20.001 --> 00:01:23.000
On line 129, I then deleted all of the files

34
00:01:23.000 --> 00:01:24.008
from the transient bucket

35
00:01:24.008 --> 00:01:30.004
using that files list that I created on line 123.

36
00:01:30.004 --> 00:01:33.004
And then at the end, I delete my bucket.

37
00:01:33.004 --> 00:01:34.006
So let's take a look here.

38
00:01:34.006 --> 00:01:38.002
I'm going to pop open a trundle window.

39
00:01:38.002 --> 00:01:41.000
And I want to check my directory locally.

40
00:01:41.000 --> 00:01:43.005
There are no files.

41
00:01:43.005 --> 00:01:45.000
I'm going to jump to the console.

42
00:01:45.000 --> 00:01:47.003
And I'm going to refresh.

43
00:01:47.003 --> 00:01:49.008
And the bucket does not exist,

44
00:01:49.008 --> 00:01:54.007
but within this bucket, I have three files.

45
00:01:54.007 --> 00:01:56.008
Return to this view.

46
00:01:56.008 --> 00:02:01.009
And now we'll go ahead and run our program.

47
00:02:01.009 --> 00:02:03.006
Okay, so we got some output here.

48
00:02:03.006 --> 00:02:07.002
We created a bucket called fpml2.

49
00:02:07.002 --> 00:02:08.009
It contains two files.

50
00:02:08.009 --> 00:02:11.008
Those files are lil1 and lil3,

51
00:02:11.008 --> 00:02:13.007
1 being the one that we uploaded,

52
00:02:13.007 --> 00:02:18.000
and 3 being the one that we copied.

53
00:02:18.000 --> 00:02:19.009
We then generate a download link.

54
00:02:19.009 --> 00:02:23.000
And I'm going to go ahead and click on that download link.

55
00:02:23.000 --> 00:02:25.008
And it downloaded a file.

56
00:02:25.008 --> 00:02:27.005
And at the end we deleted everything.

57
00:02:27.005 --> 00:02:30.001
So let's confirm that everything has occurred.

58
00:02:30.001 --> 00:02:32.006
So pop open our terminal.

59
00:02:32.006 --> 00:02:34.003
We'll do an ls on that directory.

60
00:02:34.003 --> 00:02:37.000
And indeed lil2 is there.

61
00:02:37.000 --> 00:02:40.006
We'll jump back over to console, refresh.

62
00:02:40.006 --> 00:02:41.007
The bucket is not there,

63
00:02:41.007 --> 00:02:44.005
so we did clean up after ourselves and delete it.

64
00:02:44.005 --> 00:02:46.008
That's all there is to this challenge.

65
00:02:46.008 --> 00:02:48.007
Your solution may be slightly different,

66
00:02:48.007 --> 00:02:51.000
but I hope that you get the same results.

