WEBVTT
1
00:00:00.540 --> 00:00:00.780
All right.

2
00:00:00.780 --> 00:00:03.720
So previously we worked with the The Post.

3
00:00:04.380 --> 00:00:09.360
Yeah, we lift this state from component level to the global level using context.

4
00:00:09.690 --> 00:00:12.030
Now we're going to do the same in categories.

5
00:00:12.030 --> 00:00:16.860
So admin categories, we have the create, read, update, delete.

6
00:00:16.890 --> 00:00:24.180
All these features we are using the local, local, state categories index here.

7
00:00:24.180 --> 00:00:26.160
As you can see, we have the local state.

8
00:00:26.880 --> 00:00:32.040
All right, so let's lift this to use the global state.

9
00:00:32.190 --> 00:00:34.970
So right here we have the post context.

10
00:00:35.010 --> 00:00:44.340
That's where we have the categories as to let's try to use this one to go to admin categories index.

11
00:00:44.370 --> 00:00:46.500
Let's import to use context.

12
00:00:46.980 --> 00:00:48.420
Use context.

13
00:00:50.220 --> 00:00:54.900
By the way, you you must realize that I use the a different theme now.

14
00:00:55.470 --> 00:01:03.120
And you see the lion head is quite a lot because sometimes I feel like in a big monotone us I want to

15
00:01:04.770 --> 00:01:06.490
go for replacement.

16
00:01:06.750 --> 00:01:09.690
So I keep changing the theme all the time.

17
00:01:09.690 --> 00:01:10.650
So hopefully you don't mind.

18
00:01:10.950 --> 00:01:20.790
So this theme, this is Tron Legacy, so you can install this one is Tron Legacy and I for the the extra

19
00:01:20.790 --> 00:01:30.030
gap between lines are use the line height so you can type command and comma open this one and then you

20
00:01:30.030 --> 00:01:32.880
can source height line height.

21
00:01:32.880 --> 00:01:38.820
I'm using 50, which is quite a lot, but sometimes it's nice because you can see you don't it's not

22
00:01:38.820 --> 00:01:39.690
all congested.

23
00:01:39.690 --> 00:01:43.800
It's nice, beautiful, lots of space, easy to read.

24
00:01:44.700 --> 00:01:49.590
Okay, so with that said, let's use the use context.

25
00:01:49.590 --> 00:01:50.700
So we got the context.

26
00:01:50.700 --> 00:01:54.180
Let's import the post context.

27
00:02:00.430 --> 00:02:02.340
Context post.

28
00:02:04.330 --> 00:02:06.900
So once we have that, we can start using that one.

29
00:02:06.910 --> 00:02:08.560
So, um.

30
00:02:09.710 --> 00:02:10.140
So.

31
00:02:11.930 --> 00:02:12.740
Yeah, that's right.

32
00:02:12.890 --> 00:02:15.440
Even though it's called post contest, we have two categories.

33
00:02:15.800 --> 00:02:21.950
So this one now we're going to change this to in sort of used it to use context.

34
00:02:23.990 --> 00:02:27.140
And then here it will be post context.

35
00:02:33.240 --> 00:02:33.610
All right.

36
00:02:34.110 --> 00:02:36.890
So this we know in studies in context.

37
00:02:36.900 --> 00:02:45.240
Now, let me also move this one top and call it context so that it is less confusing because we're using

38
00:02:45.240 --> 00:02:48.720
local context and so local state in global state.

39
00:02:48.720 --> 00:02:53.970
So just to make it clear, I have added a bit of a comment here.

40
00:02:54.420 --> 00:02:55.350
So that's context.

41
00:02:56.190 --> 00:03:08.970
So oh, actually we can't use the categories because it's technically posted set for string and it seems

42
00:03:08.970 --> 00:03:10.620
that to post and set post.

43
00:03:10.920 --> 00:03:17.760
And if we want to disturb the category just to make things easier, we can so cross

44
00:03:20.280 --> 00:03:22.350
categories equals to post.

45
00:03:22.590 --> 00:03:23.430
So we can do that.

46
00:03:25.330 --> 00:03:25.600
Okay.

47
00:03:26.380 --> 00:03:29.560
So what do we want to do here is on use effect.

48
00:03:29.590 --> 00:03:32.440
We are we are making requests to get all the categories.

49
00:03:32.440 --> 00:03:33.220
So we get that.

50
00:03:33.520 --> 00:03:37.480
And then at the moment this is what we have now we want to change this, right?

51
00:03:37.840 --> 00:03:49.120
So we tend to send posts and just like we did earlier, we use previous and then we return previous.

52
00:03:49.120 --> 00:03:54.160
This time we don't want to touch the post-war table is then we don't want to does that.

53
00:03:54.160 --> 00:03:55.840
We just want to update the categories.

54
00:03:56.020 --> 00:04:01.720
So categories we said it's value to data where to move we got from this request.

55
00:04:02.740 --> 00:04:11.260
Okay, so this way we should have the categories in the post context and then we have already structured

56
00:04:12.520 --> 00:04:13.240
the categories.

57
00:04:13.240 --> 00:04:17.800
So that means the cold pillows should work.

58
00:04:18.920 --> 00:04:25.000
We were showing all the categories to list.

59
00:04:25.060 --> 00:04:29.350
You can see list the data source getting used to that to work.

60
00:04:32.360 --> 00:04:33.050
That's true.

61
00:04:33.140 --> 00:04:34.520
That's for the create.

62
00:04:34.790 --> 00:04:35.060
All right.

63
00:04:35.210 --> 00:04:38.570
So let's see what else we have so unfinished.

64
00:04:39.560 --> 00:04:41.210
When we are creating the characters.

65
00:04:41.210 --> 00:04:42.800
This function executes, right?

66
00:04:43.130 --> 00:04:47.000
So when we create creating categories, we can create that.

67
00:04:47.000 --> 00:04:47.390
So right.

68
00:04:47.420 --> 00:04:53.570
But when it is created, we want to update the categories.

69
00:04:53.570 --> 00:04:54.680
State Right.

70
00:04:54.680 --> 00:05:01.040
So that means now we're going to change this to create rid of the delete.

71
00:05:01.040 --> 00:05:03.350
So all those times we have to change this.

72
00:05:03.350 --> 00:05:08.390
So previously we use we change that.

73
00:05:08.630 --> 00:05:09.830
We made that change here.

74
00:05:10.520 --> 00:05:14.480
That is for read, for reading all the categories to create read.

75
00:05:14.690 --> 00:05:16.670
So let's go to the create phase.

76
00:05:17.000 --> 00:05:18.410
So on, finish this function.

77
00:05:19.820 --> 00:05:21.380
So what we can do here it is.

78
00:05:21.380 --> 00:05:25.880
Change this, put it down first said post.

79
00:05:28.450 --> 00:05:34.420
So when we create, what we actually want to do is we want to keep whatever we already had sort of we

80
00:05:34.420 --> 00:05:36.420
already had all this categories.

81
00:05:36.430 --> 00:05:37.180
We want to keep them.

82
00:05:37.180 --> 00:05:39.130
We just want to add this new one.

83
00:05:39.760 --> 00:05:40.000
All right.

84
00:05:40.270 --> 00:05:41.410
So set boost.

85
00:05:42.610 --> 00:05:49.870
Now let's use previous and then we spread out the previous, whatever we have, the post, whatever

86
00:05:49.870 --> 00:05:50.860
we have, that's fine.

87
00:05:51.070 --> 00:05:54.460
But the categories we want to update, right?

88
00:05:54.460 --> 00:05:54.790
So.

89
00:05:56.660 --> 00:05:58.010
When we are bidding again.

90
00:05:59.150 --> 00:06:04.310
We can access all the characters, we can spread out all the categories in this area.

91
00:06:04.490 --> 00:06:07.790
So that will give us all the existing categories we already have there.

92
00:06:08.000 --> 00:06:12.230
And now we want to add new one, which has been just created, this one.

93
00:06:12.320 --> 00:06:14.690
Right, so that we can put here.

94
00:06:15.530 --> 00:06:15.830
All right.

95
00:06:15.950 --> 00:06:22.940
So that when you update the categories, you keep the existing ones and you add a new one in this area.

96
00:06:23.870 --> 00:06:24.130
Okay.

97
00:06:24.140 --> 00:06:25.550
So this will.

98
00:06:27.870 --> 00:06:32.220
Allow you to create new categories and obviate the state abuse in its removal.

99
00:06:32.230 --> 00:06:35.730
That's done so we've done with create.

100
00:06:35.730 --> 00:06:36.750
We're done with Read.

101
00:06:37.380 --> 00:06:38.880
Let's go to update.

102
00:06:41.860 --> 00:06:42.970
So update is here.

103
00:06:44.500 --> 00:06:46.360
Set updating categories.

104
00:06:46.360 --> 00:06:47.230
Set visible.

105
00:06:47.230 --> 00:06:47.680
True.

106
00:06:51.940 --> 00:06:53.170
And a lovely resume.

107
00:06:55.600 --> 00:06:55.930
Okay.

108
00:06:55.930 --> 00:07:02.440
So we get all the get the updated category from this excuse request.

109
00:07:02.710 --> 00:07:09.220
And then what we need to do is we need to find this category, the one that has been just updated,

110
00:07:09.340 --> 00:07:13.920
we find based on the idea and then we just return the updated data for that one.

111
00:07:13.930 --> 00:07:20.310
Otherwise everything else will be returned the same way, and that is the one we are putting in this

112
00:07:20.310 --> 00:07:20.590
state.

113
00:07:21.190 --> 00:07:24.280
So this will strengthen, the technique will stay the same.

114
00:07:24.280 --> 00:07:31.360
But what are we going to do now is we can to the categories dirt map.

115
00:07:31.750 --> 00:07:32.890
It can stay the same.

116
00:07:33.400 --> 00:07:39.010
We have all destructed so we don't have to do posts post dot categories.

117
00:07:39.010 --> 00:07:41.170
We don't have to because we already destructor.

118
00:07:41.440 --> 00:07:48.130
So this can actually stay as it is only here sit.

119
00:07:49.900 --> 00:07:50.120
Right.

120
00:07:50.290 --> 00:07:53.680
Said post previous.

121
00:07:58.380 --> 00:08:05.250
Spread out the previous and then categories will be different.

122
00:08:05.310 --> 00:08:06.300
New categories.

123
00:08:06.300 --> 00:08:07.800
New categories.

124
00:08:09.120 --> 00:08:10.440
And we can remove that.

125
00:08:12.960 --> 00:08:13.290
Okay.

126
00:08:13.350 --> 00:08:15.060
So this logic would stay the same.

127
00:08:15.060 --> 00:08:17.850
So all you had to do is update the categories.

128
00:08:18.780 --> 00:08:23.130
So we'd done with create, we'd update on the screw to the last one.

129
00:08:23.130 --> 00:08:25.760
Delete to delete it.

130
00:08:25.770 --> 00:08:25.980
Yeah.

131
00:08:27.420 --> 00:08:28.200
So on delete.

132
00:08:28.200 --> 00:08:33.060
What we're going to do here is again we get the deleted item here.

133
00:08:33.750 --> 00:08:37.350
So let me just put it right here.

134
00:08:37.770 --> 00:08:38.580
So set.

135
00:08:39.060 --> 00:08:42.480
First we use the previous.

136
00:08:43.890 --> 00:08:45.600
So what are you going to do here is

137
00:08:48.480 --> 00:08:55.920
spit out the previous and this time we just want to update the categories and that we do using the same

138
00:08:55.920 --> 00:08:56.310
function.

139
00:08:56.320 --> 00:09:01.500
And so again just doing that pretty.

140
00:09:05.660 --> 00:09:06.410
Categories.

141
00:09:06.410 --> 00:09:12.270
It goes to just paste this bit misplaced here I guess.

142
00:09:12.270 --> 00:09:20.390
So keep the previous post sort of is there just under the categories filter the the one that I did doesn't

143
00:09:20.390 --> 00:09:20.840
match.

144
00:09:21.650 --> 00:09:21.980
All right.

145
00:09:22.790 --> 00:09:28.700
So that way we will be able to upgrade the categories list by removing the deleted one.

146
00:09:29.630 --> 00:09:31.850
All right, so we don't create rid of the delete.

147
00:09:31.850 --> 00:09:33.230
All this is dumps.

148
00:09:34.370 --> 00:09:35.780
Hopefully everything works.

149
00:09:35.780 --> 00:09:36.010
Yeah.

150
00:09:37.670 --> 00:09:39.560
Import post contexts.

151
00:09:39.920 --> 00:09:40.220
Okay.

152
00:09:40.220 --> 00:09:41.900
So we missed this less than.

153
00:09:48.840 --> 00:09:49.340
All right.

154
00:09:49.340 --> 00:09:51.760
So looks like it right there.

155
00:09:52.410 --> 00:09:55.170
Um, what do we do?

156
00:09:55.260 --> 00:10:05.040
BHP, I guess if we can create, we can read, we can update the ESP 8.0.

157
00:10:06.690 --> 00:10:07.080
All right.

158
00:10:07.080 --> 00:10:08.950
So we can delete beautifully.

159
00:10:09.270 --> 00:10:09.540
All right.

160
00:10:09.540 --> 00:10:10.410
So everything works.

161
00:10:11.820 --> 00:10:20.130
So as you can see, we have successfully dated our local state to the global state and there wasn't

162
00:10:20.130 --> 00:10:22.710
much code to change it.

163
00:10:22.710 --> 00:10:22.920
Right.

164
00:10:22.920 --> 00:10:24.390
So we just access that one.

165
00:10:24.720 --> 00:10:26.190
We destructive the carrying out.

166
00:10:26.190 --> 00:10:32.890
So it was easy to use and then we basically had two tints so said categories instead of that we use

167
00:10:32.890 --> 00:10:36.060
said boost and update the categories property.

168
00:10:36.960 --> 00:10:44.160
From this context, I guess that that was the first ones for getting the categories, creating the categories,

169
00:10:45.840 --> 00:10:46.470
deleting.

170
00:10:47.920 --> 00:10:48.520
And.

171
00:10:49.800 --> 00:10:50.370
Updating.

172
00:10:52.940 --> 00:10:53.450
Perfect.
