WEBVTT
1
00:00:00.570 --> 00:00:00.710
Okay.

2
00:00:00.780 --> 00:00:02.790
So we're still working on this object user.

3
00:00:02.940 --> 00:00:03.960
So we have the form.

4
00:00:04.440 --> 00:00:06.000
We made a request to back in.

5
00:00:06.000 --> 00:00:07.500
We got the user response.

6
00:00:08.790 --> 00:00:16.140
So let's use this response to populate all these values we have in the state to name, email, website,

7
00:00:17.220 --> 00:00:21.150
all that sort of said name and data dot name sent.

8
00:00:21.150 --> 00:00:21.600
Email.

9
00:00:21.610 --> 00:00:22.130
Twitter.

10
00:00:22.140 --> 00:00:23.490
Email set.

11
00:00:23.490 --> 00:00:26.190
Website set.

12
00:00:29.090 --> 00:00:29.300
Yeah.

13
00:00:29.300 --> 00:00:32.950
We don't have the password said ruleset ticked.

14
00:00:33.320 --> 00:00:40.310
Now, ticked is not something we needed because that was during the creation of the user.

15
00:00:40.700 --> 00:00:47.390
If we wanted to send the email or so, we didn't need that setting to let me remove that from here.

16
00:00:47.430 --> 00:00:47.610
You.

17
00:00:52.990 --> 00:00:54.790
And that is all we need.

18
00:00:55.000 --> 00:00:57.430
So when we're making requests, let's also.

19
00:01:00.050 --> 00:01:00.510
Um.

20
00:01:02.560 --> 00:01:02.800
Yeah.

21
00:01:02.800 --> 00:01:05.740
We didn't really need to use the learning, so let's leave it like that.

22
00:01:06.520 --> 00:01:10.300
Okay, so we have the values in the state.

23
00:01:10.300 --> 00:01:11.260
So that means.

24
00:01:13.220 --> 00:01:15.310
We may see that.

25
00:01:15.570 --> 00:01:17.330
Let's go down to this form.

26
00:01:17.660 --> 00:01:19.160
Let's remove that to.

27
00:01:21.600 --> 00:01:22.080
Officer.

28
00:01:23.640 --> 00:01:24.340
Tick box.

29
00:01:24.360 --> 00:01:25.260
The symbol that.

30
00:01:30.180 --> 00:01:30.270
Right.

31
00:01:30.460 --> 00:01:32.520
So you can see the name, email.

32
00:01:32.540 --> 00:01:34.520
The information has been populated here.

33
00:01:34.820 --> 00:01:35.390
Beautiful.

34
00:01:41.240 --> 00:01:43.790
So rule for all is not right.

35
00:01:44.350 --> 00:01:48.650
Password is not populated because password is not something we want to populate.

36
00:01:53.540 --> 00:01:55.370
This is auto generated buzzword.

37
00:01:57.370 --> 00:02:01.840
Let me quickly have a look at the finished project password.

38
00:02:01.850 --> 00:02:04.690
I think we should just leave it without updating.

39
00:02:05.440 --> 00:02:08.100
So let's go to all users.

40
00:02:08.600 --> 00:02:09.280
Edit.

41
00:02:10.960 --> 00:02:12.850
So password feel we leave it empty.

42
00:02:13.900 --> 00:02:15.310
I guess that's what we need to do.

43
00:02:19.250 --> 00:02:19.640
Okay.

44
00:02:19.640 --> 00:02:21.140
So the password.

45
00:02:22.220 --> 00:02:26.570
So let me just don't take so we don't have the generate button as well.

46
00:02:26.570 --> 00:02:28.400
So let's remove this all together.

47
00:02:29.300 --> 00:02:30.740
So generate password.

48
00:02:31.670 --> 00:02:32.900
Let's remove that button.

49
00:02:37.900 --> 00:02:38.770
Let's remember this.

50
00:02:38.790 --> 00:02:45.240
DB we don't actually need since we don't have the burden in just a single single element.

51
00:02:45.250 --> 00:02:45.460
You.

52
00:02:47.520 --> 00:02:48.810
Password value.

53
00:02:50.670 --> 00:02:55.170
Let's go to our state and remove that generator.

54
00:02:57.570 --> 00:02:59.190
Let's remove the import as you.

55
00:03:01.930 --> 00:03:02.260
Okay.

56
00:03:03.220 --> 00:03:03.700
Beautiful.

57
00:03:04.000 --> 00:03:05.750
So name email is populated.

58
00:03:05.770 --> 00:03:08.470
Those who have said it doesn't exist.

59
00:03:08.470 --> 00:03:14.860
Now let's make sure whatever the role of the user currently is, we show that by default here.

60
00:03:15.790 --> 00:03:17.500
So for that, let's come down.

61
00:03:20.120 --> 00:03:20.600
Officer.

62
00:03:23.150 --> 00:03:24.470
Now this rules option.

63
00:03:25.550 --> 00:03:29.500
We want to throw this option only if the user is trying to object.

64
00:03:29.510 --> 00:03:36.050
If so, if the administration object, if other users are trying to upgrade, they shouldn't be able

65
00:03:36.050 --> 00:03:40.160
to object the rules by themselves because otherwise anyone can make them admin.

66
00:03:40.250 --> 00:03:40.520
Right.

67
00:03:40.940 --> 00:03:44.660
So we don't want that, but that is something we can take a bit later at the moment.

68
00:03:46.250 --> 00:03:51.530
Let's just continue thinking that this is for the admin.

69
00:03:52.400 --> 00:03:56.710
So select a default value instead of default value.

70
00:03:56.720 --> 00:04:04.970
Now we use just valid and then value will be whatever is the role of the user which is in the state

71
00:04:05.930 --> 00:04:08.480
value that will be drove, whatever that is.

72
00:04:08.930 --> 00:04:16.150
So you can see values admin because this user is and now let's also work on the image.

73
00:04:16.170 --> 00:04:18.820
So we will allow the user to add the images.

74
00:04:20.930 --> 00:04:24.980
So first, let's import the media context import.

75
00:04:33.470 --> 00:04:34.490
Components.

76
00:04:36.080 --> 00:04:37.520
Certain components.

77
00:04:37.520 --> 00:04:42.560
Context, context, media.

78
00:04:44.660 --> 00:04:54.470
And then let's use the media that media to use context, media context.

79
00:04:55.100 --> 00:05:09.560
And then we need to have one state here for images as well to post images since it means to use state.

80
00:05:14.160 --> 00:05:15.570
So we get the images now.

81
00:05:17.250 --> 00:05:24.390
When we get the data, if the user had existing images, then we will be able to put that in the state.

82
00:05:24.720 --> 00:05:33.450
I just said images, data dot in this image is going to be object so it will have the property URL and

83
00:05:33.450 --> 00:05:34.500
some other information.

84
00:05:34.950 --> 00:05:38.430
So I think we should just turn this from string to object.

85
00:05:40.200 --> 00:05:40.680
Perfect.

86
00:05:40.680 --> 00:05:42.180
So we got that as well.

87
00:05:43.290 --> 00:05:49.810
So that means now we want to show the media model here.

88
00:05:49.870 --> 00:05:50.100
Right?

89
00:05:50.850 --> 00:05:57.210
Now, before I do that, let me just try clicking another user just to make sure these values are added

90
00:05:58.080 --> 00:06:00.620
as expected around the author.

91
00:06:00.630 --> 00:06:01.740
Let's try this one.

92
00:06:04.620 --> 00:06:05.670
Ryan, the author.

93
00:06:05.850 --> 00:06:10.410
I still see the same students, same value.

94
00:06:20.140 --> 00:06:24.580
I think what we did in the back in that case, I think that is the reason.

95
00:06:24.970 --> 00:06:28.990
So we are sending the user ID, but I think we are using this idea early instead.

96
00:06:30.190 --> 00:06:34.470
I think we are using the currently logged in use society.

97
00:06:35.210 --> 00:06:42.190
Let me quickly go to server controllers of current user profile.

98
00:06:42.430 --> 00:06:42.730
Yes.

99
00:06:42.730 --> 00:06:46.360
So we shouldn't be using the currently logged in use society.

100
00:06:46.610 --> 00:06:51.010
Instead, we should use that request params user id.

101
00:06:54.800 --> 00:06:55.100
You know.

102
00:06:55.100 --> 00:07:00.590
Roberts We have the user I.D. So let's use that very instant, I guess, to request

103
00:07:02.810 --> 00:07:03.710
params.

104
00:07:03.720 --> 00:07:05.530
Start use it.

105
00:07:10.050 --> 00:07:11.000
Well, let's try.

106
00:07:13.500 --> 00:07:14.460
Right in the autumn.

107
00:07:14.970 --> 00:07:20.970
Now you can see we get the correct value all uses of.

108
00:07:24.210 --> 00:07:30.450
So next we're going to show the images we saw, the images, the media component, so that user can

109
00:07:30.450 --> 00:07:34.390
pick the image or upload a new one and use as high profile images.

110
00:07:37.620 --> 00:07:44.640
So let's import the media library sort of media component.

111
00:07:53.710 --> 00:07:54.700
Components.

112
00:07:55.980 --> 00:07:58.530
Media then.

113
00:07:59.980 --> 00:08:05.350
So good that we can put that right on top of the phone.

114
00:08:06.460 --> 00:08:07.790
So we got this in food.

115
00:08:07.810 --> 00:08:09.250
Let's just put that here.

116
00:08:14.300 --> 00:08:14.570
All right.

117
00:08:14.570 --> 00:08:21.410
So you can see we showed these options, upload, file or pick from the library.

118
00:08:22.130 --> 00:08:23.900
Maybe even need a bit of a break.

119
00:08:23.900 --> 00:08:24.170
No

120
00:08:27.920 --> 00:08:28.370
problem.

121
00:08:32.120 --> 00:08:36.050
So let's actually let's work on this function.

122
00:08:36.410 --> 00:08:42.260
We don't have the endpoint to update the user in the back, and so we have to create that.

123
00:08:42.920 --> 00:08:47.630
But before we do that, let's just write our excuse request anyways.

124
00:08:48.050 --> 00:08:53.030
So const data equals to wait.

125
00:08:54.470 --> 00:08:56.630
Excuse to put we make it put.

126
00:08:56.630 --> 00:08:57.770
Request to update.

127
00:09:01.670 --> 00:09:05.450
Dysfunctional delivery system to the function you can see on click handles.

128
00:09:05.450 --> 00:09:06.590
Submit executes.

129
00:09:07.580 --> 00:09:08.480
So handle submit.

130
00:09:08.480 --> 00:09:12.650
We make a request that you are and will be less.

131
00:09:16.410 --> 00:09:25.980
Update user, let's call adopted user and then we need to send all the values to update.

132
00:09:26.130 --> 00:09:26.460
Right.

133
00:09:26.910 --> 00:09:27.450
So here.

134
00:09:32.230 --> 00:09:32.950
No, that's.

135
00:09:33.140 --> 00:09:33.940
That's right.

136
00:09:34.930 --> 00:09:38.110
So here what is being said is we've seen all the violence from the states.

137
00:09:38.110 --> 00:09:39.010
We send the name,

138
00:09:41.950 --> 00:09:46.500
email, password, website, role and emails.

139
00:09:46.510 --> 00:09:47.830
So we send all this.

140
00:09:48.990 --> 00:09:50.880
No, this image will be different.

141
00:09:50.880 --> 00:09:56.920
So images will be available if the user have selected the image.

142
00:09:56.920 --> 00:10:03.270
So if they have click on the image, then we need to grab that from the context, right?

143
00:10:03.270 --> 00:10:07.890
So otherwise we don't send anything, we just give the value of undefined.

144
00:10:07.890 --> 00:10:08.750
So images.

145
00:10:10.090 --> 00:10:12.340
So what I can do is right here.

146
00:10:12.470 --> 00:10:24.550
So if media so if we have media context and then if we have selected media that, then we want to grab

147
00:10:24.550 --> 00:10:25.330
that idea.

148
00:10:25.390 --> 00:10:27.510
So all we need to do is send the idea.

149
00:10:29.400 --> 00:10:29.820
Right.

150
00:10:32.210 --> 00:10:36.710
If not, if we don't have the selected media.

151
00:10:39.280 --> 00:10:39.670
Then.

152
00:10:43.110 --> 00:10:43.490
Sorry.

153
00:10:44.040 --> 00:10:45.930
Media selected I this.

154
00:10:45.940 --> 00:10:48.180
If you have that, then we want to use this value.

155
00:10:48.690 --> 00:10:50.250
So if there is a select media.

156
00:10:51.810 --> 00:10:53.310
We want to use that value.

157
00:10:53.880 --> 00:10:57.060
But what if the user didn't select from the existing image?

158
00:10:57.090 --> 00:10:58.950
What if he uploaded the new one?

159
00:10:59.890 --> 00:11:00.090
Right.

160
00:11:00.090 --> 00:11:04.380
So in that case, also there would always be a selected image.

161
00:11:04.410 --> 00:11:08.530
So if they approved a new image, that image will automatically be selected.

162
00:11:08.550 --> 00:11:15.840
So either in either case, we will have the image if user have uploaded or selected from the existing

163
00:11:15.840 --> 00:11:16.020
one.

164
00:11:16.020 --> 00:11:16.950
So we will get that.

165
00:11:17.340 --> 00:11:18.360
But if not.

166
00:11:19.890 --> 00:11:24.660
Then you want to check if the user had existing.

167
00:11:25.380 --> 00:11:30.840
So if user had existing images that would be here in the state already.

168
00:11:31.130 --> 00:11:31.320
Right.

169
00:11:31.320 --> 00:11:33.240
So in that case, we want to use that value

170
00:11:36.030 --> 00:11:37.500
if selected.

171
00:11:38.490 --> 00:11:39.450
Use that one.

172
00:11:40.260 --> 00:11:43.680
Otherwise, if we have the images again, we take.

173
00:11:43.680 --> 00:11:46.170
So again, it's a nested ternary operator.

174
00:11:46.560 --> 00:11:48.750
So if we have the images, use that images.

175
00:11:49.080 --> 00:11:49.440
Right.

176
00:11:49.440 --> 00:11:50.520
Continue using that.

177
00:11:53.990 --> 00:12:01.280
In fact, we just need to send the images we took for the.

178
00:12:03.710 --> 00:12:08.070
If we have that, use that it means it.

179
00:12:08.330 --> 00:12:11.180
Otherwise we don't use.

180
00:12:11.210 --> 00:12:12.140
No, it's true.

181
00:12:12.140 --> 00:12:18.560
We do on different to this value will be saved in the database.

182
00:12:18.890 --> 00:12:22.700
So whatever it is, it will stay.

183
00:12:22.820 --> 00:12:24.830
It will not make any difference.

184
00:12:26.150 --> 00:12:32.480
So if there's selected images we use that, if the user already have the images we use that, otherwise

185
00:12:32.930 --> 00:12:34.090
we not sending anything.

186
00:12:34.180 --> 00:12:44.600
So in different now with all this we can cancel long before we do anything here because once this is

187
00:12:44.600 --> 00:12:49.110
updated, we have to object to use this information in the local stories and also in the context.

188
00:12:49.160 --> 00:12:49.400
Right.

189
00:12:49.790 --> 00:12:53.510
And of course, we have to create this endpoint in the back and we don't have that did.

190
00:12:53.840 --> 00:12:54.740
So we'll do all that.

191
00:12:54.740 --> 00:12:59.600
But let's have a look how this data is sent.

192
00:12:59.600 --> 00:13:05.360
We can still see how all this data is being sent by opening the network.

193
00:13:06.200 --> 00:13:11.900
I said, let's try and it's open network.

194
00:13:13.790 --> 00:13:15.980
So let's upload.

195
00:13:17.580 --> 00:13:18.240
The images.

196
00:13:21.150 --> 00:13:23.010
Let's just pick one from the library.

197
00:13:24.010 --> 00:13:24.860
Let me pick.

198
00:13:26.470 --> 00:13:27.160
The same is.

199
00:13:35.370 --> 00:13:38.430
So the name, email and website.

200
00:13:44.120 --> 00:13:45.340
Password change.

201
00:13:47.690 --> 00:13:47.930
Hit.

202
00:13:47.950 --> 00:13:48.530
Submit.

203
00:13:49.590 --> 00:13:50.000
I get.

204
00:13:51.260 --> 00:13:53.720
You can see the full fill up.

205
00:13:53.720 --> 00:13:55.520
You're not phone, which is obvious.

206
00:13:55.520 --> 00:13:56.780
We don't have that endpoint.

207
00:13:56.780 --> 00:14:04.430
But the payload you can see we are sending all this information to email images, the image I.D. name.

208
00:14:06.810 --> 00:14:07.340
Rule.

209
00:14:07.670 --> 00:14:14.990
We've said we could have made some sense when the could.

210
00:14:19.450 --> 00:14:22.950
You can see all these values, the the working.

211
00:14:22.990 --> 00:14:25.990
We are sending them to the back.

212
00:14:26.230 --> 00:14:26.770
Perfect.

213
00:14:27.220 --> 00:14:27.880
So let's go.

214
00:14:28.060 --> 00:14:29.170
Continue in the next lesson.

215
00:14:29.170 --> 00:14:33.220
We're going to create the endpoint in the back end and hand in the response you.
