WEBVTT
1

00:00:00.900  -->  00:00:04.780
Hello everyone and welcome to the G-G plot to exercises solutions.

2

00:00:04.800  -->  00:00:09.870
Walk through this lecture I'm going to be walking through some solutions for the G-G plot to exercises

3

00:00:09.900  -->  00:00:12.860
and explaining my logic and programming as I go along.

4

00:00:12.860  -->  00:00:15.930
Let's go ahead and jump to our studio to get started.

5

00:00:15.930  -->  00:00:18.140
OK so here we are our studio.

6

00:00:18.510  -->  00:00:24.370
First thing I want to do is call library G-G plot 2.

7

00:00:24.660  -->  00:00:28.290
And that will allow me to go ahead and check out the MPG data set.

8

00:00:28.320  -->  00:00:35.100
That we'll be working with First if I just say head mpg and go ahead and check out this dataset says

9

00:00:35.210  -->  00:00:37.620
manufacture model information.

10

00:00:37.620  -->  00:00:42.340
It's kind of similar to empty cars except it has some different columns and different information.

11

00:00:42.390  -->  00:00:46.280
So the first plot we wanted to do looks like this.

12

00:00:46.370  -->  00:00:49.310
Let me go ahead and clear the con..

13

00:00:49.330  -->  00:00:49.640
All right.

14

00:00:49.650  -->  00:00:54.300
So I went ahead and typed in the code and deleted the Kurds who can actually walk through it without

15

00:00:54.300  -->  00:00:55.580
seeing the code first.

16

00:00:55.830  -->  00:00:58.400
But here is the plot that we're trying to recreate.

17

00:00:58.410  -->  00:01:05.250
It's a simple histogram of the highway highway mpg values so the column itself is just highway.

18

00:01:05.250  -->  00:01:09.930
It looks like we have some red coloring and if you can kind of tell we have some alpha value.

19

00:01:09.930  -->  00:01:13.390
There's a little bit of transparency because I can see the grid lines here.

20

00:01:13.680  -->  00:01:17.370
Let's go ahead and get started and think about how we're going to tackle this one.

21

00:01:17.370  -->  00:01:24.270
So we kind of minimize that first thing you want to do is sort of for data anÃ¦sthetics layer psychologies

22

00:01:24.270  -->  00:01:26.280
you plot pass and my data.

23

00:01:26.320  -->  00:01:33.570
This case it's mpg and I know since I want to do a histogram my static should only be one column value

24

00:01:33.650  -->  00:01:35.930
since histogram is the frequency count.

25

00:01:35.970  -->  00:01:36.770
So we have x.

26

00:01:36.810  -->  00:01:43.410
I'll go ahead and pass in H W Y so you can grab this information by looking at the x axis name highway

27

00:01:43.410  -->  00:01:45.200
here.

28

00:01:45.270  -->  00:01:53.220
And then I want to add in my geometry layer so I can say Geum underscore histogram and that's all you

29

00:01:53.220  -->  00:01:54.590
need for the basics.

30

00:01:54.600  -->  00:01:56.730
Again just like it said in the exercises.

31

00:01:56.820  -->  00:02:01.810
Don't worry if your plots don't match exactly the color of the theme as long as you have a basic understanding

32

00:02:01.810  -->  00:02:06.030
of the grammar graphics that's all this exercise trying to get for you.

33

00:02:06.390  -->  00:02:14.060
Let's go ahead and assign that to people and then we'll just go ahead and say prints.

34

00:02:14.730  -->  00:02:21.140
So if I run that source looks like I have the basics here then I'll go ahead and zoom.

35

00:02:21.150  -->  00:02:24.060
Now what I want to do is go ahead and effect that color.

36

00:02:24.090  -->  00:02:27.550
Maybe the number of bins and my alpha value.

37

00:02:28.020  -->  00:02:30.690
So that will all happen at the geometry layer.

38

00:02:30.690  -->  00:02:37.830
Let's go ahead and start with the fill color which I want to be a red number for histograms.

39

00:02:37.820  -->  00:02:44.820
If I just say color Ellaby the outline of the bars themselves and I will go ahead and say Alpha is 0.5

40

00:02:44.820  -->  00:02:45.480
.

41

00:02:45.480  -->  00:02:50.010
So if I run this source now looks like we're almost there.

42

00:02:50.010  -->  00:02:53.540
So I see the zoom version looks good.

43

00:02:53.550  -->  00:02:58.100
Now let me check the original see if we match zoom.

44

00:02:58.140  -->  00:02:59.720
Looks like we're almost there.

45

00:02:59.730  -->  00:03:04.290
The only difference here that you may not have been able to tell just by looking at the plots was the

46

00:03:04.290  -->  00:03:05.280
number of bins.

47

00:03:05.310  -->  00:03:12.260
So I specified it for the solution for bins to be equal to 20 if you were able to get the spear looking

48

00:03:12.260  -->  00:03:13.020
at the plot.

49

00:03:13.020  -->  00:03:18.660
Don't worry that's totally fine fine but if you just run this you'll see it looks pretty much the same

50

00:03:18.680  -->  00:03:19.020
.

51

00:03:19.350  -->  00:03:20.880
So let me go ahead and expand this.

52

00:03:20.880  -->  00:03:22.520
We can really see the difference.

53

00:03:22.920  -->  00:03:25.210
So this is with bin's equals 20.

54

00:03:25.440  -->  00:03:32.910
And this is with bints equals 30 and if you notice our studio or our in general will actually tell you

55

00:03:33.330  -->  00:03:34.920
that it's using bins equals 30.

56

00:03:34.950  -->  00:03:37.360
Maybe pick a better value with bin with.

57

00:03:37.380  -->  00:03:42.430
So you can specify either the number of bins you want or how wide you want the bins to be.

58

00:03:42.480  -->  00:03:48.000
So something you could have done by looking at the solution plot is taking note of how wide these bins

59

00:03:48.000  -->  00:03:52.710
are just kind of by guessing and then setting with to try to match it.

60

00:03:52.860  -->  00:03:53.220
All right.

61

00:03:53.220  -->  00:03:55.760
So as far as a solution this is all I wanted you to be able to do.

62

00:03:55.770  -->  00:04:02.970
Colleges you plot passing your data frame and she notes a histogram aesthetics is just x value and then

63

00:04:03.090  -->  00:04:09.360
called Geometry of histogram love layer and then you pass some additional arguments there but I'm not

64

00:04:09.360  -->  00:04:15.350
really concerned about is these actual additional arguments more concerned about the layers or the grammar

65

00:04:15.360  -->  00:04:18.140
graphics in that understanding.

66

00:04:18.420  -->  00:04:21.500
Let's go ahead and show what the second plot looked like.

67

00:04:21.500  -->  00:04:23.520
This one's a little more complicated.

68

00:04:24.180  -->  00:04:24.520
All right.

69

00:04:24.570  -->  00:04:25.230
I just jumped.

70

00:04:25.230  -->  00:04:30.540
Put in some code and it cleared it just so we could see what the plot looked like for the second exercise

71

00:04:30.550  -->  00:04:30.810
.

72

00:04:31.110  -->  00:04:32.610
And it was this part right here.

73

00:04:32.610  -->  00:04:40.620
So it was a bar plot of car counts per manufacturer with color filled defined by the actual cylinder

74

00:04:40.650  -->  00:04:41.600
counts.

75

00:04:41.640  -->  00:04:44.940
So if we're going to expand this and take a closer look.

76

00:04:44.940  -->  00:04:49.200
Notice I have again a frequency counter and occurrence count.

77

00:04:49.320  -->  00:04:52.780
But in this case it's not a histogram it's a bar plot.

78

00:04:52.800  -->  00:04:58.980
The reason for that is because the x axis is not a continuous variable it's a discrete one meaning we

79

00:04:58.980  -->  00:05:05.830
have just different groups of manufacturers here versus the histogram we saw earlier weeks we actually

80

00:05:05.830  -->  00:05:07.940
had a continuous variable in the x axis.

81

00:05:07.960  -->  00:05:11.830
Here we have a discrete one just discrete manufacturer groups.

82

00:05:11.830  -->  00:05:18.610
The tricky part here is that there's an additional stacking of these bar plots for the color showing

83

00:05:18.620  -->  00:05:22.760
that we actually are coloring by Factor c y l.

84

00:05:22.780  -->  00:05:26.720
Now is kind of a big hint for you to check out this plot.

85

00:05:26.710  -->  00:05:31.470
The other difference between this plot and a normal plot is the actual background is all clear and white

86

00:05:31.480  -->  00:05:31.780
.

87

00:05:31.900  -->  00:05:33.280
Don't worry too much about that.

88

00:05:33.440  -->  00:05:35.200
We'll show you how we can add that in.

89

00:05:35.280  -->  00:05:37.650
Which is a simple theme command at the end of this.

90

00:05:37.830  -->  00:05:43.080
But let's go to and jump out of this and start building off our plot first layer.

91

00:05:43.100  -->  00:05:46.000
I'm going to go to sign it P.L..

92

00:05:46.000  -->  00:05:51.160
And that's going to be G-G plot pass in my MPG data set.

93

00:05:51.460  -->  00:06:02.870
And since I'm only doing a bar plot I should only have one aesthetic X equals manufacturer.

94

00:06:02.880  -->  00:06:03.280
Right.

95

00:06:03.310  -->  00:06:11.050
So that's my data and aesthetics layer I'm going to go ahead and add to the slayer my geometry layer

96

00:06:11.060  -->  00:06:11.140
.

97

00:06:11.180  -->  00:06:16.820
And it's a bar plot so I know it's geometers score bar and then the tricky part here was the actual

98

00:06:16.810  -->  00:06:19.090
color or fill command.

99

00:06:19.750  -->  00:06:27.710
So if you were to say just fill equals something like blue that would color everything blue.

100

00:06:27.700  -->  00:06:34.540
So let me go in to show what that would look like by printing Piel too.

101

00:06:35.080  -->  00:06:39.340
So if I were to run that we would get a feel for everything to be the same color.

102

00:06:39.350  -->  00:06:45.650
Hopefully you remember from the lectures that if you want your fill or coloring to be defined by another

103

00:06:45.740  -->  00:06:52.420
attribute or variable in your data frame or data set you need to pasan aesthetics inside the geometry

104

00:06:52.430  -->  00:06:53.880
layer.

105

00:06:53.930  -->  00:07:03.350
And here I can go ahead and say fill is equal to factor cylinder and remember to pasand this factor

106

00:07:03.520  -->  00:07:10.140
command because we have cylinder levels it's not a continuous variable.

107

00:07:10.610  -->  00:07:14.820
So if I go and run this I finally get the result.

108

00:07:14.870  -->  00:07:21.340
If you forgot to put factor you would have gotten something that looks like this and noticed it would

109

00:07:21.380  -->  00:07:26.090
try to fill this in as if the number of cylinders was a continuous variable.

110

00:07:26.090  -->  00:07:32.120
So it thinks there is value such as 4.5 cylinders or 5.2 cylinders etc. which is why it's so important

111

00:07:32.120  -->  00:07:39.100
to pass this in with the factor function so he can get the desired result where we basically have a

112

00:07:39.110  -->  00:07:41.300
stacked bar plot.

113

00:07:41.380  -->  00:07:41.900
OK.

114

00:07:42.130  -->  00:07:43.860
Let's go ahead and move on.

115

00:07:43.900  -->  00:07:47.010
We have just two more plots to go.

116

00:07:47.620  -->  00:07:53.690
And for this we're actually in a switch to another dataset than this one is going to be the T-Rex housing

117

00:07:53.690  -->  00:07:54.950
data set.

118

00:07:54.940  -->  00:07:57.020
So we're going to show you what that looks like real quick.

119

00:07:57.280  -->  00:07:58.570
So you just say head.

120

00:07:58.870  -->  00:08:01.590
You could say X housing.

121

00:08:01.690  -->  00:08:04.000
Now we can see we have a housing data set.

122

00:08:04.000  -->  00:08:05.490
This comes of G-G plot 2.

123

00:08:05.500  -->  00:08:10.800
So you have to say library G-G plot 2 before you can actually start calling Tick's housing.

124

00:08:11.150  -->  00:08:17.480
But we have a city Collomb year month sales volumes etc. and the plot we actually want to recreate looks

125

00:08:17.480  -->  00:08:19.780
like this going to go ahead and jump to it.

126

00:08:20.440  -->  00:08:20.900
All right.

127

00:08:20.930  -->  00:08:21.810
Here it is.

128

00:08:21.980  -->  00:08:26.180
So a couple of things we notice here is that we're doing a scatterplot.

129

00:08:26.180  -->  00:08:31.960
So hopefully GM underscore points already starts to come to mind for scatterplot looks like we're doing

130

00:08:31.990  -->  00:08:34.620
a volume column versus sales column.

131

00:08:34.820  -->  00:08:36.170
So that's looking pretty good.

132

00:08:36.430  -->  00:08:42.610
And one other thing I want you to notice here is these points if you can zoom in on these points or

133

00:08:42.640  -->  00:08:48.470
check out these points you'll notice we have darker points here but the points actually have some sort

134

00:08:48.470  -->  00:08:53.560
of transparency to them so we can actually play around with the alpha value in order to show density

135

00:08:53.570  -->  00:08:56.990
of points a little more clearly in this plot.

136

00:08:56.990  -->  00:09:02.330
Let's go ahead and get started to recreate this plot going to go in and clear that the.

137

00:09:02.770  -->  00:09:07.060
And first thing you want to do is as always start for data layer.

138

00:09:07.150  -->  00:09:09.080
So I pass in the data frame I'm working with.

139

00:09:09.080  -->  00:09:15.180
In this case it's t x housing as indicated in the exercise and my aesthetics it's a scatterplot.

140

00:09:15.190  -->  00:09:25.600
I do have an x and y sign and go ahead and say X is sales comma Y is equal to volume 1 to go ahead and

141

00:09:25.610  -->  00:09:32.680
assign that to P L and then I'm going to keep adding to P.L. my geometry layer.

142

00:09:32.710  -->  00:09:38.140
And hopefully you were able to either check the cheat sheet or check the documentation to figure out

143

00:09:38.140  -->  00:09:44.090
that GM underscore point was the correct geometry Alair to use here.

144

00:09:44.330  -->  00:09:48.470
And we can assign that to appeal to and this will give us just the basic plot.

145

00:09:48.500  -->  00:09:52.810
So if I go ahead and prints P.L. to here run the source.

146

00:09:52.820  -->  00:09:53.940
That's the basic plot.

147

00:09:53.990  -->  00:09:59.840
If you can get this far then you understand the grammar of graphics well enough to recreate plots to

148

00:09:59.840  -->  00:10:06.170
the point that you should be satisfied the rest is just sort of icing on the cake as far as making the

149

00:10:06.160  -->  00:10:12.160
visualization a little prettier or a little clear with additional parameters or arguments.

150

00:10:12.290  -->  00:10:14.870
So let's go ahead and add those parameters are arguments.

151

00:10:14.890  -->  00:10:18.910
In this case they fall under GM underscore points.

152

00:10:19.040  -->  00:10:22.010
It should be color blue.

153

00:10:22.000  -->  00:10:24.680
And more importantly we should have an alpha value to this.

154

00:10:24.670  -->  00:10:28.600
So if I go in and say Alpha Let's go out and set it to 0.3.

155

00:10:28.690  -->  00:10:31.870
And check this out.

156

00:10:31.930  -->  00:10:38.670
Now we have a nice indication if I zoom in to this plot where the actual density of my points lies.

157

00:10:38.870  -->  00:10:46.240
So in this case I can tell that there's actually a lot more points over between 0 and around 1000 or

158

00:10:46.250  -->  00:10:51.740
1500 sales versus over here we can see this is just individual points.

159

00:10:51.740  -->  00:10:57.090
So Alpha allows you to actually see very clearly the stacking of points on top of each other.

160

00:10:57.250  -->  00:11:01.660
If everything was opaque you wouldn't be able to tell if there were just one or a couple of points here

161

00:11:01.750  -->  00:11:04.110
versus just thousands or hundreds of points.

162

00:11:04.340  -->  00:11:07.780
And we can make this really clear it's like saying Alpha 0.1.

163

00:11:07.810  -->  00:11:11.900
And if you run that source you get a plot that looks like this.

164

00:11:11.920  -->  00:11:13.150
We zoom in on it.

165

00:11:13.340  -->  00:11:19.150
Now it's very clear that there's a very large density of points in this first quadrant.

166

00:11:19.730  -->  00:11:20.320
OK.

167

00:11:20.540  -->  00:11:27.490
So that was it for that first plot and then the next plot you can actually check it out in the exercise

168

00:11:27.500  -->  00:11:27.850
notebook.

169

00:11:27.860  -->  00:11:30.710
But it was just that at a smooth fit line to this.

170

00:11:30.710  -->  00:11:34.660
I'm going to go in and set this back to Alfas 0.3.

171

00:11:34.660  -->  00:11:40.420
And the thing we had to add it was a curve fit a smooth fit and that's actually just adding a simple

172

00:11:40.420  -->  00:11:41.590
geometry layer.

173

00:11:41.810  -->  00:11:45.060
So we go in to say peel to make it peel three.

174

00:11:45.120  -->  00:11:46.840
It's a little clear.

175

00:11:47.200  -->  00:11:48.250
And then we'll say peel three.

176

00:11:48.250  -->  00:11:55.040
Here is peel two plus and the layer we had to add was Geum underscore smooth.

177

00:11:55.850  -->  00:12:01.910
And I'll go ahead and set the color to red and this is one of the most basic ways we can add a line

178

00:12:01.900  -->  00:12:06.810
of best fit or some sort of smooth thick curve to our lots.

179

00:12:06.830  -->  00:12:14.250
And if you run that source there we can see that line that we just recreated from the exercise notebook

180

00:12:14.300  -->  00:12:14.880
.

181

00:12:15.480  -->  00:12:18.980
OK that's it for those exercises.

182

00:12:19.120  -->  00:12:24.100
Coming up after this you actually have a full data visualization project where you try to recreate a

183

00:12:24.110  -->  00:12:29.220
real date of visualization used in the Economist publication The Economist magazine.

184

00:12:29.650  -->  00:12:30.440
OK.

185

00:12:30.430  -->  00:12:32.300
Hopefully you enjoy these exercises.

186

00:12:32.300  -->  00:12:36.110
Remember the key point here is learning the grammar of graphics and the layers.

187

00:12:36.110  -->  00:12:41.240
Don't worry too much about the alpha or blue or stacking things like color.

188

00:12:41.240  -->  00:12:46.610
The real point you need to get across while doing these exercises is the actual stacking of the layers

189

00:12:46.690  -->  00:12:48.370
for the grammar graphics.

190

00:12:48.380  -->  00:12:50.710
All right thanks everyone and I'll see the next lecture
