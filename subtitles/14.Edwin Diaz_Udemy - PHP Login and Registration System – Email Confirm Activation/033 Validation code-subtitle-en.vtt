WEBVTT
1

00:00:00.540 --> 00:00:02.940

All right welcome back my dear student.



2

00:00:02.970 --> 00:00:05.660

So it's not for us to set some cookies.



3

00:00:05.670 --> 00:00:08.500

Well one cookie actually two.



4

00:00:08.640 --> 00:00:12.750

So they are called that page is now available all the time.



5

00:00:12.750 --> 00:00:13.800

So let's do that right here.



6

00:00:13.800 --> 00:00:16.270

Let's use our set cookie here.



7

00:00:16.270 --> 00:00:18.240

We're learning a lot about cookies right.



8

00:00:18.240 --> 00:00:20.530

We're going to call this cookie set Tom.



9

00:00:20.760 --> 00:00:26.620

I mean Tampax is that's cold or something like that.



10

00:00:26.970 --> 00:00:33.630

And you know why let's put the validation here validation code.



11

00:00:33.630 --> 00:00:34.030

All right.



12

00:00:34.050 --> 00:00:42.470

And if there's an expiration date or time and we're going to send it to one minute for now.



13

00:00:42.480 --> 00:00:42.990

All right



14

00:00:45.680 --> 00:00:46.580

beautiful.



15

00:00:46.590 --> 00:00:47.900

So that's why we're going to do for now.



16

00:00:47.910 --> 00:00:53.370

We're going to send this to expire every second.



17

00:00:53.400 --> 00:00:54.000

All right.



18

00:00:55.670 --> 00:00:56.450

All right.



19

00:00:56.780 --> 00:00:58.460

So what what next.



20

00:00:58.730 --> 00:01:04.310

Then next thing that we've got to do is work on what's receiving this information right.



21

00:01:04.550 --> 00:01:07.770

Right now this is why they say it's going to happen.



22

00:01:07.770 --> 00:01:12.890

All right when they are in the recovery that BHB right we're going to do all this stuff and we're going



23

00:01:12.890 --> 00:01:20.190

to send that to the e-mail and they click on this called BHB page right here.



24

00:01:20.240 --> 00:01:24.280

Ever call it with the e-mail right.



25

00:01:24.360 --> 00:01:29.000

To make sure that's correct and the code then we're going to receive that.



26

00:01:29.110 --> 00:01:35.260

So but I want to make sure this is actually working right now that it's finding the this.



27

00:01:35.280 --> 00:01:36.490

OK.



28

00:01:37.910 --> 00:01:38.910

All right so



29

00:01:43.940 --> 00:01:46.540

so e-mail exist.



30

00:01:46.650 --> 00:01:56.220

We do all this e-mail doesn't exist he's got a Gwinnell statement and you call somebody erro validation



31

00:01:56.250 --> 00:02:05.700

errors and we just say this email does not exist.



32

00:02:07.420 --> 00:02:09.690

All right.



33

00:02:11.150 --> 00:02:19.450

And here if for some reason this is not the same that talking is not the same.



34

00:02:19.520 --> 00:02:23.730

We are going to be redirecting these users somewhere else.



35

00:02:23.840 --> 00:02:29.180

Talking is not set and it's not the same generator.



36

00:02:29.630 --> 00:02:38.480

We're going to redirect them to the index or something like the redirect and make sure you put your



37

00:02:38.480 --> 00:02:40.530

comments OK.



38

00:02:41.000 --> 00:02:44.750

That way you don't forget what this is actually doing.



39

00:02:44.750 --> 00:02:46.080

All right.



40

00:02:46.910 --> 00:02:49.680

So let's check it to see if it works right.



41

00:02:49.880 --> 00:02:52.460

Let's go to recover that BHB



42

00:02:54.930 --> 00:03:02.730

we cover and let's typings an e-mail that doesn't change as I know for sure my e-mail has doesn't exist.



43

00:03:03.200 --> 00:03:04.520

This e-mail does not exist.



44

00:03:04.520 --> 00:03:07.160

You see that all right.



45

00:03:07.350 --> 00:03:11.590

But another thing that we need to do is all right.



46

00:03:12.540 --> 00:03:13.830

Once we have



47

00:03:17.050 --> 00:03:25.000

once we said all this in place we could make this a little stronger by inserting that validation code



48

00:03:25.030 --> 00:03:27.810

inside the database of the user.



49

00:03:28.290 --> 00:03:29.080

All right.



50

00:03:29.140 --> 00:03:35.440

Not only that we put in the session here but we can also put it put it in the validation column inside



51

00:03:35.500 --> 00:03:36.400

the user.



52

00:03:36.610 --> 00:03:39.040

That would make it a lot stronger don't you think.



53

00:03:39.040 --> 00:03:41.430

All right let's do that real quick as well.



54

00:03:41.500 --> 00:03:42.920

And super easy to do.



55

00:03:43.090 --> 00:03:52.200

Update users set validation code equal to what the validation code that we got there.



56

00:03:52.240 --> 00:03:53.200

Right.



57

00:03:53.200 --> 00:03:57.470

So let's just do it right here about the nation code like this.



58

00:03:57.480 --> 00:03:59.440

Make sure make sure that you escape it as well.



59

00:03:59.440 --> 00:04:04.140

Right so I'm going to do a command Z and then we go.



60

00:04:04.240 --> 00:04:04.840

Scaping



61

00:04:08.140 --> 00:04:08.890

and



62

00:04:11.350 --> 00:04:13.330

pu'er e-mail.



63

00:04:14.170 --> 00:04:22.380

So we're going to do that work man equals email scaped as well.



64

00:04:25.240 --> 00:04:36.850

And I believe at this point we've got the e-mail yes we do and we go semicolon there to make sure.



65

00:04:37.050 --> 00:04:41.010

And now that we have that in place we need to send the query in.



66

00:04:41.020 --> 00:04:47.080

I just save it in this query.



67

00:04:48.400 --> 00:04:54.220

Well call Furhman make sure that everything is working according to plan.



68

00:04:54.490 --> 00:04:59.370

So that way you have no problem singing do you know about it.



69

00:04:59.830 --> 00:05:02.320

Confirmed result.



70

00:05:02.500 --> 00:05:07.210

All right so now let's see if this works.



71

00:05:07.450 --> 00:05:15.190

So let's go and do a pitch be admin local Vost



72

00:05:18.250 --> 00:05:26.230

ph Pre my admin and let's see our users what have we got.



73

00:05:26.230 --> 00:05:32.140

So we got some users here with zero validation This is one let's do one real quick.



74

00:05:32.160 --> 00:05:32.980

All right.



75

00:05:33.340 --> 00:05:36.290

So we setting the validation to.



76

00:05:36.550 --> 00:05:43.330

All right we live in the past were the same when I was setting it we're not making a zero right now.



77

00:05:43.330 --> 00:05:50.150

So if we type in one e-mail we should be able to see the validation code in there.



78

00:05:50.410 --> 00:05:54.130

Let's see if that works.



79

00:05:54.150 --> 00:05:54.790

All right.



80

00:05:54.820 --> 00:06:03.270

And we should actually implement some type of message if he goes through and he says he sends the e-mail



81

00:06:04.600 --> 00:06:10.830

and we should call some type of message here if he goes through so we can actually test this as well.



82

00:06:10.860 --> 00:06:17.360

If send email is not good we can echo some errors too.



83

00:06:17.600 --> 00:06:18.580

So let's go.



84

00:06:18.760 --> 00:06:21.190

So errors.



85

00:06:22.170 --> 00:06:28.200

And this is going to give us an arrow because we had our localhost is now really set up to send e-mail



86

00:06:28.200 --> 00:06:35.270

saying is now going to write to send e-mail with local forces really complicated so I'm not going to



87

00:06:35.270 --> 00:06:42.000

do that in this lecture because I know maybe 95 percent of you will now be able to do it.



88

00:06:42.020 --> 00:06:48.020

And if you are we'll be able to do it would take you some hours a lot of hours to get it done.



89

00:06:48.030 --> 00:06:50.730

I don't want to deal with that because it's really complicated.



90

00:06:50.730 --> 00:06:51.880

I don't recommend it.



91

00:06:51.890 --> 00:06:57.060

I have users messed up the whole system just trying to get local to work with emails.



92

00:06:57.110 --> 00:07:03.170

So if you want to go ahead and you know Google it you can and you can you can try it on your own but



93

00:07:03.170 --> 00:07:05.580

on this course they're not going to show you how to do that.



94

00:07:05.600 --> 00:07:07.500

What I'm going to show you is how to test it.



95

00:07:07.520 --> 00:07:13.880

Just make sure it works and how to take it to the server and make sure it works there because you know



96

00:07:13.940 --> 00:07:16.450

ultimately we want this in the live server right.



97

00:07:16.730 --> 00:07:18.010

So that's what I'm going to show you.



98

00:07:18.020 --> 00:07:25.100

But anyway if we are able to send e-mail we got to say actually



99

00:07:27.770 --> 00:07:34.720

if we are not what you're Please check.



100

00:07:34.850 --> 00:07:35.640

You can now.



101

00:07:35.720 --> 00:07:41.750

This is going to be you know what we are going to set some type of.



102

00:07:43.340 --> 00:07:46.430

We're going to redirect the user back to.



103

00:07:47.540 --> 00:07:50.030

Let me show you something here we cover.



104

00:07:50.030 --> 00:07:55.310

We're now going to argue anything there but if for some reason it's bad we're going to echo something



105

00:07:55.310 --> 00:07:56.870

here let's just do it like this for now



106

00:07:59.490 --> 00:08:01.550

e-mail could not be sent.



107

00:08:01.550 --> 00:08:08.750

I just want you to know how to do this because this returns bad if not e-mail could not be sent.



108

00:08:09.110 --> 00:08:10.610

And we've got to get these errors.



109

00:08:10.610 --> 00:08:11.620

I just want you to see that.



110

00:08:11.630 --> 00:08:12.170

But anyway



111

00:08:15.550 --> 00:08:19.990

click on the on the variable headers.



112

00:08:19.990 --> 00:08:21.130

OK we need to fix that.



113

00:08:21.130 --> 00:08:25.690

But you see that e-mail can now be sent beautiful.



114

00:08:25.870 --> 00:08:26.240

All right.



115

00:08:26.260 --> 00:08:31.990

And now we go back here and we refresh we can see a cold here which is crazy.



116

00:08:32.290 --> 00:08:37.900

And we just kind of make sure that it's the right code and it doesn't look like it is right now looks



117

00:08:37.900 --> 00:08:40.440

like it is a mess.



118

00:08:40.510 --> 00:08:42.740

But anyway let's check for.



119

00:08:42.740 --> 00:08:45.690

Real quick we only have this one here.



120

00:08:45.690 --> 00:08:47.730

There we go.



121

00:08:47.740 --> 00:08:49.740

All right validation code.



122

00:08:49.800 --> 00:08:51.640

What happened with validation code



123

00:08:54.880 --> 00:09:01.270

Hamdy five oh it has to be plus here right.



124

00:09:01.380 --> 00:09:03.000

Not parameters.



125

00:09:03.030 --> 00:09:06.070

Plus that's where we got some crazy stuff going on.



126

00:09:06.230 --> 00:09:09.110

So let's do it again.



127

00:09:09.110 --> 00:09:09.500

All right.



128

00:09:09.520 --> 00:09:17.010

One is e-mail G-mail reset e-mail cannot be sent.



129

00:09:17.010 --> 00:09:19.980

That's OK because we are a local host in a real life server.



130

00:09:20.000 --> 00:09:22.910

You would get a really good cool message.



131

00:09:22.910 --> 00:09:28.970

But anyway we go back here and we refresh and we can see our new validation call right here.



132

00:09:28.970 --> 00:09:32.440

So it did go through and we were able to do some cool things right.



133

00:09:32.600 --> 00:09:40.690

So we set the validation code again for the user and now the next step would be to the that all this



134

00:09:40.700 --> 00:09:43.120

changes that we have done here.



135

00:09:43.140 --> 00:09:44.390

All right.



136

00:09:44.510 --> 00:09:50.870

In our call that BHB page because that's the link they're going to be clicking to activate to reset



137

00:09:50.870 --> 00:09:52.390

their password right.



138

00:09:53.000 --> 00:10:00.540

So when we send this and another thing is that we don't want them to be here too long right.



139

00:10:00.710 --> 00:10:03.710

So we actually are setting up.



140

00:10:03.890 --> 00:10:07.170

We already have a validation cookie for this right.



141

00:10:07.170 --> 00:10:09.300

It's 60 seconds.



142

00:10:09.320 --> 00:10:11.820

So right now this is expired.



143

00:10:13.970 --> 00:10:15.000

All right.



144

00:10:15.540 --> 00:10:19.730

Well they can be here all they want but we're going to set that in the called up BHB page.



145

00:10:19.780 --> 00:10:20.220

Right.



146

00:10:20.390 --> 00:10:23.110

Anyway thank you so much for watching this lecture.



147

00:10:23.120 --> 00:10:28.720

And we're going to jump into the cold out BHB page and we're going to do some detect detection there



148

00:10:28.720 --> 00:10:33.650

and some data extraction and validation is going to be pretty cool.



149

00:10:33.650 --> 00:10:34.850

Thank you so much for watching.



150

00:10:34.850 --> 00:10:36.030

I'll see you in the next lecture.



