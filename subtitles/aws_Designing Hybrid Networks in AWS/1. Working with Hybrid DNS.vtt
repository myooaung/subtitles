WEBVTT
1
00:00:02.140 --> 00:00:03.100
[Autogenerated] Hi there.

2
00:00:03.100 --> 00:00:06.980
Welcome this module in a designing hybrid address Networks calls.

3
00:00:06.980 --> 00:00:09.250
My name is Mike Ground in this model.

4
00:00:09.250 --> 00:00:11.960
Where than take a look at some of the hybrid network act actually

5
00:00:11.960 --> 00:00:17.440
designed choices we have available to us in this multiple.

6
00:00:17.440 --> 00:00:21.000
Well, then take a look at some of supporting services in AWS.

7
00:00:21.000 --> 00:00:25.440
The will of sisters when we're designing implementing hybrid networks.

8
00:00:25.440 --> 00:00:30.340
Well, take a look at DNS and name resolution in a hybrid network architecture.

9
00:00:30.340 --> 00:00:34.000
We're gonna take a look at Route 53 Ruin policies on wagon

10
00:00:34.000 --> 00:00:37.440
discussing Deploy Ed West Transit Gateway.

11
00:00:37.440 --> 00:00:38.800
But let's start with DNS.

12
00:00:38.800 --> 00:00:41.740
In a hybrid network architecture,

13
00:00:41.740 --> 00:00:44.770
DNS is all about making sure that we can resolve names to i p

14
00:00:44.770 --> 00:00:49.760
addresses in aws that name resolutions primarily provided by Ed

15
00:00:49.760 --> 00:00:53.460
West s on route 50 free on premise.

16
00:00:53.460 --> 00:00:57.340
You have most likely deployed your own Deanna systems

17
00:00:57.340 --> 00:00:59.180
even the windows all the next based off.

18
00:00:59.180 --> 00:01:03.940
For instance, when thinking about name is Lucien aws,

19
00:01:03.940 --> 00:01:07.120
remember the easy to instances as well as being given a private I P

20
00:01:07.120 --> 00:01:09.750
address and potentially a public I p address.

21
00:01:09.750 --> 00:01:14.260
I've also given a private DNS name this private DNS name resolved to their

22
00:01:14.260 --> 00:01:19.110
private i p address on his resolvable inside your vpc These names

23
00:01:19.110 --> 00:01:22.740
resolvable because a dress DNS is enabled by default,

24
00:01:22.740 --> 00:01:25.150
E c two instances could also be given publicly.

25
00:01:25.150 --> 00:01:26.470
Result Will names.

26
00:01:26.470 --> 00:01:31.270
To do this, we have to enable our VPC to provide publicly result full names E.

27
00:01:31.270 --> 00:01:31.480
T.

28
00:01:31.480 --> 00:01:31.630
C.

29
00:01:31.630 --> 00:01:35.710
Two instances provided for an i P address of a DNS server by default.

30
00:01:35.710 --> 00:01:37.640
This is age West, Dennis,

31
00:01:37.640 --> 00:01:41.540
but you can provide details of your own Deanna serve if you wish.

32
00:01:41.540 --> 00:01:45.450
It's worth noting as well that the air Due West DNS service also

33
00:01:45.450 --> 00:01:47.940
allows public names on that next be resolved.

34
00:01:47.940 --> 00:01:52.040
So 80 West DNS provides internal in public name resolution.

35
00:01:52.040 --> 00:01:54.040
If you want to use your own dinner service,

36
00:01:54.040 --> 00:01:57.100
perhaps the dealer service you've already got deployed on premise.

37
00:01:57.100 --> 00:01:59.440
Then you need to change the date CP option set for the

38
00:01:59.440 --> 00:02:02.080
VPC and configure it with the I P.

39
00:02:02.080 --> 00:02:04.440
Address off your DNS service.

40
00:02:04.440 --> 00:02:06.770
When working with name is Lieutenant de Bresse,

41
00:02:06.770 --> 00:02:11.750
we might need toe resolve on premise names for inside our VPC on

42
00:02:11.750 --> 00:02:15.340
resolve the names of easy to instances from on premise when

43
00:02:15.340 --> 00:02:18.520
configuring name resolution between On Premise and Eddie grass

44
00:02:18.520 --> 00:02:20.350
where Configuring hybrid DNS.

45
00:02:20.350 --> 00:02:20.960
Historically,

46
00:02:20.960 --> 00:02:25.890
the we haven't been able to query air due West Dennis directly from on premise,

47
00:02:25.890 --> 00:02:29.890
the AWS DNS endpoint just rejects all queries that

48
00:02:29.890 --> 00:02:32.840
haven't been generated from inside the VPC.

49
00:02:32.840 --> 00:02:33.980
To get around this issue,

50
00:02:33.980 --> 00:02:38.280
you can deploy resolve into your VPC We were then fold

51
00:02:38.280 --> 00:02:41.170
requests one premise to that result for who would followed

52
00:02:41.170 --> 00:02:43.230
them to the AWS DNS service.

53
00:02:43.230 --> 00:02:48.750
Today we can use Route 53 resolve endpoints and rules to do the same job.

54
00:02:48.750 --> 00:02:50.120
In this first scenario,

55
00:02:50.120 --> 00:02:53.070
we've got headquarters invite on air due west on the left on

56
00:02:53.070 --> 00:02:56.190
a site site VPN configured connecting the two we want

57
00:02:56.190 --> 00:02:57.790
applications and services deployed.

58
00:02:57.790 --> 00:03:01.340
It take you to be able to resolve fully qualified domain names.

59
00:03:01.340 --> 00:03:03.130
Off results is deployed native west.

60
00:03:03.130 --> 00:03:05.630
They're using 80 west DNs in headquarters.

61
00:03:05.630 --> 00:03:08.240
Then we've got deployed DNS server.

62
00:03:08.240 --> 00:03:11.480
I'm good deported DNS server into our vpc near digress.

63
00:03:11.480 --> 00:03:13.640
These two DNs service concluded kill each other

64
00:03:13.640 --> 00:03:15.270
because of the site site connection.

65
00:03:15.270 --> 00:03:17.320
If our on premise client wants to resolve the name

66
00:03:17.320 --> 00:03:22.000
of unaired us deployed results, HDs cradle good to the local DNS server.

67
00:03:22.000 --> 00:03:26.460
The local DNS server will be configured with a forward A record to forward all

68
00:03:26.460 --> 00:03:30.640
air do s name requests to the resolve er deployed in AWS.

69
00:03:30.640 --> 00:03:34.210
In turn the result were deployed in AWS is configured to

70
00:03:34.210 --> 00:03:37.390
forward all aid us Damon quests to 80 West D.

71
00:03:37.390 --> 00:03:38.020
N s.

72
00:03:38.020 --> 00:03:41.230
A Jew s DNS will accept this request because the result is deployed.

73
00:03:41.230 --> 00:03:44.490
The VPC hope for little bit was all the name and it'll pass the

74
00:03:44.490 --> 00:03:48.610
results back to our VPC deployed DNS server who in turn will pass

75
00:03:48.610 --> 00:03:50.860
the results to our hit Q DNS server.

76
00:03:50.860 --> 00:03:53.620
Who will then pass the queer results back to the client.

77
00:03:53.620 --> 00:03:55.930
The client can then use the resolved i p address to

78
00:03:55.930 --> 00:03:58.340
communicate with the Aid West deployed results.

79
00:03:58.340 --> 00:04:01.090
The big downside fits scenario is that we have to management

80
00:04:01.090 --> 00:04:03.950
in this re PC deployed DNS server just so that we can

81
00:04:03.950 --> 00:04:06.620
communicate with the West DNs today.

82
00:04:06.620 --> 00:04:09.640
Then, instead of deploying the extra DNS server,

83
00:04:09.640 --> 00:04:14.290
we can configure Room 53 resolve records when you create this record

84
00:04:14.290 --> 00:04:17.560
on elastic network interfaces deployed and connected to one of the

85
00:04:17.560 --> 00:04:20.130
subjects inside your vpc On premise,

86
00:04:20.130 --> 00:04:24.800
we would still have our internal DNS server that our clients and queries toe.

87
00:04:24.800 --> 00:04:30.740
This time, when the DNS server gets a query to resolve an internal VPC name,

88
00:04:30.740 --> 00:04:34.350
it will now fall that query to the Route 53 inbound.

89
00:04:34.350 --> 00:04:37.750
Resolve the endpoint who will forward it onto the Route 53

90
00:04:37.750 --> 00:04:41.640
inbound resolve record The inbound result of record will resolve

91
00:04:41.640 --> 00:04:43.480
the internal name to an internal i p.

92
00:04:43.480 --> 00:04:47.690
Address off one of your deployed instances on the result we passed

93
00:04:47.690 --> 00:04:53.130
back when working with a route 53 resolver direct connect All VPN is

94
00:04:53.130 --> 00:04:56.920
required So we've got a rude connection between on premise on data

95
00:04:56.920 --> 00:05:00.540
breasts resolves of region specific.

96
00:05:00.540 --> 00:05:02.940
So if we deploy resolve it to London,

97
00:05:02.940 --> 00:05:04.970
it could be used to resolve the private DNS.

98
00:05:04.970 --> 00:05:10.440
Names of instances deployed to London VP sees to configure inbound folding.

99
00:05:10.440 --> 00:05:13.590
We create an inbound endpoint as part of its creation.

100
00:05:13.590 --> 00:05:17.330
We're linking the results VPC we choose i p addresses

101
00:05:17.330 --> 00:05:19.260
for the result for and ideally,

102
00:05:19.260 --> 00:05:23.040
we choose to I p addresses in two different availability zones

103
00:05:23.040 --> 00:05:25.540
and we configure it was over secure agree,

104
00:05:25.540 --> 00:05:27.520
which helps us control access to the result.

105
00:05:27.520 --> 00:05:29.050
For finally,

106
00:05:29.050 --> 00:05:32.740
make sure you configure the appropriate folders record on your on premise.

107
00:05:32.740 --> 00:05:41.000
DNS servers will need a folder record for each internal demand that we want to forward to our inbound endpoint

