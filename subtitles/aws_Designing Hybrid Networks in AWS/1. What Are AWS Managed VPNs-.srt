1
00:00:03,000 --> 00:00:03,890
[Autogenerated] Hi there.

2
00:00:03,890 --> 00:00:07,540
My name is Mike Brown on Welcome to our course Designing hybrid networks.

3
00:00:07,540 --> 00:00:09,400
In their progress in this model,

4
00:00:09,400 --> 00:00:11,680
we're gonna take a look at design in a hybrid network arc

5
00:00:11,680 --> 00:00:15,540
toucher using aid us manage free pens.

6
00:00:15,540 --> 00:00:18,340
We're gonna start with model by trying to answer a question.

7
00:00:18,340 --> 00:00:20,930
Why are eight us manage repentance?

8
00:00:20,930 --> 00:00:25,040
We're going Discuss static and dynamic site site V P N's on Dragon.

9
00:00:25,040 --> 00:00:29,440
Discuss a South called Cloud Hope on client VPN endpoints.

10
00:00:29,440 --> 00:00:32,240
So let's begin by trying to answer that question.

11
00:00:32,240 --> 00:00:34,940
What I did us manage free pens.

12
00:00:34,940 --> 00:00:39,440
80 West manage free pens are deployed using Aid West components.

13
00:00:39,440 --> 00:00:41,080
These type of VPN, zehr clusters,

14
00:00:41,080 --> 00:00:45,940
hard levy pins and we can deploy them using seven different models.

15
00:00:45,940 --> 00:00:48,320
If we have a requirement for V P N's,

16
00:00:48,320 --> 00:00:51,470
then why not let a good West all the hard work for us?

17
00:00:51,470 --> 00:00:56,560
Let a good West worry about support, maintenance availability, freeing a part.

18
00:00:56,560 --> 00:00:59,560
Time to work on other parts of our network anywhere.

19
00:00:59,560 --> 00:01:00,740
Spanish free pens.

20
00:01:00,740 --> 00:01:03,510
Use I P sec to secure I P traffic.

21
00:01:03,510 --> 00:01:07,200
Traveling between the VPN points each address manage for you.

22
00:01:07,200 --> 00:01:10,690
Pen connection has two tunnels for redundancy.

23
00:01:10,690 --> 00:01:14,440
Each tunnel supports up to 1.25 Think about the fruit,

24
00:01:14,440 --> 00:01:17,900
but there are several factors that could affect that fruit boat.

25
00:01:17,900 --> 00:01:21,540
These include the capabilities off the customer permit equipment,

26
00:01:21,540 --> 00:01:25,250
the capacity of your connection between yourself and AWS network.

27
00:01:25,250 --> 00:01:28,540
Leytonstone your collection and average pocket size.

28
00:01:28,540 --> 00:01:31,220
When you come to deliver an age with manage VPN,

29
00:01:31,220 --> 00:01:33,290
there are several models that you can follow.

30
00:01:33,290 --> 00:01:37,320
In this first example, we will deploy a virtual private gateway.

31
00:01:37,320 --> 00:01:41,240
Virtual private gate was deployed in attached Ravi PC.

32
00:01:41,240 --> 00:01:44,550
We then use the VPC route tables to route the VP

33
00:01:44,550 --> 00:01:47,740
inbound traffic towards our gateway.

34
00:01:47,740 --> 00:01:49,770
We also configure a customer gateway.

35
00:01:49,770 --> 00:01:54,240
The customer gateway near the west represents your arm from his equipment.

36
00:01:54,240 --> 00:01:58,430
Includes the public I p address of your own primitive us on the type of ruin.

37
00:01:58,430 --> 00:01:59,890
Even stack our dynamic.

38
00:01:59,890 --> 00:02:01,760
We're gonna use one kept intact device.

39
00:02:01,760 --> 00:02:05,130
Finally, in this model, we deploy a VPN connection.

40
00:02:05,130 --> 00:02:08,940
The VPN connection links the virtual private gateway to the customer.

41
00:02:08,940 --> 00:02:12,940
Gateway on creates are two total end points.

42
00:02:12,940 --> 00:02:14,640
In the second model,

43
00:02:14,640 --> 00:02:18,850
we still deploy a customer gateway on the customer get where it's

44
00:02:18,850 --> 00:02:21,520
still used to identify the on premise device.

45
00:02:21,520 --> 00:02:24,210
This model then uses a transit gateway.

46
00:02:24,210 --> 00:02:29,130
The transit gateway replaces the virtual private gateway on the VPN connection.

47
00:02:29,130 --> 00:02:30,900
Our VP sees form attachments.

48
00:02:30,900 --> 00:02:33,870
The transit gateway on the transit gateway replaces our

49
00:02:33,870 --> 00:02:36,940
virtual private gateway in the VPC route tables.

50
00:02:36,940 --> 00:02:39,320
The transit gateways then used to form a VPN

51
00:02:39,320 --> 00:02:41,950
attachment like the vegan connection,

52
00:02:41,950 --> 00:02:46,000
the VP An attachment brings up two tunnels that on purpose device

53
00:02:46,000 --> 00:02:48,600
could establish a site to site VPN connection with.

54
00:02:48,600 --> 00:02:51,130
In this example, we're following Model One.

55
00:02:51,130 --> 00:02:51,830
We have a V P.

56
00:02:51,830 --> 00:02:55,740
C deployed to Eddie Breasts on that VPC has two subjects.

57
00:02:55,740 --> 00:02:58,690
We have a headquarters office and a head office.

58
00:02:58,690 --> 00:03:00,650
We've deployed a single ruler.

59
00:03:00,650 --> 00:03:04,220
They will be used to establish the site site peeping connections

60
00:03:04,220 --> 00:03:07,610
with the aid of us manage VPN components in here to breast We've

61
00:03:07,610 --> 00:03:09,840
complied a virtual private gateway.

62
00:03:09,840 --> 00:03:14,600
We will have configured a customer gateway on the VPN connection and this

63
00:03:14,600 --> 00:03:18,410
will establish the to toe Len points on the Aid West Side.

64
00:03:18,410 --> 00:03:21,140
So I'm from a tree were well established site site,

65
00:03:21,140 --> 00:03:26,270
the pain connections with both the timeline points in this example,

66
00:03:26,270 --> 00:03:27,900
we have a single point of failure,

67
00:03:27,900 --> 00:03:31,170
namely the rule at head office If that route goes down,

68
00:03:31,170 --> 00:03:32,980
we lose our site site connection.

69
00:03:32,980 --> 00:03:36,620
So if you want a bit more redundancy, you might go with this model here.

70
00:03:36,620 --> 00:03:39,330
We've still got a single virtual private gateway attached Dr V.

71
00:03:39,330 --> 00:03:39,500
P.

72
00:03:39,500 --> 00:03:40,330
C.

73
00:03:40,330 --> 00:03:43,830
This time we've deployed two rules at head office on each of

74
00:03:43,830 --> 00:03:47,840
those rulers established a connection with the two tunnels in

75
00:03:47,840 --> 00:03:50,960
a dress on the a d Westside.

76
00:03:50,960 --> 00:03:55,430
Off the relationship, we still use one virtual private gateway attached to a V P.

77
00:03:55,430 --> 00:03:56,130
C.

78
00:03:56,130 --> 00:03:59,800
But this time we would need multiple customer gateways because we now

79
00:03:59,800 --> 00:04:02,420
have multiple public endpoints at head office on,

80
00:04:02,420 --> 00:04:05,260
we'll need multiple VPN connections to link those customer

81
00:04:05,260 --> 00:04:08,340
gateways to our virtual private gateway.

82
00:04:08,340 --> 00:04:12,340
This south works well, and as you'll see in a demonstration,

83
00:04:12,340 --> 00:04:14,440
he's not that difficult set up.

84
00:04:14,440 --> 00:04:19,810
But what if we had multiple VP sees honey FPPC nearly site site collectivity.

85
00:04:19,810 --> 00:04:21,280
Well, for this to work,

86
00:04:21,280 --> 00:04:24,690
we would need multiple virtual private gateways as each virtual

87
00:04:24,690 --> 00:04:27,580
private gateway has a 1 to 1 relationship with a V p.

88
00:04:27,580 --> 00:04:28,380
C.

89
00:04:28,380 --> 00:04:32,370
Then we need a customer gateway that represents our on from this device.

90
00:04:32,370 --> 00:04:36,950
And finally we need a VPN connection for each virtual private gateway

91
00:04:36,950 --> 00:04:40,320
to link it to the customer gateway with each VPN connection creating

92
00:04:40,320 --> 00:04:45,270
two tunnels to route traffic between headquarters on the VPC attached

93
00:04:45,270 --> 00:04:47,320
virtual private gateway.

94
00:04:47,320 --> 00:04:49,300
Once we've configured the on promise device,

95
00:04:49,300 --> 00:04:52,520
it would connect to eat to the timeline points.

96
00:04:52,520 --> 00:04:57,080
If we imagine this across a more complicated network with lots of VP sees

97
00:04:57,080 --> 00:05:00,010
each one requiring everyone virtual private gateway.

98
00:05:00,010 --> 00:05:03,840
Things will quickly get difficult to manage and expensive.

99
00:05:03,840 --> 00:05:07,060
This next example follows model to we still have our

100
00:05:07,060 --> 00:05:10,510
multiple VP sees a mega Rua head office,

101
00:05:10,510 --> 00:05:13,460
but this time we deploy a transit gateway.

102
00:05:13,460 --> 00:05:17,040
The transit gateway itself is not attached to a single VPC.

103
00:05:17,040 --> 00:05:17,650
Instead,

104
00:05:17,650 --> 00:05:21,750
multiple VP sees concrete attachments to the transit gateway

105
00:05:21,750 --> 00:05:25,550
on the transit gatewaycan create a VPN attachment just like

106
00:05:25,550 --> 00:05:30,450
the VPN connections for Model one, the transit gateway VPN attachment Well,

107
00:05:30,450 --> 00:05:33,490
actually create two tunnels on our headquarters device will be

108
00:05:33,490 --> 00:05:36,030
configured to connect to both of those tow line points.

109
00:05:36,030 --> 00:05:39,840
This model, then, is lot near and should be easier to manage its scale.

110
00:05:39,840 --> 00:05:42,720
But we must think about availability and cost.

111
00:05:42,720 --> 00:05:46,860
It may be that the transit gateway is simpler and easier to manage its scale,

112
00:05:46,860 --> 00:05:50,380
but the benefits we get from that might not outweigh the cost of

113
00:05:50,380 --> 00:05:54,380
deploying the transit gateway With transit gateways.

114
00:05:54,380 --> 00:05:56,880
We pay a fee for a transit gateway.

115
00:05:56,880 --> 00:06:01,740
Attach one hour, so for every hour your V P C is attached to the transit gateway.

116
00:06:01,740 --> 00:06:02,940
There's a cost.

117
00:06:02,940 --> 00:06:04,840
Virtual private gateways.

118
00:06:04,840 --> 00:06:06,130
We pay for sight sight.

119
00:06:06,130 --> 00:06:07,940
VPN connection ours.

120
00:06:07,940 --> 00:06:12,070
So the longer sites like VPN connection is up, the more we pay.

121
00:06:12,070 --> 00:06:15,940
There's also a cost for transferring day out through the site site VPN.

122
00:06:15,940 --> 00:06:20,120
When using a virtual private gateway for transit gateways,

123
00:06:20,120 --> 00:06:21,910
we start to pay the site site VPN.

124
00:06:21,910 --> 00:06:25,240
Connection costs Under is a cost per gigabyte of data

125
00:06:25,240 --> 00:06:27,640
processed through the transit Gateway.

126
00:06:27,640 --> 00:06:31,720
A virtual private gateway could be attached to a single VPC.

127
00:06:31,720 --> 00:06:32,430
Where's the transit?

128
00:06:32,430 --> 00:06:36,400
Gateway supports multiple attachments to Buffy Peces.

129
00:06:36,400 --> 00:06:40,700
VP ends on appearing connections toe over transit gateways.

130
00:06:40,700 --> 00:06:43,190
If you're using a virtual private gateway,

131
00:06:43,190 --> 00:06:47,600
there's no additional configuration that you can perform with transit Gateway.

132
00:06:47,600 --> 00:06:52,140
It's a parts additional features like equal cost multipath ruin

133
00:06:52,140 --> 00:06:55,340
unlawful route table so we can segment traffic.

134
00:06:55,340 --> 00:06:58,410
So although transit gateway cost a bit more, it might be easy.

135
00:06:58,410 --> 00:07:05,000
It's vengeance scale, and it definitely has a lot more features. The virtual private gateway

