WEBVTT
X-TIMESTAMP-MAP=LOCAL:00:00:00.000,MPEGTS:0

00:00:01.040 --> 00:00:05.925
Vuex also allows us to organize our code into modules.

00:00:05.925 --> 00:00:09.030
We discovered separating our actions, getters,

00:00:09.030 --> 00:00:11.970
our mutations into the own files,

00:00:11.970 --> 00:00:13.545
which was an improvement.

00:00:13.545 --> 00:00:19.050
But we can improve things even further by grouping together related functionality.

00:00:19.050 --> 00:00:21.600
For example, everything which is currently in

00:00:21.600 --> 00:00:25.500
our store can be divided up into three groups.

00:00:25.500 --> 00:00:28.379
It's even related to our menu,

00:00:28.379 --> 00:00:31.140
the orders, or our users.

00:00:31.140 --> 00:00:35.159
So we can organize our code into these free modules.

00:00:35.159 --> 00:00:38.535
I'm going to do this over in the style folder.

00:00:38.535 --> 00:00:41.940
Inside here we can create a modules folder,

00:00:41.940 --> 00:00:44.480
to store our free new files.

00:00:44.480 --> 00:00:47.180
This also going to be JavaScript files.

00:00:47.180 --> 00:00:51.115
So the first one is for the menu functionality.

00:00:51.115 --> 00:00:57.645
Still inside the modules wE creates the orders.js,

00:00:57.645 --> 00:01:00.640
and finally the users.

00:01:01.730 --> 00:01:04.730
Make sure that these all nested inside of

00:01:04.730 --> 00:01:09.410
the new modules folder and then we can start with our menu.

00:01:09.410 --> 00:01:14.105
Inside of here we can add all of the state getters, mutations,

00:01:14.105 --> 00:01:20.390
and actions which are related to our menu and store these inside of a constant.

00:01:20.390 --> 00:01:24.165
So we can set up the state as an objects.

00:01:24.165 --> 00:01:31.950
We can do our getters, the mutations.

00:01:33.200 --> 00:01:36.640
Then finally, the actions.

00:01:37.540 --> 00:01:42.500
I'm going to begin in this file by adding our menu items from states,

00:01:42.500 --> 00:01:46.050
which we currently have a nice tall.js.

00:01:46.070 --> 00:01:50.135
Inside here, the state has our menu items,

00:01:50.135 --> 00:01:51.785
which is an object.

00:01:51.785 --> 00:01:54.955
Let's locate the closing curly brace.

00:01:54.955 --> 00:01:58.720
I'm to move everything inside here.

00:01:59.380 --> 00:02:03.900
Leaving the orders are and also the current user.

00:02:03.980 --> 00:02:09.755
Paste these in it to our menu.js inside of our states objects.

00:02:09.755 --> 00:02:15.635
There were two pieces of state in our store are related to the orders and the user.

00:02:15.635 --> 00:02:18.740
So on add these to the own module soon.

00:02:18.740 --> 00:02:22.580
Next up I'm going to grab the get menu items,

00:02:22.580 --> 00:02:26.595
which is a getter from our guesses.js file.

00:02:26.595 --> 00:02:29.330
Let's cut this line again.

00:02:29.330 --> 00:02:32.450
Over two are related to the over two modules.

00:02:32.450 --> 00:02:34.900
We can just grab the first one.

00:02:34.900 --> 00:02:38.295
Go down to the getters is face this in.

00:02:38.295 --> 00:02:42.080
This function is also now on our getters object two.

00:02:42.080 --> 00:02:47.105
We need to return this back to a method by changing equals to a colon.

00:02:47.105 --> 00:02:50.130
Comma can also remove the x-box.

00:02:51.340 --> 00:02:54.380
We don't have any mutations to add,

00:02:54.380 --> 00:02:57.575
and we'll add some actions to this file later on.

00:02:57.575 --> 00:03:00.709
When x needs to export all of these constants,

00:03:00.709 --> 00:03:03.080
so we can use them in our files.

00:03:03.080 --> 00:03:04.940
We have our states,

00:03:04.940 --> 00:03:09.110
we have our getters, mutations, and actions.

00:03:09.110 --> 00:03:11.600
So we can't export default,

00:03:11.600 --> 00:03:16.240
an object which will contain these four variables.

00:03:16.240 --> 00:03:20.460
So state, mutations, getters,

00:03:20.460 --> 00:03:23.280
and finally, the actions.

00:03:23.280 --> 00:03:25.070
Like in the last video,

00:03:25.070 --> 00:03:30.035
I would encourage you to complete the orders on the user's modules by itself.

00:03:30.035 --> 00:03:32.360
It does matter if you mess things up.

00:03:32.360 --> 00:03:34.865
I'm going to go ahead until this now.

00:03:34.865 --> 00:03:37.715
We can always compare the code at the end.

00:03:37.715 --> 00:03:42.260
Remember two for each functional copy over into our modules,

00:03:42.260 --> 00:03:44.855
we need to replace the equals with a colon,

00:03:44.855 --> 00:03:47.035
just as we have looked at here.

00:03:47.035 --> 00:03:50.090
Let's now move on to the orders.

00:03:50.090 --> 00:03:51.860
This new module.

00:03:51.860 --> 00:03:56.520
We can create a constant of states.

00:03:58.160 --> 00:04:01.480
We can create our mutations,

00:04:01.480 --> 00:04:09.200
the getters, the actions,

00:04:09.200 --> 00:04:15.749
and then finally export defaults of objects for these four variables.

00:04:19.340 --> 00:04:22.635
Wireless is empty, just changed this.

00:04:22.635 --> 00:04:28.870
I'm going to select all and copy and paste this over inside of the users.js.

00:04:28.870 --> 00:04:32.230
Then we can begin to work with our orders.

00:04:32.230 --> 00:04:34.235
First of all, inside of the states,

00:04:34.235 --> 00:04:39.650
we can grab any state which related to orders from the store.js.

00:04:39.650 --> 00:04:43.145
Our orders are initialized as an empty array.

00:04:43.145 --> 00:04:49.705
Let's remove this, this is interstates.

00:04:49.705 --> 00:04:54.300
We have mutations or mutations folder,

00:04:54.300 --> 00:04:56.850
which is our add to order.

00:04:56.850 --> 00:05:01.365
Remove this base is same,

00:05:01.365 --> 00:05:06.740
remember to remove the exports and also set this back to be a colon.

00:05:06.740 --> 00:05:08.375
We also have a getter,

00:05:08.375 --> 00:05:11.065
which is the number of orders.

00:05:11.065 --> 00:05:16.590
Remove this and paste this in to our module.

00:05:19.280 --> 00:05:22.145
We don't currently have any actions.

00:05:22.145 --> 00:05:26.140
So for now we can save this file and also the getters.

00:05:26.140 --> 00:05:29.980
We can begin to work on the users.js module.

00:05:29.980 --> 00:05:36.320
The very top for the state we have the current user which you can grab from our stall,

00:05:36.320 --> 00:05:38.845
which is currently set to know.

00:05:38.845 --> 00:05:43.625
We can add this end next step for the mutations,

00:05:43.625 --> 00:05:45.770
we have the user status.

00:05:45.770 --> 00:05:53.990
The mutations.js, grab all of the contents and paste this in to a wall object,

00:05:53.990 --> 00:05:56.555
remove our export, setup,

00:05:56.555 --> 00:06:00.555
our colon, and down to our getters.

00:06:00.555 --> 00:06:02.570
There is one getters we need for this file,

00:06:02.570 --> 00:06:07.730
and this is to get the current user from our getters.js file.

00:06:07.730 --> 00:06:14.475
Let's remove this, remove our exports and the colon,

00:06:14.475 --> 00:06:17.950
and down to the actions for the actions related to the user,

00:06:17.950 --> 00:06:19.915
we have the sign-in method.

00:06:19.915 --> 00:06:24.080
Let's grab this from our actions.js.

00:06:24.080 --> 00:06:27.670
We can also grab the sign out while here too.

00:06:27.670 --> 00:06:31.260
Let's grab both of these phases in it.

00:06:31.260 --> 00:06:33.940
So I'll uses module as ever.

00:06:33.940 --> 00:06:38.215
We can remove the exports at a colon.

00:06:38.215 --> 00:06:42.275
We will also need to separate these two with a comma.

00:06:42.275 --> 00:06:49.290
The same design in, this action also uses the firebase off.

00:06:49.290 --> 00:06:55.760
We need to grab this also from our actions file and add this into our users module.

00:06:55.760 --> 00:06:59.460
Make sure all of our files are now saved.

00:07:02.330 --> 00:07:05.840
I know Thom Mayne store.js file.

00:07:05.840 --> 00:07:09.125
We now need to import our free new modules.

00:07:09.125 --> 00:07:13.405
We can also remove our getters, mutations, and actions.

00:07:13.405 --> 00:07:17.735
I'm going to import our many module from the file path

00:07:17.735 --> 00:07:22.840
of./ into the modules folder and the menu.

00:07:22.840 --> 00:07:24.960
That's our decision to more times.

00:07:24.960 --> 00:07:30.765
This one is for the orders, both /orders.

00:07:30.765 --> 00:07:35.040
Then the last one was for the users,

00:07:35.040 --> 00:07:37.920
scroll down to our store objects.

00:07:37.920 --> 00:07:40.135
We can remove our states.

00:07:40.135 --> 00:07:42.820
In fact, we can remove everything from inside

00:07:42.820 --> 00:07:45.865
here and then replace these with our modules,

00:07:45.865 --> 00:07:47.155
which is an object,

00:07:47.155 --> 00:07:52.150
but we're going to pass in the menu orders and also the users.

00:07:52.150 --> 00:07:53.935
Also just to clean things up,

00:07:53.935 --> 00:07:55.824
I'm going to remove our actions,

00:07:55.824 --> 00:07:58.180
getters, our mutations files.

00:07:58.180 --> 00:08:01.254
We no longer need these inside of our projects.

00:08:01.254 --> 00:08:04.760
But you can need these in for reference if you prefer.

00:08:04.760 --> 00:08:07.240
In fact, it may be better to use them for

00:08:07.240 --> 00:08:11.735
unrelated state which does not belong in a module of its own.

00:08:11.735 --> 00:08:15.700
Now let's save this file and head over to our application.

00:08:15.700 --> 00:08:18.565
How much it's changed the file path.

00:08:18.565 --> 00:08:20.860
I will use this file,

00:08:20.860 --> 00:08:26.955
which just means changes to a double../ over to the projects.

00:08:26.955 --> 00:08:29.685
Let's test the menu items to begin.

00:08:29.685 --> 00:08:31.715
These all shown on the screen.

00:08:31.715 --> 00:08:34.040
We can try logging in.

00:08:34.040 --> 00:08:40.920
The admin out down to the bottom where we can add our email and password.

00:08:42.410 --> 00:08:46.135
We can still sign in and also sign out.

00:08:46.135 --> 00:08:48.310
This appears to be all still working,

00:08:48.310 --> 00:08:50.615
but this time using modules.

00:08:50.615 --> 00:08:55.205
We will also come back to these modules in the next section and add to them

00:08:55.205 --> 00:09:01.050
as we learn how to keep the data from a store in sync with Firebase.
