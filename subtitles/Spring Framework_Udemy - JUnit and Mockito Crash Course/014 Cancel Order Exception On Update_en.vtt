WEBVTT
Kind: captions
Language: en

00:00:00.000 --> 00:00:02.100
In this lecture, we will test one last

00:00:02.100 --> 00:00:04.350
exceptional scenario for the cancel

00:00:04.350 --> 00:00:09.690
order method we can grab the entire test method

00:00:09.690 --> 00:00:11.010
here there is a reason why I'm not

00:00:11.010 --> 00:00:12.900
copying this test method but i'm copying

00:00:12.900 --> 00:00:16.199
the cancel order from the earlier you need

00:00:16.199 --> 00:00:18.869
the full method because name this method

00:00:18.869 --> 00:00:23.550
cancel order should should through a

00:00:23.550 --> 00:00:25.980
BO exception on update should

00:00:25.980 --> 00:00:29.340
underscore through underscore underscore

00:00:29.340 --> 00:00:34.469
BO exception on update the DAO

00:00:34.469 --> 00:00:37.440
update so here we have to leave these

00:00:37.440 --> 00:00:39.780
two lines as is because the read should

00:00:39.780 --> 00:00:43.020
happen before the update and update we

00:00:43.020 --> 00:00:44.700
are going to set the expectations instead

00:00:44.700 --> 00:00:47.730
of then return it will be this thing here you

00:00:47.730 --> 00:00:51.120
can copy then throw sequel exception

00:00:51.120 --> 00:00:53.670
and replace this entire return from

00:00:53.670 --> 00:01:00.149
here then and we need not assign the result

00:01:00.149 --> 00:01:02.579
and we can take out the asserts and

00:01:02.579 --> 00:01:04.710
verifications like we have done before

00:01:04.710 --> 00:01:09.540
and we'll use the expected attribute is

00:01:09.540 --> 00:01:13.560
equal to BO exception.class

00:01:13.560 --> 00:01:18.990
that's it, run it again by clicking on the

00:01:18.990 --> 00:01:21.479
play button everything is green so we have

00:01:21.479 --> 00:01:24.240
simply stubbed out the read method to

00:01:24.240 --> 00:01:27.299
return a valid order back and then we

00:01:27.299 --> 00:01:29.790
have thrown an exception when the update

00:01:29.790 --> 00:01:31.350
method gets called we have stubbed the

00:01:31.350 --> 00:01:34.170
update call to throw an exception and

00:01:34.170 --> 00:01:37.890
our cancel order method is crapping the

00:01:37.890 --> 00:01:40.020
sequel exception that comes back inside

00:01:40.020 --> 00:01:43.259
a BO exception by catching it and

00:01:43.259 --> 00:01:45.149
it throws a BO exceptions back

00:01:45.149 --> 00:01:47.960
as expected.

