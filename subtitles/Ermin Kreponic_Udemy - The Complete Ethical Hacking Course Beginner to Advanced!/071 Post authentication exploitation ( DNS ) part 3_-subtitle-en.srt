1
00:00:00,150 --> 00:00:03,830
Hello everybody and welcome to part three,
and the final part,

2
00:00:03,830 --> 00:00:08,780
of this small segment here of three
tutorials for DNS Hightracking.

3
00:00:10,490 --> 00:00:12,870
Anyway thus far, we have done a lot.

4
00:00:12,870 --> 00:00:16,730
We have corrupted DNS
settings on a remote device.

5
00:00:16,730 --> 00:00:19,650
We have redirected requests to go to us.

6
00:00:19,650 --> 00:00:23,200
And I still have the things running
from the previous tutorial,

7
00:00:23,200 --> 00:00:27,860
you can see here it's sending responses.

8
00:00:27,860 --> 00:00:30,820
And I have set running but
I can't actually see that.

9
00:00:30,820 --> 00:00:34,630
Rather instead what we can
do with set is following.

10
00:00:34,630 --> 00:00:37,430
So this is where
the passwords will be stored.

11
00:00:37,430 --> 00:00:40,040
This is where, this is the file which will

12
00:00:40,040 --> 00:00:44,380
give you the important information
that you need or want to have.

13
00:00:44,380 --> 00:00:48,363
And also while testing this I realized
that the commercials actually do work when

14
00:00:48,363 --> 00:00:50,367
you access it from a different machine.

15
00:00:50,367 --> 00:00:55,173
Anyway, go ahead and

16
00:00:55,173 --> 00:01:04,788
type in cd /var /www.enter/enter LS.

17
00:01:04,788 --> 00:01:05,808
And there we go.

18
00:01:05,808 --> 00:01:06,840
So this is the index.html.

19
00:01:06,840 --> 00:01:11,370
This is the copy of the site and
or is it tmp sorry.

20
00:01:13,620 --> 00:01:16,790
Oh yeah.
We got a lot of things here.

21
00:01:16,790 --> 00:01:21,144
Anyway this collectively a copy of
the site if I'm not mistaken, but

22
00:01:21,144 --> 00:01:22,807
doesn't really matter.

23
00:01:22,807 --> 00:01:27,694
What we are interested is particular
file here so it's harvester and

24
00:01:27,694 --> 00:01:30,147
there's a date, 2015, 3.

25
00:01:30,147 --> 00:01:32,890
There's some location in
the end doesn't matter.

26
00:01:32,890 --> 00:01:40,299
What we want to do is type in
tail space set -f space /,

27
00:01:40,299 --> 00:01:47,170
actually we don't need a slash because
we are in the directory harvester.

28
00:01:47,170 --> 00:01:48,630
And press enter.

29
00:01:48,630 --> 00:01:53,795
This will give us a live feed
of whatever is going on.

30
00:01:53,795 --> 00:01:54,985
We will notice that.

31
00:01:54,985 --> 00:01:57,705
The moment you see something here.

32
00:01:57,705 --> 00:02:01,395
The moment you see that you have gotten
the password or stuff of a kind,

33
00:02:01,395 --> 00:02:05,885
you can actually kill the DNS service
that's running on your computer,

34
00:02:05,885 --> 00:02:08,555
and allow the client to actually

35
00:02:08,555 --> 00:02:12,610
do stuff on their own without
having to go through you at all.

36
00:02:12,610 --> 00:02:15,060
You won't destroy your attack
if that's what you're wondering.

37
00:02:15,060 --> 00:02:17,640
The moment you bring your DNS up,

38
00:02:17,640 --> 00:02:20,040
your DNS settings in their
router will still be first.

39
00:02:21,060 --> 00:02:22,990
So the router checks
the first DNS setting,

40
00:02:22,990 --> 00:02:26,300
DNS servers if they're not
functional it goes to a fall back.

41
00:02:26,300 --> 00:02:28,760
And it will always go in that order.

42
00:02:28,760 --> 00:02:30,380
So, the moment your server goes down,

43
00:02:30,380 --> 00:02:32,380
it doesn't matter it's going
to go to the second one.

44
00:02:32,380 --> 00:02:36,800
The moment it comes up all the queries
will be redirected back to you, but

45
00:02:36,800 --> 00:02:41,300
you're adding an extra
security layer to your attack.

46
00:02:41,300 --> 00:02:43,590
Anyway let's go ahead and
open up our browser.

47
00:02:44,950 --> 00:02:47,620
And in the browser up here you can
type in the URL which we have used for

48
00:02:47,620 --> 00:02:51,130
the purposes of this tutorial.

49
00:02:51,130 --> 00:02:55,690
So, just type in www.linuxquestions.org
press enter and it's loading.

50
00:02:55,690 --> 00:03:00,187
It didn't actually load properly here.

51
00:03:00,187 --> 00:03:04,068
Let's see what the problem is.

52
00:03:04,068 --> 00:03:07,078
Let's reload it, reload it again.

53
00:03:07,078 --> 00:03:10,299
Okay, so I'll just try to look it up.

54
00:03:10,299 --> 00:03:15,957
I've loaded this site a moment ago and
I seem to have messed something up.

55
00:03:15,957 --> 00:03:17,777
But that doesn't matter.

56
00:03:17,777 --> 00:03:19,817
Let me just delete the history and
try to do it again.

57
00:03:19,817 --> 00:03:20,837
One more thing.

58
00:03:20,837 --> 00:03:26,296
One more very important thing to
mention is that once you do these

59
00:03:26,296 --> 00:03:33,390
DNS settings on computers, stuff of a
kind, your browsers may have cached files.

60
00:03:34,580 --> 00:03:41,810
And your attack won't take effect until
the person actually resets the browser.

61
00:03:41,810 --> 00:03:46,570
If you think, oh no this is a huge
setback, it's not believe me.

62
00:03:46,570 --> 00:03:49,740
People turn their browsers off and
on all the time.

63
00:03:49,740 --> 00:03:52,990
At least once per day you will do this,
at least once.

64
00:03:52,990 --> 00:03:53,828
That's the minimum amount.

65
00:03:53,828 --> 00:03:58,367
That's the minimum amount always.

66
00:03:58,367 --> 00:04:03,409
So you don't have to worry
about that that much.,

67
00:04:03,409 --> 00:04:06,477
www.linuxquestions.org.

68
00:04:06,477 --> 00:04:08,850
Press enter.

69
00:04:08,850 --> 00:04:10,310
Let's see will it load?

70
00:04:10,310 --> 00:04:13,730
No the site seems to be
broken up a little bit.

71
00:04:13,730 --> 00:04:15,740
Sometimes this happens.

72
00:04:15,740 --> 00:04:20,000
Keep in mind that doesn't always
work to the best of abilities.

73
00:04:20,000 --> 00:04:21,390
It's not always perfect.

74
00:04:23,310 --> 00:04:25,170
But the URL is the same.

75
00:04:25,170 --> 00:04:27,650
Just check it out.

76
00:04:27,650 --> 00:04:30,430
It's http://www.linuxquestions.org.

77
00:04:30,430 --> 00:04:34,700
Now this doesn't really always happen,
just so you know.

78
00:04:34,700 --> 00:04:39,260
These files don't always
get messed up like this.

79
00:04:39,260 --> 00:04:40,400
But, from time to time, it does.

80
00:04:40,400 --> 00:04:45,200
And, on some sites, it does, and
that is the risk that you have to take.

81
00:04:45,200 --> 00:04:46,720
You can check it, verify it.

82
00:04:46,720 --> 00:04:49,950
But, let's just go ahead and
try it in a different machine.

83
00:04:49,950 --> 00:04:54,324
Let's see how well it'll load, here.

84
00:04:54,324 --> 00:04:56,000
Oh come on.

85
00:04:56,000 --> 00:04:57,959
I am running three virtual machines, so

86
00:04:57,959 --> 00:05:00,157
this is putting a huge
strain on my computer.

87
00:05:00,157 --> 00:05:03,657
I am practically out of resources.

88
00:05:03,657 --> 00:05:06,101
Okay, so for Linux questions,

89
00:05:06,101 --> 00:05:11,177
apparently it's broke to an extent,
but it still loads the site.

90
00:05:11,177 --> 00:05:14,237
If this happens, as it has happened to me.

91
00:05:14,237 --> 00:05:17,838
What you can do is redo
the process over again.

92
00:05:17,838 --> 00:05:19,937
Just the whole thing.

93
00:05:19,937 --> 00:05:20,877
Just redo it.

94
00:05:20,877 --> 00:05:25,937
Delete the files in /var.

95
00:05:25,937 --> 00:05:27,977
Let me just show you
actually what you can do.

96
00:05:30,838 --> 00:05:35,377
So all of these files.

97
00:05:35,377 --> 00:05:39,417
You can actually delete.

98
00:05:39,417 --> 00:05:43,818
Delete the files and then repeat
the cloning process with SET toolkit.

99
00:05:43,818 --> 00:05:48,317
You don't have to repeat
anything with a DNSChef.

100
00:05:48,317 --> 00:05:55,010
Just repeat everything with SET
toolkit and see if that works out.

101
00:05:55,010 --> 00:05:57,330
If that works out, great.

102
00:05:57,330 --> 00:05:59,100
And most likely it will.

103
00:05:59,100 --> 00:06:01,130
If it doesn't, you're stuck with it.

104
00:06:01,130 --> 00:06:05,110
I know of no other method that
can actually help you out.

105
00:06:05,110 --> 00:06:10,900
But, as I said, just try re-copying
the site over again and you'll see.

106
00:06:10,900 --> 00:06:16,080
A moment ago when I did this,
the site has functioned fine, but

107
00:06:16,080 --> 00:06:20,030
apparently now the site
is not functioning fine.

108
00:06:20,030 --> 00:06:25,180
And as I said before the is simply
the risk that you absolutely have to take.

109
00:06:25,180 --> 00:06:27,270
I mean there's no work arounds.

110
00:06:27,270 --> 00:06:30,760
The best thing to do is to test it out
on your virtual machine, but even if you

111
00:06:30,760 --> 00:06:34,670
have to set it out on your virtual
machine, things can still go wrong.

112
00:06:36,480 --> 00:06:37,710
Keep that in mind.

113
00:06:37,710 --> 00:06:41,750
All the testers work with that risk,
and there are no guarantees.

114
00:06:41,750 --> 00:06:44,451
In any case, if you have reloaded,

115
00:06:44,451 --> 00:06:49,494
if you have repeated the process,
which is a very good exercise for

116
00:06:49,494 --> 00:06:53,560
you, you can go ahead and
type in here your username.

117
00:06:53,560 --> 00:07:00,317
So, I'm going to test, relax, wait.

118
00:07:00,317 --> 00:07:07,838
Relax, and down here i'm gonna say,
type in test.

119
00:07:07,838 --> 00:07:10,138
Let's go ahead and log in.

120
00:07:10,138 --> 00:07:13,268
Okay, obviously, we failed to log in, but

121
00:07:13,268 --> 00:07:16,998
let's see what our file
monitoring has done for us.

122
00:07:16,998 --> 00:07:19,798
And you see it actually has
recorded both of the logins.

123
00:07:19,798 --> 00:07:22,178
You see, it says vb_login_username.

124
00:07:22,178 --> 00:07:27,710
It's RELAX, cookieuser I,
vb_login_password none.

125
00:07:27,710 --> 00:07:31,328
The first time around but
the second time around,

126
00:07:31,328 --> 00:07:34,527
I've typed in RELAX and I've type in TEST.

127
00:07:34,527 --> 00:07:35,527
So it does indeed work.

128
00:07:35,527 --> 00:07:37,167
But let's try fixing it.

129
00:07:37,167 --> 00:07:40,627
Let's try to make it work
the way it was meant to work.

130
00:07:40,627 --> 00:07:45,010
So remove the harvester, set toolkit.

131
00:07:45,010 --> 00:07:47,800
Let's just do this really fast.

132
00:07:47,800 --> 00:07:49,490
Social engineering attacks.

133
00:07:49,490 --> 00:07:51,893
Website attack vectors.

134
00:07:51,893 --> 00:07:57,162
A credential harvester.

135
00:07:57,162 --> 00:07:59,560
Site cloner.

136
00:07:59,560 --> 00:08:00,679
192.168.1.102.

137
00:08:00,679 --> 00:08:08,344
Http://linux

138
00:08:08,344 --> 00:08:16,830
Questions.org.

139
00:08:16,830 --> 00:08:17,999
I forgot the www.

140
00:08:17,999 --> 00:08:18,536
So www.linuxquestions.org.

141
00:08:18,536 --> 00:08:24,275
And this what I'm doing now
is really stupid because,

142
00:08:24,275 --> 00:08:30,773
you should always copy paste
the main name just to be certain.

143
00:08:30,773 --> 00:08:36,459
But I'm the genius that's gonna
go ahead and skip that, and

144
00:08:36,459 --> 00:08:42,160
probably something's gonna go wrong,
that's part of it.

145
00:08:42,160 --> 00:08:44,760
Okay, let's exit this, and
let's see what we got here.

146
00:08:44,760 --> 00:08:46,990
Again, we've got a harvester file.

147
00:08:46,990 --> 00:08:51,930
So tail -f harvester.

148
00:08:51,930 --> 00:08:53,399
And let's go back to our WIndows machine.

149
00:08:56,330 --> 00:08:58,210
Let's reload the site,
and see what happens here.

150
00:08:58,210 --> 00:09:03,768
Okay, it has it cached,
let me just go ahead and do this.

151
00:09:03,768 --> 00:09:06,508
Delete browsing history?

152
00:09:06,508 --> 00:09:10,475
Yes, go ahead and
remove the browsing history,

153
00:09:10,475 --> 00:09:16,788
the foul browsing history that keeps
tailing us wherever we might roam or go.

154
00:09:19,008 --> 00:09:19,907
And here.

155
00:09:22,948 --> 00:09:29,673
Www.linuxquestions.org,

156
00:09:29,673 --> 00:09:34,848
please work, please!

157
00:09:34,848 --> 00:09:36,661
Let's see, oops!

158
00:09:36,661 --> 00:09:42,638
Okay let's see if I let's
see if I can fix this okay.

159
00:09:42,638 --> 00:09:48,097
Let's just open up the CMD.

160
00:09:48,097 --> 00:09:53,280
Wait before I do that Kali.

161
00:09:53,280 --> 00:09:55,020
I'm going to open up a real website.

162
00:09:58,050 --> 00:10:02,890
Okay, I've stopped this
process a moment ago.

163
00:10:02,890 --> 00:10:05,050
Excellent.

164
00:10:05,050 --> 00:10:07,170
So, I have paused the video
to figure this out.

165
00:10:07,170 --> 00:10:09,375
And I have seen what
the problem is actually.

166
00:10:09,375 --> 00:10:10,750
[LAUGH] It's quite stupid.

167
00:10:10,750 --> 00:10:12,957
You'll see.
So look.

168
00:10:12,957 --> 00:10:16,750
Now the DNS proxy has stopped.

169
00:10:16,750 --> 00:10:20,220
I am no longer faking the DNS requests.

170
00:10:20,220 --> 00:10:21,980
Nothing is going on on my end.

171
00:10:21,980 --> 00:10:23,670
Sure the harvester is still monitoring,

172
00:10:23,670 --> 00:10:25,562
but nothing is going
to visit that website.

173
00:10:25,562 --> 00:10:28,466
This is the real linux.org, Linux.org.

174
00:10:28,466 --> 00:10:29,918
Linuxquestions.org.

175
00:10:29,918 --> 00:10:36,910
This is the real website at the moment and
here's how I know.

176
00:10:38,030 --> 00:10:44,974
Do nslookup and
I'll type in linuxquestions.org.

177
00:10:44,974 --> 00:10:49,160
And look at what is happening here.

178
00:10:49,160 --> 00:10:53,180
It says name, linux.org and
address is 75.126.162.205,

179
00:10:53,180 --> 00:10:57,960
so this is actually the real website.

180
00:10:57,960 --> 00:11:01,830
This is how I am rendering
it on this machine.

181
00:11:01,830 --> 00:11:04,800
This is not a fake website or
anything like that.

182
00:11:04,800 --> 00:11:08,340
At the moment for some strange reason
this is how the website looks like.

183
00:11:08,340 --> 00:11:10,400
Maybe there is a bug or
something like that.

184
00:11:10,400 --> 00:11:14,750
But this confused me a lot, and
I could have edited this video and

185
00:11:14,750 --> 00:11:17,330
gotten rid of all of this.

186
00:11:17,330 --> 00:11:19,550
But I just figured I want to show you.

187
00:11:19,550 --> 00:11:20,050
Here's why.

188
00:11:21,320 --> 00:11:25,790
Not always when you do something is it
your fault because it doesn't work.

189
00:11:25,790 --> 00:11:27,700
Perhaps something happens
on the other side.

190
00:11:27,700 --> 00:11:29,710
Because our attack does work.

191
00:11:29,710 --> 00:11:31,150
It works to the perfection.

192
00:11:31,150 --> 00:11:32,210
It works perfectly.

193
00:11:32,210 --> 00:11:35,910
It's just that the site is
such as it is at the moment.

194
00:11:35,910 --> 00:11:37,590
The site has been cloned
to the perfection.

195
00:11:37,590 --> 00:11:38,830
This is not the cloned website.

196
00:11:38,830 --> 00:11:40,940
This is the original website.

197
00:11:40,940 --> 00:11:44,130
Anyway, let me just conclude
the tutorial here, and

198
00:11:44,130 --> 00:11:49,010
I encourage you to try this method out.

199
00:11:49,010 --> 00:11:49,540
Give it a shot.

200
00:11:49,540 --> 00:11:54,640
You can even make a website of your own,
which you can test or something like that.

201
00:11:54,640 --> 00:11:56,560
You can even download
a website from somewhere and

202
00:11:56,560 --> 00:12:00,130
use it within your own LAN
environment to do some stuff with it.

203
00:12:01,400 --> 00:12:02,620
to create a testing environment for

204
00:12:02,620 --> 00:12:05,860
yourself where you can
safely test everything.

205
00:12:05,860 --> 00:12:08,610
And you will see that sometimes
it's gonna load properly,

206
00:12:08,610 --> 00:12:14,508
sometimes it's gonna load improperly.

207
00:12:14,508 --> 00:12:18,910
But, from time to time It will
actually be the right side and

208
00:12:18,910 --> 00:12:21,430
you will think that there is
something wrong with it, but no.

209
00:12:21,430 --> 00:12:23,630
You can easily check
this up with NSlookup and

210
00:12:23,630 --> 00:12:26,100
it will give you the IP address
that you have requested.

211
00:12:26,100 --> 00:12:30,510
And if the IP address is correct, off
the original website and you know that you

212
00:12:30,510 --> 00:12:33,220
are accessing the right site but
perhaps there is something wrong with it.

213
00:12:33,220 --> 00:12:35,390
At that particular moment
usually I don't know.

214
00:12:35,390 --> 00:12:38,750
It breaks or something like that but
those cases are rare.

215
00:12:38,750 --> 00:12:40,240
They don't happen that often, but

216
00:12:40,240 --> 00:12:42,410
you should exclude that
possibility immediately.

217
00:12:42,410 --> 00:12:46,560
See I have to cut the recording there.

218
00:12:46,560 --> 00:12:50,020
I think I spent an hour looking for
the solution trying to figure out what was

219
00:12:50,020 --> 00:12:55,520
wrong with it until I finally figured
out that it's actually the real site.

220
00:12:56,570 --> 00:12:58,137
Anyway, try it out.
Try some other methods from the SET

221
00:12:58,137 --> 00:12:58,857
toolkit as well.

222
00:12:58,857 --> 00:13:04,091
Later on, we will do some other
stuff with exploiting websites and

223
00:13:04,091 --> 00:13:06,718
what you can actually do to them.

224
00:13:06,718 --> 00:13:11,937
There are stuff like SQL injections
which are very important.

225
00:13:11,937 --> 00:13:15,877
You have also Java injections into URL's.

226
00:13:15,877 --> 00:13:20,832
So if you modify the URLs,
you can actually have JavaScripts run,

227
00:13:20,832 --> 00:13:22,867
or something of a kind, and

228
00:13:22,867 --> 00:13:27,760
you can actually obtain remote
control of somebody's browser.

229
00:13:27,760 --> 00:13:31,760
There are many more things
that we shall do, but

230
00:13:31,760 --> 00:13:35,190
for the time being,
I'm gonna cut this tutorial here.

231
00:13:35,190 --> 00:13:39,300
I would like to bid you all farewell, wish
you a lot of luck, and until next time.

