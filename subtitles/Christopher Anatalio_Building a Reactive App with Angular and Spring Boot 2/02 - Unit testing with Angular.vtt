WEBVTT
1
00:00:00.050 --> 00:00:01.040
- [Instructor] Now, let's create

2
00:00:01.040 --> 00:00:05.010
a unit test for our angular application.

3
00:00:05.010 --> 00:00:08.040
When you use the angular CLI,

4
00:00:08.040 --> 00:00:13.000
you will automatically generate a spec unit test for you.

5
00:00:13.000 --> 00:00:18.060
We should have two test currently, app.component.spec.ts

6
00:00:18.060 --> 00:00:24.010
and also reservation.service.spec.ts.

7
00:00:24.010 --> 00:00:27.030
Let's open up the app.component test.

8
00:00:27.030 --> 00:00:30.040
Let's make sure it's configured correctly.

9
00:00:30.040 --> 00:00:38.010
So let's import the ReactiveFormsModule.

10
00:00:38.010 --> 00:00:43.010
Let's important from a angular forms.

11
00:00:43.010 --> 00:00:50.010
Now let's import the HttpClientModule.

12
00:00:50.010 --> 00:00:58.040
And let's import it from angular/common/http.

13
00:00:58.040 --> 00:01:01.000
Now, let's be sure to ask those two modules

14
00:01:01.000 --> 00:01:04.050
to our import statement.

15
00:01:04.050 --> 00:01:09.010
let's copy and paste ReactiveFormsModule,

16
00:01:09.010 --> 00:01:13.080
and add it right below the RouterTestingModule.

17
00:01:13.080 --> 00:01:22.010
Same thing for the HttpClientModule, great.

18
00:01:22.010 --> 00:01:27.000
The angular CLI auto generated three tasks for us.

19
00:01:27.000 --> 00:01:31.020
First, that the app should be created.

20
00:01:31.020 --> 00:01:33.080
That the title should be correct

21
00:01:33.080 --> 00:01:42.060
and that the title is rendered in h1 correctly.

22
00:01:42.060 --> 00:01:48.060
We need to update this assertion to land in hotel.

23
00:01:48.060 --> 00:01:53.020
Now let's open up reservation.service.spec.ts

24
00:01:53.020 --> 00:02:03.040
let's go ahead and import the HttpClientModule here as well.

25
00:02:03.040 --> 00:02:11.070
Let's import it from angular/common/http.

26
00:02:11.070 --> 00:02:16.020
Now let's reformat a bit for readability.

27
00:02:16.020 --> 00:02:18.040
And in the test bed configuration,

28
00:02:18.040 --> 00:02:25.020
let's add an import for that HttpClientModule.

29
00:02:25.020 --> 00:02:27.060
Great now let's go ahead and save,

30
00:02:27.060 --> 00:02:30.010
let's navigate to a terminal,

31
00:02:30.010 --> 00:02:34.040
and CD into the reservation app directory.

32
00:02:34.040 --> 00:02:43.080
Now using the angular CLI, let's execute ng test.

33
00:02:43.080 --> 00:02:50.020
Let's take a look at the reservation service, unit test.

34
00:02:50.020 --> 00:02:52.020
So it looks like we may have a typo

35
00:02:52.020 --> 00:02:54.060
in our test bed configuration.

36
00:02:54.060 --> 00:02:58.070
The import statement in the test bed should be plural,

37
00:02:58.070 --> 00:03:00.050
let's be sure that.

38
00:03:00.050 --> 00:03:03.040
Now let's go ahead and save.

39
00:03:03.040 --> 00:03:08.000
And let's rerun ng test.

40
00:03:08.000 --> 00:03:12.000
Great, it looks like we ran four unit test successfully.

