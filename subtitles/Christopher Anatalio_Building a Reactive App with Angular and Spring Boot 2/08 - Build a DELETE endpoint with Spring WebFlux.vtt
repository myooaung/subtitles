WEBVTT
1
00:00:00.050 --> 00:00:01.090
- [Instructor] Finally, let's build out

2
00:00:01.090 --> 00:00:07.030
a delete endpoint to delete an existing document in MongoDB.

3
00:00:07.030 --> 00:00:09.030
Let's open up IntelliJ,

4
00:00:09.030 --> 00:00:12.020
and then create a new public method.

5
00:00:12.020 --> 00:00:17.010
This time, let's return a mono that admits a Boolean.

6
00:00:17.010 --> 00:00:19.070
The Boolean will indicate if the deletion

7
00:00:19.070 --> 00:00:22.020
was successful or not.

8
00:00:22.020 --> 00:00:28.030
Let's name the method deleteReservation.

9
00:00:28.030 --> 00:00:34.040
Now, let's add in a delete mapping annotation,

10
00:00:34.040 --> 00:00:43.030
and then let's pass in roomId as path.

11
00:00:43.030 --> 00:00:46.040
Now, let's add a string variable to the method,

12
00:00:46.040 --> 00:00:51.080
and let's name it roomId.

13
00:00:51.080 --> 00:00:57.000
Let's add in the path variable annotation.

14
00:00:57.000 --> 00:01:01.030
Then, let's go up to our updatePrice method,

15
00:01:01.030 --> 00:01:05.090
copy the return statement,

16
00:01:05.090 --> 00:01:11.020
then let's replace that string with the value true.

17
00:01:11.020 --> 00:01:14.040
Okay, now, let's test out our delete endpoint.

18
00:01:14.040 --> 00:01:18.030
Let's open up the Run window

19
00:01:18.030 --> 00:01:22.040
and restart the application.

20
00:01:22.040 --> 00:01:25.020
Now, let's open up Postman.

21
00:01:25.020 --> 00:01:27.060
Let's create a new tab.

22
00:01:27.060 --> 00:01:32.030
Let's head back to the tab containing our update request,

23
00:01:32.030 --> 00:01:35.080
and let's copy that URI.

24
00:01:35.080 --> 00:01:40.020
Let's go back to the tab for our delete request

25
00:01:40.020 --> 00:01:42.030
and paste in the URI.

26
00:01:42.030 --> 00:01:47.070
And then let's change the verb to delete.

27
00:01:47.070 --> 00:01:52.000
Now, let's test it out.

28
00:01:52.000 --> 00:01:54.060
Looks good, we got 200 OK,

29
00:01:54.060 --> 00:01:57.000
and the Boolean value true.

