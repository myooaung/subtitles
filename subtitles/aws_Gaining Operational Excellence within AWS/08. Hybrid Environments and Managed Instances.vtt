WEBVTT
1
00:00:00.640 --> 00:00:01.260
[Autogenerated] All right,

2
00:00:01.260 --> 00:00:05.340
let's go ahead and start working through setting up a hybrid

3
00:00:05.340 --> 00:00:08.840
managed instantiate activation on a server.

4
00:00:08.840 --> 00:00:09.790
I started up,

5
00:00:09.790 --> 00:00:14.090
and C two and we're just going to go ahead and

6
00:00:14.090 --> 00:00:17.240
pretend like it's an on premise server.

7
00:00:17.240 --> 00:00:20.120
I went ahead and removed the s s M agent so it's not

8
00:00:20.120 --> 00:00:24.410
installed on their by default, and I did not assign it a role,

9
00:00:24.410 --> 00:00:29.100
So then it won't have permissions to talk to S S M upfront.

10
00:00:29.100 --> 00:00:29.310
Now,

11
00:00:29.310 --> 00:00:35.260
the first thing you have to do is we have to create some rolls and two

12
00:00:35.260 --> 00:00:39.530
roles that you might use our service role for S S m.

13
00:00:39.530 --> 00:00:44.740
And then we haven't SSH m managed instantiate profile role.

14
00:00:44.740 --> 00:00:52.040
So this allows us to have a managed instance, and it can perform SSN tasks.

15
00:00:52.040 --> 00:00:54.220
Now, after you get that role define,

16
00:00:54.220 --> 00:00:58.090
you also have to make sure you install the certificate

17
00:00:58.090 --> 00:01:02.840
authorities provided by Amazon Trust services.

18
00:01:02.840 --> 00:01:04.640
And that link is here,

19
00:01:04.640 --> 00:01:07.350
and I will actually go ahead and include this link

20
00:01:07.350 --> 00:01:09.850
in the downloads for this module.

21
00:01:09.850 --> 00:01:14.140
But you have to install these locally on each machine.

22
00:01:14.140 --> 00:01:15.830
Now, since we're on an E.

23
00:01:15.830 --> 00:01:16.050
C.

24
00:01:16.050 --> 00:01:19.140
Two instance and I'm using Amazon Linux.

25
00:01:19.140 --> 00:01:22.320
These error already installed for me I'm not going to go through

26
00:01:22.320 --> 00:01:26.140
remove and then reinstall them just for this demo.

27
00:01:26.140 --> 00:01:27.440
If you do a quick search,

28
00:01:27.440 --> 00:01:29.920
you should learn how to quickly install some

29
00:01:29.920 --> 00:01:32.640
certificate authorities on your server.

30
00:01:32.640 --> 00:01:37.170
Now the search for this particular os are located under etc.

31
00:01:37.170 --> 00:01:37.480
P.

32
00:01:37.480 --> 00:01:37.780
K.

33
00:01:37.780 --> 00:01:42.940
I see a trust extracted open SSL.

34
00:01:42.940 --> 00:01:48.940
So when I look in here, I see my bundle and this has all of the trusted Certs.

35
00:01:48.940 --> 00:01:51.780
So now that that's installed and verified,

36
00:01:51.780 --> 00:01:55.440
we need to create an activation for our instance.

37
00:01:55.440 --> 00:01:56.920
So let's do that here.

38
00:01:56.920 --> 00:02:00.600
Now we can do this to separate ways and I'll show you both.

39
00:02:00.600 --> 00:02:03.440
The first is through the console.

40
00:02:03.440 --> 00:02:07.540
So if I go down to hybrid activations,

41
00:02:07.540 --> 00:02:12.000
create activation and this brings us to our activation screen

42
00:02:12.000 --> 00:02:16.020
Now I'll give the activation A name on Prem will limit it to

43
00:02:16.020 --> 00:02:18.070
one instance And then you see,

44
00:02:18.070 --> 00:02:24.240
we specify a role for the s s m agent on our instantiate ws Now all

45
00:02:24.240 --> 00:02:29.020
use the default which is created by a ws for me And this was done

46
00:02:29.020 --> 00:02:31.350
because I had already ran through this before.

47
00:02:31.350 --> 00:02:35.830
So there was an option to create it, which I chose, and now it exists.

48
00:02:35.830 --> 00:02:37.540
So your screen might differ.

49
00:02:37.540 --> 00:02:40.980
It might ask you to create a new role, and if it does,

50
00:02:40.980 --> 00:02:44.730
you can do that or you can specify an existing one.

51
00:02:44.730 --> 00:02:46.240
I'll leave it as the default.

52
00:02:46.240 --> 00:02:48.640
I'll specify an expiration.

53
00:02:48.640 --> 00:02:53.550
I'll give it a default name and then I'll click create activation.

54
00:02:53.550 --> 00:02:54.180
And there we go.

55
00:02:54.180 --> 00:02:57.610
We have now created an activation and you'll see,

56
00:02:57.610 --> 00:03:03.180
very importantly, that it gives us an activation code and an activation ID.

57
00:03:03.180 --> 00:03:07.320
So we want to save these so I'll go ahead and save these to the side.

58
00:03:07.320 --> 00:03:08.910
And then while we're doing this,

59
00:03:08.910 --> 00:03:13.940
let me go ahead and show you how we can do this via the CLI.

60
00:03:13.940 --> 00:03:16.340
So let me go ahead and paste this in,

61
00:03:16.340 --> 00:03:19.300
and what we're doing is we're creating an activation

62
00:03:19.300 --> 00:03:21.380
with the same values as before.

63
00:03:21.380 --> 00:03:24.140
The only differences, the registration limit.

64
00:03:24.140 --> 00:03:25.230
So there we go.

65
00:03:25.230 --> 00:03:29.940
I ran the command and I get an activation IDE and code like before.

66
00:03:29.940 --> 00:03:34.940
And now if I go back to my console, if I refresh,

67
00:03:34.940 --> 00:03:38.750
we should see that other activation ID and we do so that's awesome.

68
00:03:38.750 --> 00:03:41.540
Now let me delete this one.

69
00:03:41.540 --> 00:03:46.340
And let's go ahead and set up our E C two instance with this activation.

70
00:03:46.340 --> 00:03:46.730
Now,

71
00:03:46.730 --> 00:03:51.740
I'm gonna go ahead and paste in some scripts here and what I'm doing is I'm

72
00:03:51.740 --> 00:03:56.740
downloading the s s m agent to a local temporary directory.

73
00:03:56.740 --> 00:03:59.160
I'm installing it and then I'm stopping it.

74
00:03:59.160 --> 00:04:02.270
Now the next thing I have to do is register it.

75
00:04:02.270 --> 00:04:04.940
So let me do that here.

76
00:04:04.940 --> 00:04:09.810
And you can see that we're running a register flag with our agent

77
00:04:09.810 --> 00:04:13.440
that we installed were specifying are code that we received as

78
00:04:13.440 --> 00:04:16.640
well as our activation IDE in region.

79
00:04:16.640 --> 00:04:19.920
So we see here at the bottom that we have successfully

80
00:04:19.920 --> 00:04:24.040
registered this instance with a W S S S M.

81
00:04:24.040 --> 00:04:25.930
And it gives us a new I D,

82
00:04:25.930 --> 00:04:30.540
which is a managed instance IDE for this managed instantiate.

83
00:04:30.540 --> 00:04:33.900
Now the final thing I have to do is I have to start this agent,

84
00:04:33.900 --> 00:04:35.740
so I go ahead and start it.

85
00:04:35.740 --> 00:04:39.540
Let me clear my screen and go back to the console.

86
00:04:39.540 --> 00:04:44.600
And if I go to managed instances, voila,

87
00:04:44.600 --> 00:04:48.350
We now have our managed instantiate with the name and then

88
00:04:48.350 --> 00:04:52.110
it has all of our information like a normal managed

89
00:04:52.110 --> 00:04:54.940
instantiate would within a W s.

90
00:04:54.940 --> 00:04:56.050
So using this,

91
00:04:56.050 --> 00:05:01.970
we can actually perform actions on it from a W s and execute Those

92
00:05:01.970 --> 00:05:06.850
automation is and run commands on those managed instances even though

93
00:05:06.850 --> 00:05:09.840
they live within our on prem data centers.

94
00:05:09.840 --> 00:05:12.140
So it's a pretty neat little services.

95
00:05:12.140 --> 00:05:15.920
Now that's gonna do it on this demo on how we can install and

96
00:05:15.920 --> 00:05:20.870
configure the s S M agent on an on Prem server and then bring

97
00:05:20.870 --> 00:05:24.040
it in as a managed instance.

98
00:05:24.040 --> 00:05:31.000
Let's go ahead and wrap up here, and then in the next clip, I'll walk through session manager.

