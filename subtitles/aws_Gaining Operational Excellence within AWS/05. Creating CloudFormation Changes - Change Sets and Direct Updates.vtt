WEBVTT
1
00:00:00.940 --> 00:00:04.140
[Autogenerated] All right, let's pick up where we left off.

2
00:00:04.140 --> 00:00:08.130
We recently created our Web server stack here.

3
00:00:08.130 --> 00:00:12.550
We verified our outputs and resource is and we did an

4
00:00:12.550 --> 00:00:16.640
overview of our parameters and our events.

5
00:00:16.640 --> 00:00:18.150
And in this clip,

6
00:00:18.150 --> 00:00:20.540
we're going to look at the two different types of

7
00:00:20.540 --> 00:00:23.490
updates that exist in CloudFormation.

8
00:00:23.490 --> 00:00:27.740
The first is a direct update, which is this button here.

9
00:00:27.740 --> 00:00:32.370
And then we have change sets, which is visible here for this one.

10
00:00:32.370 --> 00:00:35.040
Let's just do a direct update first.

11
00:00:35.040 --> 00:00:40.240
Now we can use the current template and simply edit the existing parameters.

12
00:00:40.240 --> 00:00:43.280
We can edit it in designer or we can.

13
00:00:43.280 --> 00:00:46.810
Replace the current template so I'll choose replace.

14
00:00:46.810 --> 00:00:52.540
I'll do the same thing and upload my updated file.

15
00:00:52.540 --> 00:00:53.610
I've selected it.

16
00:00:53.610 --> 00:00:57.250
I'll click next and you'll see one difference here.

17
00:00:57.250 --> 00:01:03.150
I added an HTTP location that's similar to SSH.

18
00:01:03.150 --> 00:01:07.840
So now let's say I wanna lock this down to a private I

19
00:01:07.840 --> 00:01:11.320
P cider that resides in our VPC.

20
00:01:11.320 --> 00:01:13.240
So I lock HTTP down.

21
00:01:13.240 --> 00:01:15.790
From there, I'll click on next.

22
00:01:15.790 --> 00:01:19.140
We'll leave the tags and everything else the same.

23
00:01:19.140 --> 00:01:20.740
I'll click next.

24
00:01:20.740 --> 00:01:25.090
You review it so we see our new HTTP location key and

25
00:01:25.090 --> 00:01:28.170
value for our parameter and I'll go ahead,

26
00:01:28.170 --> 00:01:30.520
scroll down and I'll click.

27
00:01:30.520 --> 00:01:31.910
Update stack.

28
00:01:31.910 --> 00:01:35.540
You can see it kicks off an update in progress.

29
00:01:35.540 --> 00:01:41.620
And if I give this enough time, I'll go ahead and refresh, and it's now updated.

30
00:01:41.620 --> 00:01:43.340
Our Web servers stack.

31
00:01:43.340 --> 00:01:47.160
You can see the status has changed to update complete.

32
00:01:47.160 --> 00:01:50.180
If you recall, it was create complete before,

33
00:01:50.180 --> 00:01:54.940
and it added our new instantiation your ity group that you can see here.

34
00:01:54.940 --> 00:02:00.120
So now if we go over to parameters, we see our key value pair,

35
00:02:00.120 --> 00:02:06.730
we added, and we now see under Resource is our second security group as well.

36
00:02:06.730 --> 00:02:09.740
So if I load this,

37
00:02:09.740 --> 00:02:12.800
you can see it created that new instantiation your ity

38
00:02:12.800 --> 00:02:15.520
group for us to use where needed.

39
00:02:15.520 --> 00:02:19.540
And if we look at tags, you can see the similar tags before,

40
00:02:19.540 --> 00:02:25.540
So that's how easy it is to create a direct update within CloudFormation.

41
00:02:25.540 --> 00:02:28.850
Now let's go ahead and let's actually look at a change

42
00:02:28.850 --> 00:02:31.410
set as opposed to a direct update.

43
00:02:31.410 --> 00:02:35.540
So under change sets, you'll see we could create a new one.

44
00:02:35.540 --> 00:02:39.110
So let me click on this will replace the current template,

45
00:02:39.110 --> 00:02:44.840
and I'll upload an additional template I'll click next.

46
00:02:44.840 --> 00:02:48.730
You'll see we have the same parameters as before.

47
00:02:48.730 --> 00:02:51.310
I'll run through this and go to the end.

48
00:02:51.310 --> 00:02:56.440
You can see our new details here and let's create this change set.

49
00:02:56.440 --> 00:02:57.280
You can see it.

50
00:02:57.280 --> 00:03:02.240
Auto populates a change set name for us, and we can give it a description.

51
00:03:02.240 --> 00:03:08.490
I'll click on Create change set and we'll watch this run through the steps.

52
00:03:08.490 --> 00:03:14.030
It starts off as create pending, and just because it's such a simple execution,

53
00:03:14.030 --> 00:03:18.640
it's already done and it's available for us to execute.

54
00:03:18.640 --> 00:03:21.910
You can see we have the overview of our changes Tab

55
00:03:21.910 --> 00:03:23.730
here that's got our change set.

56
00:03:23.730 --> 00:03:29.140
I'd our description the time and then the different statuses

57
00:03:29.140 --> 00:03:31.950
we can Look at the input that we specified.

58
00:03:31.950 --> 00:03:36.040
So this is all the same and we can view our template.

59
00:03:36.040 --> 00:03:37.870
I'm not going to dive into it here.

60
00:03:37.870 --> 00:03:42.940
We'll look at it in the upcoming clips, but we can also see our changes.

61
00:03:42.940 --> 00:03:44.090
So this list,

62
00:03:44.090 --> 00:03:49.730
what changes occurred within our template that error being deployed in

63
00:03:49.730 --> 00:03:54.300
this change set and you can see we're doing two things were modifying

64
00:03:54.300 --> 00:03:57.540
are easy to instance that already exists,

65
00:03:57.540 --> 00:04:01.430
and then we're also adding a third security group,

66
00:04:01.430 --> 00:04:08.040
which in this case is going to allow HTTP s trophic so 443 Now this is

67
00:04:08.040 --> 00:04:11.510
where we can either delete it or we can execute it.

68
00:04:11.510 --> 00:04:13.230
So let's execute this.

69
00:04:13.230 --> 00:04:16.040
We'll see it update in progress.

70
00:04:16.040 --> 00:04:21.840
It's creating okay, and it's done.

71
00:04:21.840 --> 00:04:23.930
So we see are updates and deletes.

72
00:04:23.930 --> 00:04:26.940
Let's go to instances and OAuth.

73
00:04:26.940 --> 00:04:31.440
We've terminated our previous instance that we were using before.

74
00:04:31.440 --> 00:04:35.590
Now this new one is the one that has the different security groups,

75
00:04:35.590 --> 00:04:37.640
and you can see those here.

76
00:04:37.640 --> 00:04:41.440
But CloudFormation deleted our previous instance.

77
00:04:41.440 --> 00:04:47.070
So if you noticed you can see CSV events tab that we actually had a

78
00:04:47.070 --> 00:04:51.340
delete that occurred due to an update that we pushed out.

79
00:04:51.340 --> 00:04:54.640
So if you looked at our change sets,

80
00:04:54.640 --> 00:04:58.390
you can see down here that it's replacing R E C two

81
00:04:58.390 --> 00:05:03.620
instance So this is very important to note and keep in

82
00:05:03.620 --> 00:05:06.140
mind when you're deploying changes.

83
00:05:06.140 --> 00:05:10.760
Depending on the type of change, it could create a brand new resource,

84
00:05:10.760 --> 00:05:13.840
and that could affect workloads.

85
00:05:13.840 --> 00:05:24.000
Now we'll go ahead and we'll wrap up here and in the next clip. Well, look at configuration drifts and how we can remediate those

