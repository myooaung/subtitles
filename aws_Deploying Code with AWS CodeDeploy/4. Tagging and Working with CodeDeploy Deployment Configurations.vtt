WEBVTT
1
00:00:00.530 --> 00:00:02.560
[Autogenerated] in the next part of our module.

2
00:00:02.560 --> 00:00:04.500
We're going to work with codedeploy on.

3
00:00:04.500 --> 00:00:09.850
We're going to deploy to an easy to or scare the group in this demo.

4
00:00:09.850 --> 00:00:11.830
We're going to cover the following.

5
00:00:11.830 --> 00:00:15.410
We're going to create a hello world application.

6
00:00:15.410 --> 00:00:20.940
We're gonna create an easy to or scaling group with a large configuration.

7
00:00:20.940 --> 00:00:23.250
I'm going to create a low bone, sir,

8
00:00:23.250 --> 00:00:27.080
we're going to create the codedeploy application.

9
00:00:27.080 --> 00:00:29.570
Then we're going to deploy it on.

10
00:00:29.570 --> 00:00:31.820
Then we're going to update it.

11
00:00:31.820 --> 00:00:36.750
Okay, So for our hello world demo, we're going to need just four files.

12
00:00:36.750 --> 00:00:40.990
We'll need an index file with some simple hates your melon.

13
00:00:40.990 --> 00:00:43.120
We're going to need an app spec file,

14
00:00:43.120 --> 00:00:46.500
which is going to tell our codedeploy agent what to run on,

15
00:00:46.500 --> 00:00:48.710
where to run it and how to run it.

16
00:00:48.710 --> 00:00:55.210
You can see in here that will upload in our index html file into a factory on.

17
00:00:55.210 --> 00:01:00.070
You can see there's a hook section now we just gets needed before install hook.

18
00:01:00.070 --> 00:01:02.230
But there's many of her hooks available and you can check

19
00:01:02.230 --> 00:01:05.510
them out on the edge of best documentation.

20
00:01:05.510 --> 00:01:09.510
The hooks are going to call and install script,

21
00:01:09.510 --> 00:01:13.280
which is just installing a pack tree.

22
00:01:13.280 --> 00:01:16.400
We can also see it's going to call a start script,

23
00:01:16.400 --> 00:01:18.720
which is going to start the Apache service.

24
00:01:18.720 --> 00:01:21.020
And that's all we're going to need for this demo to

25
00:01:21.020 --> 00:01:23.040
get something up and running.

26
00:01:23.040 --> 00:01:23.510
Okay,

27
00:01:23.510 --> 00:01:26.700
so the first thing we're going to need is a bucket

28
00:01:26.700 --> 00:01:30.600
store our ____ world application.

29
00:01:30.600 --> 00:01:32.320
So I'm on the x ray dashboard.

30
00:01:32.320 --> 00:01:36.670
I'm going to create a bucket, remember?

31
00:01:36.670 --> 00:01:38.210
That s three buckets.

32
00:01:38.210 --> 00:01:43.000
Need to have a unique identify.

33
00:01:43.000 --> 00:01:43.790
Let's go into that.

34
00:01:43.790 --> 00:01:44.630
Book it on.

35
00:01:44.630 --> 00:01:53.440
Let's upload our zip.

36
00:01:53.440 --> 00:01:55.310
Awesome.

37
00:01:55.310 --> 00:01:58.690
That actually we go to do is create the or scaling group on the lobe.

38
00:01:58.690 --> 00:02:00.140
Answer.

39
00:02:00.140 --> 00:02:02.120
So let's go over to the dashboard.

40
00:02:02.120 --> 00:02:04.780
We'll create Ooo scaling group.

41
00:02:04.780 --> 00:02:07.830
Good night.

42
00:02:07.830 --> 00:02:11.940
We need to create a launch configuration.

43
00:02:11.940 --> 00:02:17.940
Will select Amazon Lennox T to micro is fine.

44
00:02:17.940 --> 00:02:19.440
We'll give it a name.

45
00:02:19.440 --> 00:02:22.340
We're going to go thio hour.

46
00:02:22.340 --> 00:02:27.800
I am roll and we're going to select the one that we created Alia

47
00:02:27.800 --> 00:02:32.100
and then we're going to give it a start script.

48
00:02:32.100 --> 00:02:36.010
So remember all of the commands that we passed in

49
00:02:36.010 --> 00:02:37.880
earlier to instill the agent What?

50
00:02:37.880 --> 00:02:40.610
We're gonna do the same thing again.

51
00:02:40.610 --> 00:02:44.240
Remember to replace this with your region.

52
00:02:44.240 --> 00:02:46.940
Next storage eight gigabytes.

53
00:02:46.940 --> 00:02:48.180
His fire.

54
00:02:48.180 --> 00:02:58.850
Now the security group, we're going to need tohave Sshh from my I p address.

55
00:02:58.850 --> 00:03:06.480
We're gonna need http from our internal V p c i p address.

56
00:03:06.480 --> 00:03:11.020
So the default vpc is that?

57
00:03:11.020 --> 00:03:17.440
Let's pop that in there from customer e Perfect.

58
00:03:17.440 --> 00:03:25.550
Let's also add on S S H one full internal too.

59
00:03:25.550 --> 00:03:31.220
We can use that for the health check, have you?

60
00:03:31.220 --> 00:03:32.020
Perfect.

61
00:03:32.020 --> 00:03:34.670
So select that Keeper.

62
00:03:34.670 --> 00:03:37.040
Create the launch configuration.

63
00:03:37.040 --> 00:03:40.340
Okay, close that.

64
00:03:40.340 --> 00:03:44.840
I don't need the V p c I p Address page anymore.

65
00:03:44.840 --> 00:03:47.120
Go back to the old scaling group will hit,

66
00:03:47.120 --> 00:03:53.890
refresh, and then we'll select our new launch conflict.

67
00:03:53.890 --> 00:03:54.670
Perfect.

68
00:03:54.670 --> 00:03:55.640
Right.

69
00:03:55.640 --> 00:03:58.240
Next.

70
00:03:58.240 --> 00:03:59.350
Select our default.

71
00:03:59.350 --> 00:04:00.640
VPC.

72
00:04:00.640 --> 00:04:05.540
We're gonna do it across all of the sub nets.

73
00:04:05.540 --> 00:04:07.790
Hit next.

74
00:04:07.790 --> 00:04:11.840
We're going to create a low part, Sir, we use a classic one.

75
00:04:11.840 --> 00:04:18.940
We don't have one yet, so let's create one.

76
00:04:18.940 --> 00:04:28.140
Sign a security group and create a new one on dhe We will allow Hey,

77
00:04:28.140 --> 00:04:35.510
http access from our i p address so we know that's

78
00:04:35.510 --> 00:04:39.860
locked down to us health check.

79
00:04:39.860 --> 00:04:42.100
Let's set it to TCP on.

80
00:04:42.100 --> 00:04:45.760
We'll set it to port 22 on,

81
00:04:45.760 --> 00:04:49.090
We'll change the level down to six seconds on the healthy.

82
00:04:49.090 --> 00:04:52.640
Fresh old, too.

83
00:04:52.640 --> 00:04:59.160
I don't need to add any easy two instances just yet on, we'll create the lobe.

84
00:04:59.160 --> 00:05:02.740
Answer.

85
00:05:02.740 --> 00:05:03.570
Perfect.

86
00:05:03.570 --> 00:05:08.460
Now let's close that and let's go back to our or scaling group

87
00:05:08.460 --> 00:05:13.780
hit Refresh and select our new low bouncer E C.

88
00:05:13.780 --> 00:05:14.540
To health checks.

89
00:05:14.540 --> 00:05:17.960
Fine.

90
00:05:17.960 --> 00:05:26.000
Let's give it desired capacity of two to make it a J.

91
00:05:26.000 --> 00:05:29.430
We don't need to scare them policy.

92
00:05:29.430 --> 00:05:33.140
Oh, that's hit next.

93
00:05:33.140 --> 00:05:34.870
That's not had any notifications yet.

94
00:05:34.870 --> 00:05:39.640
And we'll talk about this in the next section.

95
00:05:39.640 --> 00:05:43.300
I don't need any tax on review.

96
00:05:43.300 --> 00:05:44.130
Perfect.

97
00:05:44.130 --> 00:05:46.130
Everything's in place.

98
00:05:46.130 --> 00:05:52.730
Let's create a little scaling group.

99
00:05:52.730 --> 00:05:58.550
Now, if we go with the instances, we should see those spitting up and,

100
00:05:58.550 --> 00:06:02.380
you know, Okay, brilliant.

101
00:06:02.380 --> 00:06:04.630
Now are instances are spitting up.

102
00:06:04.630 --> 00:06:08.840
They're going to install the CODEDEPLOY agent on them on dhe.

103
00:06:08.840 --> 00:06:13.840
We can then go to codedeploy toe, actually deploy some code.

104
00:06:13.840 --> 00:06:17.820
So let's head over there now.

105
00:06:17.820 --> 00:06:23.340
First thing we're going to do is create the code to pull application.

106
00:06:23.340 --> 00:06:27.650
We'll give it a name.

107
00:06:27.650 --> 00:06:32.490
We'll select easy to slash on premise.

108
00:06:32.490 --> 00:06:36.220
Well, quite application.

109
00:06:36.220 --> 00:06:43.540
Next, we're going to create the deployment group.

110
00:06:43.540 --> 00:06:46.380
We're going to give it one of the roles we created earlier.

111
00:06:46.380 --> 00:06:51.480
You see, to you well in place deployment is fine,

112
00:06:51.480 --> 00:06:56.440
but you can also do Blue Green Andrea against his a

113
00:06:56.440 --> 00:07:02.060
plate to our little skating group.

114
00:07:02.060 --> 00:07:04.850
All it wants is fine on Dhe.

115
00:07:04.850 --> 00:07:08.450
We have a classic low bar on Dhe.

116
00:07:08.450 --> 00:07:13.640
There is, So let's create that deployment group.

117
00:07:13.640 --> 00:07:14.170
Also.

118
00:07:14.170 --> 00:07:21.130
Let's just check that those instances of Finnish men in it Okay,

119
00:07:21.130 --> 00:07:22.560
now those instances have finished.

120
00:07:22.560 --> 00:07:23.840
Starting up.

121
00:07:23.840 --> 00:07:26.180
Let's go back over to co deployed on.

122
00:07:26.180 --> 00:07:30.940
Let's create a deployment.

123
00:07:30.940 --> 00:07:34.140
This deployment revision is gonna live in Amazon s free.

124
00:07:34.140 --> 00:07:42.740
So is it We don't need a description.

125
00:07:42.740 --> 00:07:43.360
That's great.

126
00:07:43.360 --> 00:07:46.740
Our deployment.

127
00:07:46.740 --> 00:07:47.800
While this is the plane,

128
00:07:47.800 --> 00:07:51.640
you can see the events of what's happening on each of the instances.

129
00:07:51.640 --> 00:07:55.220
So we can see here that code to place the plant to both of

130
00:07:55.220 --> 00:07:57.780
our instances in our or scanning group.

131
00:07:57.780 --> 00:08:04.030
So let's have a look at the events.

132
00:08:04.030 --> 00:08:04.630
Perfect.

133
00:08:04.630 --> 00:08:05.250
Look at that.

134
00:08:05.250 --> 00:08:07.040
Succeeded.

135
00:08:07.040 --> 00:08:11.710
So here you'll notice some of the event names on their

136
00:08:11.710 --> 00:08:13.490
their hooks that Aaron the app speck fell.

137
00:08:13.490 --> 00:08:14.110
So we're here.

138
00:08:14.110 --> 00:08:20.440
We have the before install that we used that all looks like it's succeeded.

139
00:08:20.440 --> 00:08:23.640
Fantastic.

140
00:08:23.640 --> 00:08:26.840
Let's go back to our deployment.

141
00:08:26.840 --> 00:08:27.540
Perfect.

142
00:08:27.540 --> 00:08:30.840
Two of two instances Updated.

143
00:08:30.840 --> 00:08:32.850
So let's have a look.

144
00:08:32.850 --> 00:08:39.460
Let's go back to our load, balancer.

145
00:08:39.460 --> 00:08:43.900
Let's get the Dean s name on.

146
00:08:43.900 --> 00:08:44.450
Let's check.

147
00:08:44.450 --> 00:08:53.000
That's now Live boom! How easy was that?

