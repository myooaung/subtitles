WEBVTT
1
00:00:00.610 --> 00:00:00.970
All right.

2
00:00:00.990 --> 00:00:01.440
Hello.

3
00:00:01.470 --> 00:00:07.760
Welcome to the last lecture of this section we've learned a ton of stuff about locations and maps we've

4
00:00:07.890 --> 00:00:13.030
learned about how to move between one activity in the next even passing data between those two things.

5
00:00:13.050 --> 00:00:17.190
And so this is going to be the lecture where we bring it all together.

6
00:00:17.400 --> 00:00:17.700
Right.

7
00:00:17.700 --> 00:00:21.930
We want to take all these things and combine it into this one app that we're going to call memorable

8
00:00:21.960 --> 00:00:22.890
places.

9
00:00:22.920 --> 00:00:28.410
So the idea with memorable places is that you want to be able to save some places that you've been before

10
00:00:29.000 --> 00:00:32.360
and kind of put them in a list and you can always go back and check them out on the map.

11
00:00:32.360 --> 00:00:36.660
You can add them through the map but it's basically you know if you're saying these are my favorite

12
00:00:36.660 --> 00:00:41.220
places to travel or these are where all my friends live whatever it is you want to save some memorable

13
00:00:41.610 --> 00:00:44.550
places into your app so the app looks like this.

14
00:00:44.550 --> 00:00:48.630
It starts with a list view here if you go ahead and click add a new place.

15
00:00:48.750 --> 00:00:53.390
It's going to take you to a map view and currently show you where you are on that map.

16
00:00:53.390 --> 00:00:55.570
But you know you can always move around in.

17
00:00:55.830 --> 00:01:02.070
For example if the user's location does change like let's go ahead and update this to go a little bit

18
00:01:02.070 --> 00:01:03.380
further there look at that.

19
00:01:03.390 --> 00:01:06.400
It moves us all of a sudden to a new place.

20
00:01:06.660 --> 00:01:12.200
But let's say you know we want to add something to this out like we're going to go over here.

21
00:01:12.240 --> 00:01:17.070
There's something really memorable to us in Western New York so if we click do a long click like this

22
00:01:17.070 --> 00:01:21.140
long press what it's going to do is it's going to say location saved.

23
00:01:21.180 --> 00:01:26.640
It's going to add a new marker and if we click on this it's going to get the address of our current

24
00:01:26.640 --> 00:01:27.650
location.

25
00:01:27.750 --> 00:01:32.790
And so not only did it add it here on the map in that location but if you hit the back button.

26
00:01:32.790 --> 00:01:35.190
Now all of a sudden it's one of our memorable places.

27
00:01:35.190 --> 00:01:40.710
And if we go ahead and tap on this memorable place it'll take us back there and we can see you know

28
00:01:40.710 --> 00:01:43.320
get back to those places that we really care about.

29
00:01:43.320 --> 00:01:45.450
So that's what this app is.

30
00:01:45.450 --> 00:01:48.660
In a nutshell there's a couple of things that you're going to have to learn on your own like how to

31
00:01:48.660 --> 00:01:49.530
do the long press.

32
00:01:49.530 --> 00:01:54.900
There are also there's going to be some situations where if you try and get the address of something

33
00:01:55.230 --> 00:01:58.350
like If I try and get the address of this river let's see if it worked.

34
00:01:58.560 --> 00:02:03.630
Yeah so I've written it so that if you can't get a proper address that you should just add a time code

35
00:02:03.630 --> 00:02:05.910
to say when it is that you added this.

36
00:02:05.930 --> 00:02:08.460
So I want you to be able to handle that situation.

37
00:02:08.460 --> 00:02:10.970
You don't have to do the time thing if you don't want to.

38
00:02:10.980 --> 00:02:13.630
But I think that's probably a good way to handle that.

39
00:02:13.710 --> 00:02:14.200
OK.

40
00:02:14.640 --> 00:02:19.890
So because this is sort of wrapping up everything that we've learned all and one app really really recommend

41
00:02:19.890 --> 00:02:23.070
that you do this challenge on your own before you watch the rest of this.

42
00:02:23.160 --> 00:02:26.540
So please go give this the old college try everything you've got.

43
00:02:26.540 --> 00:02:27.180
You got stuck.

44
00:02:27.180 --> 00:02:27.910
Google it.

45
00:02:27.990 --> 00:02:31.890
You know ask for help whatever it is that you need but ultimately you can always come back and watch

46
00:02:31.890 --> 00:02:32.350
this lecture.

47
00:02:32.370 --> 00:02:36.490
But best of luck I believe in you go get it.

48
00:02:36.510 --> 00:02:41.080
All right let's go ahead and get started here by creating a new Android studio project.

49
00:02:41.190 --> 00:02:45.380
I'm going to go ahead and call this memorable places.

50
00:02:45.540 --> 00:02:47.770
Feel free to call it whatever you like.

51
00:02:48.120 --> 00:02:54.330
And looks like an API MT activity we're going eventually add another activity which is going to be one

52
00:02:54.330 --> 00:03:00.700
of those Google Maps activities but for the first one we just want to go ahead and leave it as is.

53
00:03:01.080 --> 00:03:05.280
So with our app opening up here I think the first step that we've got to do is we've got to fill out

54
00:03:05.310 --> 00:03:10.560
our first activity to have that list view and be able to add that top item in the list view that you

55
00:03:10.560 --> 00:03:12.680
know that says add an additional place.

56
00:03:12.750 --> 00:03:20.030
So let's go ahead and move into the visual side of things and let's get a list view out here.

57
00:03:20.610 --> 00:03:26.310
So I'll delete the existing text view that we have and I'll just go ahead and drag and drop a list view

58
00:03:27.740 --> 00:03:29.540
and it looks like it's a pretty good place.

59
00:03:29.540 --> 00:03:35.640
Let me just go ahead and add constraints everywhere to sort of lock in that position that we have also

60
00:03:35.640 --> 00:03:39.880
need to give it a proper ID so I'll just go ahead and call that list for you.

61
00:03:39.980 --> 00:03:41.730
Okay.

62
00:03:41.940 --> 00:03:45.990
And I always wondered that about Android studio seems like whenever you add the idea all sudden these

63
00:03:45.990 --> 00:03:50.970
things magically appear it's kind of interesting how it works but whatever.

64
00:03:51.480 --> 00:03:57.450
All right so let's go ahead and move into our main activity and in here we want to go ahead and get

65
00:03:57.450 --> 00:04:06.780
access to this list view that we just created so let's type out we want a list view that we are going

66
00:04:06.780 --> 00:04:11.650
to call list view will be to find view by ID card.

67
00:04:11.890 --> 00:04:20.520
Indeed it Westview excellent and you've probably done this four or five times now you should be really

68
00:04:20.520 --> 00:04:21.270
comfortable with this.

69
00:04:21.270 --> 00:04:25.710
We just want to fill out an array list and then an array adapter.

70
00:04:25.710 --> 00:04:29.460
Get that into the list view and then also do an on click listener.

71
00:04:29.460 --> 00:04:32.120
So let's start first with the array list.

72
00:04:32.250 --> 00:04:39.900
So we're going to make a new array list and we want this to be a bunch of strings so the first option

73
00:04:39.900 --> 00:04:44.310
is going to be saying hey go ahead and add new place and then the other ones are going to be the names

74
00:04:44.370 --> 00:04:49.350
of the places so we'll go ahead and call this places.

75
00:04:49.780 --> 00:04:57.950
We're going to set this equal to a new array list again an array list of strings.

76
00:04:57.950 --> 00:05:05.340
All right once we've got that place in the same places that add and this is just where we're going to

77
00:05:05.340 --> 00:05:13.980
add our very first one which is going to be the capital add a new place.

78
00:05:14.370 --> 00:05:14.890
All right.

79
00:05:14.940 --> 00:05:20.490
So that gives the user an option to say oh I can pick this one and then I can add something new to this

80
00:05:20.490 --> 00:05:21.150
app here.

81
00:05:21.150 --> 00:05:24.610
All right then we're going to need an array adapter.

82
00:05:25.760 --> 00:05:36.680
So we'll go ahead and grab that call this simply array adapter will be equal to a new adapter.

83
00:05:36.840 --> 00:05:41.220
And with this couple of things that we want to pass in here so we're going to do this for the context

84
00:05:42.110 --> 00:05:44.710
and let's get to Android.

85
00:05:44.710 --> 00:05:51.360
Dogs are not lay out aren't simple list item 1.

86
00:05:51.960 --> 00:05:58.390
And from there we want to go ahead and grab the places array that we have.

87
00:05:58.560 --> 00:05:59.280
OK.

88
00:05:59.670 --> 00:06:01.120
So there's that array adapter.

89
00:06:01.200 --> 00:06:05.880
Next step for us we've got to connect the list for you and the ray adapter together so we'll get access

90
00:06:05.880 --> 00:06:07.110
to our list view.

91
00:06:07.410 --> 00:06:14.380
We'll say that set adapter and we simply just throw in our raid Apter inside of there.

92
00:06:15.150 --> 00:06:15.410
All right.

93
00:06:15.420 --> 00:06:21.240
Now with that in place I mean visually this would all work out and let's go ahead and get a run going

94
00:06:21.240 --> 00:06:26.880
so that we can at least get the emulator up and go in then we need to make it so that when someone taps

95
00:06:26.970 --> 00:06:33.180
on one of these items in the list view that we can display some information or eventually take them

96
00:06:33.180 --> 00:06:34.550
to the next activity.

97
00:06:34.920 --> 00:06:46.540
So run and type out list view dot and we want to do set item on click listener or set on item click

98
00:06:46.540 --> 00:06:47.700
listener.

99
00:06:47.980 --> 00:06:54.880
And this is looking for a new adapter view on item click listener.

100
00:06:54.880 --> 00:06:59.980
Boom provides all this great stuff for us and for the time being let's just go ahead and do a simple

101
00:06:59.980 --> 00:07:01.690
text message.

102
00:07:01.930 --> 00:07:09.960
So we'll say toast that make text pass and this for the context as far as what to print out.

103
00:07:10.060 --> 00:07:19.120
Let's go ahead and show what it is that they selected so will do integer dot to string and let's pass

104
00:07:19.130 --> 00:07:21.790
and I and then

105
00:07:25.110 --> 00:07:27.590
let's see yes because I'm going to be the number of the ones that they pick.

106
00:07:27.590 --> 00:07:30.050
Just want to make sure I'm doing the right thing here.

107
00:07:30.050 --> 00:07:32.750
You've got to show how long we want to show this toast.

108
00:07:32.760 --> 00:07:35.880
I always like the short one and oh.

109
00:07:35.910 --> 00:07:38.020
Almost forgot we got to do our show.

110
00:07:38.130 --> 00:07:40.750
So that actually shows up when we run this.

111
00:07:40.770 --> 00:07:41.960
OK.

112
00:07:42.350 --> 00:07:47.240
So let's go ahead and see something's not happy here.

113
00:07:50.410 --> 00:07:56.820
OK so we said for this I think it's because we're in this on item click listener we have to say main

114
00:07:56.820 --> 00:08:00.080
activity dot this and that's going to.

115
00:08:00.180 --> 00:08:01.090
There we go.

116
00:08:01.090 --> 00:08:03.360
Now we've got the correct context there.

117
00:08:03.360 --> 00:08:13.600
All right so with that let's go ahead and run this and see what we get on our emulator.

118
00:08:13.850 --> 00:08:14.340
Excellent.

119
00:08:14.340 --> 00:08:16.050
So here we have a list for you.

120
00:08:16.050 --> 00:08:21.780
There's only one item in this list for you but if I tap on it boom shows me that that was item zero

121
00:08:21.870 --> 00:08:23.190
in the list view.

122
00:08:23.250 --> 00:08:24.290
Great.

123
00:08:24.300 --> 00:08:27.180
So off to an awesome start really the next step for us.

124
00:08:27.240 --> 00:08:31.750
If someone taps on at a new place we want to take them to the next activity right.

125
00:08:31.770 --> 00:08:34.310
So we need to make it next activity.

126
00:08:34.320 --> 00:08:37.210
So let's go up to endorse studio file.

127
00:08:37.430 --> 00:08:43.170
You want to go down here to activity and we could go to the gallery to pick what we want but if we see

128
00:08:43.170 --> 00:08:49.330
the Google maps here which unfortunately we don't I guess we will have to go to the gallery.

129
00:08:49.350 --> 00:08:55.200
Let's go ahead and pick this Google Maps activity and we can go ahead and leave this name because you

130
00:08:55.200 --> 00:09:00.960
know before I had said if you have main to activity that's kind of a bad name but maps activity that's

131
00:09:00.960 --> 00:09:03.060
pretty descriptive of what's going on here.

132
00:09:03.060 --> 00:09:06.090
So I think it's good to leave that name as is.

133
00:09:06.090 --> 00:09:12.760
So we'll go ahead and hit finish there so that this gets added to our project now because we've gone

134
00:09:12.760 --> 00:09:15.510
ahead and added Google maps we've got to work with our API.

135
00:09:15.510 --> 00:09:21.660
That means we need to add our API key which we've done for previous projects but we need to go ahead

136
00:09:21.660 --> 00:09:22.200
and grab that.

137
00:09:22.200 --> 00:09:29.370
So I'm going to go open one of our recent projects and then open up the map and location demo.

138
00:09:30.060 --> 00:09:31.110
Let's do it in a new window.

139
00:09:31.110 --> 00:09:34.850
I just need to get this key and then copy and paste it.

140
00:09:35.630 --> 00:09:44.490
So again I set it up so that the key would use would be available for any type of app in any situation

141
00:09:44.490 --> 00:09:48.800
which security wise is not great if you put in your app on the App Store you don't want to do that.

142
00:09:48.810 --> 00:09:52.740
But when you're working on a bunch of projects like this that can be a good thing.

143
00:09:52.950 --> 00:10:09.450
So we open up our other project here and we want to get to where we have our maps and I'm not seen that

144
00:10:09.480 --> 00:10:12.660
file where we list out information.

145
00:10:12.670 --> 00:10:15.020
Let's see where this is or Google Maps API.

146
00:10:15.030 --> 00:10:16.340
This is undervalues.

147
00:10:16.380 --> 00:10:17.420
OK.

148
00:10:17.880 --> 00:10:28.620
So go here undervalues There we go Google Maps API and I'll go ahead and copy my key and I got that

149
00:10:28.620 --> 00:10:34.080
whole thing so I can X out of that project and then I'll come paste it in here.

150
00:10:34.080 --> 00:10:39.870
Now looks good will save and I can X out of that file I don't think we're going to have to access that

151
00:10:39.870 --> 00:10:40.490
again.

152
00:10:40.770 --> 00:10:46.920
And once we get that in place let's now make it so that instead of just doing a text message showing

153
00:10:47.100 --> 00:10:55.660
what item they selected let's make it so that it actually does an intent and move over to the next activity.

154
00:10:55.800 --> 00:10:58.260
So we'll go do our intent code.

155
00:10:58.260 --> 00:11:00.030
We're going to make a new intent.

156
00:11:00.630 --> 00:11:03.510
And with this we've got to provide a little bit of information.

157
00:11:03.510 --> 00:11:09.990
So the first thing is we've got to provide a context to get application context and then we need to

158
00:11:09.990 --> 00:11:15.310
say that we want to go to the maps activity class.

159
00:11:15.510 --> 00:11:23.130
Great then with this intent we want to be able to let the next activity know what it is that we selected.

160
00:11:23.310 --> 00:11:27.290
So we're going to say intent put extra.

161
00:11:27.290 --> 00:11:30.890
Remember this is how we can add a little bit of extra information here.

162
00:11:30.900 --> 00:11:34.770
So with this we have to give a name for our extra.

163
00:11:34.770 --> 00:11:38.120
So let's go ahead and call this place number.

164
00:11:38.130 --> 00:11:42.670
This is just something I made up that I think is a good name you can choose whatever you'd like there.

165
00:11:43.020 --> 00:11:49.050
And then we want to pass forward some information so let's go ahead and pass the integer and the integer

166
00:11:49.050 --> 00:11:50.810
that we're trying to pass is I.

167
00:11:50.850 --> 00:11:55.570
Because as you know whatever item in the list view that they selected.

168
00:11:55.800 --> 00:11:57.910
So go ahead put a semi-colon there.

169
00:11:58.230 --> 00:12:03.300
Now that we've got content with the extra inside of there representing what item in the list view they

170
00:12:03.300 --> 00:12:10.780
selected we can go ahead and say start activity and put the intent right in there.

171
00:12:11.340 --> 00:12:16.140
So with that we want to go ahead and write a little bit of code to make sure that we're getting this

172
00:12:16.140 --> 00:12:16.930
information.

173
00:12:16.950 --> 00:12:18.740
On the other side of things.

174
00:12:18.840 --> 00:12:21.290
So let's go to our maps activity.

175
00:12:21.630 --> 00:12:25.690
And while we're here I'm going to get rid of some of this commented out code.

176
00:12:25.860 --> 00:12:32.160
It just is kind of taking up space here I like to keep things really clean and let's write some code

177
00:12:32.190 --> 00:12:37.380
in the on map ready we could have done this in on create but I think you know for most of our stuff

178
00:12:37.380 --> 00:12:40.350
we're going to want to wait until the maps are all ready to rock and roll.

179
00:12:40.350 --> 00:12:43.420
So inside of here I want to go grab the intent.

180
00:12:43.470 --> 00:12:50.490
So I'll say capital intent with the name of intent is equal to yet intent.

181
00:12:50.940 --> 00:12:57.960
And after that we want to go ahead and display a little text message so we'll say toast mate Tex.

182
00:12:58.020 --> 00:13:02.560
Go ahead pass this for the context as far as the actual text.

183
00:13:02.580 --> 00:13:06.740
This is where we want to provide whatever it is that they selected.

184
00:13:06.780 --> 00:13:08.270
And so we're going to do.

185
00:13:08.280 --> 00:13:16.030
Intent dot get integer extra or extra.

186
00:13:16.620 --> 00:13:21.690
We've got to provide the name which was like to kind of copy and paste to make sure I didn't do any

187
00:13:21.690 --> 00:13:23.010
spelling mistakes.

188
00:13:23.160 --> 00:13:30.720
So I got a copy that come back and paste and then we have to you know provide a default value here just

189
00:13:30.720 --> 00:13:36.050
in case we get something back and it didn't come through properly so it's put zero there.

190
00:13:36.060 --> 00:13:39.340
But this is looking for a string and we're providing that right now.

191
00:13:39.570 --> 00:13:47.030
So we're going to go ahead and just say integer to string and we'll go ahead and wrap that all in parentheses

192
00:13:48.220 --> 00:13:55.370
can and we've accidentally deleted our intent in there.

193
00:13:55.740 --> 00:13:57.630
So we get the intent integer.

194
00:13:57.630 --> 00:14:00.990
We convert that into a string and that's what's going to display in the toast.

195
00:14:00.990 --> 00:14:05.820
And again we just want length short go ahead and show that bam looks great.

196
00:14:05.820 --> 00:14:06.170
All right.

197
00:14:06.180 --> 00:14:07.560
So let's go ahead and run this.

198
00:14:07.560 --> 00:14:13.200
Ideally what's going to happen here is someone's going to top on that tap on that very first item.

199
00:14:13.200 --> 00:14:17.890
It's going to then display that it was item 0.

200
00:14:18.210 --> 00:14:22.360
While it's showing the map that's kind of the big goal that we're aiming towards there.

201
00:14:22.390 --> 00:14:27.390
So let's go ahead and wait for our emulator friends here.

202
00:14:27.390 --> 00:14:28.170
There it goes

203
00:14:32.250 --> 00:14:39.060
and once we're here we'll tap on this and look at that we have a new activity is showing zero and we

204
00:14:39.060 --> 00:14:41.280
have a map here which is pretty great.

205
00:14:41.310 --> 00:14:47.190
We also have a marker showing in Sydney which is not exactly what we're looking for so we'll come back

206
00:14:47.190 --> 00:14:52.110
and delete that in just a second but we've got some other things that we've got to do here.

207
00:14:52.110 --> 00:14:52.560
All right.

208
00:14:52.560 --> 00:14:58.440
So it was awesome to know that we got this information to come through but now that we know that the

209
00:14:58.440 --> 00:15:02.430
information is coming through we probably don't need to do a text message anymore.

210
00:15:02.430 --> 00:15:06.570
Instead the big thing that we need to do is an if statement to see if they had picked the first item

211
00:15:06.570 --> 00:15:08.200
or if they had picked something else.

212
00:15:08.460 --> 00:15:13.550
And so with that let's go ahead and I'm going to delete everything except for this intent.

213
00:15:13.630 --> 00:15:18.870
Get into extra Well keep that code there and we're going to use this to do a little bit of an IF statement

214
00:15:18.870 --> 00:15:22.120
to see if the extra that we got back is equal to zero.

215
00:15:22.260 --> 00:15:29.340
So we're going to say if it's around this thing in parentheses and do our curly brackets and we'll say

216
00:15:29.340 --> 00:15:34.990
if it is equal to zero then we know that they picked the very first item.

217
00:15:35.010 --> 00:15:41.530
And in this case that means we want to zoom in on user location.

218
00:15:41.740 --> 00:15:42.230
OK.

219
00:15:42.570 --> 00:15:46.860
So we're kind of setting the table of where it is that we want to move next.

220
00:15:46.860 --> 00:15:52.920
Now in order to start working with all the map stuff remember our constant are the thing that we've

221
00:15:52.920 --> 00:15:54.390
done forever and ever.

222
00:15:54.390 --> 00:15:56.590
Location Manager Location listener.

223
00:15:56.810 --> 00:16:03.750
Let's go ahead and get that stuff set up so up here at the top of the class I guess I'll do it right

224
00:16:03.750 --> 00:16:05.480
here by the Google map.

225
00:16:05.520 --> 00:16:14.160
We want to get a location manager that will just call location manager and get that set up.

226
00:16:14.220 --> 00:16:15.660
I don't know why that's not tabbed over.

227
00:16:15.660 --> 00:16:17.250
Let's go ahead and do that.

228
00:16:17.280 --> 00:16:21.480
We also want a location listener.

229
00:16:22.020 --> 00:16:28.920
And let's call that location listener lowercase just like that once that's in place we're going to want

230
00:16:28.920 --> 00:16:35.930
to have a function or a method that is going to allow us to center in on a particular location.

231
00:16:36.060 --> 00:16:41.490
And if we pass it a string that it will display a title for that particular location.

232
00:16:41.490 --> 00:16:44.110
So let's go ahead and just type out.

233
00:16:44.340 --> 00:16:46.290
Public void.

234
00:16:46.650 --> 00:16:49.520
And again we're just making up a name here.

235
00:16:49.620 --> 00:16:57.830
So there's nothing special about this but I think a pretty descriptive name is center map on location.

236
00:16:58.350 --> 00:17:04.410
And you don't have to do this but it's typically good etiquette for if you're going to do the name of

237
00:17:04.410 --> 00:17:11.730
a method or a function that has multiple words in it you capitalize the first letter of the additional

238
00:17:11.740 --> 00:17:17.040
words not the first word there but you can see we've got Center map on location this is called camel

239
00:17:17.040 --> 00:17:18.290
case.

240
00:17:18.330 --> 00:17:21.660
So with this we got to go ahead and take in two parameters.

241
00:17:21.660 --> 00:17:28.200
The first one is a location object that we'll just call location and then the next one is going to be

242
00:17:28.200 --> 00:17:32.620
a title which should be a string so say string title.

243
00:17:32.880 --> 00:17:39.760
And with that we've got our function but we've got to write some code inside of there so first step

244
00:17:39.770 --> 00:17:47.520
for us is we've got to create a lat long and we'll call this user location and we're going to say that

245
00:17:47.520 --> 00:17:51.760
this is equal to a new lat long.

246
00:17:52.200 --> 00:18:03.010
And inside of here we just got to pass a location get latitude and location dot get longitude.

247
00:18:03.010 --> 00:18:06.260
All right so that I'll go ahead and set that up.

248
00:18:06.450 --> 00:18:10.770
Then we want to make sure we clear the map so that there's nothing going on inside of there so we'll

249
00:18:10.770 --> 00:18:13.030
do our map clear.

250
00:18:13.080 --> 00:18:15.120
Boom that's easy enough.

251
00:18:15.120 --> 00:18:21.250
Then we want to take our map all say and map here and this is where we want to add a marker to it.

252
00:18:21.270 --> 00:18:32.280
So say add marker and inside of your we'll say we need a new marker options.

253
00:18:32.360 --> 00:18:37.290
Dot position and you can see it's looking for a lat long.

254
00:18:37.290 --> 00:18:40.190
And so will pass in user location.

255
00:18:40.520 --> 00:18:46.410
And on this we're going to set a title as well sort of a title and we're going to go ahead and pass

256
00:18:46.500 --> 00:18:49.970
whatever the title happens to be gay.

257
00:18:50.970 --> 00:18:52.810
So we've added that new marker.

258
00:18:52.820 --> 00:18:53.870
Well we cleared the map.

259
00:18:53.880 --> 00:18:54.900
We added the marker.

260
00:18:54.900 --> 00:18:58.290
Now we want to go ahead and do a proper zoom in on that location.

261
00:18:58.650 --> 00:19:03.140
So I'll say map dot move camera.

262
00:19:03.540 --> 00:19:17.090
And here we want to say capital camera and we want camera update factory dot new lat long zoom.

263
00:19:17.380 --> 00:19:18.070
Excellent.

264
00:19:18.130 --> 00:19:25.330
And that will pass in first the user location and then we want to pass in some number between 1 and

265
00:19:25.330 --> 00:19:26.860
20.

266
00:19:26.860 --> 00:19:29.470
It's really up to you of what you think the right number is here.

267
00:19:29.500 --> 00:19:33.860
Let's go ahead and try out 10 maybe that's a good sort of middle ground there.

268
00:19:33.890 --> 00:19:41.520
Ken So we're getting to a better place here still got a lot to go so we have this option function we

269
00:19:41.520 --> 00:19:46.950
need to call this at some point so we can go ahead and center that so let's move now to our concrete

270
00:19:47.040 --> 00:19:47.640
method.

271
00:19:47.670 --> 00:19:48.060
Right.

272
00:19:48.060 --> 00:19:52.780
Or excuse me we decided we were going to do this on the on map ready so let's go ahead and do that.

273
00:19:53.280 --> 00:19:56.890
But after we've gone and said OK they've picked item zero.

274
00:19:56.890 --> 00:20:03.450
So when you go zoom in on the users location well then we need to start getting our location stuff set

275
00:20:03.450 --> 00:20:09.270
up so the first thing is let's set up the location manager and we're going to say location manager is

276
00:20:09.270 --> 00:20:22.840
equal to this get system service and the service that we're looking for is Capitol context dot location

277
00:20:23.020 --> 00:20:24.400
service.

278
00:20:24.870 --> 00:20:25.820
Excellent.

279
00:20:26.230 --> 00:20:33.440
And then along with that when we've got to provide here this is going to be a location manager.

280
00:20:33.670 --> 00:20:35.780
Excellent Kate.

281
00:20:35.800 --> 00:20:42.010
Next step for us is we got to set up the location listener so we'll say location listener is equal to

282
00:20:42.010 --> 00:20:49.820
a new location listener and it's going to provide all these new methods for us.

283
00:20:50.290 --> 00:20:53.700
So inside of here the on location changed.

284
00:20:53.770 --> 00:20:57.540
This is where we would want to call that center map on location.

285
00:20:57.580 --> 00:21:01.310
So look at that we simply just type out the name of it.

286
00:21:01.420 --> 00:21:07.510
We have to provide a location which we have right there so his passion pass and location and then we

287
00:21:07.510 --> 00:21:12.850
have to provide a title of what we want the little marker to be so in this case I think we can just

288
00:21:12.850 --> 00:21:17.360
simply call it your location.

289
00:21:18.210 --> 00:21:23.380
So we're getting all that much closer still a little bit to go here so we're going to have to write

290
00:21:23.380 --> 00:21:30.550
the code in order to make it so that when someone you know either says yes or no to requesting the information

291
00:21:30.550 --> 00:21:37.190
that we can handle that correctly so appear after we've done the senator map stuff.

292
00:21:37.360 --> 00:21:41.580
We're going to do a on request permission result.

293
00:21:41.620 --> 00:21:44.160
Again this could be for any permission.

294
00:21:44.380 --> 00:21:48.310
You know we're pretty sure here that it's going to be for our location stuff because we're not asking

295
00:21:48.310 --> 00:21:51.470
for anything else but just know that this can be for other permissions.

296
00:21:51.640 --> 00:21:55.180
And so first we're going to check and see if we got something.

297
00:21:55.180 --> 00:22:04.720
So we're going to set up an if statement and then here we're going to say Grant results dot length check

298
00:22:04.720 --> 00:22:06.600
and see if that is greater than zero.

299
00:22:06.610 --> 00:22:12.520
And if it is we're going to say OK that and the other thing that we want to check is say all right we're

300
00:22:12.520 --> 00:22:16.630
going to tap and a great results and since we know something's in there we're going to get the very

301
00:22:16.630 --> 00:22:17.880
first item.

302
00:22:17.880 --> 00:22:25.170
And we're going to check and see if this is equal to package manager dot.

303
00:22:25.770 --> 00:22:27.390
Permission granted.

304
00:22:27.390 --> 00:22:30.780
So that will ensure that they gave us permission there.

305
00:22:30.840 --> 00:22:37.110
Next we need to go ahead and check that we've got permission one more time for the location.

306
00:22:37.110 --> 00:22:40.200
So this is just checking the general permission was granted.

307
00:22:40.200 --> 00:22:44.100
Next we're going to make sure that they have the location permission so this is kind of confirming that

308
00:22:44.100 --> 00:22:45.440
we got the right one.

309
00:22:45.850 --> 00:22:47.940
So we'll do another statement here.

310
00:22:48.100 --> 00:22:50.050
But in this one we want to ask.

311
00:22:50.400 --> 00:22:56.070
OK context compact dot check self permission.

312
00:22:56.520 --> 00:23:02.610
And with that we're going to go ahead and provide this as a context and then we want Capitol manifest

313
00:23:03.250 --> 00:23:08.840
got permission not access fine location.

314
00:23:08.970 --> 00:23:09.620
OK.

315
00:23:10.050 --> 00:23:14.750
So we'll go ahead and put that all close up that parentheses there.

316
00:23:15.060 --> 00:23:24.320
And we want to see if this is equal to capital package manager got permission granted.

317
00:23:24.800 --> 00:23:29.730
That's going to tell us if we're ready to go with this location stuff and if it is then we'll simply

318
00:23:29.730 --> 00:23:30.480
just type out.

319
00:23:30.630 --> 00:23:31.380
OK.

320
00:23:31.620 --> 00:23:36.150
Location Manager.

321
00:23:36.690 --> 00:23:39.520
Request location updates.

322
00:23:39.600 --> 00:23:46.380
We're going to have to go ahead and pass in our location manager that GPS provider we'll go ahead and

323
00:23:46.380 --> 00:23:52.900
do 00 because we want all the information and then we'll pass on our lower case location.

324
00:23:52.980 --> 00:23:54.880
Listener.

325
00:23:55.030 --> 00:23:58.300
All right so that's gone ahead and set all of that stuff up for us.

326
00:23:58.300 --> 00:24:03.610
But let's go ahead and move back down to our not on create I keep thinking that's where we want to go.

327
00:24:03.610 --> 00:24:06.970
But it's the on map ready because we don't want to do any of this stuff.

328
00:24:07.000 --> 00:24:11.950
So Google Maps has had the opportunity to get the map set up and honestly this doesn't really take that

329
00:24:11.950 --> 00:24:17.320
long but it's just really crucial that you do this here rather than create because it can get kind of

330
00:24:17.320 --> 00:24:18.210
messy there.

331
00:24:18.220 --> 00:24:24.730
So after we have set up the location listener which it looks like I'm missing a semi-colon for after

332
00:24:24.730 --> 00:24:26.530
we've done that.

333
00:24:26.530 --> 00:24:31.120
We're going to go ahead and do the check to see hey you know do we have permission if not we need to

334
00:24:31.120 --> 00:24:35.590
go request it blah blah blah which you know would take us up to this piece of code.

335
00:24:35.680 --> 00:24:43.510
So down here below we are going to say If so this if statement we're just checking to see if we have

336
00:24:43.900 --> 00:24:48.220
access which really it's basically this function we'd have to just change one thing.

337
00:24:48.220 --> 00:24:55.720
So we're going to go ahead and just copy what we have here can and will replace it there and we're checking

338
00:24:55.720 --> 00:25:04.030
to see hey if we don't have permission to do so if we don't have the permission to use the user's location

339
00:25:04.360 --> 00:25:12.070
or in that case that's where we would want to go ahead and get request information there.

340
00:25:12.130 --> 00:25:17.710
So we're going to go ahead and type out to this well I guess we could work with the opposite situation

341
00:25:17.710 --> 00:25:24.010
of saying hey you know if they do have access I guess we could just do this well this is kind of different

342
00:25:24.010 --> 00:25:28.360
than we've done it before but I think it's good to kind of explore this way so we'll say you know if

343
00:25:28.360 --> 00:25:34.620
they do move that back to the equal so if they do have permission then we'll just request location updates

344
00:25:34.720 --> 00:25:37.750
like we've done before but if they don't that's what we'll do inside of this.

345
00:25:37.750 --> 00:25:49.300
Else this is where we'd say activity compact dot request permissions and we're going to go ahead and

346
00:25:49.300 --> 00:25:55.530
provide this for the context then we want to do a new string array.

347
00:25:55.810 --> 00:25:56.300
Right.

348
00:25:56.320 --> 00:26:02.710
And then with this we're going to do our curly brackets and inside of there will say capital manifest

349
00:26:02.920 --> 00:26:06.310
permissions that access fine location.

350
00:26:06.420 --> 00:26:07.060
OK.

351
00:26:07.260 --> 00:26:11.220
Now we'll go ahead and provide one there for the request code.

352
00:26:11.830 --> 00:26:16.470
All right so we've got all of that there so that's good to go.

353
00:26:16.480 --> 00:26:22.090
The next thing that we want to do is so if we were able to get access to their location right in the

354
00:26:22.600 --> 00:26:28.930
top part of this statement we would want to request the location updates but we would also want to go

355
00:26:28.930 --> 00:26:32.260
ahead and get the last known location and get everything set up.

356
00:26:32.260 --> 00:26:39.490
So let's go ahead and type out the code for that we want a location that will call last known location

357
00:26:39.930 --> 00:26:49.390
or we're going to set this equal to location manager Donte get last known location out to provide a

358
00:26:49.390 --> 00:26:51.400
little bit inside of here.

359
00:26:51.490 --> 00:26:54.580
Just go ahead and say location manager.

360
00:26:55.100 --> 00:26:58.400
We want the Capitol GPS GPS provider.

361
00:26:58.590 --> 00:26:59.760
Excellent.

362
00:26:59.980 --> 00:27:04.750
So that gives us the last known location so then it makes it very easy for us to just say Senator map

363
00:27:04.750 --> 00:27:06.190
on location.

364
00:27:06.190 --> 00:27:08.900
Go ahead and pass on our last known location.

365
00:27:08.980 --> 00:27:14.640
And again we'll go ahead and just type in the string your location.

366
00:27:14.670 --> 00:27:15.320
OK.

367
00:27:15.940 --> 00:27:21.560
So that'll pass through the appropriate information that we need in order to make that work.

368
00:27:21.640 --> 00:27:24.340
So we're basically there with our app.

369
00:27:24.340 --> 00:27:27.130
Let's go ahead and give this a run.

370
00:27:27.170 --> 00:27:28.270
See it is what we get.

371
00:27:28.270 --> 00:27:33.280
I mean before we do that there's one last thing that I thought about and that's that you know let's

372
00:27:33.280 --> 00:27:35.230
just kind of walk us through for a second.

373
00:27:35.230 --> 00:27:37.690
So this activity opens up.

374
00:27:37.810 --> 00:27:40.200
We come down to this on map ready.

375
00:27:40.780 --> 00:27:46.480
Right and we go ahead and we check the intent and say OK if it was the very first one that must mean

376
00:27:46.480 --> 00:27:51.770
that they want the user's location so we set up the manager the listener right.

377
00:27:51.790 --> 00:27:57.790
And then we come down here and we check and say hey do we have access for this so if we don't have access

378
00:27:57.790 --> 00:28:00.280
it's going to skip over to this statement.

379
00:28:00.700 --> 00:28:04.780
And then in which we're going to request for permission so that it's going to ask the user for those

380
00:28:04.780 --> 00:28:11.260
permissions which then once the user says yes or no is going to come to this on request permission result.

381
00:28:11.260 --> 00:28:16.400
So if they did give us permission we will make it through both of these statements and we'll say OK.

382
00:28:16.540 --> 00:28:18.190
Location Manager we're going to request.

383
00:28:18.190 --> 00:28:19.950
Location updates.

384
00:28:19.960 --> 00:28:24.210
So as we get updates you know it's going to be called the center map on location.

385
00:28:24.220 --> 00:28:30.460
But for the very first time we'd want it to go ahead and get whatever you know the user's last known

386
00:28:30.460 --> 00:28:31.610
location was.

387
00:28:31.630 --> 00:28:38.800
So let's just go ahead and copy the same code that we have here it just paces up top for when we you

388
00:28:38.800 --> 00:28:42.940
know had just realized that we got permission for the very first time.

389
00:28:42.970 --> 00:28:45.990
This is going to help make the app just look that much smoother.

390
00:28:45.990 --> 00:28:46.610
OK.

391
00:28:46.980 --> 00:28:50.200
And one more little thing that I noticed here is down below.

392
00:28:50.200 --> 00:28:53.320
We still have the code for in Sydney on the map.

393
00:28:53.320 --> 00:28:56.590
We don't really need do that anymore so let's go ahead and get rid of our Sydnee code.

394
00:28:56.600 --> 00:29:01.990
But thank you google You've provided some awesome example code for us.

395
00:29:02.000 --> 00:29:02.390
All right.

396
00:29:02.390 --> 00:29:06.810
We've done a lot of typing without any testing which usually is bad news.

397
00:29:07.040 --> 00:29:11.720
As a programmer so let's go ahead and run this and see what our emulator looks like.

398
00:29:12.110 --> 00:29:13.570
I can't emphasize that enough.

399
00:29:13.620 --> 00:29:19.760
It's if you ever go for like a half hour without ever testing your code it probably something's broken

400
00:29:19.760 --> 00:29:23.420
and you're going to it you're not going to know at what point you broke stuff it's usually good to build

401
00:29:23.420 --> 00:29:25.720
a little bit of that bit a little bit of that.

402
00:29:25.730 --> 00:29:30.740
So I'm going to try and practice what I preach a little bit more that I've just realized wow we've we've

403
00:29:30.740 --> 00:29:31.610
got a long time.

404
00:29:31.760 --> 00:29:33.630
So here comes the app.

405
00:29:33.680 --> 00:29:38.560
I'm going to get our menu up here ready because I know that this is coming here in just a second.

406
00:29:39.260 --> 00:29:42.100
So let's go ahead and tap on at a new place.

407
00:29:42.170 --> 00:29:47.800
Look at that and ask us the question and I'm going to go with head and say yes please allow the location.

408
00:29:47.840 --> 00:29:51.940
Oh we have gotten the app to crash.

409
00:29:51.960 --> 00:29:53.390
That's not a good thing.

410
00:29:53.390 --> 00:29:56.750
Let's go ahead and test out see what we've got here.

411
00:29:56.990 --> 00:29:58.960
And look at this.

412
00:29:59.030 --> 00:30:04.700
We did not request the user permission for this code.

413
00:30:04.700 --> 00:30:05.000
Right.

414
00:30:05.000 --> 00:30:14.760
So I mean we wrote the code to ask for the permission but inside of our manifest we never know.

415
00:30:14.870 --> 00:30:18.200
We did ask for access find location.

416
00:30:18.620 --> 00:30:19.190
Let's go ahead.

417
00:30:19.190 --> 00:30:21.140
Failure delivering result.

418
00:30:23.250 --> 00:30:23.970
Intense

419
00:30:27.310 --> 00:30:33.750
request permission has extras to activity blah blah blah time to vote for chool method.

420
00:30:35.950 --> 00:30:36.900
Hmm.

421
00:30:37.410 --> 00:30:39.270
Let me go ahead inspect this.

422
00:30:39.300 --> 00:30:44.020
So I found what the air was and essentially it came down to a null pointer exception.

423
00:30:44.040 --> 00:30:45.630
So it has to do with.

424
00:30:45.630 --> 00:30:49.890
You'll notice here it says maps activity that Java on line 31.

425
00:30:50.220 --> 00:30:55.410
So on this location object it's trying to get its latitude and longitude right.

426
00:30:55.620 --> 00:30:59.370
But this location object is coming through as normal and so.

427
00:30:59.460 --> 00:31:04.190
And that's because I think here on the device I didn't hit send before we did things.

428
00:31:04.440 --> 00:31:10.980
So the way to fix this is we should probably do a check before we go here we're going to say go ahead

429
00:31:10.980 --> 00:31:18.300
and just check and see if location is null so we're going to say if location is not equal to know then

430
00:31:18.510 --> 00:31:22.220
go ahead and do all of the stuff down below.

431
00:31:22.330 --> 00:31:24.570
So go ahead provide that there.

432
00:31:24.570 --> 00:31:29.130
That should fix things for us and let's go ahead and see if that's the case.

433
00:31:29.130 --> 00:31:36.090
So I think on an actual device it would have a location but you know I guess we can't be sure this is

434
00:31:36.090 --> 00:31:41.430
probably good that we caught this ere now so that you know in case something like this happens we know

435
00:31:41.430 --> 00:31:42.810
now how to handle it.

436
00:31:42.840 --> 00:31:44.580
So it's at a new place.

437
00:31:44.790 --> 00:31:47.110
So take us to the map view and look at that.

438
00:31:47.250 --> 00:31:50.150
Didn't zoom anywhere I think because we didn't have a previous location.

439
00:31:50.160 --> 00:31:52.970
But if I go ahead and add one boom look at that.

440
00:31:52.980 --> 00:31:54.630
It puts one in New York.

441
00:31:54.840 --> 00:32:01.830
And if we go ahead and tap on this it says hey this is your location game and that Zoom seems pretty

442
00:32:01.830 --> 00:32:02.130
good.

443
00:32:02.130 --> 00:32:05.440
I might want to go a little bit closer.

444
00:32:05.520 --> 00:32:06.440
I'm trying to think.

445
00:32:06.570 --> 00:32:08.720
I can't remember what direction is closer zoomed in.

446
00:32:08.720 --> 00:32:14.390
I think if I do like a six that would be more zoomed in let's go ahead and try that out.

447
00:32:14.400 --> 00:32:21.260
But and I mean that's totally up to you trying to decide what the Xoom should be.

448
00:32:21.300 --> 00:32:27.330
But let's go ahead add new place and look at that because we've added the location before it was able

449
00:32:27.330 --> 00:32:35.070
to do that without any errors on the 6 zoom more out so let's try something like 16.

450
00:32:35.420 --> 00:32:36.620
I should be closer.

451
00:32:36.660 --> 00:32:41.100
I just think it be cool to see a little bit you know like the street names and stuff like if someone

452
00:32:41.100 --> 00:32:42.990
has a location that their favorite.

453
00:32:42.990 --> 00:32:47.740
I mean I'm sure they'd love to see a little bit more detail than what we're providing now.

454
00:32:49.080 --> 00:32:53.430
I'm just nit picky me that's a little bit closer than what I was thinking.

455
00:32:53.430 --> 00:32:55.150
So let's maybe try 12.

456
00:32:55.170 --> 00:33:00.390
This is not a big deal but just kind of you know for me I want the thing that I think looks best.

457
00:33:00.420 --> 00:33:02.400
And as an app developer that's what you get.

458
00:33:02.430 --> 00:33:05.200
You get to do what you think is best for the app.

459
00:33:05.210 --> 00:33:10.290
So let's go ahead and set this and you know like that I can see you know other parts of New York but

460
00:33:10.290 --> 00:33:13.890
I'm saying you know this is my favorite part right here.

461
00:33:13.890 --> 00:33:17.610
All right the next step for us in this app is we've got to make it so that if someone wants to add a

462
00:33:17.610 --> 00:33:22.140
new place to their map like let's say you know what I really want Highland Park to be a part of this.

463
00:33:22.200 --> 00:33:27.240
If we click into do the long press here we want to be able to have that location and we want to get

464
00:33:27.240 --> 00:33:31.590
the address for that place and we want to add it to our list so if we hit the back button it's going

465
00:33:31.590 --> 00:33:32.690
to show up out there.

466
00:33:32.790 --> 00:33:37.890
So let's go ahead and attack that now the first thing that we got to figure out how to do is what code

467
00:33:37.890 --> 00:33:43.860
do we need in order to make it so that you know we can do a long press and we have Google Maps show

468
00:33:43.860 --> 00:33:44.690
us the correct thing.

469
00:33:44.700 --> 00:33:49.800
Well again this is probably something you had to google and again I'm going to show you how I went about

470
00:33:49.800 --> 00:33:51.430
finding this information.

471
00:33:51.540 --> 00:34:05.820
So I just kind of Googled something like Android Google Maps ad location long press.

472
00:34:06.540 --> 00:34:12.660
I think maybe we could get a little more specific if we go ahead and mark it as a marker rather than

473
00:34:12.660 --> 00:34:13.950
a location.

474
00:34:14.190 --> 00:34:15.580
So a marker there.

475
00:34:15.600 --> 00:34:20.970
You want to as much as you can provide specific terms that's going to help you get to the right place

476
00:34:20.970 --> 00:34:24.690
so it looks like maybe this could be a pretty good answer here.

477
00:34:24.730 --> 00:34:27.860
Let's go ahead and see what kind of information they got.

478
00:34:27.930 --> 00:34:34.320
Yeah I think this looks pretty good so this is telling us we've got to set a long listener on our map.

479
00:34:34.380 --> 00:34:40.320
And then we've got to implement this lat long thing here.

480
00:34:40.530 --> 00:34:43.920
There's a couple of more things we're going to talk about here in a second the big one is we've got

481
00:34:43.920 --> 00:34:46.850
to make sure that this implements this code up here.

482
00:34:46.860 --> 00:34:50.950
But with this information let's go ahead and bring this into our code.

483
00:34:51.480 --> 00:34:57.360
So let's get back to android studio and we want to be inside of our maps activity so we can see already

484
00:34:57.360 --> 00:35:04.170
this public class implements on map ready callback meaning that this is going to appropriately handle

485
00:35:04.650 --> 00:35:12.780
map functions here and you can see that this gets set here inside when we say map fragment doget map

486
00:35:12.800 --> 00:35:18.060
a sync when it says this it's talking about this class and by saying this we're saying yeah we're able

487
00:35:18.060 --> 00:35:19.260
to implement that.

488
00:35:19.320 --> 00:35:24.390
So if we wanted to do something similar here like if we wanted to support our map and let's go ahead

489
00:35:24.390 --> 00:35:31.260
and do it down once we have the actual Google map if we go ahead and type out a map and then let's go

490
00:35:31.260 --> 00:35:39.240
look at the code right we have to do dot set on map long click listener who want a mouthful and map

491
00:35:39.240 --> 00:35:44.680
data set on map long click listener.

492
00:35:44.760 --> 00:35:49.320
Like I said that's a mouthful and we say this was going to give us an error because it's saying hey

493
00:35:49.320 --> 00:35:53.850
this thing you know it doesn't implement the correct on map long click listener.

494
00:35:54.000 --> 00:35:59.960
So if we just go ahead and put a comma here and type out on map long click listener.

495
00:36:00.270 --> 00:36:05.070
All of a sudden if we go down here this error goes away.

496
00:36:05.220 --> 00:36:09.390
But then we get an air up here because it says well hey you said you would be able to handle on map

497
00:36:09.390 --> 00:36:15.210
on click Lisner stuff but you don't implement the correct method so if we go ahead and just hover over

498
00:36:15.210 --> 00:36:20.700
this click this little box that we say implement methods will say Yep go ahead let's implement this

499
00:36:20.700 --> 00:36:20.940
one.

500
00:36:20.940 --> 00:36:24.420
And so that we'll finally get rid of that Air Force.

501
00:36:24.430 --> 00:36:25.040
OK.

502
00:36:25.350 --> 00:36:30.900
So now we're in this on map long click which is what we have exactly here and it's showing us the steps

503
00:36:30.900 --> 00:36:36.690
that we need in order to implement this right so that someone can come in and say you know hey I want

504
00:36:36.690 --> 00:36:41.970
to go add something to my app so let's go ahead and talk about what it is that we need to do.

505
00:36:41.970 --> 00:36:45.980
We'll go back to android studio here.

506
00:36:46.110 --> 00:36:48.360
So a couple of pieces of information.

507
00:36:48.390 --> 00:36:52.570
First one is we've got to get access to the map which we can just get with a map.

508
00:36:52.930 --> 00:36:58.140
And on this we're going to do add marker and the things that we're going to pass and there is first

509
00:36:58.950 --> 00:37:09.390
new capital marker options and we'll say Dot position and you see it looking for a lat long which conveniently

510
00:37:09.390 --> 00:37:13.320
that's what we get right there so I'll pass on that lat long after we've done that.

511
00:37:13.320 --> 00:37:15.300
We want to set a title on this.

512
00:37:15.330 --> 00:37:22.200
So we'll say title and we're just going to pass in some sort of string like you know maybe your new

513
00:37:22.740 --> 00:37:24.920
memorable place.

514
00:37:25.020 --> 00:37:25.620
Okay.

515
00:37:25.890 --> 00:37:30.010
Well go ahead and do a semi-colon here there and that should finish it up.

516
00:37:30.300 --> 00:37:35.760
So once we have that in place let's go ahead and see if we can't get this to work.

517
00:37:35.760 --> 00:37:39.680
So we'll hit run on the emulator here.

518
00:37:40.950 --> 00:37:44.390
I always get mixed up about whether to call it a simulator or an emulator.

519
00:37:44.400 --> 00:37:47.460
I mean I think both are talking about essentially the same thing here.

520
00:37:47.760 --> 00:37:52.360
But does say Android emulator so we should probably roll with that there.

521
00:37:53.870 --> 00:37:56.920
Canyon will just give it one more second here.

522
00:37:56.960 --> 00:38:03.560
Sometimes it's really quick sometimes it's not at all but we'll go ahead and wait to see what happens.

523
00:38:03.560 --> 00:38:04.770
There we go.

524
00:38:05.150 --> 00:38:06.640
Finally opening up for us.

525
00:38:06.680 --> 00:38:12.110
So we'll say we're going to add a new place and this takes us to our beautiful map view so let's say

526
00:38:12.110 --> 00:38:15.040
you know I want to add that Highland Park along click here.

527
00:38:15.050 --> 00:38:16.010
Look at that.

528
00:38:16.010 --> 00:38:21.500
We successfully added a marker and if we tap on this it's got the name of your new memorable place.

529
00:38:21.620 --> 00:38:29.360
So that's an OK name but we'd rather have it list out an actual address of what this thing is and so

530
00:38:30.020 --> 00:38:34.060
in order to do that we've got to write our geo location code right.

531
00:38:34.060 --> 00:38:36.900
So where we're sort of breaking that down.

532
00:38:36.980 --> 00:38:41.210
So what we're going to do is we're going to write a little bit of code here to sort of handle how we

533
00:38:41.210 --> 00:38:43.390
want this all to go down.

534
00:38:43.400 --> 00:38:47.230
The first thing that we got to do is we've got to get a geocoder.

535
00:38:47.290 --> 00:38:55.370
So we'll just call that geocoder this is equal to a new capital geocoder and this is looking for a context

536
00:38:55.370 --> 00:39:00.640
so we'll say get application context and then it's looking for a locale.

537
00:39:00.650 --> 00:39:05.530
So we'll go ahead and just say look how dot get default.

538
00:39:05.540 --> 00:39:05.920
All right.

539
00:39:05.930 --> 00:39:09.520
So that gets our dear geocoder all set up then.

540
00:39:09.590 --> 00:39:14.570
What we're ultimately trying to build here is a string that we're going to call address and we'll just

541
00:39:14.570 --> 00:39:18.830
set the sequel to an empty string and the idea is that we'll take this address and we're going to instead

542
00:39:18.830 --> 00:39:22.870
of say in your new memorable place we'll put address right in there.

543
00:39:22.880 --> 00:39:23.430
OK.

544
00:39:23.840 --> 00:39:30.360
So once we've got that then here comes the big part where we try and go get you know the location and

545
00:39:30.360 --> 00:39:34.610
turn that into it address all that stuff and we're going to need a try catch for this so I'm going to

546
00:39:34.610 --> 00:39:36.160
go ahead and just set that up.

547
00:39:36.170 --> 00:39:37.940
So there's our try.

548
00:39:38.180 --> 00:39:42.580
And here's our catch do the curly brackets.

549
00:39:42.620 --> 00:39:48.910
Got to take in an exception that we'll call the let's do classic easy print stack trace.

550
00:39:48.950 --> 00:39:49.910
Excellent.

551
00:39:49.910 --> 00:39:54.980
And then as far as this try block here this is what we want to go to for.

552
00:39:54.980 --> 00:40:03.860
So we got to go grab the list of addresses from the geocoder and say this should be a list of address

553
00:40:03.950 --> 00:40:09.090
objects that we'll just call list addresses.

554
00:40:09.530 --> 00:40:17.300
And this is going to be equal to our geocoder dot get from location.

555
00:40:17.300 --> 00:40:26.320
And this is where we'll pat past the lat long dot latitude and the lat long dot longitude.

556
00:40:26.470 --> 00:40:30.500
OK so we've got those in place still got one more thing to add here.

557
00:40:30.520 --> 00:40:31.310
The max results.

558
00:40:31.310 --> 00:40:35.760
We only want one of those so we'll go ahead and pass that and give it a semi-colon.

559
00:40:35.820 --> 00:40:41.360
So it looks like with the list I had to put enter there so we get the proper importation.

560
00:40:41.360 --> 00:40:41.660
All right.

561
00:40:41.660 --> 00:40:46.490
Next step for us is we've got to go see if we got some information back so we'll do an if statement

562
00:40:46.490 --> 00:40:48.290
to check that.

563
00:40:48.290 --> 00:40:52.290
So the first thing that we want to check and see if list addresses is.

564
00:40:52.390 --> 00:40:57.740
So say as long as this thing is not no and the next thing that we want to check is there's actually

565
00:40:57.740 --> 00:40:58.670
some results in there.

566
00:40:58.700 --> 00:41:03.050
There should only be one but we'll say the list addresses that size.

567
00:41:03.320 --> 00:41:08.450
And we're going to say as long as this thing is greater than zero meaning we have at least one that

568
00:41:08.450 --> 00:41:10.190
means that we can move forward.

569
00:41:10.280 --> 00:41:11.030
OK.

570
00:41:11.030 --> 00:41:16.160
Now as far as the address goes before we've gone on we've grabbed like the state the city the zip code

571
00:41:16.160 --> 00:41:20.690
the address I think in this case we really just want the street address we don't want these to be like

572
00:41:20.690 --> 00:41:21.940
really long things.

573
00:41:22.130 --> 00:41:28.520
So let's just go ahead and worry about that part we might get you know maybe a little bit more of like

574
00:41:28.670 --> 00:41:33.940
the address there's a couple of pieces that we can grab there so this is what we're going to do first

575
00:41:33.950 --> 00:41:35.890
we're going to check for something called the thoroughfare.

576
00:41:35.900 --> 00:41:46.010
So we're going to say if you check and see that this gets here so it's a list addresses and we want

577
00:41:46.010 --> 00:41:48.940
to do it get the 0 item right.

578
00:41:48.950 --> 00:41:55.000
That very first one and we want to get the thoroughfare OK.

579
00:41:55.010 --> 00:41:59.340
And we're just checking to see that this thing is not equal to no.

580
00:41:59.660 --> 00:42:03.840
So this is not equal to no let's go ahead and check and see if we can get that sub one.

581
00:42:03.890 --> 00:42:07.790
I'm a little bit cautious about whether we should do this or not because it's different in different

582
00:42:07.790 --> 00:42:08.470
places in the world.

583
00:42:08.480 --> 00:42:16.190
But for this one we're going to do get sub thoroughfare going go and see how this works and if we have

584
00:42:16.190 --> 00:42:20.910
the the thoroughfare the Sobero fair what we're going to do is we're going to take her address string

585
00:42:21.330 --> 00:42:29.480
but we're going to do a plus equals and we're going to add on list addresses that get that 0 item and

586
00:42:29.480 --> 00:42:38.840
then from there we're going to say get get sub thoroughfare and we're going to add that on first so

587
00:42:38.840 --> 00:42:44.760
add that plus a space here so that we can you know have the thoroughfare from there.

588
00:42:44.760 --> 00:42:51.220
And I guess maybe this will be a little bit safer we'll just go ahead here and say address plus equals

589
00:42:51.270 --> 00:42:57.550
and this is where we'll go ad instead of the Get Sub-Zero fair let's copy this.

590
00:42:57.550 --> 00:43:05.650
Paste it or just do get thoroughfare so I guess in this situation if for instance there was no Sobero

591
00:43:05.680 --> 00:43:10.430
thoroughfare it would just jump to that line so I guess this will be a pretty safe way to handle this.

592
00:43:10.440 --> 00:43:11.090
OK.

593
00:43:11.460 --> 00:43:14.100
But with this information this should be enough for us right.

594
00:43:14.100 --> 00:43:16.950
That we should be able to pass this address down and get that.

595
00:43:16.950 --> 00:43:21.970
So let's go ahead and give this a try here see if this all works out.

596
00:43:24.240 --> 00:43:27.960
So well go ahead and wait for emulate a friend.

597
00:43:27.960 --> 00:43:31.170
I think this one launched much faster than last time.

598
00:43:31.680 --> 00:43:39.240
And we want to add a new place and we let's go to our favorite Highland Park here so go ahead and click

599
00:43:39.480 --> 00:43:39.810
on that.

600
00:43:39.810 --> 00:43:40.920
Click on it and

601
00:43:44.130 --> 00:43:46.780
it's not showing me anything there.

602
00:43:47.070 --> 00:43:49.320
So that's not what we are looking for.

603
00:43:49.320 --> 00:43:52.330
Let's try a different location here.

604
00:43:52.560 --> 00:43:53.000
OK.

605
00:43:53.040 --> 00:43:56.770
So we were able to get you know 49 street there.

606
00:43:56.790 --> 00:43:58.510
Let's try a different location.

607
00:43:58.520 --> 00:44:03.920
You know where we're getting addresses so we need to have some situation to be able to handle this.

608
00:44:04.160 --> 00:44:04.750
Right.

609
00:44:04.770 --> 00:44:07.950
Google Maps is not able to find a location.

610
00:44:07.980 --> 00:44:13.470
So in that situation let's go ahead and go back to our old friend Google here just you know how do we

611
00:44:13.830 --> 00:44:18.580
maybe what we could do to represent this is we could get the date in time when someone had selected

612
00:44:18.580 --> 00:44:29.010
this so you know if you were trying to google this figured out I would say maybe Android Java yet or

613
00:44:29.010 --> 00:44:36.640
not even get well say Android Java date current date and time to string.

614
00:44:36.820 --> 00:44:40.320
Right because that's ultimately what we want to do we want to get the current date and time turn it

615
00:44:40.320 --> 00:44:41.430
into a string.

616
00:44:41.790 --> 00:44:45.610
So let's go ahead and see what we've got here.

617
00:44:45.960 --> 00:44:49.380
Java calendar get instance get tied him.

618
00:44:49.420 --> 00:44:52.750
It doesn't exactly turn into a string.

619
00:44:52.830 --> 00:44:57.780
Ooh this looks fairly promising here if you want to get that Dharma's specific pattern you could use

620
00:44:57.780 --> 00:44:58.790
the following.

621
00:44:59.100 --> 00:44:59.500
OK.

622
00:44:59.520 --> 00:45:01.870
I think this is more of what we're looking for.

623
00:45:01.950 --> 00:45:07.770
So the code that we're going to add now is you know the situation where you know we want to check and

624
00:45:07.770 --> 00:45:12.990
see hey if there's nothing in the address if it's empty we want to be able to add our own things.

625
00:45:12.990 --> 00:45:18.630
So what we're going to do is we'll come down here and let's set up an if statement right before we add

626
00:45:18.630 --> 00:45:25.440
this marker and let's check in on address and we'll say address equals and we're going to see if it's

627
00:45:25.440 --> 00:45:30.960
equal to an empty string and if it is that's where we're going to want to you know go get the date and

628
00:45:30.960 --> 00:45:34.180
time and put this into it's own thing here.

629
00:45:34.200 --> 00:45:39.140
So if we go back and look at the code here we need something called a simple date format.

630
00:45:39.450 --> 00:45:45.570
So just type out simple date format and there's two of these there's an android one in a Java one.

631
00:45:45.570 --> 00:45:47.940
Let's go ahead and just go with the Java one.

632
00:45:48.200 --> 00:45:52.320
So I'm going to call this STF for simple date format.

633
00:45:52.320 --> 00:45:58.260
We're going to say that this is equal to a new capital simple date format and inside of here this is

634
00:45:58.260 --> 00:46:02.700
where we've got to pass a string of like how we want the time to be represented.

635
00:46:02.970 --> 00:46:07.930
So let's go ahead and just try the standard that they recommended here in the answer.

636
00:46:07.950 --> 00:46:11.420
We can go and manipulate this here in a second.

637
00:46:11.550 --> 00:46:18.030
So once we've got that in place let's go ahead and take our address string and we're say address plus

638
00:46:18.060 --> 00:46:21.330
equals and we want to add this time as a string.

639
00:46:21.330 --> 00:46:28.800
So all we have to do is SDF dot format and we need to pass at some sort of date so we're going to say

640
00:46:28.800 --> 00:46:30.670
new capital date.

641
00:46:30.930 --> 00:46:37.290
And just like that it's going to this new date that essentially grabs the current time from the device

642
00:46:37.290 --> 00:46:38.120
passes it in.

643
00:46:38.130 --> 00:46:40.940
It formats it using this and turns it into a string.

644
00:46:41.030 --> 00:46:41.520
OK.

645
00:46:41.850 --> 00:46:47.610
So having this all in place we should now be able to see when we run our app and it finds a location

646
00:46:47.610 --> 00:46:49.720
that it couldn't provide an address for.

647
00:46:49.800 --> 00:46:54.560
It's going to help us out by just saying hey you know this is the time that that thing occurred.

648
00:46:54.570 --> 00:46:58.840
So let's go ahead and jump in to our emulator here.

649
00:46:59.030 --> 00:47:02.730
I'll say at a new place let's see if we can recreate the situation right.

650
00:47:02.790 --> 00:47:08.490
So we did it on Highland Park if we click and drag and you know of course this time it goes and it grabs

651
00:47:08.490 --> 00:47:11.310
an actual location and look at that.

652
00:47:11.410 --> 00:47:11.710
OK.

653
00:47:11.730 --> 00:47:13.200
This one successfully worked.

654
00:47:13.200 --> 00:47:19.500
So all the information's there but it's really really ugly about how it's represented.

655
00:47:19.740 --> 00:47:22.320
So let's go ahead and do a little bit of tweaking here.

656
00:47:22.380 --> 00:47:27.600
So I've worked with this before and I kind of know how the strings work here like the why why why this

657
00:47:27.600 --> 00:47:28.740
is for the year.

658
00:47:28.740 --> 00:47:32.000
Then we got the month the date the HHC hours and then this is minute.

659
00:47:32.000 --> 00:47:35.780
So I'm just going to recreate this to say capital AIDS capital.

660
00:47:35.780 --> 00:47:38.730
Cole in lower case M M and this does.

661
00:47:38.730 --> 00:47:46.740
Hours and minutes going to space for wise for the year dash to AMS for the month upper case and then

662
00:47:46.740 --> 00:47:48.650
to lower case DS for the date.

663
00:47:48.660 --> 00:47:53.020
And if you're wondering what's the difference between upper and lower case go google simple date format.

664
00:47:53.010 --> 00:47:59.100
There's all sorts of information out there and you may not appreciate this now but dates and times and

665
00:47:59.100 --> 00:48:04.380
programming is really tricky complicated stuff and using things like a simple data formatter can make

666
00:48:04.380 --> 00:48:09.450
it so much easier to work with if you want to do like AM or PM if you want the dates to have a 0 in

667
00:48:09.450 --> 00:48:13.440
front or not have a zero in front like it sort of handles all those situations.

668
00:48:13.440 --> 00:48:14.250
It's pretty cool.

669
00:48:14.280 --> 00:48:19.770
So to do long press and part of an address so that won't work let's try the other one and look at that

670
00:48:20.100 --> 00:48:30.000
saying that you know 50 70 like so 00 57 so there's a saying this is 12:57 in the morning 20:17 11 19.

671
00:48:30.020 --> 00:48:30.600
OK.

672
00:48:31.020 --> 00:48:33.180
So we're at a pretty good place here.

673
00:48:33.210 --> 00:48:34.830
And you can see that matches up all the time.

674
00:48:34.830 --> 00:48:39.690
That's not my local time right now but that's the time on this device so we know that that's correct

675
00:48:39.700 --> 00:48:40.420
there.

676
00:48:40.650 --> 00:48:41.630
This is pretty good right.

677
00:48:41.710 --> 00:48:45.910
We are able to allow users to add something there.

678
00:48:45.920 --> 00:48:51.710
The one problem that we have here though is if we if the user has added a location it'd be nice when

679
00:48:51.710 --> 00:48:54.350
we hit the back button that would be listed out here.

680
00:48:54.520 --> 00:48:56.960
And right now that is not happening at all.

681
00:48:56.990 --> 00:49:03.640
So we want to go back to our app and we're going to move over to the main activity that Java and we're

682
00:49:03.650 --> 00:49:09.560
going to add a new array list so we already have one that lists all the places we also want to have

683
00:49:09.560 --> 00:49:16.460
one that shows the particular locations right and they have a location object that the user can get

684
00:49:16.460 --> 00:49:21.680
to if they want to go to a certain place so right where we have our first array list we're going to

685
00:49:21.680 --> 00:49:23.360
pass another list.

686
00:49:23.480 --> 00:49:31.070
So let's create one now array list and we're going to have this one be an array list of lat long just

687
00:49:31.070 --> 00:49:41.540
like that and we're going to call this locations and say this is equal to a new array list of location

688
00:49:41.960 --> 00:49:43.320
objects.

689
00:49:43.820 --> 00:49:47.200
So we've got that in place that's looking pretty good here.

690
00:49:47.630 --> 00:49:52.880
It's a array of lat long not locations that's why that was freaking out there.

691
00:49:52.880 --> 00:49:53.490
OK.

692
00:49:53.990 --> 00:49:57.770
So one thing that we're doing right now is we're adding the very first one that says add new place if

693
00:49:57.770 --> 00:49:58.880
we're going to have one in places.

694
00:49:58.880 --> 00:50:02.270
We should also add a new kind of dummy one for locations.

695
00:50:02.270 --> 00:50:11.870
So let's just go ahead and say locations dot ad and we'll just go ahead and pass in a new lat long space

696
00:50:12.200 --> 00:50:18.320
long and we'll just put zero comma zero in there because we're just trying to put an empty wall the

697
00:50:18.320 --> 00:50:22.440
user is never going to go to that place and to talk about that more.

698
00:50:22.640 --> 00:50:27.130
You know we'll go ahead and I'm going to show you in the code how you can get to that.

699
00:50:27.240 --> 00:50:27.910
OK.

700
00:50:28.340 --> 00:50:37.210
So with these in place if we want to be able to access these array lists in a different activity.

701
00:50:37.250 --> 00:50:37.480
Right.

702
00:50:37.490 --> 00:50:39.410
This is in a completely separate class.

703
00:50:39.410 --> 00:50:44.180
We've got to give a proper name to these things and that's going to be something called static.

704
00:50:44.390 --> 00:50:48.350
So we have to say static on both of these.

705
00:50:48.850 --> 00:50:49.470
OK.

706
00:50:49.580 --> 00:50:54.310
And in order to do this we have to do this outside of the class function here.

707
00:50:54.350 --> 00:50:57.850
We got to go and do it up on the top so we're actually going to copy this.

708
00:50:58.240 --> 00:50:58.930
OK.

709
00:50:59.480 --> 00:51:02.360
And we'll paste it up above.

710
00:51:02.360 --> 00:51:04.010
Do the same for locations.

711
00:51:04.010 --> 00:51:06.240
Go ahead and copy and paste that.

712
00:51:06.260 --> 00:51:10.200
Let's make sure we get our 7 colons on each of those.

713
00:51:10.190 --> 00:51:14.360
Now rather than doing that let's just go ahead and set them straight way up.

714
00:51:14.360 --> 00:51:18.920
It's not like we're putting any data on there so I'm just going to cut these entirely paste that right

715
00:51:18.920 --> 00:51:23.870
there and then now we should have access to these not only in this activity but we can get them in the

716
00:51:23.870 --> 00:51:31.500
maps activity and just to kind of prove this you know if we type out somewhere locations.

717
00:51:31.550 --> 00:51:34.220
Now I'm going to feel like an idiot if we can't get to this.

718
00:51:34.220 --> 00:51:37.540
Let's try places.

719
00:51:37.850 --> 00:51:39.680
So it's currently not showing it.

720
00:51:39.680 --> 00:51:42.280
Maybe it needs a second update here.

721
00:51:42.320 --> 00:51:43.900
Let's go ahead and keep moving forward.

722
00:51:43.910 --> 00:51:47.550
And if we run into more issues we'll talk about how we can fix that.

723
00:51:47.570 --> 00:51:53.420
So with all of this in place let's go ahead and talk about a little bit of extra work that we've got

724
00:51:53.420 --> 00:51:57.470
to do down here with our address right.

725
00:51:57.470 --> 00:52:01.410
So we've done all this stuff to go ahead and add the marker right.

726
00:52:01.520 --> 00:52:05.510
There's a couple of things that we have to do now though is that that's what we want to add this to

727
00:52:05.510 --> 00:52:10.490
our places in our locations and I just remembered what the issue is here and that's that if we want

728
00:52:10.490 --> 00:52:18.380
to get to the places array for example we have to say Main I got to spell it right main activity dot

729
00:52:18.440 --> 00:52:22.400
locations or main activity places and that's going to get it there.

730
00:52:22.460 --> 00:52:29.570
So let's go ahead and first add this to places we're going to say places and we want to add something

731
00:52:29.570 --> 00:52:33.720
new to that so let's just go ahead and add the current address there.

732
00:52:33.980 --> 00:52:34.790
Okay.

733
00:52:35.210 --> 00:52:41.420
Once we have that in place the next thing that we want to do is get to our main activity get to all

734
00:52:41.420 --> 00:52:45.290
of our locations and we also want to add a lat long.

735
00:52:45.290 --> 00:52:51.590
So we'll go ahead and just add whatever the current that long is here.

736
00:52:51.620 --> 00:52:53.960
So that's going to add those things to the array.

737
00:52:54.140 --> 00:52:58.310
And then we also want to make some sort of note to the user to say hey we were able to do something

738
00:52:58.310 --> 00:53:05.000
successfully we want you to know about it so we're going to say TOSed make text and we'll go ahead and

739
00:53:05.000 --> 00:53:12.910
pass this for the context and some sort of string maybe let's say location's saved just like that.

740
00:53:12.950 --> 00:53:19.250
And let's also go ahead and say how long this should be let's keep it short here and then we'll do a

741
00:53:19.250 --> 00:53:20.420
dot show on that.

742
00:53:20.420 --> 00:53:26.150
So this way there's some sort of user feedback to say hey you know we were able to successfully add

743
00:53:26.150 --> 00:53:26.730
this.

744
00:53:26.840 --> 00:53:32.930
Now the next thing that we've got to do is we've got to update the array adapter that list view to know

745
00:53:32.930 --> 00:53:37.580
about it because if we just go ahead and add these things but we don't you know update the list view

746
00:53:37.580 --> 00:53:38.800
we're going to have issues here.

747
00:53:38.810 --> 00:53:44.880
So let's go back and where we're currently creating our array adapter Let's go ahead and define that

748
00:53:44.880 --> 00:53:53.160
up at the top with other static properties here so we're going to say static paste that in there and

749
00:53:53.220 --> 00:53:56.880
then we'll just say a re-adapt are like that.

750
00:53:56.910 --> 00:54:03.090
Then after doing this we can come back to our maps activity after we've added these two things to both

751
00:54:03.090 --> 00:54:10.500
arrays we can say hey we've got to update this stuff so we're going to say main activity array adapter.

752
00:54:10.570 --> 00:54:17.280
And on this we're going to say Dot notify data set change and that basically says hey go look at the

753
00:54:17.280 --> 00:54:18.320
array one more time.

754
00:54:18.320 --> 00:54:20.390
We've got some new information in there.

755
00:54:20.550 --> 00:54:22.700
We want you to go take a look at it.

756
00:54:22.770 --> 00:54:23.770
OK.

757
00:54:24.030 --> 00:54:28.530
So with that in place let's go ahead and see what this looks like.

758
00:54:28.530 --> 00:54:34.380
So just go ahead and run our app.

759
00:54:34.550 --> 00:54:36.760
I guess I should get the emulator up here.

760
00:54:37.100 --> 00:54:38.190
Ready to roll.

761
00:54:40.080 --> 00:54:41.130
OK so it opens up.

762
00:54:41.130 --> 00:54:42.940
We want to add a new place.

763
00:54:43.170 --> 00:54:45.200
Pick some random place here.

764
00:54:45.270 --> 00:54:45.630
Look at that.

765
00:54:45.630 --> 00:54:47.540
We get locations saved it's.

766
00:54:48.670 --> 00:54:54.550
Dekalb Avenue 1:53 if we hit the back button look at that we've got it in place.

767
00:54:54.550 --> 00:54:55.450
How excellent is that.

768
00:54:55.450 --> 00:54:59.960
Now look what happens if we go ahead and we click on this address and we try to come to the map view

769
00:54:59.980 --> 00:55:04.280
well it doesn't show that location and you might be wondering well why is that.

770
00:55:04.300 --> 00:55:05.410
And let's talk about that.

771
00:55:05.410 --> 00:55:10.950
Well if we go to our code here for the map it does take us to the map.

772
00:55:11.080 --> 00:55:14.940
But when we first got inside it for your let's get to the proper code there.

773
00:55:15.040 --> 00:55:15.280
Right.

774
00:55:15.280 --> 00:55:20.280
We did this big check where we say let's get the intent let's go and get whatever extra they pass through.

775
00:55:20.320 --> 00:55:26.020
And if it's the zero item then we run all the code that's inside of this big thing here.

776
00:55:26.050 --> 00:55:26.550
Right.

777
00:55:26.800 --> 00:55:29.740
But if it's not like what else do we want to do.

778
00:55:29.740 --> 00:55:34.990
Well the else part of the situation is if it's not the very first one that means they're trying to go

779
00:55:34.990 --> 00:55:36.140
to a location.

780
00:55:36.190 --> 00:55:38.660
So we should go ahead and write some code about that.

781
00:55:38.830 --> 00:55:41.770
So the first thing that we got to do is get a proper location.

782
00:55:41.770 --> 00:55:49.330
So let's go ahead and say location and we'll just call this maybe place location and we're going to

783
00:55:49.330 --> 00:56:00.520
have this equal to a new location object and we'll say location manager dot and let's get the GPS provider

784
00:56:01.140 --> 00:56:01.690
OK.

785
00:56:01.750 --> 00:56:03.250
That looks good.

786
00:56:03.250 --> 00:56:08.920
Next thing that we need to do is we need to take this place location and we need to set a latitude to

787
00:56:08.920 --> 00:56:09.010
it.

788
00:56:09.010 --> 00:56:13.900
So we're going to say set latitude now in order to get the latitude it's going to be a little bit of

789
00:56:13.900 --> 00:56:17.700
work here because we've got to reach back into the main activity and we got to grab something from the

790
00:56:17.700 --> 00:56:22.270
locations array and then we've got to get the proper information from that.

791
00:56:22.270 --> 00:56:27.460
So walk with me here we're going to say main activity dot locations right.

792
00:56:27.460 --> 00:56:34.600
This is that list array then we're going to get whatever the current index is inside of that array which

793
00:56:34.600 --> 00:56:36.540
that information comes from the intent.

794
00:56:36.550 --> 00:56:44.650
So we're going to say intent dot get it extra in which that case we've got to provide a name so let's

795
00:56:44.650 --> 00:56:48.300
go make sure we're getting the exact name which is place number.

796
00:56:48.310 --> 00:56:50.390
So go ahead and paste plate number there.

797
00:56:50.410 --> 00:56:53.020
We also have to provide a default in case it doesn't come through.

798
00:56:53.020 --> 00:56:59.920
So we'll put our zero but assuming that all works out we then should be able to on this say Dot and

799
00:56:59.920 --> 00:57:00.410
get to.

800
00:57:00.460 --> 00:57:02.020
For example its latitude.

801
00:57:02.020 --> 00:57:06.750
So that's a really long string of code which basically what it does is says hey we're trying to settle

802
00:57:06.750 --> 00:57:07.870
latitude here.

803
00:57:07.930 --> 00:57:13.450
It reaches back to our main activity gets location's rate gets the correct item and we know that because

804
00:57:13.450 --> 00:57:16.890
of the intent extra that came through and then we get its latitude.

805
00:57:16.890 --> 00:57:22.300
So to do the longitude rather than type all that out this is a perfect example of cop when you should

806
00:57:22.300 --> 00:57:25.030
copy and paste all the places down.

807
00:57:25.060 --> 00:57:27.900
Change this to set longitude.

808
00:57:28.000 --> 00:57:33.520
Know we've got to make sure that here we change this to longitude just like that.

809
00:57:34.420 --> 00:57:40.030
Once that's in place really the last thing that we need to do here is just use this awesome center map

810
00:57:40.030 --> 00:57:42.520
on location function that we've already created.

811
00:57:42.520 --> 00:57:48.310
So we're going to say place location right which we spent all this time creating the next thing that

812
00:57:48.310 --> 00:57:52.390
we're going to pass in here is we need to say what the title is.

813
00:57:52.390 --> 00:57:57.780
So again we're going to produce I'm reaching back here we're going to say main activity not places not

814
00:57:57.990 --> 00:57:59.050
yet.

815
00:57:59.140 --> 00:58:01.270
And this is where we got to get to that intent extra.

816
00:58:01.270 --> 00:58:07.840
So we're going to say intent but get into extra And we've got to go grab for example a place number

817
00:58:08.280 --> 00:58:11.360
one place that in our default will be zero.

818
00:58:11.380 --> 00:58:15.290
Just in case but once we've got that that's actually the string that we need.

819
00:58:15.310 --> 00:58:18.710
We don't even have to do a dot anything after that because we should have it.

820
00:58:18.930 --> 00:58:19.740
OK.

821
00:58:19.750 --> 00:58:24.510
So this should be everything that we need for Apple Let's go ahead and run it.

822
00:58:24.790 --> 00:58:27.570
See what we get when we get our emulator here.

823
00:58:27.610 --> 00:58:28.880
Ready to rock and roll.

824
00:58:29.070 --> 00:58:31.000
It's kind of the big moment of truth for us right.

825
00:58:31.000 --> 00:58:33.180
We've done a lot of work up to this point.

826
00:58:33.340 --> 00:58:35.560
So I will say at a new place.

827
00:58:35.560 --> 00:58:37.350
All right we're in New York.

828
00:58:37.480 --> 00:58:38.020
Let's go.

829
00:58:38.020 --> 00:58:41.940
Up here it was this Central Park that Central Park Zoo.

830
00:58:41.950 --> 00:58:46.770
So we've added a new marker bow bridge.

831
00:58:46.810 --> 00:58:47.140
OK.

832
00:58:47.140 --> 00:58:49.100
So let's go ahead and hit the back button.

833
00:58:49.240 --> 00:58:54.390
Who is showing up there so let's go ahead and tap on bow bridge and look at that.

834
00:58:54.400 --> 00:58:57.750
It shows us bow bridge and that is cool.

835
00:58:57.800 --> 00:58:58.420
OK.

836
00:58:58.780 --> 00:59:05.210
So congratulations you have a fully functional app but there is a glaring piece of this at MIT missing.

837
00:59:05.440 --> 00:59:07.810
So we just had this cool bow bridge right.

838
00:59:07.810 --> 00:59:12.250
Totally awesome we can tap on it takes us to the locations like oh that's really cool.

839
00:59:12.370 --> 00:59:14.550
Well look what happens when we run our app.

840
00:59:14.620 --> 00:59:15.420
One more time.

841
00:59:15.420 --> 00:59:17.950
So we hit the play button here you know.

842
00:59:17.980 --> 00:59:22.720
So this is kind of simulating maybe the user Kloser app went to a different outpolled this one back

843
00:59:22.720 --> 00:59:23.050
open.

844
00:59:23.050 --> 00:59:26.320
Look our location is completely gone.

845
00:59:26.320 --> 00:59:28.310
It's our memorable places are gone.

846
00:59:28.310 --> 00:59:32.830
Like the whole point of this Apple was that we could save memorable places so that we could always get

847
00:59:32.830 --> 00:59:33.620
back to them.

848
00:59:33.760 --> 00:59:34.780
And our app can't do that.

849
00:59:34.780 --> 00:59:39.970
Every time the app opens the data poof disappears that's just gone.

850
00:59:40.000 --> 00:59:41.490
So that's a big glaring thing.

851
00:59:41.500 --> 00:59:47.560
But that is going to be the focus of our next section is how do you store data inside of an Android

852
00:59:47.570 --> 00:59:47.880
app.

853
00:59:47.900 --> 00:59:52.820
I mean store data in that when you open it the next time whether that's a day later a year later or

854
00:59:52.820 --> 00:59:58.580
10 years later that's a little extreme but whatever point in the future you'll be able to get back the

855
59:58.580 --> 1:00:00.390
data that you already have.

856
1:00:00.410 --> 1:00:04.810
So a little bit outside of what we're going to do now but we have a whole section dedicated to it so

857
1:00:04.820 --> 1:00:09.820
once we'll learn it will actually come back to this app and add that functionality in here.

858
1:00:09.830 --> 1:00:12.250
So let's go ahead and wrap.

859
1:00:12.290 --> 1:00:14.000
Talk about that in the next section.

860
1:00:14.000 --> 1:00:18.040
Congratulations on doing all this location stuff really proud of you.
