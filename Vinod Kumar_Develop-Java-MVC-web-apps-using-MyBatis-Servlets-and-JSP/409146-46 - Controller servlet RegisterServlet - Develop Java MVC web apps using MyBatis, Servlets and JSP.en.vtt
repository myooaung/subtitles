WEBVTT
X-TIMESTAMP-MAP=LOCAL:00:00:00.000,MPEGTS:0

00:00:00.000 --> 00:00:01.020
in this lecture.

00:00:01.020 --> 00:00:03.000
Let's create a control of several it.

00:00:03.000 --> 00:00:05.150
Let's call it a registered summit.

00:00:05.150 --> 00:00:07.490
And we need to do that in the that packet.

00:00:07.490 --> 00:00:10.380
And I don't have a bad package because this is my first separate.

00:00:10.380 --> 00:00:12.950
So I'm gonna right click on my existing package.

00:00:12.950 --> 00:00:20.150
I say New class on the name of the class of men of color dyes register sudden it,

00:00:20.150 --> 00:00:21.490
of course,

00:00:21.490 --> 00:00:24.550
change the package name from service to grab.

00:00:24.550 --> 00:00:27.670
The super close is going to be http summit,

00:00:27.670 --> 00:00:31.530
and that's here that's selected and say OK,

00:00:31.530 --> 00:00:32.640
click finish.

00:00:32.640 --> 00:00:39.700
And that's our animation at the rate Web summit where we're gonna do a Ural mapping for

00:00:39.700 --> 00:00:41.370
this summit and the Ural Mapping.

00:00:41.370 --> 00:00:46.320
I'm going to simply give it us the jester so that from the home page we can click a

00:00:46.320 --> 00:00:48.380
hyperlink that is having a hitch,

00:00:48.380 --> 00:00:49.780
a riff off distal,

00:00:49.780 --> 00:00:51.400
and that's going to come over here.

00:00:51.400 --> 00:00:53.370
That's also at the default cereal watch,

00:00:53.370 --> 00:00:58.330
and you already get off this comment and here we need to write.

00:00:58.330 --> 00:01:00.680
Both do get Acela's do post,

00:01:00.680 --> 00:01:02.760
because if a user clicks on a hyperlink,

00:01:02.760 --> 00:01:04.620
it's always going to be a get request.

00:01:04.620 --> 00:01:07.260
All if the user types it on and just wouldn't presenter.

00:01:07.260 --> 00:01:08.670
That's going to be a get request.

00:01:08.670 --> 00:01:09.600
In that case,

00:01:09.600 --> 00:01:13.560
we simply have toe present the registration form to the user.

00:01:13.560 --> 00:01:15.360
So we're gonna add a do get.

00:01:15.360 --> 00:01:16.660
I'm gonna press controls,

00:01:16.660 --> 00:01:21.010
face type D or G and then I got to do get Let's get off this.

00:01:21.010 --> 00:01:24.960
And the only thing that I have to do here is the response start.

00:01:24.960 --> 00:01:26.960
Send redirect to,

00:01:26.960 --> 00:01:27.720
let's say,

00:01:27.720 --> 00:01:28.640
for example,

00:01:28.640 --> 00:01:34.290
slash Web i n f slash views slash register dark GSP.

00:01:34.290 --> 00:01:35.350
At this point in time,

00:01:35.350 --> 00:01:37.820
we don't have this registered our jsp.

00:01:37.820 --> 00:01:43.620
One other thing that we also have to do over here is in case the user has already Longden.

00:01:43.620 --> 00:01:48.060
We don't want the user to register again because the U there is already a registered user,

00:01:48.060 --> 00:01:50.810
so we may have to make the check over here.

00:01:50.810 --> 00:01:56.050
So let's are your so to do check for logging.

00:01:56.050 --> 00:01:58.090
And if the user has logged in,

00:01:58.090 --> 00:02:04.960
redirect the user to the dashboard so we can always say here to do if the user has already

00:02:04.960 --> 00:02:11.820
Longden the direct to dash work and we don't have a dashboard yet,

00:02:11.820 --> 00:02:12.700
so we're gonna create.

00:02:12.700 --> 00:02:15.630
So that's why I said this is going to be a pending work.

00:02:15.630 --> 00:02:16.600
We will do that later.

00:02:16.600 --> 00:02:17.830
But for the time being,

00:02:17.830 --> 00:02:22.550
assuming that the user has not loved being the user is going toe pick on a hyperlink.

00:02:22.550 --> 00:02:24.850
Are typing this interesting that this bar,

00:02:24.850 --> 00:02:30.970
the other comes over here and then we'll be presented with this JSP on the registered or JC

00:02:30.970 --> 00:02:36.080
would be an HTML form that allows the user toe fill in the registration details and then

00:02:36.080 --> 00:02:40.970
submit on the summit will be a post request and toe handle the post request We're gonna

00:02:40.970 --> 00:02:41.500
right here.

00:02:41.500 --> 00:02:42.450
Do post.

00:02:42.450 --> 00:02:44.650
Let's get it off these two lines.

00:02:44.650 --> 00:02:48.660
And this is where we have few basic requirements.

00:02:48.660 --> 00:02:52.630
Number one read all the Parliament is coming from the request.

00:02:52.630 --> 00:02:53.170
In this case,

00:02:53.170 --> 00:02:54.740
it's gonna be name,

00:02:54.740 --> 00:02:55.240
email,

00:02:55.240 --> 00:02:55.730
password,

00:02:55.730 --> 00:02:58.570
and see password or confirm password on the subway.

00:02:58.570 --> 00:03:02.160
It is not going to assume any other responsibilities other than coordinating between the

00:03:02.160 --> 00:03:03.630
salaries layer and the view layer.

00:03:03.630 --> 00:03:03.910
Here,

00:03:03.910 --> 00:03:05.630
service is going to be all modern.

00:03:05.630 --> 00:03:08.820
And once we get the modern date off from the service layer,

00:03:08.820 --> 00:03:13.960
which either and adults object or it could be a user object if there's another subject.

00:03:13.960 --> 00:03:16.930
We send back the same registered or jsp.

00:03:16.930 --> 00:03:18.300
But if everything is okay,

00:03:18.300 --> 00:03:19.700
we got our user object.

00:03:19.700 --> 00:03:24.550
We store the user object in the session so that we know that the other has only London and

00:03:24.550 --> 00:03:26.500
then related the user to the dashboard.

00:03:26.500 --> 00:03:30.370
So the step number one is toe Really?

00:03:30.370 --> 00:03:31.080
Inputs?

00:03:31.080 --> 00:03:32.480
Let me commend that out.

00:03:32.480 --> 00:03:37.750
So step number one is going to be the real inputs from request.

00:03:37.750 --> 00:03:38.680
Andi,

00:03:38.680 --> 00:03:40.080
that's gonna be pretty straightforward.

00:03:40.080 --> 00:03:45.350
Sting name equals toe request our get perimeter off name,

00:03:45.350 --> 00:03:48.720
and we can copy the same thing and pasted a few times.

00:03:48.720 --> 00:03:50.750
The 2nd 1 is gonna be email.

00:03:50.750 --> 00:03:53.860
Get perimeter called Eamon.

00:03:53.860 --> 00:04:02.760
The 3rd 1 is gonna be fostered on this is gonna be postured on the last one is going to be

00:04:02.760 --> 00:04:03.790
a C password,

00:04:03.790 --> 00:04:05.020
maybe with the camel camps.

00:04:05.020 --> 00:04:08.440
But this is gonna be like literacy underscored password,

00:04:08.440 --> 00:04:10.140
because that would be preferred in html,

00:04:10.140 --> 00:04:12.360
another big got the perimeters.

00:04:12.360 --> 00:04:18.040
The second step usedto make use off a model function.

00:04:18.040 --> 00:04:19.360
And in our case,

00:04:19.360 --> 00:04:21.590
the model is going to be our user surgeries.

00:04:21.590 --> 00:04:27.210
That's create an object of user service that's called that service equals toe new user

00:04:27.210 --> 00:04:27.800
service.

00:04:27.800 --> 00:04:33.740
And then I say here service dot We have something called register User that takes name,

00:04:33.740 --> 00:04:34.250
email,

00:04:34.250 --> 00:04:34.870
password,

00:04:34.870 --> 00:04:35.830
See password.

00:04:35.830 --> 00:04:36.350
All off,

00:04:36.350 --> 00:04:37.300
these are available.

00:04:37.300 --> 00:04:37.940
Already.

00:04:37.940 --> 00:04:40.090
Errors is something that doesn't exist.

00:04:40.090 --> 00:04:46.640
Let's create others that created as map map is supposed to come from you till he is string

00:04:46.640 --> 00:04:53.910
value E string that colored as others equals toe new Hashmat on the hash mobile also from

00:04:53.910 --> 00:04:55.060
Java duty.

00:04:55.060 --> 00:04:58.020
So if the register user is successful,

00:04:58.020 --> 00:05:00.170
it's going to written a user object.

00:05:00.170 --> 00:05:04.720
So I'm gonna assign that to a variable user press command One toe art agenda,

00:05:04.720 --> 00:05:05.650
the variable type.

00:05:05.650 --> 00:05:08.210
But it's going to be no if there are errors.

00:05:08.210 --> 00:05:13.080
So I can either check if errors dot size greater and zero that are at us all.

00:05:13.080 --> 00:05:15.500
I can say if user equals to know there is another.

00:05:15.500 --> 00:05:17.800
So whichever the way you prefer you check.

00:05:17.800 --> 00:05:18.680
I'm gonna say here,

00:05:18.680 --> 00:05:22.850
if others dot size greater than zero,

00:05:22.850 --> 00:05:26.390
then I want to store this errors object in the request.

00:05:26.390 --> 00:05:26.670
Cope.

00:05:26.670 --> 00:05:27.910
So that's what I want to do.

00:05:27.910 --> 00:05:33.700
So I'll say request art set attribute that colored US Editors on the object.

00:05:33.700 --> 00:05:40.410
I want two stories address and then I'll say request dot Get request dispatcher slash Robyn

00:05:40.410 --> 00:05:48.240
f slash views slash register dark GSP and then with a forward,

00:05:48.240 --> 00:05:54.330
bypassing the same request on the response so that the register that JSP has access to the

00:05:54.330 --> 00:05:57.130
values you stood in the request object on included.

00:05:57.130 --> 00:05:57.960
There are no errors.

00:05:57.960 --> 00:06:01.100
I'm going to say else we have got a value.

00:06:01.100 --> 00:06:06.610
The user object now and we want to store this as the logged in users in decision so I can

00:06:06.610 --> 00:06:08.340
see your request.

00:06:08.340 --> 00:06:09.690
Our get session,

00:06:09.690 --> 00:06:11.260
Don't said.

00:06:11.260 --> 00:06:15.340
Attribute on then we say this is a user object who's logged in.

00:06:15.340 --> 00:06:20.170
You could give any key such as love being user to indicate that it's a user who has Canada

00:06:20.170 --> 00:06:20.650
Longping.

00:06:20.650 --> 00:06:22.970
But I'm OK with the key as user,

00:06:22.970 --> 00:06:25.450
and the value is also the user object.

00:06:25.450 --> 00:06:28.290
So now that the user object is in the fission,

00:06:28.290 --> 00:06:31.030
let's redirect the user toe a dashboard.

00:06:31.030 --> 00:06:37.650
So we're gonna say your response dot Send redirect to dot slash dash board.

00:06:37.650 --> 00:06:39.680
We don't have a dashboard yet.

00:06:39.680 --> 00:06:45.490
We will clear that in the subsequent lectures and notice the send redirect we're doing

00:06:45.490 --> 00:06:47.970
because after submitting the leader,

00:06:47.970 --> 00:06:50.970
if the user process refresh button on the browser.

00:06:50.970 --> 00:06:52.880
It's going to go to the dashboard,

00:06:52.880 --> 00:06:53.830
not toe.

00:06:53.830 --> 00:06:58.140
The actual registered are tasty on I observed one mistake I've done.

00:06:58.140 --> 00:07:00.910
I'm actually redirecting toe jsp here,

00:07:00.910 --> 00:07:03.350
which is not possible because if you redirect,

00:07:03.350 --> 00:07:08.640
then it is actually asking the browser to visit slash webinars use registered a jsp,

00:07:08.640 --> 00:07:12.900
which will only give you former four because browser's connected the web in a folder.

00:07:12.900 --> 00:07:15.800
So what I was supposed to do is this section.

00:07:15.800 --> 00:07:18.770
I'm gonna copy this and then paste over here.

00:07:18.770 --> 00:07:20.770
So with this now,

00:07:20.770 --> 00:07:24.630
our controller seems to be ready in the next lecture.

00:07:24.630 --> 00:07:26.360
Let's create this view,

00:07:26.360 --> 00:07:32.250
which is the registered our jsp so that when I make a request toe slash register,

00:07:32.250 --> 00:07:36.330
I get the registration form and when I submit that all these things happen

