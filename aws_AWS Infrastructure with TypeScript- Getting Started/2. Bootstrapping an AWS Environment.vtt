WEBVTT
1
00:00:01.090 --> 00:00:03.610
So now we're ready to go through the process of

2
00:00:03.610 --> 00:00:06.640
bootstrapping an AWS environment.

3
00:00:06.640 --> 00:00:08.330
So here within this demo,

4
00:00:08.330 --> 00:00:11.690
were first going to be executing that bootstrap command for an

5
00:00:11.690 --> 00:00:15.450
AWS environment, and we'll be reviewing the generated

6
00:00:15.450 --> 00:00:18.360
CloudFormation stack for that environment.

7
00:00:18.360 --> 00:00:21.090
So, let's dive in.

8
00:00:21.090 --> 00:00:25.610
So I'm here with in the AWS Management Console, and I'm logged into the

9
00:00:25.610 --> 00:00:29.220
account that I'm going to be using for this CDK app.

10
00:00:29.220 --> 00:00:32.060
I'm going to navigate here initially to CloudFormation, and I should

11
00:00:32.060 --> 00:00:35.470
point out here that I am in the us‑east‑1 region,

12
00:00:35.470 --> 00:00:37.440
which is the Northern Virginia region.

13
00:00:37.440 --> 00:00:39.330
You can certainly use another region.

14
00:00:39.330 --> 00:00:44.330
Just be sure that you're referencing the same region throughout this course.

15
00:00:44.330 --> 00:00:46.370
So I'm going to click on CloudFormation.

16
00:00:46.370 --> 00:00:49.850
And then if I click over here in the left pane and I go to look at Stacks,

17
00:00:49.850 --> 00:00:53.140
you can see here that we don't currently have any stacks

18
00:00:53.140 --> 00:00:56.440
for CloudFormation within this region.

19
00:00:56.440 --> 00:00:57.550
So here within the terminal,

20
00:00:57.550 --> 00:01:01.930
we need to have a quick conversation about account credentials.

21
00:01:01.930 --> 00:01:08.120
So if you don't currently have your account set up for use with the AWS CLI,

22
00:01:08.120 --> 00:01:11.810
you can go through the process of running aws configure,

23
00:01:11.810 --> 00:01:14.770
and this will walk you through the process of taking the credentials that

24
00:01:14.770 --> 00:01:19.740
you have for your user and configuring it for use locally.

25
00:01:19.740 --> 00:01:24.670
Now I'm using a named profile here named psuser.

26
00:01:24.670 --> 00:01:28.690
Now if you want to use this with the CDK for most any command,

27
00:01:28.690 --> 00:01:30.850
let's say like the bootstrap command,

28
00:01:30.850 --> 00:01:34.140
you can go in, and you can actually call the command and then do

29
00:01:34.140 --> 00:01:38.980
‑‑profile and put in the name of the profile after.

30
00:01:38.980 --> 00:01:39.710
However,

31
00:01:39.710 --> 00:01:43.780
if you also have it set up with the correct environment variable

32
00:01:43.780 --> 00:01:47.620
so AWS knows which one you're currently working with, you don't

33
00:01:47.620 --> 00:01:50.440
have to include the named profile.

34
00:01:50.440 --> 00:01:53.820
So throughout this course I'm not going to be using the

35
00:01:53.820 --> 00:01:56.480
named profile within the command.

36
00:01:56.480 --> 00:01:59.550
I'm going to be using it with the environment variable.

37
00:01:59.550 --> 00:02:03.280
So just note that, and be sure that whichever approach you take,

38
00:02:03.280 --> 00:02:05.240
you use it consistently.

39
00:02:05.240 --> 00:02:09.520
But since I have that set up and I also have us‑east‑1 set

40
00:02:09.520 --> 00:02:11.920
as the default region for this account,

41
00:02:11.920 --> 00:02:20.770
I can now run cdk bootstrap. And now we can see that our

42
00:02:20.770 --> 00:02:22.440
environment has been bootstrapped,

43
00:02:22.440 --> 00:02:26.320
and this environment descriptor here includes the two pieces of

44
00:02:26.320 --> 00:02:29.330
information that are specific to an environment,

45
00:02:29.330 --> 00:02:33.150
and that is the account number and the specific region.

46
00:02:33.150 --> 00:02:37.740
So now let's navigate back over to the AWS console.

47
00:02:37.740 --> 00:02:42.480
And so now you can see we do have a stack listed here within this account,

48
00:02:42.480 --> 00:02:45.980
and that is the stack name of CDKToolkit.

49
00:02:45.980 --> 00:02:51.150
Now this again is just a generic stack that's generated by the CDK.

50
00:02:51.150 --> 00:02:54.970
So if I go into this stack, I can see if I go under Resources,

51
00:02:54.970 --> 00:02:58.840
and I can see here that we have both a bucket and a bucket policy.

52
00:02:58.840 --> 00:03:02.370
And this is where the CDK is going to upload templates, and also,

53
00:03:02.370 --> 00:03:04.800
this gets used when we're using local assets,

54
00:03:04.800 --> 00:03:08.390
which will talk about later within this course.

55
00:03:08.390 --> 00:03:10.780
So now we've gone through the process of generating this,

56
00:03:10.780 --> 00:03:18.000
and this is going to be essential as we move forward and we get closer to deploying our CDK application.

