WEBVTT
1

00:00:00.240  -->  00:00:00.710
All right.

2

00:00:00.710  -->  00:00:02.700
Welcome back my students.

3

00:00:02.700  -->  00:00:05.850
So it's tough for us to start using one of these middleware.

4

00:00:05.880  -->  00:00:06.180
Right.

5

00:00:06.180  -->  00:00:08.280
We're going to use the role middleware that we created.

6

00:00:08.460  -->  00:00:10.710
So let's learn how to register this for us.

7

00:00:10.710  -->  00:00:12.470
Let's go to Colonel.

8

00:00:12.480  -->  00:00:18.040
All right well we have our mid awareness now as you can see here we have a couple of properties right

9

00:00:18.050  -->  00:00:19.340
.

10

00:00:19.410  -->  00:00:22.220
We have the middleware property here.

11

00:00:22.320  -->  00:00:23.570
This is the main mode.

12

00:00:23.580  -->  00:00:25.750
You can put your application meaning's mold.

13

00:00:25.920  -->  00:00:29.410
And as a matter of fact let me show you how to do that real quick.

14

00:00:29.490  -->  00:00:32.780
Right now you can see that we can go to our application right here.

15

00:00:32.940  -->  00:00:41.920
So if we type in BHB audition down applications now meaning's mode right.

16

00:00:42.060  -->  00:00:44.790
You can always learn something new in every lecture.

17

00:00:44.790  -->  00:00:52.440
Guys just make sure that you don't skip skip lectures skip skip lectures enter as you can see.

18

00:00:52.440  -->  00:00:53.190
Be right back.

19

00:00:53.190  -->  00:00:57.720
You could do that when you have this in production and then are you going on your website.

20

00:00:57.810  -->  00:00:59.610
All right let's go ahead and do this.

21

00:00:59.610  -->  00:01:02.660
BHB listen up.

22

00:01:02.670  -->  00:01:03.030
All right

23

00:01:05.850  -->  00:01:06.310
there we go.

24

00:01:06.330  -->  00:01:07.080
It's up again.

25

00:01:07.200  -->  00:01:09.210
All right.

26

00:01:09.210  -->  00:01:10.530
All right cool.

27

00:01:10.530  -->  00:01:14.790
So we got this where property here.

28

00:01:14.820  -->  00:01:16.130
This is just a groupie.

29

00:01:16.140  -->  00:01:17.120
All right.

30

00:01:17.250  -->  00:01:25.200
So we are grouping all these middle words together in and we are referencing referencing it damn By

31

00:01:25.200  -->  00:01:26.590
the key weap.

32

00:01:26.610  -->  00:01:27.040
All right.

33

00:01:27.040  -->  00:01:29.810
This is by the full we have the weapon the API.

34

00:01:30.150  -->  00:01:35.360
We also have this round made aware Arayan This is where how we're going to register our route are made

35

00:01:35.360  -->  00:01:37.820
where we're going to register as a round middleware.

36

00:01:37.890  -->  00:01:39.730
So I'm going to name it.

37

00:01:39.780  -->  00:01:46.340
Roll ups now row row and then I'm going to give you the path.

38

00:01:46.350  -->  00:01:49.190
So we know that it is on app.

39

00:01:49.260  -->  00:01:55.830
We know that is on HTP and we know that it is in the middleware folder and we know that his name roll

40

00:01:57.110  -->  00:02:01.240
made or where and then we do not.

41

00:02:01.290  -->  00:02:04.420
I mean we'll call and call in class Colma.

42

00:02:04.440  -->  00:02:05.310
There we go.

43

00:02:05.370  -->  00:02:06.540
We put the comma there.

44

00:02:06.540  -->  00:02:11.550
Since this is a a an array right.

45

00:02:11.700  -->  00:02:14.820
We can just put the comma there and get ready for the next one.

46

00:02:14.820  -->  00:02:15.420
Cool.

47

00:02:15.450  -->  00:02:18.250
So now that we register it now let's learn how to use it.

48

00:02:18.450  -->  00:02:19.650
Right.

49

00:02:20.490  -->  00:02:26.110
So for that we can go to a TTP routes.

50

00:02:26.120  -->  00:02:28.050
There we go.

51

00:02:28.050  -->  00:02:31.240
There are a couple ways of using middleware.

52

00:02:31.260  -->  00:02:40.020
All right you can pass it through the route right here to the this get method or you can use it in the

53

00:02:40.020  -->  00:02:44.970
constructor like a controller like the home controller right here.

54

00:02:44.970  -->  00:02:47.000
All right you can pass it through there.

55

00:02:47.700  -->  00:02:55.820
So let's go back to router real quick and let's create a route.

56

00:02:57.390  -->  00:03:08.370
Let's create a rouse called admin admin role no user rules just like that.

57

00:03:08.850  -->  00:03:09.790
All right.

58

00:03:10.280  -->  00:03:15.330
And let's just say function all right.

59

00:03:16.520  -->  00:03:20.970
Return we're going to return something.

60

00:03:21.060  -->  00:03:23.630
But let me show you how to apply these middleware.

61

00:03:23.730  -->  00:03:33.030
So let's say right now we want to apply the middleware rule to it right to this get requests the right

62

00:03:33.030  -->  00:03:33.680
call.

63

00:03:33.690  -->  00:03:34.590
We put a

64

00:03:37.650  -->  00:03:39.450
an array.

65

00:03:39.450  -->  00:03:42.540
Make sure that you put the other and right here in the middle.

66

00:03:42.960  -->  00:03:46.620
And when getting close hold things this they're made aware.

67

00:03:46.620  -->  00:03:51.800
So we're going to say middleware is the key.

68

00:03:51.800  -->  00:03:52.430
All right.

69

00:03:52.500  -->  00:03:57.340
And the value would be the name or middleware.

70

00:03:58.680  -->  00:04:08.550
OK so now we have applied or made aware to this admin user roles get requests are right in here we can

71

00:04:08.550  -->  00:04:14.200
return whatever data we want or you know do whatever.

72

00:04:14.640  -->  00:04:15.700
OK.

73

00:04:16.650  -->  00:04:23.650
So let's say let's call a middleware roll.

74

00:04:23.680  -->  00:04:29.340
All right so now let's actually go to the.

75

00:04:30.250  -->  00:04:31.830
And you don't have to put anything here.

76

00:04:31.860  -->  00:04:33.340
I'm just giving you an example.

77

00:04:33.510  -->  00:04:38.840
Let's go to the middleware actually to our We're all made aware here and we're going to handle this

78

00:04:38.840  -->  00:04:41.120
requests.

79

00:04:41.300  -->  00:04:42.390
All right.

80

00:04:42.390  -->  00:04:44.640
So what do we want to do.

81

00:04:44.640  -->  00:04:45.750
Well we got it.

82

00:04:45.780  -->  00:04:48.070
We've got to do something here.

83

00:04:48.900  -->  00:04:53.370
Let's actually redirect the user.

84

00:04:53.370  -->  00:04:56.250
All right let's redirect them back

85

00:04:59.210  -->  00:05:06.860
or you know while this redirect into root that's it that's all we've got to do.

86

00:05:06.870  -->  00:05:10.280
Let's just do that real quick.

87

00:05:10.320  -->  00:05:10.750
All right.

88

00:05:10.770  -->  00:05:15.330
And then we will we will do the next requests.

89

00:05:15.330  -->  00:05:16.150
All right.

90

00:05:16.470  -->  00:05:22.690
So let's go and open up a browser and try that.

91

00:05:23.190  -->  00:05:30.590
So he's made aware that the Wii is admin users user roles.

92

00:05:30.600  -->  00:05:38.160
I think it is as you can see their exes back to the to the home page.

93

00:05:38.190  -->  00:05:39.080
All right.

94

00:05:39.180  -->  00:05:41.520
So I hope you see what we're made aware of.

95

00:05:41.520  -->  00:05:42.380
I actually do.

96

00:05:42.420  -->  00:05:43.040
All right.

97

00:05:43.230  -->  00:05:46.280
And you can register multiple meter where routes if you won.

98

00:05:46.350  -->  00:05:47.130
OK.

99

00:05:47.280  -->  00:05:52.970
So if you have if you have multiple meter whereas you can register them like this.

100

00:05:53.020  -->  00:06:02.400
Show you you can pass in the first one you can what you can do is you actually encloses in side an array

101

00:06:04.140  -->  00:06:05.850
like this.

102

00:06:06.210  -->  00:06:13.720
So you can say you get the first one rule and then you can say the next one is off.

103

00:06:13.720  -->  00:06:16.100
Now of course you need to call me here.

104

00:06:16.150  -->  00:06:20.500
All right and you can pass multiple middle where's.

105

00:06:21.780  -->  00:06:23.010
All right.

106

00:06:23.250  -->  00:06:27.240
So in the next lecture we're going to do something a little bit better than this.

107

00:06:27.240  -->  00:06:32.610
All right we're going to probably check for maybe a user or something like that.

108

00:06:32.660  -->  00:06:37.360
Well something that makes a little bit more sense so you get a better idea but I think you already have

109

00:06:37.360  -->  00:06:43.320
the idea of how we apply made aware Where's how to register them and how to use and to protect our application

110

00:06:43.320  -->  00:06:43.440
.

111

00:06:43.440  -->  00:06:44.180
All right.

112

00:06:44.220  -->  00:06:47.120
So the next lecture we're going to you know do a little bit.

113

00:06:47.180  -->  00:06:50.860
Something tell it'll be more functional so that way you can get a better idea.

114

00:06:50.890  -->  00:06:51.260
Right.

115

00:06:51.270  -->  00:06:54.810
Thank you so much for watching and I'll see you in the next lecture.
