WEBVTT
1

00:00:00.210  -->  00:00:00.720
All right.

2

00:00:00.750  -->  00:00:06.930
Welcome back my students in this lecture I'm going to show you how to delete real lady models what I

3

00:00:06.930  -->  00:00:15.510
mean with that is that let's say for example we have a user write that you know has content in our website

4

00:00:15.540  -->  00:00:17.760
or our occasionally has different posts.

5

00:00:17.920  -->  00:00:19.340
Right they were able to create pools.

6

00:00:19.350  -->  00:00:23.170
They are authors now we banned the use of the Web site.

7

00:00:23.340  -->  00:00:24.490
They don't exist anymore.

8

00:00:24.510  -->  00:00:27.330
So their content remains.

9

00:00:27.330  -->  00:00:33.000
All right so we what we want to do is build a functionality where we actually delete that user's content

10

00:00:33.030  -->  00:00:35.140
when the users they Leidy as well.

11

00:00:35.190  -->  00:00:37.940
I'm going to show you how to do that in this lecture.

12

00:00:37.950  -->  00:00:38.510
OK.

13

00:00:38.700  -->  00:00:40.430
So I want you to go to your database.

14

00:00:40.470  -->  00:00:48.000
I'm here already but just go to your database migrations right here on poults right.

15

00:00:48.030  -->  00:00:51.440
So you're going to go to the post migration.

16

00:00:51.440  -->  00:00:52.110
All right.

17

00:00:52.620  -->  00:00:54.790
So how are we going to do this is like this.

18

00:00:54.790  -->  00:00:58.910
We're going to use the object here when I use a method called forging.

19

00:00:59.160  -->  00:01:02.960
And the key here is going to be the user ID.

20

00:01:02.960  -->  00:01:03.320
All right.

21

00:01:03.330  -->  00:01:04.880
Because we're going to relate.

22

00:01:04.920  -->  00:01:09.540
We're going to put a constraint in between the users stable and the ports.

23

00:01:09.570  -->  00:01:12.000
Now we're going to do references.

24

00:01:12.660  -->  00:01:18.440
Another method is all about methods references the ID.

25

00:01:18.460  -->  00:01:25.590
OK so now you see those two constraints that constraint user ID and the ID so that user ID from the

26

00:01:25.590  -->  00:01:28.320
post to the ID on use is stable.

27

00:01:28.320  -->  00:01:37.470
We read references the ID on users you see that and then here what are we going to do is we're going

28

00:01:37.470  -->  00:01:45.450
to say on the lead we're going to cascade down and delete everything as well.

29

00:01:45.540  -->  00:01:46.140
All right.

30

00:01:46.530  -->  00:01:48.370
So that's how we're going to do that here.

31

00:01:48.930  -->  00:01:51.900
And now we're going to say ph be artists and we got to go back here.

32

00:01:51.900  -->  00:01:54.900
We're going to say migrate refresh.

33

00:01:55.290  -->  00:01:57.360
Hopefully you don't have that much data in your database.

34

00:01:57.360  -->  00:02:03.690
All right so we're going to refresh and we're got to just register a user the first one that we got

35

00:02:03.690  -->  00:02:10.260
to register is the admin of course guys and remember I am Edwin from the future.

36

00:02:10.500  -->  00:02:16.440
So if you see a couple of things in my database or the application that you don't have yet do now worry

37

00:02:16.440  -->  00:02:18.320
about it you will have them in the future.

38

00:02:18.510  -->  00:02:19.940
You just haven't got there yet.

39

00:02:20.220  -->  00:02:20.760
OK.

40

00:02:21.000  -->  00:02:21.450
All right.

41

00:02:21.600  -->  00:02:23.910
So we've got Edwin the admin here.

42

00:02:24.210  -->  00:02:27.210
We got to make him admin so that way he can see this page here.

43

00:02:27.210  -->  00:02:33.090
So let's go to the database to PH BE MY admin.

44

00:02:33.540  -->  00:02:38.730
Let's go to roles and let's create some rules real quick because we're going to get the error if we

45

00:02:38.730  -->  00:02:44.320
don't have rules administrator there.

46

00:02:44.360  -->  00:02:46.030
And the second is that alter

47

00:02:48.800  -->  00:02:50.440
ego.

48

00:02:51.350  -->  00:02:52.190
And

49

00:02:54.830  -->  00:02:58.310
the third one was this subscriber.

50

00:02:59.120  -->  00:02:59.840
OK.

51

00:03:00.300  -->  00:03:01.170
Beautiful.

52

00:03:01.170  -->  00:03:02.730
Now let's go back to the user.

53

00:03:03.140  -->  00:03:04.600
Let's edit.

54

00:03:04.620  -->  00:03:10.490
Let's make it real like the one for subscriber and let's make him act so that way we can be logged in

55

00:03:10.490  -->  00:03:11.390
.

56

00:03:11.460  -->  00:03:12.300
All right.

57

00:03:12.870  -->  00:03:14.410
There we go.

58

00:03:14.610  -->  00:03:15.450
Cool.

59

00:03:15.740  -->  00:03:17.740
Let's give the user a picture.

60

00:03:18.050  -->  00:03:22.220
If you don't have the functionality do not worry about it.

61

00:03:23.460  -->  00:03:32.580
OK let's create another user real quick name and Jose and I'm going to give him a rule of art or something

62

00:03:33.740  -->  00:03:34.690
making Mac.

63

00:03:34.750  -->  00:03:37.010
Give him a picture.

64

00:03:37.940  -->  00:03:38.340
Let's

65

00:03:42.670  -->  00:03:50.150
I had pictures here somewhere.

66

00:03:50.420  -->  00:03:53.790
That's OK.

67

00:03:55.970  -->  00:03:57.440
We go.

68

00:03:57.450  -->  00:04:01.090
I know I have pictures here somewhere.

69

00:04:01.090  -->  00:04:01.870
There we go.

70

00:04:01.860  -->  00:04:03.890
Let's give him a pass.

71

00:04:04.920  -->  00:04:06.380
All right cool.

72

00:04:07.020  -->  00:04:08.480
So now let's create a pose.

73

00:04:08.520  -->  00:04:13.990
And I really have to look then as those to create a pose for him but I'm going to do it.

74

00:04:14.100  -->  00:04:17.160
And this way and then I'm going to edit that between my admin.

75

00:04:17.160  -->  00:04:17.940
All right.

76

00:04:17.940  -->  00:04:21.170
So is this post.

77

00:04:21.330  -->  00:04:24.450
We don't have a category no picture.

78

00:04:24.450  -->  00:04:25.470
That's OK.

79

00:04:25.500  -->  00:04:26.220
All right.

80

00:04:26.880  -->  00:04:29.230
So now you can see that the owner is Edwin dÃ­as.

81

00:04:29.230  -->  00:04:31.030
That's OK we're going to edit this.

82

00:04:31.080  -->  00:04:32.280
Impeach me my admin

83

00:04:36.040  -->  00:04:41.900
and I was going to post this guy and it's me the owner Jose.

84

00:04:42.440  -->  00:04:44.220
Let's go back and refresh.

85

00:04:44.400  -->  00:04:45.700
You can see now that he's.

86

00:04:46.110  -->  00:04:48.530
Why happen if I go in the Leto's it

87

00:04:52.200  -->  00:04:54.030
will say delete it.

88

00:04:54.060  -->  00:05:00.660
We go back in the polls is gone.

89

00:05:00.690  -->  00:05:01.440
All right.

90

00:05:01.650  -->  00:05:08.580
So as you can see now if we didn't have that in our system you would never get the post deleted because

91

00:05:08.580  -->  00:05:10.930
it would never be able to find it.

92

00:05:10.930  -->  00:05:11.610
All right.

93

00:05:12.030  -->  00:05:15.110
So that's a pretty cool function idea I think right.

94

00:05:15.870  -->  00:05:16.130
All right.

95

00:05:16.130  -->  00:05:18.230
You can use that for anything else.

96

00:05:18.300  -->  00:05:18.650
All right.

97

00:05:18.660  -->  00:05:22.380
Just remember this functionality right here.

98

00:05:22.410  -->  00:05:22.910
All right.

99

00:05:23.040  -->  00:05:29.190
Hopefully you were able to learn something really cool today that you did not know and hopefully make

100

00:05:29.190  -->  00:05:29.710
sure they.

101

00:05:29.910  -->  00:05:32.730
Thank you so much and I'll see you in the next lecture
