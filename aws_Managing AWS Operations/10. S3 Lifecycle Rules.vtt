WEBVTT
1
00:00:00.910 --> 00:00:03.160
[Autogenerated] Okay, so let's get started in this clip.

2
00:00:03.160 --> 00:00:07.570
We're going to start looking at life cycle rules within s three.

3
00:00:07.570 --> 00:00:10.310
So let me load on my bucket here and let's take this

4
00:00:10.310 --> 00:00:12.220
particular scenario into account.

5
00:00:12.220 --> 00:00:15.050
Let's say that we actually want to start migrating

6
00:00:15.050 --> 00:00:18.220
older objects into cheaper storage.

7
00:00:18.220 --> 00:00:19.420
Well, how can we do that?

8
00:00:19.420 --> 00:00:22.120
Well, we can do that using life cycle rules.

9
00:00:22.120 --> 00:00:24.290
So if we go up to management here,

10
00:00:24.290 --> 00:00:27.660
there's a life cycle tab where you can add a lifecycle rule.

11
00:00:27.660 --> 00:00:30.970
So I'm gonna click on Add Lifecycle Rule and I'm gonna give my

12
00:00:30.970 --> 00:00:34.550
ruling name and let's just say transition to Glacier.

13
00:00:34.550 --> 00:00:38.440
So what I'm going to do is transition older files and objects to

14
00:00:38.440 --> 00:00:41.440
the glacier storage so it could be archived.

15
00:00:41.440 --> 00:00:42.290
Now if I want,

16
00:00:42.290 --> 00:00:46.900
I can filter toe limit my scope by adding a prefix or a tag filter.

17
00:00:46.900 --> 00:00:50.420
I don't have either, so I'll leave that blank and I'll click on next year,

18
00:00:50.420 --> 00:00:53.640
and you can see that we can go down to even the versions,

19
00:00:53.640 --> 00:00:56.620
so we for sure want current versions.

20
00:00:56.620 --> 00:01:00.980
So all current versions of objects and we'll also do previous versions

21
00:01:00.980 --> 00:01:05.180
since we have version ING enabled So this is going to move all versions

22
00:01:05.180 --> 00:01:07.980
of an object to which ever storage class,

23
00:01:07.980 --> 00:01:09.030
we specify.

24
00:01:09.030 --> 00:01:11.700
So for the current versions, let's add a transition here,

25
00:01:11.700 --> 00:01:15.060
and I'm gonna select transition to Glacier after.

26
00:01:15.060 --> 00:01:18.340
So this is going to transition to the glacier storage class.

27
00:01:18.340 --> 00:01:22.700
After this many days, post creations let me go and make this 30.

28
00:01:22.700 --> 00:01:26.010
So what this does is it's going to transition to Glacier for our

29
00:01:26.010 --> 00:01:29.930
current versions after 30 days post creation.

30
00:01:29.930 --> 00:01:35.390
And then we'll do all previous versions transitioning to Glacier Deep Archive.

31
00:01:35.390 --> 00:01:37.690
So previous versions were not too worried about.

32
00:01:37.690 --> 00:01:41.700
I want to archive those for even cheaper, so I'm gonna make this 30 as well.

33
00:01:41.700 --> 00:01:46.190
So now all objects previous and current versions are going to

34
00:01:46.190 --> 00:01:50.240
transition to a different storage class after 30 days.

35
00:01:50.240 --> 00:01:51.600
So let me click on next,

36
00:01:51.600 --> 00:01:55.110
and you can see we can actually configure expirations as well.

37
00:01:55.110 --> 00:01:57.310
So let's just do current versions here,

38
00:01:57.310 --> 00:02:00.670
and we're gonna expire the current version of the object.

39
00:02:00.670 --> 00:02:03.300
After a year from the object creation dates,

40
00:02:03.300 --> 00:02:07.340
let me select 3 65 or enter 3 65 here,

41
00:02:07.340 --> 00:02:10.740
and then you can see we can also cleanup expired object,

42
00:02:10.740 --> 00:02:12.610
delete markers and incomplete,

43
00:02:12.610 --> 00:02:16.550
multipart up loads and were restricted from actually enabling this

44
00:02:16.550 --> 00:02:19.580
because we actually have expiration enabled.

45
00:02:19.580 --> 00:02:23.130
So if we didn't have this enabled, we can clean up these delete markers.

46
00:02:23.130 --> 00:02:26.600
But I do want to clean up in complete, multipart up loads,

47
00:02:26.600 --> 00:02:30.040
and we'll just leave it a week from the start of the upload.

48
00:02:30.040 --> 00:02:33.560
So if things don't finish within a week, we're going to clean them up.

49
00:02:33.560 --> 00:02:38.220
Some would click on next year, and then we get to review our life cycle rule.

50
00:02:38.220 --> 00:02:39.790
So we have our name and scope.

51
00:02:39.790 --> 00:02:41.300
We can see the transitions here,

52
00:02:41.300 --> 00:02:46.140
so our current versions are going to transition to Glacier after 30 days,

53
00:02:46.140 --> 00:02:48.760
and our previous versions are going to transition a

54
00:02:48.760 --> 00:02:51.640
glacier deep archive after 30 days.

55
00:02:51.640 --> 00:02:53.880
And then we also set an expiration rule.

56
00:02:53.880 --> 00:02:58.890
So after one year, which is 365 days, we're going to expire,

57
00:02:58.890 --> 00:03:04.620
are objects and we're also going to clean up in complete multipart uploads

58
00:03:04.620 --> 00:03:08.510
after seven days upon creation or attempt of creation,

59
00:03:08.510 --> 00:03:12.580
some to click on save here and now we have our life cycle rule enabled,

60
00:03:12.580 --> 00:03:14.940
and you can see that because we have the check mark here.

61
00:03:14.940 --> 00:03:17.360
So when I click this and I highlighted,

62
00:03:17.360 --> 00:03:20.870
I can actually go in and disable this as well if I wanted to.

63
00:03:20.870 --> 00:03:22.220
They give us a warning saying, Hey,

64
00:03:22.220 --> 00:03:25.370
this may impact their costs and I'm gonna confirm here and now my

65
00:03:25.370 --> 00:03:28.050
life cycle rule is disabled if I wanted it to.

66
00:03:28.050 --> 00:03:31.670
So lifecycle rules really allow us who transition to cheaper

67
00:03:31.670 --> 00:03:34.460
storage classes whenever it's really needed,

68
00:03:34.460 --> 00:03:35.980
and they're pretty flexible.

69
00:03:35.980 --> 00:03:39.310
So be sure to poke around these lifecycle rules settings in

70
00:03:39.310 --> 00:03:42.290
here and really configure to your needs.

71
00:03:42.290 --> 00:03:44.330
Everyone's requirements are going to be different,

72
00:03:44.330 --> 00:03:47.330
so be sure to play around as much as possible.

73
00:03:47.330 --> 00:03:55.000
Now that's gonna do it for this clip on S three lifecycle rules. So let's go and wrap it up and I'll see you in the next clip.

