WEBVTT
X-TIMESTAMP-MAP=LOCAL:00:00:00.000,MPEGTS:0

00:00:00.000 --> 00:00:01.230
in this lecture,

00:00:01.230 --> 00:00:06.580
let's see how to create a new module on new controller for the same model,

00:00:06.580 --> 00:00:10.070
and these models and controllers are nothing but new files.

00:00:10.070 --> 00:00:12.740
But I don't have to create a new file manually.

00:00:12.740 --> 00:00:15.030
There is a command to gender the same thing,

00:00:15.030 --> 00:00:19.160
just like how angular perverts the commands like N g gendered component,

00:00:19.160 --> 00:00:19.750
etcetera.

00:00:19.750 --> 00:00:25.780
You can also issued a similar commands here called Nestor Generate on an artifact that we

00:00:25.780 --> 00:00:26.660
should the same command.

00:00:26.660 --> 00:00:29.790
Let's go to the terminal or command prompt in windows.

00:00:29.790 --> 00:00:32.370
If you don't want to stop the server,

00:00:32.370 --> 00:00:34.920
you can open a new command prompt in windows,

00:00:34.920 --> 00:00:38.180
I can open a new tab by prison Commander T.

00:00:38.180 --> 00:00:39.350
And then I got that.

00:00:39.350 --> 00:00:40.170
First,

00:00:40.170 --> 00:00:42.360
let's ensure that were in the working directories,

00:00:42.360 --> 00:00:45.710
some multi probably toe check if I'm there in the working military,

00:00:45.710 --> 00:00:46.400
as you can see,

00:00:46.400 --> 00:00:47.540
I'm in the home military.

00:00:47.540 --> 00:00:53.150
Let's start city the stop and then type nest dash training press.

00:00:53.150 --> 00:00:57.730
Enter all the commands that you will be issuing for generating artifact,

00:00:57.730 --> 00:01:00.980
for the current project must be given in this particular folder.

00:01:00.980 --> 00:01:03.690
So this is your projects Home directory on the command.

00:01:03.690 --> 00:01:07.630
I want to give here is nest G G four generator recon,

00:01:07.630 --> 00:01:10.240
take completely generate and then type,

00:01:10.240 --> 00:01:15.720
model and name of the model on the name of the models can be anything but since we want to

00:01:15.720 --> 00:01:20.130
write Arrested Point for handling contacts off in a just book.

00:01:20.130 --> 00:01:23.220
So I'm gonna type your contacts and then press enter.

00:01:23.220 --> 00:01:24.380
As you can see,

00:01:24.380 --> 00:01:29.310
it has created a context dot modeled tortillas under Contacts Folder,

00:01:29.310 --> 00:01:30.400
a new folder here,

00:01:30.400 --> 00:01:33.250
and then it has updated Abdullah model 30 years.

00:01:33.250 --> 00:01:33.790
Also,

00:01:33.790 --> 00:01:34.530
you know,

00:01:34.530 --> 00:01:37.030
if you go back and see what is the change it has done.

00:01:37.030 --> 00:01:37.920
Number one is.

00:01:37.920 --> 00:01:42.470
You can see that there is a folder under this article contacts and a file called Context.

00:01:42.470 --> 00:01:43.620
Our Model 30 Years.

00:01:43.620 --> 00:01:47.660
The file contains an empty class called Contacts model,

00:01:47.660 --> 00:01:50.480
but it has been decorated with a great model.

00:01:50.480 --> 00:01:51.680
But I don't know.

00:01:51.680 --> 00:01:56.650
The module is almost like an empty moderate doesn't have any members in it.

00:01:56.650 --> 00:01:59.820
Typical members of a model would be controllers,

00:01:59.820 --> 00:02:00.960
injectables,

00:02:00.960 --> 00:02:01.890
pipes,

00:02:01.890 --> 00:02:02.740
exception,

00:02:02.740 --> 00:02:04.210
filters and many other stuffs.

00:02:04.210 --> 00:02:05.110
At this time,

00:02:05.110 --> 00:02:06.250
this is all empty.

00:02:06.250 --> 00:02:11.230
The other thing that has happened is that in the at model 30 years and entry for this

00:02:11.230 --> 00:02:14.710
context model has been made in the imports property,

00:02:14.710 --> 00:02:18.560
which means that model is like a parent model,

00:02:18.560 --> 00:02:22.320
which uses child models like Context Module.

00:02:22.320 --> 00:02:24.440
Let's go back to the context model,

00:02:24.440 --> 00:02:26.570
and now I want to create a new controller,

00:02:26.570 --> 00:02:32.890
which becomes part of this particular model to do so Let's go back to the terminal again on

00:02:32.890 --> 00:02:41.390
issue the command Nest G and then type controller Oregon's Implicated Nest G C On the name

00:02:41.390 --> 00:02:42.010
of the controller,

00:02:42.010 --> 00:02:45.490
we want to create once again the name of the controller I want to give.

00:02:45.490 --> 00:02:48.550
As contacts press enter notice.

00:02:48.550 --> 00:02:49.320
Once again,

00:02:49.320 --> 00:02:51.010
If model were not there,

00:02:51.010 --> 00:02:54.290
it would have created a new folder called Context.

00:02:54.290 --> 00:02:58.360
Since the Contacts folder already exists in the same folder,

00:02:58.360 --> 00:03:03.580
it's going toe are the new file Contact start controller that ts a suspect file for the

00:03:03.580 --> 00:03:07.530
same as well as it has updated the context.

00:03:07.530 --> 00:03:10.340
Start model tortillas in case of context.

00:03:10.340 --> 00:03:12.410
That model 30 years was not dead.

00:03:12.410 --> 00:03:16.250
Then it'll updated the app dot model 30 years,

00:03:16.250 --> 00:03:17.750
and that's really smart.

00:03:17.750 --> 00:03:21.130
Let's go back and see what is the file that is gendered it.

00:03:21.130 --> 00:03:23.020
We're not interested in the spec file,

00:03:23.020 --> 00:03:23.380
right now,

00:03:23.380 --> 00:03:26.940
so we're more interested in the contact dot controller 30 years.

00:03:26.940 --> 00:03:28.970
As you can see under it,

00:03:28.970 --> 00:03:33.350
Controller has a new route over here that's called contact.

00:03:33.350 --> 00:03:40.020
This is toe handle on the incoming request for local host 3000 slash contacts.

00:03:40.020 --> 00:03:45.380
This class is supposed to be filled with functions which are called request handlers,

00:03:45.380 --> 00:03:50.560
which are decorated with at the red Get to post put Patch Our Deal it.

00:03:50.560 --> 00:03:55.780
So let's have a function here that can respond to the client when the user makes a get

00:03:55.780 --> 00:03:58.040
request and to make things interesting,

00:03:58.040 --> 00:04:01.700
let's create an array called Contacts on Initialize.

00:04:01.700 --> 00:04:02.860
With some values,

00:04:02.860 --> 00:04:04.390
I'm gonna give some value like,

00:04:04.390 --> 00:04:07.840
let's say idea is one name is for example,

00:04:07.840 --> 00:04:12.900
be note email is that we know we know dot co ongoing,

00:04:12.900 --> 00:04:18.120
duplicate this a couple of times and put a semicolon over here on.

00:04:18.120 --> 00:04:22.990
Then write a function called Get All the name of the function can be anything you want,

00:04:22.990 --> 00:04:26.650
but I'm just going to say return this start contacts.

00:04:26.650 --> 00:04:27.690
Ideally,

00:04:27.690 --> 00:04:30.690
you should not written the actual reference off.

00:04:30.690 --> 00:04:35.630
The member variably should return a copy off this so that whoever is calling this

00:04:35.630 --> 00:04:39.520
particular function may not be directly imitating this reward.

00:04:39.520 --> 00:04:40.340
In our example,

00:04:40.340 --> 00:04:44.050
this function is called by nest on nest is not going to do an imitation.

00:04:44.050 --> 00:04:48.530
But if you want to send a copy off this so you can remove this from here and then put a

00:04:48.530 --> 00:04:49.570
square bracket.

00:04:49.570 --> 00:04:53.230
A square bracket always represents a new Ari.

00:04:53.230 --> 00:04:59.550
I want the values from the distort context today so I can spread them using the Year six

00:04:59.550 --> 00:05:00.360
spread operator.

00:05:00.360 --> 00:05:04.050
So I like to say triple dot distort contacts.

00:05:04.050 --> 00:05:10.200
One last thing we have to do is tow a noted this function using a decorator call at the

00:05:10.200 --> 00:05:10.390
rate.

00:05:10.390 --> 00:05:11.390
Get soil,

00:05:11.390 --> 00:05:13.650
do the same thing by typing other it.

00:05:13.650 --> 00:05:20.740
Get press enter on that automatically Import from Nesci is common were toe right a bracket

00:05:20.740 --> 00:05:22.800
for this over here and inside.

00:05:22.800 --> 00:05:26.450
This I can give either a part are an array of parts also,

00:05:26.450 --> 00:05:32.780
But at this time I want dysfunction toe handle the request for slash contact that is local

00:05:32.780 --> 00:05:35.160
host colon 3000 slash contacts,

00:05:35.160 --> 00:05:37.140
which this is going to do anyways.

00:05:37.140 --> 00:05:44.750
Let's go back to the browser and then try to access local host 3000 slash contacts and

00:05:44.750 --> 00:05:45.090
pressed.

00:05:45.090 --> 00:05:48.220
Enter and you can see I got the list off all contacts.

00:05:48.220 --> 00:05:53.860
And if I click on the response over here on the response content type is nothing but

00:05:53.860 --> 00:05:54.620
applications.

00:05:54.620 --> 00:05:55.400
Last Jason,

00:05:55.400 --> 00:05:58.540
which we saw in the previous lecture notice.

00:05:58.540 --> 00:06:00.560
When we make a request from the browser,

00:06:00.560 --> 00:06:03.450
the browser always sense a get request,

00:06:03.450 --> 00:06:06.190
not post are put for that.

00:06:06.190 --> 00:06:10.320
You may want to make it a tool called Postman are at once dressed client.

00:06:10.320 --> 00:06:12.670
There are other tools also available,

00:06:12.670 --> 00:06:14.160
but for now,

00:06:14.160 --> 00:06:15.680
let's everyone toe right.

00:06:15.680 --> 00:06:22.380
One more handler for a request that can give me a specific contact detail based on the i D

00:06:22.380 --> 00:06:22.380
.

00:06:22.380 --> 00:06:27.880
So if I type your contacts slash for example two and press enter,

00:06:27.880 --> 00:06:31.820
you can see I get an exception over here in the form of Jason.

00:06:31.820 --> 00:06:34.780
It's a state a scoreless for not for messages,

00:06:34.780 --> 00:06:36.690
it is cannot get slash context.

00:06:36.690 --> 00:06:38.130
That's to enter,

00:06:38.130 --> 00:06:38.960
not fund,

00:06:38.960 --> 00:06:40.010
obviously,

00:06:40.010 --> 00:06:43.060
because we have a handler for slash contacts,

00:06:43.060 --> 00:06:44.550
not for slash.

00:06:44.550 --> 00:06:47.940
Contact slash to to handle such a request.

00:06:47.940 --> 00:06:52.900
Let's go back to a V a score on write a function called get one,

00:06:52.900 --> 00:06:55.370
which takes idea as a perimeter.

00:06:55.370 --> 00:06:58.700
You may type your if you want as a data type off number,

00:06:58.700 --> 00:07:03.750
and then I want to take this I d such incidental collection.

00:07:03.750 --> 00:07:04.840
If it is found,

00:07:04.840 --> 00:07:05.650
I want to return.

00:07:05.650 --> 00:07:07.280
If I don't find one,

00:07:07.280 --> 00:07:10.520
I may want toe throw an exception to do so,

00:07:10.520 --> 00:07:16.350
we can make use of the are a function called find Let's toe the same a multi pure Let C

00:07:16.350 --> 00:07:19.450
equals toe this start contact start find,

00:07:19.450 --> 00:07:24.960
which takes a callback function on the contract is going to receive one single contact from

00:07:24.960 --> 00:07:31.560
this particular array after time internally the fine users and loop and gives me one object

00:07:31.560 --> 00:07:33.160
and its corresponding index.

00:07:33.160 --> 00:07:35.030
I'm interested only in the object.

00:07:35.030 --> 00:07:35.690
I'm gonna stay here,

00:07:35.690 --> 00:07:38.810
see one and then I have to return true or false,

00:07:38.810 --> 00:07:44.020
based on whether this is object that I'm looking for on I'll have to do is to type c one

00:07:44.020 --> 00:07:49.970
dot idee assuming see when is one contract object is equals toe The idea supplied as a

00:07:49.970 --> 00:07:54.880
perimeter nor that I'm using a triple equals which means not only the value off see

00:07:54.880 --> 00:07:56.710
wondered I really should match with the idea.

00:07:56.710 --> 00:07:58.450
It's data tape also should match.

00:07:58.450 --> 00:08:00.320
We may run into a problem with this,

00:08:00.320 --> 00:08:03.650
we will discuss that and make a temporary fix for the same.

00:08:03.650 --> 00:08:06.870
Now what happens is that I get the first contract object,

00:08:06.870 --> 00:08:12.200
which happens to be this one on the idea off that is being checked with this one.

00:08:12.200 --> 00:08:14.280
And imagine if I send the ideas too.

00:08:14.280 --> 00:08:20.280
So this is going to be fun because it's returning false C one is not the object that I'm

00:08:20.280 --> 00:08:23.190
looking for because of which fine will get into.

00:08:23.190 --> 00:08:27.540
The next iteration gives me the second object and the chicken object is this one.

00:08:27.540 --> 00:08:33.870
And that idea is equals toe the Islay that I've supplied over here because I'm sending here

00:08:33.870 --> 00:08:39.750
slash to and because it is a match C one will be the return really off the fine function

00:08:39.750 --> 00:08:41.100
which comes to the sea.

00:08:41.100 --> 00:08:41.970
However,

00:08:41.970 --> 00:08:43.540
if that is also not a match,

00:08:43.540 --> 00:08:49.390
then it will continue This situation for all the objects on when it is not so on a fine

00:08:49.390 --> 00:08:50.180
will simply return.

00:08:50.180 --> 00:08:53.110
An undefined I'm see is an undefined.

00:08:53.110 --> 00:08:55.240
What I can do now is I can check,

00:08:55.240 --> 00:08:59.140
if not see that mean if C is undefined,

00:08:59.140 --> 00:09:01.680
I can throw an exception right now.

00:09:01.680 --> 00:09:04.240
I want to throw an exception called not phoned exception,

00:09:04.240 --> 00:09:05.650
which is coming from nest.

00:09:05.650 --> 00:09:06.320
However,

00:09:06.320 --> 00:09:11.920
we will have a detailed discussion about how to handle exceptions are how to create our own

00:09:11.920 --> 00:09:15.990
exceptions and so on for the timing I'm going to say throw new,

00:09:15.990 --> 00:09:19.050
not phone exception Press enter.

00:09:19.050 --> 00:09:20.570
It is imported from this chase.

00:09:20.570 --> 00:09:25.980
Common Put a cynical and but if it is found on C is not undefined.

00:09:25.980 --> 00:09:27.650
I'm gonna simply say return,

00:09:27.650 --> 00:09:28.260
see,

00:09:28.260 --> 00:09:29.990
And because sees an object,

00:09:29.990 --> 00:09:32.860
a response off Jason will be sent back to the client.

00:09:32.860 --> 00:09:38.440
The only thing that I have to do now usedto annotate dysfunction with the decorator called

00:09:38.440 --> 00:09:39.500
100 get.

00:09:39.500 --> 00:09:42.230
But we already have a get 100 for this.

00:09:42.230 --> 00:09:45.970
But this is going to receive the request for slash contacts.

00:09:45.970 --> 00:09:47.410
But I want this to handle,

00:09:47.410 --> 00:09:48.360
slash contact,

00:09:48.360 --> 00:09:50.610
slash something and to say that Richard,

00:09:50.610 --> 00:09:54.570
with your contacts slash something that are the decorated I get,

00:09:54.570 --> 00:09:56.120
unlike the previous one.

00:09:56.120 --> 00:10:00.470
This time I'm going to use a string here that represents the second part.

00:10:00.470 --> 00:10:05.340
But this part right now is to But it could be 34 r 25.

00:10:05.340 --> 00:10:06.340
It doesn't matter.

00:10:06.340 --> 00:10:07.510
It has to be a variable.

00:10:07.510 --> 00:10:08.480
So to say,

00:10:08.480 --> 00:10:11.400
that it's a variable we're gonna say slash And then,

00:10:11.400 --> 00:10:12.120
Colon,

00:10:12.120 --> 00:10:13.200
we're gonna type something.

00:10:13.200 --> 00:10:15.770
We can take anything we want like I d are.

00:10:15.770 --> 00:10:16.740
If it's confusing,

00:10:16.740 --> 00:10:19.080
we can type your contact i d.

00:10:19.080 --> 00:10:22.860
But we have to tell nest that whatever this particular part is,

00:10:22.860 --> 00:10:23.050
there,

00:10:23.050 --> 00:10:24.430
which is a varying part,

00:10:24.430 --> 00:10:26.750
should be assigned to tow this one.

00:10:26.750 --> 00:10:28.310
And to do so,

00:10:28.310 --> 00:10:30.030
we'll have to type your act great.

00:10:30.030 --> 00:10:30.530
Param,

00:10:30.530 --> 00:10:33.740
which is again another decorated from next year's common,

00:10:33.740 --> 00:10:39.980
and then say that there is a part perimeter are a You are a segment called Contact I D.

00:10:39.980 --> 00:10:41.950
That we have a cento.

00:10:41.950 --> 00:10:42.570
This idea.

00:10:42.570 --> 00:10:47.590
With this done now we can go back to our browser and then try accessing this.

00:10:47.590 --> 00:10:49.930
If I say slash contacts,

00:10:49.930 --> 00:10:51.320
I should get all of them.

00:10:51.320 --> 00:10:52.300
I am getting that.

00:10:52.300 --> 00:10:54.690
But if I type your slash two,

00:10:54.690 --> 00:10:57.430
I'm expecting this particular car.

00:10:57.430 --> 00:11:00.320
But you can see the women run into a problem.

00:11:00.320 --> 00:11:04.250
It says that status scored for not for message,

00:11:04.250 --> 00:11:05.060
not phone.

00:11:05.060 --> 00:11:08.370
This is coming because we ran in tow.

00:11:08.370 --> 00:11:09.360
This situation,

00:11:09.360 --> 00:11:10.040
see,

00:11:10.040 --> 00:11:11.000
is undefined.

00:11:11.000 --> 00:11:11.830
Now,

00:11:11.830 --> 00:11:17.140
the reason for this happens to be the data type off this value that I'm sending here

00:11:17.140 --> 00:11:19.500
because we're using an http protocol.

00:11:19.500 --> 00:11:24.940
Everything comes in the text on value Here is string on,

00:11:24.940 --> 00:11:30.000
then string equals toe number because you can see that all the ideas that are given out

00:11:30.000 --> 00:11:32.000
numeric this didn't work.

00:11:32.000 --> 00:11:36.370
We will handle this with the help off pipes in the future lectures.

00:11:36.370 --> 00:11:38.770
But for now I have a simple solution.

00:11:38.770 --> 00:11:43.670
Let's not worry about the triple equals that simply give the double equals which checks the

00:11:43.670 --> 00:11:46.360
value off this irrespective of the letter type.

00:11:46.360 --> 00:11:53.790
So we're checking a numeric toe equals toe string toe which is OK in Jolla script with this

00:11:53.790 --> 00:11:55.390
Now let's go back to the browser.

00:11:55.390 --> 00:12:01.330
Send this request once again our click on the refresh button you can t now I got ideas to

00:12:01.330 --> 00:12:07.420
name a sham email is Chamakh example that come our genuinely If I don't have a value,

00:12:07.420 --> 00:12:13.530
this will result in tow for not for because we're throwing an exception Now one more thing

00:12:13.530 --> 00:12:18.850
is we're returning the actual object but for best practice sick just like how we did a

00:12:18.850 --> 00:12:20.940
shallow copy off this area.

00:12:20.940 --> 00:12:27.530
We can also create a shallow copy off days by using the spread operator on how to use a new

00:12:27.530 --> 00:12:29.940
objects of curly bracket means new object.

00:12:29.940 --> 00:12:31.990
But I want to spread the properties off.

00:12:31.990 --> 00:12:35.650
See which I can do by just typing tripled out over here.

00:12:35.650 --> 00:12:38.120
Although in this particular example,

00:12:38.120 --> 00:12:39.410
it's really another concern.

00:12:39.410 --> 00:12:45.940
It's always a good practice to do so Now that we have written handles for get in the next

00:12:45.940 --> 00:12:46.500
lecture,

00:12:46.500 --> 00:12:53.580
let's read a handler for Post http method wherein user may send one contact object on an

00:12:53.580 --> 00:12:54.850
array of contact objects,

00:12:54.850 --> 00:12:58.320
and I wanted to be added toe my collection off contracts,

00:12:58.320 --> 00:12:59.450
which is a member variable.

