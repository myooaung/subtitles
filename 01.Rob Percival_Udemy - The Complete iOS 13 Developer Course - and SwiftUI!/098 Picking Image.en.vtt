WEBVTT
1
00:00:00.310 --> 00:00:01.000
Hi.

2
00:00:01.140 --> 00:00:02.460
We didn't his lecture.

3
00:00:02.460 --> 00:00:07.440
Where are going to learn how to get images from the user's photo library.

4
00:00:07.950 --> 00:00:12.180
So far you're done with the user interface.

5
00:00:12.180 --> 00:00:18.730
Now we have to find out that way in order to get those images out of a user's library.

6
00:00:18.810 --> 00:00:28.290
Why we have to store an image and the name and an artist and a year into the car data so that we can

7
00:00:28.290 --> 00:00:35.430
learn how to Sir information into car data and how to retrieve information from car data as well.

8
00:00:35.940 --> 00:00:43.050
First we need to store information and in order to do that we need an image because we can easily write

9
00:00:43.110 --> 00:00:46.860
these texts inside of text feels right now.

10
00:00:46.860 --> 00:00:53.380
But we need to learn about this photo library thing in order to have an image to save on the car data.

11
00:00:53.430 --> 00:01:01.490
Once we learn how to write into database then we can practice reading data from the database as well

12
00:01:01.970 --> 00:01:02.280
right.

13
00:01:02.310 --> 00:01:09.510
So the next step would be to learn how to reach the photo library on how to get images out of that one.

14
00:01:10.170 --> 00:01:16.830
And this is what you're going to use in most of the apps that you're going to build from now on.

15
00:01:17.220 --> 00:01:20.040
So we're going to practice this a lot.

16
00:01:20.040 --> 00:01:28.290
Was he learned this decodes detainees will be different from previous information that we have learned.

17
00:01:28.560 --> 00:01:36.720
But you get to practice it much more so first of all we are going to need and gesture recognize awry

18
00:01:36.990 --> 00:01:45.590
because the user will have to click on this image to save and Imogene side of the UI Image view.

19
00:01:45.660 --> 00:01:50.250
Of course we can do that with a button but it won't be very practical.

20
00:01:50.310 --> 00:01:58.710
So I'm going to use an image like this and I'm going to include this link in my repository and I'm going

21
00:01:58.710 --> 00:02:04.770
to include this link in the resources of this lecture so that you can download it and use it if you

22
00:02:04.770 --> 00:02:11.220
want but also I'm going to show you how to create one without any design program.

23
00:02:11.220 --> 00:02:19.410
So I'm going to use a design program called Catch but if you have anything like Photoshop paint it doesn't

24
00:02:19.410 --> 00:02:23.910
matter you can just create a simple image from here.

25
00:02:23.910 --> 00:02:30.840
Later on we're going to have a design section and I'm going to show you the details of this but right

26
00:02:30.870 --> 00:02:37.980
now I'm just going to add a new Rectangle in here and write some text onto it.

27
00:02:37.980 --> 00:02:44.850
So for right now I'm just going to dismiss this borders and I'm going to change the color to something

28
00:02:45.240 --> 00:02:45.850
blue.

29
00:02:45.880 --> 00:02:46.780
Okay.

30
00:02:46.860 --> 00:02:55.960
And I believe that scoots inside of that image I'm going to have a text which say select image.

31
00:02:55.980 --> 00:02:58.700
So this is far too big for me.

32
00:02:58.740 --> 00:03:06.270
I'm going to decrease this formed a little bit like this and then I'm going to say select image.

33
00:03:06.810 --> 00:03:07.720
OK.

34
00:03:07.740 --> 00:03:13.380
And again if you don't have any design program at this moment it doesn't matter you can just download

35
00:03:13.380 --> 00:03:19.890
one from my github repository and work with it.

36
00:03:19.890 --> 00:03:21.670
So let me make this white.

37
00:03:22.050 --> 00:03:24.750
And that's great.

38
00:03:24.750 --> 00:03:27.300
So I believe that will do the job.

39
00:03:27.480 --> 00:03:28.060
OK.

40
00:03:28.080 --> 00:03:36.870
So I'm going to group this and sketch is a design program that is mainly used to design this kind of

41
00:03:36.870 --> 00:03:40.950
applications like IRS applications or Android applications.

42
00:03:40.950 --> 00:03:46.950
So let me go to this ruler sign and see the UI Image view width and height.

43
00:03:46.950 --> 00:03:51.730
So it's two hundred sixty four to three hundredths OK.

44
00:03:51.900 --> 00:03:58.730
So I can't go back here and make it exactly like two hundred sixty four and three hundreds.

45
00:03:58.740 --> 00:04:01.260
So that would match.

46
00:04:01.260 --> 00:04:08.820
And if you have something different in your own UI image you can always change the size with and height

47
00:04:08.820 --> 00:04:11.200
according to these numbers again.

48
00:04:12.290 --> 00:04:18.510
So I'm going to name this image select and I'm going to export this and I'm going to place it on my

49
00:04:18.510 --> 00:04:19.920
desktop.

50
00:04:19.920 --> 00:04:22.400
So I don't need this sketch file anymore.

51
00:04:22.410 --> 00:04:23.990
I'm going to delete it.

52
00:04:24.060 --> 00:04:33.780
I just need this PMG or JPEG file anyway so it's on my desktop and I'm going to bring it on my projects

53
00:04:33.900 --> 00:04:41.490
and I will say okay then I can go to my UI Image view properties.

54
00:04:41.580 --> 00:04:45.900
OK and then select the image that I have just imported.

55
00:04:46.320 --> 00:04:47.710
So here you go.

56
00:04:47.790 --> 00:04:54.000
As I said before if you don't want to do this on your own you can just use mine and download it from

57
00:04:54.000 --> 00:04:57.730
the Internet or you can just use any image that you want.

58
00:04:57.780 --> 00:05:04.060
You can do this with a button if you like you're just going to see that I'm just going to create a gesture

59
00:05:04.060 --> 00:05:07.160
recognize her and then assign a function to it.

60
00:05:07.210 --> 00:05:11.150
If you do that with a button that's OK too.

61
00:05:11.320 --> 00:05:17.150
So let's create a new gesture organizer and assign it to my image of you.

62
00:05:17.320 --> 00:05:24.040
First of all I have to make my Image view user interaction enabled so that people can click on tap on

63
00:05:24.040 --> 00:05:28.190
it and I'm going to call this image tap.

64
00:05:28.250 --> 00:05:29.000
Recognize.

65
00:05:29.150 --> 00:05:32.960
K Because we have already used gesture recognize or name.

66
00:05:33.430 --> 00:05:36.840
So this is going to be a UI tap gesture you cook.

67
00:05:36.940 --> 00:05:43.360
So if you open parentheses it will ask you for a target and itself and the action will be actually a

68
00:05:43.360 --> 00:05:45.250
selector.

69
00:05:45.340 --> 00:05:51.040
So I'm doing this a little bit fast because we have done this so many times.

70
00:05:51.040 --> 00:05:57.940
I'm going to come over here and create a new function and let's say objective c func.

71
00:05:58.090 --> 00:06:02.360
You can say a select image or you can say anything you want.

72
00:06:02.510 --> 00:06:02.880
OK.

73
00:06:03.520 --> 00:06:07.920
And then in here I have to say select image.

74
00:06:07.930 --> 00:06:15.100
And of course after this I have to add this to my Image view as a gesture recognize or so Image view

75
00:06:15.430 --> 00:06:19.350
add gesture recognize the image tab recognize her.

76
00:06:20.080 --> 00:06:21.010
So that's OK.

77
00:06:21.010 --> 00:06:26.710
Whenever I tap on the Image view it will do whatever I write on the Select image.

78
00:06:26.710 --> 00:06:32.320
So this will be recognized as we are going to write a lot of code in the we did load.

79
00:06:32.380 --> 00:06:40.830
So I believe it's better to use comments like this in order to understand why we are later on and under

80
00:06:40.840 --> 00:06:42.880
select image what we gonna do.

81
00:06:42.880 --> 00:06:48.510
We're going to use a class called UI picker image picker image.

82
00:06:48.520 --> 00:06:49.430
Okay.

83
00:06:49.660 --> 00:06:56.130
And that's kind of a view controller that lets us reach the user's photo library.

84
00:06:56.260 --> 00:07:03.310
So you have to define this as a variable however you're going to called as a UI image picker controller

85
00:07:03.820 --> 00:07:10.580
as you can see this is a view controller actually and it manages the interface for taking pictures recalling

86
00:07:10.690 --> 00:07:11.620
movies.

87
00:07:11.620 --> 00:07:19.150
So if you want to get some images or movies out of the photo library the library of the user you need

88
00:07:19.150 --> 00:07:22.310
to use these UI image picker controller.

89
00:07:22.590 --> 00:07:23.550
OK.

90
00:07:23.830 --> 00:07:29.200
And there actually some kind of setup that you need to use this.

91
00:07:29.260 --> 00:07:34.170
First of all you need to set this as a delegate to your view controller.

92
00:07:34.180 --> 00:07:40.320
So you have to say picker that delegate is self but this will give you an error.

93
00:07:40.390 --> 00:07:48.040
So this is kind of the same thing that we do in the table we use OK in order to do that you have to

94
00:07:48.040 --> 00:07:56.470
come over here and you have to say that this is actually a UI image picker controller delegate OK UI

95
00:07:56.800 --> 00:07:58.960
image picker controller delegate.

96
00:07:59.140 --> 00:08:01.550
And that's not enough by itself.

97
00:08:01.600 --> 00:08:08.530
You can also you have to also say this is also a UI navigation controller delegate.

98
00:08:08.770 --> 00:08:16.710
So this lets us go back and forth between the newly presented e picture controller and back.

99
00:08:17.560 --> 00:08:25.300
So that's what we are going to do in order to use this picture controller on our app and then later

100
00:08:25.420 --> 00:08:29.810
on we're going to do the setup for the picture.

101
00:08:29.890 --> 00:08:39.280
For example since we have delegated it later on we can use the functions related to the speaker delegate

102
00:08:39.340 --> 00:08:49.340
as well and we're going to set up what is going to be done after we select the picture itself and once

103
00:08:49.340 --> 00:08:52.150
I write that you will understand it much better.

104
00:08:52.150 --> 00:08:59.700
So far we're just writing some different codes than before and you may have trouble understanding again.

105
00:08:59.720 --> 00:09:00.950
Don't worry.

106
00:09:00.950 --> 00:09:08.000
For example I'm going to assign a source type to picker and if you hit that you will see this as either

107
00:09:08.000 --> 00:09:11.940
a camera or a photo library or photos album itself.

108
00:09:12.320 --> 00:09:19.200
So I'm going to go for a photo library because we cannot simulate the camera in a good way.

109
00:09:19.310 --> 00:09:27.110
If we use simulator after Dad you can use your own phone iPhone in order to test the camera as VO But

110
00:09:27.110 --> 00:09:30.890
it's no different than getting the image out of photo library.

111
00:09:30.890 --> 00:09:37.560
So I'm going to go for a photo library and then for example you can just say picker that allows editing.

112
00:09:37.730 --> 00:09:41.250
It means that if the user chooses an image they create.

113
00:09:41.270 --> 00:09:43.150
They get to edit it OK.

114
00:09:43.160 --> 00:09:44.080
They get to zoom it.

115
00:09:44.090 --> 00:09:48.460
They get the copied and it's not mandatory to do that.

116
00:09:48.500 --> 00:09:55.670
You can just set it to false as well but I'm just showing you as a general information and then I'm

117
00:09:55.670 --> 00:10:00.570
going to say present this picture as we did in the alert messages right.

118
00:10:01.100 --> 00:10:08.510
So this will present this picture and it will be animated and in the completion I don't want anything

119
00:10:08.810 --> 00:10:09.800
to be done.

120
00:10:10.400 --> 00:10:11.140
And that's it.

121
00:10:11.180 --> 00:10:18.800
That's how we actually reach the photo library of the user so that we can go over here and choose any

122
00:10:18.800 --> 00:10:21.510
picture that we want.

123
00:10:21.860 --> 00:10:28.550
And that's not enough because we have to say what will happen after we chose this image as well.

124
00:10:29.360 --> 00:10:36.890
And that's why we have these navigation delegates pick delegate we can actually call these functions

125
00:10:36.890 --> 00:10:38.150
right now.

126
00:10:38.180 --> 00:10:41.840
We have to call that function called did finish Pekingese.

127
00:10:42.020 --> 00:10:42.920
OK.

128
00:10:42.980 --> 00:10:46.940
So if you're I did finish and this one of them.

129
00:10:46.940 --> 00:10:48.960
So let me say you did finish speaking.

130
00:10:49.220 --> 00:10:49.490
Yeah.

131
00:10:49.490 --> 00:10:55.850
This one if you double click on this function you will see that it will display something called did

132
00:10:55.850 --> 00:10:57.690
finish picking media.

133
00:10:58.260 --> 00:10:58.500
Yeah.

134
00:10:58.520 --> 00:11:03.500
That's what we're looking for did finish peaking media with info.

135
00:11:03.560 --> 00:11:12.100
So what does disk function give us so let me just close this down so that we can have a better look.

136
00:11:12.470 --> 00:11:19.850
As you can see this is going to get called when we finish the peaking media and this will give us a

137
00:11:19.850 --> 00:11:29.750
dictionary in which we will have a you eye image peak picker controller info and in return we will get

138
00:11:29.750 --> 00:11:32.540
an object with a type.

139
00:11:33.380 --> 00:11:39.940
So this will be our image the any type bill we will be our image we are going to cast this as a UI image.

140
00:11:39.950 --> 00:11:40.840
OK.

141
00:11:40.940 --> 00:11:48.500
And the info will be the information that we going to get from the image picker controller like an original

142
00:11:48.500 --> 00:11:50.780
image or an edited image.

143
00:11:50.780 --> 00:11:58.690
So let me show you what I want is to assign these chosen the image as in my image view image.

144
00:11:58.850 --> 00:12:04.250
So later on I'm going to say info and this will be a dictionary.

145
00:12:04.460 --> 00:12:10.210
If I open this parentheses I get to choose my key.

146
00:12:10.370 --> 00:12:14.870
So if I give a key it will give me a value and the value will be any type.

147
00:12:14.870 --> 00:12:20.390
So I'm going to cast this as an UI image later on.

148
00:12:20.390 --> 00:12:27.080
But in order to do that I have to give a key and the key that I will be providing can be seen by hitting

149
00:12:27.090 --> 00:12:28.570
dot in here.

150
00:12:28.580 --> 00:12:33.710
So if you hit that you will see some of the options like edited image.

151
00:12:33.710 --> 00:12:41.780
So we allowed the editing and if actually user edits this image we can get the edited one by choosing

152
00:12:41.810 --> 00:12:47.780
this for example we if we're dealing with a life photo we can get it from here.

153
00:12:47.960 --> 00:12:51.240
And the default one is actually the original image.

154
00:12:51.260 --> 00:12:57.890
So even if we allow editing if we choose this original image even if the user edits this then we get

155
00:12:57.890 --> 00:13:03.320
the original image anyway so it doesn't make sense to use both of these options.

156
00:13:03.320 --> 00:13:06.010
But I'm going to use this as an example.

157
00:13:06.020 --> 00:13:14.030
So if you want to use editor image done you can go for that and then I'm going to cast this as a UI

158
00:13:14.030 --> 00:13:18.050
image because it's not a UI image.

159
00:13:18.070 --> 00:13:24.510
Now it's any type OK as you can see it gives me a warning it gives me an error.

160
00:13:24.530 --> 00:13:32.180
Now I'm going to cast is optional lead to UI image because there is something that can go wrong in this

161
00:13:32.180 --> 00:13:33.050
process.

162
00:13:33.050 --> 00:13:36.590
For example maybe the user won't select an image.

163
00:13:36.590 --> 00:13:38.820
Maybe he will just cancel this.

164
00:13:38.840 --> 00:13:45.620
So I don't do this OK I'm not going to force cast as I'm just going to optionally cast this as a UI

165
00:13:45.710 --> 00:13:48.400
image and that's it.

166
00:13:48.430 --> 00:13:53.030
That's what's going to get me the picture and show it on my image of you.

167
00:13:53.860 --> 00:14:01.730
And then later on I have to dismiss this picture controller to go back to my original weave controller

168
00:14:01.750 --> 00:14:05.100
so you can just say self doubt disappears.

169
00:14:05.110 --> 00:14:13.820
It will dismiss the speaker controller and you again say true for animated and completion is nil.

170
00:14:14.080 --> 00:14:22.490
So that's all I wanted to show you because I believe we're now ready to go ahead and test this.

171
00:14:22.810 --> 00:14:30.580
So far but we have done is to create a select image function in which we display the UI image picture

172
00:14:30.580 --> 00:14:38.330
controller and under the did finish picking media with info we have specified what will happen when

173
00:14:38.350 --> 00:14:39.540
we choose it.

174
00:14:39.550 --> 00:14:48.520
So if you click on this right now it will pop up the photo library of the user like this and you can

175
00:14:48.520 --> 00:14:51.040
come over here and choose anything you want.

176
00:14:51.040 --> 00:14:53.130
Like this flowers over here.

177
00:14:53.250 --> 00:14:53.670
OK.

178
00:14:53.680 --> 00:14:58.270
And you can edit this you can zoom in and crop if you want.

179
00:14:58.270 --> 00:15:02.000
I'm not going to do that right now because that's cool.

180
00:15:02.260 --> 00:15:06.730
So I'm going to go for these flowers I'm built say choose and here you go.

181
00:15:07.450 --> 00:15:08.590
That's perfect.

182
00:15:08.590 --> 00:15:11.620
That's what I have been looking for.

183
00:15:11.620 --> 00:15:14.580
So I had my image right now.

184
00:15:14.710 --> 00:15:23.350
I can just write name artist and year and I can just try to save this or my card data database.

185
00:15:23.350 --> 00:15:28.600
But I just want to show you one last thing before we proceed to that.

186
00:15:28.660 --> 00:15:36.130
So it's not mandatory on the new versions like I guess twelve thirteen and we are working on Iowa starting

187
00:15:36.130 --> 00:15:37.010
right now.

188
00:15:37.120 --> 00:15:44.020
But I believe you should know that before we had to give a reason to reach the library photo library

189
00:15:44.020 --> 00:15:52.780
of the user and we need this kind of explanation then there is a privacy concern for the user.

190
00:15:52.780 --> 00:15:57.760
Like reaching the location of the user or reaching the photo library of the user.

191
00:15:57.760 --> 00:15:58.780
OK.

192
00:15:58.810 --> 00:16:06.310
And if you open those files if you go to info that page list which is we have never worked before.

193
00:16:06.310 --> 00:16:11.020
So this is kind of where you do the General Staff General settings of your app.

194
00:16:11.020 --> 00:16:17.800
For example we can add whatever option that we want here by clicking on this plus button it will pop

195
00:16:17.800 --> 00:16:19.720
up a list for you.

196
00:16:19.720 --> 00:16:26.170
And in this list you're going to see a lot of information that a lot of options and we are looking for

197
00:16:26.170 --> 00:16:27.470
prey we see.

198
00:16:27.470 --> 00:16:28.220
OK.

199
00:16:28.270 --> 00:16:34.570
If you scroll down a little bit you will see the privacy for example in here we have privacy explanation

200
00:16:34.570 --> 00:16:36.490
for locations.

201
00:16:36.550 --> 00:16:40.540
For example we're going to see this in the following section about right now.

202
00:16:40.570 --> 00:16:46.450
Suppose that you want to use the location of the user if you click on those you can give a specific

203
00:16:46.450 --> 00:16:50.210
reason to reach the location of the user.

204
00:16:50.290 --> 00:16:57.610
So that X code can display a message to the user saying that this app wants to reach your location.

205
00:16:57.670 --> 00:17:05.620
For example if you choose this photo library usage description then you can write some explanation here

206
00:17:05.620 --> 00:17:08.380
like yeah I want to access your photos.

207
00:17:08.420 --> 00:17:14.470
Okay to upload them to my core data or upload to the server.

208
00:17:14.530 --> 00:17:19.310
I don't know how you have to come up with a good reason to write here.

209
00:17:19.420 --> 00:17:26.980
And again this is not mandatory at this point but maybe the people would I guess nine or 10 will use

210
00:17:26.980 --> 00:17:29.740
your app then this will be mandatory.

211
00:17:29.740 --> 00:17:32.820
So I believe you should know how to do this.

212
00:17:32.830 --> 00:17:38.280
So after choosing the privacy you can say to access photos and I.

213
00:17:38.380 --> 00:17:44.650
I don't believe it's going to be displayed right now when I click this but if it was an older version

214
00:17:44.920 --> 00:17:52.200
then when I click this it would show up in here as a message and people would have to approve this.

215
00:17:52.240 --> 00:17:59.800
So I believe you can try to add this on your own and and then you create a message here to persuade

216
00:17:59.800 --> 00:18:03.040
users to give you permission.

217
00:18:03.310 --> 00:18:04.450
So far so good.

218
00:18:04.450 --> 00:18:06.420
Now we have chosen our media.

219
00:18:06.430 --> 00:18:07.990
We have our image.

220
00:18:08.110 --> 00:18:12.970
Then we can learn how to save all of this information into a database.

221
00:18:12.970 --> 00:18:15.820
That's what we're going to learn in the next lecture.
