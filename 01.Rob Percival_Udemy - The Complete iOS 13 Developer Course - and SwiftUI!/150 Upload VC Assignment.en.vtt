WEBVTT
1
00:00:00.620 --> 00:00:01.420
Hi.

2
00:00:01.440 --> 00:00:08.370
We didn't this lecture we going to create our upload we have controller because we're already done with

3
00:00:08.370 --> 00:00:10.380
the authentication met right.

4
00:00:10.590 --> 00:00:13.020
We're dealing with the authentication module.

5
00:00:13.020 --> 00:00:16.100
We can create users we can sign them in.

6
00:00:16.140 --> 00:00:22.440
We can log them out and we can't even remember if the user is signing or not.

7
00:00:22.440 --> 00:00:28.290
Now next thing will be to create the upload we've controller because why.

8
00:00:28.290 --> 00:00:36.900
Because we need to upload something to the server first so that we would have the data to retrieve from

9
00:00:36.900 --> 00:00:43.000
the database and showed the data to the users in the feed view controller.

10
00:00:43.050 --> 00:00:46.460
But right now we don't have anything.

11
00:00:46.720 --> 00:00:53.200
And of course in order to do that we need an user interface even the upload view controller.

12
00:00:53.350 --> 00:01:00.790
I remember the first introduction lecture in the section where I showed you that what we gonna build

13
00:01:01.150 --> 00:01:02.220
in this section.

14
00:01:02.320 --> 00:01:04.880
So you have seen the prototype app.

15
00:01:04.920 --> 00:01:06.520
That's where you're going to build.

16
00:01:06.550 --> 00:01:14.530
And remember we are uploading an image we're uploading a note or a comment of the user below the image

17
00:01:14.920 --> 00:01:16.180
and that's all.

18
00:01:16.330 --> 00:01:23.980
In fact in the background we're we're going to upload the data we're going to upload the user name and

19
00:01:23.980 --> 00:01:27.260
we're going to upload the like count as well.

20
00:01:27.280 --> 00:01:32.290
But for right now we in the user interface we only need a name to you.

21
00:01:32.380 --> 00:01:34.370
And the text field and the bottom.

22
00:01:35.440 --> 00:01:43.960
So your assignment now is to pause the video and come up with a way to create create an image view and

23
00:01:43.960 --> 00:01:45.400
then user taps on it.

24
00:01:45.430 --> 00:01:51.820
You will reach the photo library of the user and get the image and display it in the Image view and

25
00:01:51.820 --> 00:01:56.740
you can add the text field and you can add the save by the law upload button as well.

26
00:01:56.860 --> 00:02:03.290
Of course you don't have to write the upload function right now because you don't know how to do it.

27
00:02:03.290 --> 00:02:06.010
We're going to do it later on together.

28
00:02:06.010 --> 00:02:12.970
But you know how to create an image of you if you tap on it you can take the user to the photo library

29
00:02:12.970 --> 00:02:15.710
and take the image back to the Image view.

30
00:02:15.790 --> 00:02:18.880
So let's suppose the video and try to do that

31
00:02:21.770 --> 00:02:24.330
I hope you managed to do it by yourself.

32
00:02:24.410 --> 00:02:24.950
If not.

33
00:02:24.950 --> 00:02:31.590
Don't worry I'm going to show you remind you how to do that because we have already done that before.

34
00:02:31.730 --> 00:02:35.420
So I'm going to open my library and search for Image view.

35
00:02:35.680 --> 00:02:36.830
OK.

36
00:02:36.920 --> 00:02:38.390
And we're going to tag.

37
00:02:38.390 --> 00:02:40.760
Take the image we've put it in here.

38
00:02:41.030 --> 00:02:42.740
So this is the main thing right.

39
00:02:42.740 --> 00:02:45.110
We're writing an Instagram clone.

40
00:02:45.110 --> 00:02:49.250
So we have to post an image first.

41
00:02:49.370 --> 00:02:55.910
And after that of course if you want to add something you can add like a comment or maybe a note maybe

42
00:02:55.910 --> 00:02:57.560
something else.

43
00:02:57.560 --> 00:03:00.710
I'm just going to add a comment after this Image view.

44
00:03:01.790 --> 00:03:03.680
So this will be the Image view.

45
00:03:03.760 --> 00:03:04.370
OK.

46
00:03:04.520 --> 00:03:12.740
And below this image view I'm going to have a tax field so search for tax fields after you drag and

47
00:03:12.740 --> 00:03:13.880
drop the tax fields.

48
00:03:13.880 --> 00:03:16.210
Let's make this a little bigger.

49
00:03:16.250 --> 00:03:19.490
OK so that's good I believe.

50
00:03:19.490 --> 00:03:27.200
Let me put this in the center of this view controller and let let's write comment for a place holder

51
00:03:27.470 --> 00:03:30.180
and make it centrally aligned as well.

52
00:03:30.380 --> 00:03:34.010
And the love thing that we need is a button actually.

53
00:03:34.340 --> 00:03:41.350
So let me bring in a button and make this a little bit bigger and we can name this button.

54
00:03:41.360 --> 00:03:43.080
Save or upload.

55
00:03:43.130 --> 00:03:43.420
Right.

56
00:03:43.430 --> 00:03:46.190
Because we're uploading something to the server.

57
00:03:46.190 --> 00:03:51.500
So I'm going to call this upload and that looks fine to me.

58
00:03:51.500 --> 00:03:58.520
Now we have to find an image to show inside of this image view and I'm going to do this tap to select

59
00:03:58.640 --> 00:04:00.780
image that we have done before.

60
00:04:00.800 --> 00:04:02.880
Remember I've done with catch.

61
00:04:02.900 --> 00:04:10.340
But if you don't want to do it you can always go to my github and grab the image that you can use in

62
00:04:10.340 --> 00:04:12.750
your own project as well.

63
00:04:12.830 --> 00:04:19.670
If you have any sketch or Photoshop or anything at all any design software you can easily do this kind

64
00:04:19.670 --> 00:04:25.340
of thing later on in the course we are going to have a design section as well so that we will learn

65
00:04:25.340 --> 00:04:32.810
how to create these basic images so that we can use in our apps very practically.

66
00:04:32.810 --> 00:04:40.370
So I'm going to create a rectangle in here and I'm just going to change the color of this Something

67
00:04:40.370 --> 00:04:43.420
Blue should be okay.

68
00:04:43.490 --> 00:04:48.460
And after that I'm going to write tap to select here.

69
00:04:48.470 --> 00:04:49.720
OK.

70
00:04:49.790 --> 00:05:00.080
And of course this is my two big I'm going to go for something like 60 or 70 and we have a fancy font

71
00:05:00.080 --> 00:05:00.460
here.

72
00:05:00.470 --> 00:05:08.350
Let me change this to something much basic like that and I'm going to say tap to select.

73
00:05:08.570 --> 00:05:08.930
OK.

74
00:05:08.930 --> 00:05:13.680
So user will know where to tap to select an image.

75
00:05:13.700 --> 00:05:16.520
So let me make this 72.

76
00:05:16.550 --> 00:05:16.860
Yep.

77
00:05:16.910 --> 00:05:17.960
That's good.

78
00:05:17.960 --> 00:05:19.700
That's all I have to do.

79
00:05:20.600 --> 00:05:23.720
So let me look at the dimensions from here.

80
00:05:23.720 --> 00:05:27.380
So we have 300 to 200.

81
00:05:27.380 --> 00:05:29.630
Let me go to this ruler.

82
00:05:29.760 --> 00:05:35.730
This size inspector so I can see the size of my actually Image view.

83
00:05:35.900 --> 00:05:36.310
OK.

84
00:05:36.320 --> 00:05:39.750
So it's two hundred eighty five hundred seventy five.

85
00:05:39.860 --> 00:05:48.320
So I can adjust this to be a little bit more square than it used to be so that I can select as an expert.

86
00:05:48.320 --> 00:05:55.590
So let me make this into a group and then call it selects and then export this.

87
00:05:55.640 --> 00:06:01.070
And again if you don't have any design software or if you don't want to deal with this you can just

88
00:06:01.070 --> 00:06:06.020
download this from my github make out and you can use it.

89
00:06:06.200 --> 00:06:13.520
And I believe if you have watch the art book section you already have an tap to select image so that

90
00:06:13.520 --> 00:06:16.220
you can use that image as well.

91
00:06:16.220 --> 00:06:23.390
So after putting this into my assets I'm going to go ahead to storyboard to choose the image that I

92
00:06:23.390 --> 00:06:24.940
have created.

93
00:06:24.980 --> 00:06:25.790
And here you go.

94
00:06:25.790 --> 00:06:32.180
We have a good looking upload view controller right now and I believe we have to make this a little

95
00:06:32.180 --> 00:06:36.400
bit smaller than what it is right now.

96
00:06:36.470 --> 00:06:39.280
And let me put this a little bit higher.

97
00:06:39.380 --> 00:06:41.120
I believe this is down.

98
00:06:41.180 --> 00:06:48.750
OK so let me give this suggests its constraints and of course I'm going to get you fixed within height

99
00:06:48.770 --> 00:06:55.100
to prevent any further issues in here after I do this.

100
00:06:55.130 --> 00:06:58.080
I believe we're getting some errors in the constraints.

101
00:06:58.100 --> 00:06:58.670
Yep.

102
00:06:58.820 --> 00:07:00.000
Red lines.

103
00:07:00.050 --> 00:07:08.420
So in order to fix this let me come over here and say update constraint constants and this will be OK.

104
00:07:08.420 --> 00:07:14.230
Of course you can't do this without giving fixed height and weight constraints to the image view but

105
00:07:14.240 --> 00:07:18.620
I'm not going to focus on user interface too much in here.

106
00:07:18.620 --> 00:07:25.230
All I want is to create an upload of trawlers so that we can learn how to work with five year base.

107
00:07:25.230 --> 00:07:25.990
Right.

108
00:07:26.040 --> 00:07:31.970
So let's delete all of this comments section and let's bring in the image view first.

109
00:07:32.250 --> 00:07:36.540
I'm gonna call this image view and the comment text.

110
00:07:36.570 --> 00:07:39.710
So let's bring in the comment text here.

111
00:07:39.870 --> 00:07:42.210
Comments text.

112
00:07:42.810 --> 00:07:47.520
And then finally let's bring in the upload as an action.

113
00:07:47.550 --> 00:07:47.870
OK.

114
00:07:47.900 --> 00:07:51.920
So this will be action button clicked.

115
00:07:52.110 --> 00:07:55.770
Why did I even called his action by then I don't know.

116
00:07:55.770 --> 00:08:02.540
Let me define this as an outlet as well though it's not an action within set upload button.

117
00:08:02.670 --> 00:08:10.020
But I'm not going to choose action as an I'm going to rather choose outlet because if you want to do

118
00:08:10.020 --> 00:08:18.930
something like don't enable this button until the user chooses an image view or something you want this

119
00:08:18.930 --> 00:08:21.750
upload button defined as an outlet.

120
00:08:22.110 --> 00:08:23.540
OK.

121
00:08:23.610 --> 00:08:31.440
And once you do it you can go to this we've did load because you have to make sure that your image view

122
00:08:31.440 --> 00:08:32.580
is terrible.

123
00:08:32.610 --> 00:08:36.720
I'm going to do this very fast because we have done this before.

124
00:08:36.750 --> 00:08:37.440
OK.

125
00:08:37.560 --> 00:08:43.390
I'm going to create the gesture cognizant and assign it to my image view.

126
00:08:43.410 --> 00:08:44.610
So how do we do that.

127
00:08:44.760 --> 00:08:51.650
I'm going to go ahead and say image view that image view is user interaction enabled sorry too.

128
00:08:51.660 --> 00:08:57.460
So it enables us to interact with the image view like tapping on it.

129
00:08:57.460 --> 00:09:04.290
So later on I'm going to create a UI tap gesture you guys are you know how to do that right.

130
00:09:04.320 --> 00:09:10.620
Target will be self selector will be selector of course you have to create your selector function like

131
00:09:10.620 --> 00:09:11.490
this.

132
00:09:11.490 --> 00:09:19.280
I'm going to call this choose image under this function we going to write the UI picture of you control

133
00:09:19.270 --> 00:09:20.450
the coach.

134
00:09:20.490 --> 00:09:26.870
But first we have to say image you you've got to adjust you recognize or gesture recognize.

135
00:09:27.150 --> 00:09:32.700
So in here in my choose image function what should I write.

136
00:09:32.700 --> 00:09:38.540
Maybe you remember that we're working that something called the IP curvy controller right.

137
00:09:38.550 --> 00:09:41.540
We got to work with the same thing as before.

138
00:09:41.570 --> 00:09:43.740
I'm going to create the picture controller.

139
00:09:44.070 --> 00:09:48.130
So this is going to be a you I image picture controller.

140
00:09:48.210 --> 00:09:49.280
OK.

141
00:09:49.320 --> 00:09:55.650
And the speaker controller will have a delegate of the current field controller so I'm going to assign

142
00:09:55.650 --> 00:09:56.900
it to be s.

143
00:09:56.910 --> 00:10:04.870
Once I do that it gives me an error because I have to make sure I come up here and make my upload wi

144
00:10:04.910 --> 00:10:09.240
controller at Delegate of the picture controller.

145
00:10:09.240 --> 00:10:16.410
So this is UI image picker controller delegates and a UI navigation controller delegates.

146
00:10:16.410 --> 00:10:20.750
Once I do that the error will go away so I can proceed.

147
00:10:21.300 --> 00:10:27.990
And we have to assign a v app to specify this first type of the speaker control.

148
00:10:27.990 --> 00:10:32.850
So the source type of the speaker controller will be photo library.

149
00:10:32.850 --> 00:10:38.280
Of course you can go for camera as well but it's not going to work on the simulator so I'm going to

150
00:10:38.280 --> 00:10:46.290
go for a photo library and you can't specify if you're going to allow editing or something else but

151
00:10:46.710 --> 00:10:48.060
I'm not going to do that.

152
00:10:48.060 --> 00:10:50.010
You know how to do that already.

153
00:10:50.280 --> 00:10:52.500
So I'm just going to present this.

154
00:10:52.500 --> 00:10:53.340
OK.

155
00:10:53.400 --> 00:10:58.980
I'm of course going to use animation and for completion I'm going to say no.

156
00:10:59.000 --> 00:11:07.500
Ok so next we want to specify what will happen once a user goes to the photo library and chooses an

157
00:11:07.620 --> 00:11:08.690
image.

158
00:11:08.820 --> 00:11:10.230
Remember how we do that.

159
00:11:10.230 --> 00:11:17.350
There is a function in order to specify this and it's called did finish peaking media.

160
00:11:17.700 --> 00:11:18.360
OK.

161
00:11:18.540 --> 00:11:23.580
So right did finish speaking media and it will show up like this.

162
00:11:23.580 --> 00:11:30.270
And under this function we going to get and dictionary beginning to get a dictionary which is a UI image

163
00:11:30.270 --> 00:11:34.910
picker controller info key to any dictionary.

164
00:11:34.980 --> 00:11:43.620
So I'm going to say image with that image is going to be an info and in here for the info key I'm going

165
00:11:43.620 --> 00:11:47.390
to say dot and you will get the options here.

166
00:11:47.430 --> 00:11:52.420
I'm gonna go for original image and in return this will give me an.

167
00:11:52.650 --> 00:12:00.610
Any object and I'm going to optionally cast this as a UI image and then I'm going to say soft dog.

168
00:12:00.610 --> 00:12:03.180
This is the animated Yep.

169
00:12:03.180 --> 00:12:03.980
Why not.

170
00:12:03.990 --> 00:12:06.670
And the completion will be nil.

171
00:12:07.860 --> 00:12:11.310
So actually we're done here right now.

172
00:12:11.310 --> 00:12:17.940
But before we test this maybe we want to go to it for that P list in order to give and photo library

173
00:12:17.940 --> 00:12:20.340
usage description like we did before.

174
00:12:20.340 --> 00:12:21.920
So mind the privacy.

175
00:12:22.430 --> 00:12:22.910
OK.

176
00:12:22.910 --> 00:12:25.470
Photo Library usage description.

177
00:12:25.580 --> 00:12:26.690
And in here right.

178
00:12:26.700 --> 00:12:31.000
I think splinter reason something like to choose a photo.

179
00:12:31.040 --> 00:12:31.840
OK.

180
00:12:32.180 --> 00:12:33.740
And of course in the real life.

181
00:12:33.740 --> 00:12:40.910
Maybe you meant you want to be more specific here and could go to the upload view controller then we

182
00:12:40.910 --> 00:12:41.460
are done.

183
00:12:41.510 --> 00:12:50.120
So let's run this and if it's working done only thing left to do here is to learn how to write data

184
00:12:50.360 --> 00:12:58.460
to storage and to data in the firebase so that we can save all of this information in our cloud server.

185
00:12:59.360 --> 00:13:00.530
So here we go.

186
00:13:00.530 --> 00:13:03.130
I believe now the simulator is OK.

187
00:13:03.140 --> 00:13:04.660
So let's see.

188
00:13:04.850 --> 00:13:09.580
We are going to go to upload we have controller and this is looking nice.

189
00:13:09.680 --> 00:13:17.990
So if I tap here to select any picture from my gallery it will show me the photo library of the e current

190
00:13:17.990 --> 00:13:20.610
user of current phone.

191
00:13:20.690 --> 00:13:27.410
These are the old photos that we used in art book but it's going to do the job as you can see if I choose

192
00:13:27.410 --> 00:13:30.890
one of them then it displays it here.

193
00:13:30.890 --> 00:13:36.080
Now I can't write any comment that I want and I can hit the upload button of course.

194
00:13:36.080 --> 00:13:39.990
It's not gonna work because we don't have that function right now.

195
00:13:40.190 --> 00:13:49.040
So we now want to learn how to upload this image to the storage and under this action button clicked.

196
00:13:49.040 --> 00:13:53.270
And then we're going to learn how to write into the database as well.

197
00:13:53.700 --> 00:13:56.840
Let's do all of those in the next lecture.
