WEBVTT
X-TIMESTAMP-MAP=LOCAL:00:00:00.000,MPEGTS:0

00:00:00.000 --> 00:00:02.110
in order to work with high been a template.

00:00:02.110 --> 00:00:05.550
We have to first are required Job Friends Store project.

00:00:05.550 --> 00:00:11.250
So we opened the Bondevik salmon and copy one off these spring.

00:00:11.250 --> 00:00:17.340
Dependence is and paste it on changes to spring or autumn.

00:00:17.340 --> 00:00:18.310
Save the file,

00:00:18.310 --> 00:00:20.140
and now you'll see that May,

00:00:20.140 --> 00:00:20.890
when dependence is,

00:00:20.890 --> 00:00:25.680
have been updated with spring water and also with spring water in our bill.

00:00:25.680 --> 00:00:30.850
But if you press command shift hatch or controls have touched on windows and look for

00:00:30.850 --> 00:00:32.150
hibernating template,

00:00:32.150 --> 00:00:36.980
you see that there is a class called hibernate template coming from our spring framework or

00:00:36.980 --> 00:00:38.510
armed are hibernate fight.

00:00:38.510 --> 00:00:42.960
This means that the current portion of having a template that we're using worked with.

00:00:42.960 --> 00:00:43.970
I've been it five,

00:00:43.970 --> 00:00:46.450
and that is what we actually have used also.

00:00:46.450 --> 00:00:50.540
So if I opened this in the type hierarchy,

00:00:50.540 --> 00:00:54.050
you will see that the hibernate template has many functionalities.

00:00:54.050 --> 00:00:59.760
One of the chicken straightaway see here is that hybrid template takes session factory as

00:00:59.760 --> 00:01:04.110
an object or as a dependency that must be a succession factory.

00:01:04.110 --> 00:01:05.150
Somewhere at the dome,

00:01:05.150 --> 00:01:06.920
you can see it's here.

00:01:06.920 --> 00:01:07.850
Basically,

00:01:07.850 --> 00:01:13.080
a hybrid template depends on session factory without supplying a session factory.

00:01:13.080 --> 00:01:14.040
Even if you create,

00:01:14.040 --> 00:01:15.410
I've been a template object.

00:01:15.410 --> 00:01:19.240
You will not be able to use that in spring Fighter two onwards.

00:01:19.240 --> 00:01:23.250
A lot of changes and a lot of functions have been duplicated over here.

00:01:23.250 --> 00:01:25.960
That might be a bit off challenge for us.

00:01:25.960 --> 00:01:27.750
We will see how toe or come the same.

00:01:27.750 --> 00:01:29.090
But first,

00:01:29.090 --> 00:01:33.520
let's create an object off hybrid template which depends on session factory.

00:01:33.520 --> 00:01:36.330
We know that Decision factory is an interface,

00:01:36.330 --> 00:01:38.770
so spring provides a mechanism toe.

00:01:38.770 --> 00:01:41.940
Create an instance off session factory on This is done.

00:01:41.940 --> 00:01:45.500
Why are the class called local session factory bean?

00:01:45.500 --> 00:01:46.030
So again,

00:01:46.030 --> 00:01:52.180
if I press command shift hedge and they local session factory be you see that there is a

00:01:52.180 --> 00:01:58.850
class which worked with hibernate Fight on this one can produce a session factory object.

00:01:58.850 --> 00:01:59.790
In fact,

00:01:59.790 --> 00:02:04.050
this one has a function called get object which returned decision Factory.

00:02:04.050 --> 00:02:09.370
So once you configure this in your app conflict spring will automatically collect this

00:02:09.370 --> 00:02:14.700
being object wherever session factories require the dependency spring will inject the

00:02:14.700 --> 00:02:17.830
return value off this get object function To understand the same,

00:02:17.830 --> 00:02:18.810
let's go door up,

00:02:18.810 --> 00:02:23.660
conflict four and create a local station factory being somewhere at the bottom.

00:02:23.660 --> 00:02:26.640
Let's write a function public local session,

00:02:26.640 --> 00:02:29.980
factory being that's college station factory.

00:02:29.980 --> 00:02:35.630
This session factory can be injected with a data source because somewhere we have to

00:02:35.630 --> 00:02:38.950
specify the DB information to the session factory.

00:02:38.950 --> 00:02:41.190
We can simply say here data source,

00:02:41.190 --> 00:02:45.430
which becomes a dependency so spring will automatically injector data source,

00:02:45.430 --> 00:02:48.050
which we have right here in tow.

00:02:48.050 --> 00:02:50.150
This variable called data source.

00:02:50.150 --> 00:02:57.050
We have to create an object off this type that's created variable.

00:02:57.050 --> 00:03:03.910
Let's call it us unless FB it goes toe New local session factory being on return The same

00:03:03.910 --> 00:03:04.730
object.

00:03:04.730 --> 00:03:09.870
Let's make some space over here and configure this local session factory being with the

00:03:09.870 --> 00:03:11.150
hibernate configuration.

00:03:11.150 --> 00:03:17.430
So the first thing I can say is a less FB dot set data source to the one that we got.

00:03:17.430 --> 00:03:21.460
We got the dependency injection over here and we're doing a manual wiring.

00:03:21.460 --> 00:03:21.990
Next,

00:03:21.990 --> 00:03:22.910
we can say less.

00:03:22.910 --> 00:03:25.620
If we got set annotated classes,

00:03:25.620 --> 00:03:28.990
you can see it takes a lot out off annotated classes.

00:03:28.990 --> 00:03:30.710
Right now I have three off them.

00:03:30.710 --> 00:03:36.590
Let me full screen by pressing control and the 1st 1 let's say category dark class product

00:03:36.590 --> 00:03:42.150
that close as the less supplier from the entity package.

00:03:42.150 --> 00:03:44.470
So we have added three of them.

00:03:44.470 --> 00:03:46.290
Just in case you have multiple,

00:03:46.290 --> 00:03:51.230
you can go on adding more and more annotated classes over here.

00:03:51.230 --> 00:03:56.770
We also have to set additional I've been it properties such as the dialect on optional Show

00:03:56.770 --> 00:03:58.060
your skill for my rescue.

00:03:58.060 --> 00:03:59.310
For this,

00:03:59.310 --> 00:04:00.850
let's take properties,

00:04:00.850 --> 00:04:03.520
drops equals toe new properties.

00:04:03.520 --> 00:04:08.050
And then I say crops start set property.

00:04:08.050 --> 00:04:12.450
Now the key here would be hibernated dot dialect.

00:04:12.450 --> 00:04:21.700
The value is off the Hibernian dot dialect dot hits to dialect because if you're changing

00:04:21.700 --> 00:04:22.470
your DB,

00:04:22.470 --> 00:04:24.310
make sure toe change this dialect.

00:04:24.310 --> 00:04:33.230
Also prop start set property hibernated dot show underscore SQL The value off True will

00:04:33.230 --> 00:04:40.390
display the still comment Rob starts said property ever need dart format on the school s

00:04:40.390 --> 00:04:40.890
kill.

00:04:40.890 --> 00:04:43.340
That said this true for the time being,

00:04:43.340 --> 00:04:50.060
Now we can say let's have a dot set hibernate properties and then supply this props as an

00:04:50.060 --> 00:04:50.740
argument.

00:04:50.740 --> 00:04:55.050
We now have a fully configured local station factory being object.

00:04:55.050 --> 00:04:58.430
All I have to do is to I don't do this as a B.

00:04:58.430 --> 00:05:04.250
So that spring during the container creation will collect this value and keeps it in the

00:05:04.250 --> 00:05:08.250
memory on Whenever you need a session factory as a dependency,

00:05:08.250 --> 00:05:11.810
spring will call the get object function off.

00:05:11.810 --> 00:05:15.150
This being on injects that to your dependency.

00:05:15.150 --> 00:05:18.850
So let's go and use this in a hybrid template.

00:05:18.850 --> 00:05:22.570
Let's create a public hibernate template.

00:05:22.570 --> 00:05:24.830
Let's call it US hibernate template,

00:05:24.830 --> 00:05:29.210
which has a dependency on session factory.

00:05:29.210 --> 00:05:32.560
Let's go to Death Session Factory.

00:05:32.560 --> 00:05:41.520
All I have to do is tow return new hibernate template and supply this session factory as an

00:05:41.520 --> 00:05:42.260
argument.

00:05:42.260 --> 00:05:44.610
Make sure the important decision factory by person,

00:05:44.610 --> 00:05:51.070
command ship O or control shift ball and one last thing at B so that spring collects the

00:05:51.070 --> 00:05:52.570
hybrid template object,

00:05:52.570 --> 00:05:53.920
and whenever you want,

00:05:53.920 --> 00:05:55.780
it can give it to you Now.

00:05:55.780 --> 00:05:56.460
Typically,

00:05:56.460 --> 00:06:02.200
this hibernate template will be injected tau our deal implementation just to check if our

00:06:02.200 --> 00:06:05.040
hybrid template can give the data from the DB,

00:06:05.040 --> 00:06:08.470
let's go create a new program under the Programs package.

00:06:08.470 --> 00:06:09.530
New Class.

00:06:09.530 --> 00:06:10.810
Let's call it US P.

00:06:10.810 --> 00:06:18.390
05 Testing hibernate Doublet That's at the public static wine Main functions.

00:06:18.390 --> 00:06:19.830
Get it off the studio.

00:06:19.830 --> 00:06:20.250
First,

00:06:20.250 --> 00:06:25.380
let's create a sprinkled dinner by creating a valuable off annotation conflict application

00:06:25.380 --> 00:06:31.620
context that college a city X and city X equals toe New annotation Conflict application

00:06:31.620 --> 00:06:33.470
context We are the supply.

00:06:33.470 --> 00:06:40.520
An app config Let's apply the up conflict four dot class Let the hitched equals toe city

00:06:40.520 --> 00:06:41.050
extort.

00:06:41.050 --> 00:06:42.240
Get being on,

00:06:42.240 --> 00:06:49.340
then say you're we want being off hibernate template type Since there is only one being off

00:06:49.340 --> 00:06:50.320
hibernate template,

00:06:50.320 --> 00:06:53.750
there is no conflict and it simply gives me an object off Lebanon template.

00:06:53.750 --> 00:06:56.160
Somewhere we have to close the city X.

00:06:56.160 --> 00:06:57.890
Let's close it in at once.

00:06:57.890 --> 00:06:59.210
Using this hedge T,

00:06:59.210 --> 00:07:03.050
we can now call the hibernate template functions like get,

00:07:03.050 --> 00:07:03.940
for example,

00:07:03.940 --> 00:07:08.930
to get an object off an entity class based on a given.

00:07:08.930 --> 00:07:09.540
Heidi.

00:07:09.540 --> 00:07:11.590
Let's give one as the i D.

00:07:11.590 --> 00:07:13.950
Which is supposed to give me a category object.

00:07:13.950 --> 00:07:17.090
Let's press command one of control one toe out a gender,

00:07:17.090 --> 00:07:20.040
this variable and then we say your sis out,

00:07:20.040 --> 00:07:20.920
See one.

00:07:20.920 --> 00:07:22.610
If everything is OK,

00:07:22.610 --> 00:07:27.950
we should be able to get the category one D days that's under than chicken out.

00:07:27.950 --> 00:07:34.640
And now you can see we are able to see the generated SQL Command because we said show us

00:07:34.640 --> 00:07:38.780
your true it has been nicely for murder because off format underscore,

00:07:38.780 --> 00:07:44.250
SQL finally were able to see the category one whose details are retrieved from the database

00:07:44.250 --> 00:07:44.250
.

