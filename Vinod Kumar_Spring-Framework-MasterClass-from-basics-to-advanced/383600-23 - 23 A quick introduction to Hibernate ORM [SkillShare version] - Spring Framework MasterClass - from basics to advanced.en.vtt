WEBVTT
X-TIMESTAMP-MAP=LOCAL:00:00:00.000,MPEGTS:0

00:00:00.000 --> 00:00:03.650
Let's take a very simple example to understand the working off,

00:00:03.650 --> 00:00:04.310
hyping it.

00:00:04.310 --> 00:00:05.190
To start with.

00:00:05.190 --> 00:00:06.580
We have our hibernate,

00:00:06.580 --> 00:00:07.750
just all project,

00:00:07.750 --> 00:00:11.690
So let's go to our ponder XML scrawled on toe.

00:00:11.690 --> 00:00:14.340
The list off dependencies we have is the last one.

00:00:14.340 --> 00:00:18.050
Let's go to envy and deposited dot com and search for five minutes,

00:00:18.050 --> 00:00:22.080
and the very 1st 1 that I see here is the hibernate core.

00:00:22.080 --> 00:00:27.880
I'm going to select that in that the latest stable washing that I want to select is the

00:00:27.880 --> 00:00:28.940
fighter Ford up.

00:00:28.940 --> 00:00:29.350
10.

00:00:29.350 --> 00:00:31.250
Click this to copy.

00:00:31.250 --> 00:00:39.400
Come back to my formed Alex Salmon based it former did and save it as soon as I say that 11

00:00:39.400 --> 00:00:44.650
jobs are downloaded from the Net or from my local deposited toe my project so you can see

00:00:44.650 --> 00:00:50.200
that the male independence is now have the hibernate related job files with these job

00:00:50.200 --> 00:00:50.500
friends.

00:00:50.500 --> 00:00:54.850
We also have access to the job up assistance AP a annotations,

00:00:54.850 --> 00:00:58.740
which we're gonna apply toe our category and product for No,

00:00:58.740 --> 00:01:04.750
let's go and select the category Dodge Allah and make this as an entity class by typing at

00:01:04.750 --> 00:01:06.420
Entity Command shift.

00:01:06.420 --> 00:01:12.520
Bow our control shift on windows toe import notice that there are two into the annotations

00:01:12.520 --> 00:01:12.520
.

00:01:12.520 --> 00:01:14.060
One comes from hibernate,

00:01:14.060 --> 00:01:16.870
which is depreciated so we don't want to use that.

00:01:16.870 --> 00:01:19.630
The other one is the GPS annotation.

00:01:19.630 --> 00:01:23.970
We want to use that in case if your class name is different than the table name.

00:01:23.970 --> 00:01:24.870
In our case,

00:01:24.870 --> 00:01:27.710
it is true we have to use another.

00:01:27.710 --> 00:01:32.950
An addition called at the rate table again imported from GP,

00:01:32.950 --> 00:01:36.090
we will say ni Nichols toe categories,

00:01:36.090 --> 00:01:38.850
which is the actual name off the table.

00:01:38.850 --> 00:01:44.220
Every indirect loss must have at least one other field map to tow the primary key.

00:01:44.220 --> 00:01:45.150
In our case,

00:01:45.150 --> 00:01:49.440
the field category idea is supposed to be mapped to the primary key category.

00:01:49.440 --> 00:01:49.830
Underscore.

00:01:49.830 --> 00:01:50.370
Ready?

00:01:50.370 --> 00:01:51.890
So it's a really.

00:01:51.890 --> 00:01:56.850
And then to say that the column name is different than the field named will use that column

00:01:56.850 --> 00:01:59.370
mean equals toe category.

00:01:59.370 --> 00:02:00.380
Underscore i d.

00:02:00.380 --> 00:02:01.460
The same thing.

00:02:01.460 --> 00:02:03.950
We also have to do it for category Name.

00:02:03.950 --> 00:02:06.090
Description on picture,

00:02:06.090 --> 00:02:06.780
however,

00:02:06.780 --> 00:02:09.200
are same as the column name,

00:02:09.200 --> 00:02:11.250
so we don't have to do anything else.

00:02:11.250 --> 00:02:13.960
Let's say this and close this fight.

00:02:13.960 --> 00:02:16.950
Now let's get a program toe read through the list.

00:02:16.950 --> 00:02:20.740
Off categories are probably had a new category.

00:02:20.740 --> 00:02:22.910
So let's go to the program's package.

00:02:22.910 --> 00:02:24.930
Right click New class.

00:02:24.930 --> 00:02:31.560
I'm gonna name it S p 04 hibernate Example at the main function.

00:02:31.560 --> 00:02:34.180
Say finish its full screen this on.

00:02:34.180 --> 00:02:35.870
Get it off the to do Haibin.

00:02:35.870 --> 00:02:39.060
It depends on a fine car hibernate C of G XML,

00:02:39.060 --> 00:02:42.240
which contains properties off the DB information.

00:02:42.240 --> 00:02:43.090
Instead of using,

00:02:43.090 --> 00:02:44.410
I receive Jacksonville.

00:02:44.410 --> 00:02:48.550
We can supply the same properties using the properties object.

00:02:48.550 --> 00:02:50.550
So let's see their properties.

00:02:50.550 --> 00:02:53.190
Cross equals toe new properties.

00:02:53.190 --> 00:02:56.850
The properties come from Java util package.

00:02:56.850 --> 00:02:58.780
Let's add those properties.

00:02:58.780 --> 00:03:06.600
Propst are set property one of the key is hibernate dot connection dot driver On the store

00:03:06.600 --> 00:03:07.250
class,

00:03:07.250 --> 00:03:10.580
the value is are not hits to the driver.

00:03:10.580 --> 00:03:12.340
Similarly,

00:03:12.340 --> 00:03:14.550
have prop starts said property.

00:03:14.550 --> 00:03:15.380
Hi.

00:03:15.380 --> 00:03:18.370
Been it dark connection dark urine.

00:03:18.370 --> 00:03:21.890
The value happens to be the urine off your DB,

00:03:21.890 --> 00:03:27.350
which I can get from my hitch to console and then copied the value from here.

00:03:27.350 --> 00:03:30.950
Come back to eclipse and face the same thing over here.

00:03:30.950 --> 00:03:35.060
Another one is basically the user name.

00:03:35.060 --> 00:03:36.500
I can say hibernate.

00:03:36.500 --> 00:03:40.400
Your connection dot user value is safe.

00:03:40.400 --> 00:03:45.880
Prob starts set property have unaided our connection Dark password,

00:03:45.880 --> 00:03:49.050
which is a blank string in our case,

00:03:49.050 --> 00:03:56.140
apart from this one important having it property we have to supply is the dialect class,

00:03:56.140 --> 00:03:57.460
which takes care off,

00:03:57.460 --> 00:04:04.330
generating the 11 SQL commands for each of the operation that we do and that happens to be

00:04:04.330 --> 00:04:08.150
prop start set properly hibernate got dialect.

00:04:08.150 --> 00:04:11.560
And for his two it is our God,

00:04:11.560 --> 00:04:12.280
I believe,

00:04:12.280 --> 00:04:16.650
start dialect dot hits to dialect.

00:04:16.650 --> 00:04:21.250
So these are the minimum properties that we have to supply.

00:04:21.250 --> 00:04:22.680
Once you do this,

00:04:22.680 --> 00:04:28.950
you create a configuration object that's college stf g equals toe new configuration object

00:04:28.950 --> 00:04:28.950
.

00:04:28.950 --> 00:04:32.550
This represents a hibernate configuration.

00:04:32.550 --> 00:04:34.500
It is an empty object.

00:04:34.500 --> 00:04:41.140
We have to supply these properties by typing set properties and crops is the argument now

00:04:41.140 --> 00:04:44.370
we're told Happen it about the database information.

00:04:44.370 --> 00:04:47.090
We also have to say What are the indeedy classes that have been?

00:04:47.090 --> 00:04:47.920
It should manage.

00:04:47.920 --> 00:04:54.230
So it's a CFT dot add annotated class and then we say your category dark class,

00:04:54.230 --> 00:04:56.510
which is coming from our entity package.

00:04:56.510 --> 00:05:01.140
And now that our configuration is really weaken clear factory,

00:05:01.140 --> 00:05:04.950
let's call it a CFT Dark building session factory,

00:05:04.950 --> 00:05:09.510
which returns an object often interface concession factory.

00:05:09.510 --> 00:05:11.560
Let's create the same now.

00:05:11.560 --> 00:05:13.130
Once you have the factory,

00:05:13.130 --> 00:05:16.440
you can always A session equals toe factory dark,

00:05:16.440 --> 00:05:17.670
open incision.

00:05:17.670 --> 00:05:20.610
This returns a session object,

00:05:20.610 --> 00:05:23.260
which is equal and of a DB connection.

00:05:23.260 --> 00:05:29.260
Once you have the session now you can start driving either one single object or a bunch off

00:05:29.260 --> 00:05:29.670
objects.

00:05:29.670 --> 00:05:33.670
Is inquiry are you could use a transaction toe either.

00:05:33.670 --> 00:05:34.790
New category,

00:05:34.790 --> 00:05:35.360
etcetera.

00:05:35.360 --> 00:05:38.550
So let's take three different examples over here.

00:05:38.550 --> 00:05:39.360
First,

00:05:39.360 --> 00:05:41.510
I want to get a single record,

00:05:41.510 --> 00:05:42.700
so I got it.

00:05:42.700 --> 00:05:45.950
Does get that category Object is what I want.

00:05:45.950 --> 00:05:52.620
The idea is one so for which I get the category objects I can take your C one equals two.

00:05:52.620 --> 00:05:57.250
Press command one or control one press enter and you see you get the category object.

00:05:57.250 --> 00:06:02.790
Let's bring down the same and see if this is spoken at the end off your program.

00:06:02.790 --> 00:06:08.350
You always have to close the opened the sources such as session and factory.

00:06:08.350 --> 00:06:10.830
Let's say this.

00:06:10.830 --> 00:06:16.050
Execute the program to see if you get the result and we got it.

00:06:16.050 --> 00:06:19.500
Let's say we want to get the list off all category objects.

00:06:19.500 --> 00:06:24.030
Let's put some separator here between two or puts now.

00:06:24.030 --> 00:06:26.680
I say your cure way equals tow session.

00:06:26.680 --> 00:06:28.450
Don't create quality.

00:06:28.450 --> 00:06:31.230
We'll select the string,

00:06:31.230 --> 00:06:33.270
its fuel and the result type.

00:06:33.270 --> 00:06:34.780
That school is gonna be very simple,

00:06:34.780 --> 00:06:41.250
as their from technically result type is category dot class.

00:06:41.250 --> 00:06:45.410
The quality object is now going toe.

00:06:45.410 --> 00:06:49.550
Give me a list of category objects whenever we say Give me the result,

00:06:49.550 --> 00:06:51.640
which is what we do know,

00:06:51.640 --> 00:06:53.110
But I've been cured out.

00:06:53.110 --> 00:06:59.150
Get result list The return value that's assigned Mr Variable called List and cleared the

00:06:59.150 --> 00:07:01.550
same by Prison Command one or control one.

00:07:01.550 --> 00:07:04.350
Once you got the list off category,

00:07:04.350 --> 00:07:04.940
we can say,

00:07:04.940 --> 00:07:05.690
you know,

00:07:05.690 --> 00:07:09.250
for each category C in list.

00:07:09.250 --> 00:07:10.760
Let's bring it out.

00:07:10.760 --> 00:07:18.120
See itself save it around the court and you can see we got the list off all eight

00:07:18.120 --> 00:07:19.250
categories that we have.

00:07:19.250 --> 00:07:21.570
Let's say we want to add a new category.

00:07:21.570 --> 00:07:25.350
Let's create category C two equals toe new category.

00:07:25.350 --> 00:07:28.970
Let's see to Lord set category idea off.

00:07:28.970 --> 00:07:29.650
Nine.

00:07:29.650 --> 00:07:33.220
See Dudar said Category name off.

00:07:33.220 --> 00:07:42.450
That's called Gestation Aires and C two dot said description off that they're people clips

00:07:42.450 --> 00:07:42.450
.

00:07:42.450 --> 00:07:43.340
It's a drug.

00:07:43.340 --> 00:07:48.460
Now I want to save this Tito to the database first in your to do is to say,

00:07:48.460 --> 00:07:51.090
session dot begin transaction.

00:07:51.090 --> 00:07:53.200
This creates a transaction object,

00:07:53.200 --> 00:07:54.930
which you can assign toe DX,

00:07:54.930 --> 00:07:59.620
which is going to be a new readable press command one or controlled one on Windows Toe.

00:07:59.620 --> 00:08:01.270
Get this represented.

00:08:01.270 --> 00:08:03.810
DX represents the active transaction.

00:08:03.810 --> 00:08:06.830
Somewhere I have to commit what I can do that can save.

00:08:06.830 --> 00:08:11.760
Try executing session dot Persist off.

00:08:11.760 --> 00:08:12.180
See,

00:08:12.180 --> 00:08:12.590
too.

00:08:12.590 --> 00:08:14.320
If this is successfully done,

00:08:14.320 --> 00:08:16.350
let's call t extort commit.

00:08:16.350 --> 00:08:22.150
But in case often exception that's handled the exception by going to the catch block and

00:08:22.150 --> 00:08:24.130
then say dy extort rollback.

00:08:24.130 --> 00:08:29.730
And let's also give appropriate messages saying that new category added,

00:08:29.730 --> 00:08:35.050
Are I can say there waas and it up?

00:08:35.050 --> 00:08:37.900
Why I d new category.

00:08:37.900 --> 00:08:41.310
So if I run this first time,

00:08:41.310 --> 00:08:43.310
I should get this message.

00:08:43.310 --> 00:08:46.480
If I run the same thing again because this is a primary key,

00:08:46.480 --> 00:08:51.530
I would not be able to add a second time on it should go to the catch block and tell me

00:08:51.530 --> 00:08:57.650
that there was another that's also are the separator after the list being printed.

00:08:57.650 --> 00:08:59.450
Let's save it,

00:08:59.450 --> 00:09:04.970
run the core and see the result so you can see that I got new category added.

00:09:04.970 --> 00:09:08.050
I can go and verify the same thing in our DB.

00:09:08.050 --> 00:09:13.310
I check one of the various categories that I have here and you can see the 9th 1 is

00:09:13.310 --> 00:09:13.840
stationary.

00:09:13.840 --> 00:09:15.360
Is paperclips etcetera?

00:09:15.360 --> 00:09:17.890
Let's go back here and on the same thing again.

00:09:17.890 --> 00:09:18.780
And this time,

00:09:18.780 --> 00:09:21.110
because the primary key violation happens,

00:09:21.110 --> 00:09:22.550
there would be an exception.

00:09:22.550 --> 00:09:25.350
And it says that there was an error while adding new category.

00:09:25.350 --> 00:09:28.570
So these are the typical steps in world.

00:09:28.570 --> 00:09:32.690
In working with a hibernate application in the subsequent videos,

00:09:32.690 --> 00:09:36.050
let us see how spring can help simplify this happen it cord.

