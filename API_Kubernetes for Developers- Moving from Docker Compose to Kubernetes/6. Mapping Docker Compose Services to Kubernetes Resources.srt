1
00:00:01,040 --> 00:00:01,470
[Autogenerated] All right,

2
00:00:01,470 --> 00:00:03,770
So now that we've reviewed the Docker Compose

3
00:00:03,770 --> 00:00:05,930
concepts and the kubernetes concepts,

4
00:00:05,930 --> 00:00:10,740
it's time to start talking about kind of mapping between those two worlds.

5
00:00:10,740 --> 00:00:12,790
So if you're currently on Docker Compose,

6
00:00:12,790 --> 00:00:15,130
then you're gonna have your Docker Compose YAML file,

7
00:00:15,130 --> 00:00:16,440
of course.

8
00:00:16,440 --> 00:00:19,240
And if you want to go to KUBERNETES,

9
00:00:19,240 --> 00:00:22,660
then we need to convert at least part of that file into a

10
00:00:22,660 --> 00:00:25,090
deployment because that will create the pods,

11
00:00:25,090 --> 00:00:27,140
which then run the containers.

12
00:00:27,140 --> 00:00:28,850
We also need networking, though,

13
00:00:28,850 --> 00:00:33,450
so we're gonna have services and then potentially in your Docker Compose,

14
00:00:33,450 --> 00:00:36,320
you might have things like volumes, environment,

15
00:00:36,320 --> 00:00:38,590
variables and other things.

16
00:00:38,590 --> 00:00:41,430
And we could use some of our storage and config maps and

17
00:00:41,430 --> 00:00:44,440
potentially secrets to handle that.

18
00:00:44,440 --> 00:00:48,880
So one of the big changes is gonna be Instead of having this one main file,

19
00:00:48,880 --> 00:00:53,440
you're gonna be converting that generally into multiple files.

20
00:00:53,440 --> 00:00:57,770
Of course, with kubernetes, you could put all your resource is in one huge file.

21
00:00:57,770 --> 00:00:59,010
If you wanted ID,

22
00:00:59,010 --> 00:01:01,310
argue that it might be a little more difficult to find

23
00:01:01,310 --> 00:01:04,140
things as that file gets really large.

24
00:01:04,140 --> 00:01:05,740
But you could do that.

25
00:01:05,740 --> 00:01:09,750
So to go from Yamil over to Kubernetes, at a minimum,

26
00:01:09,750 --> 00:01:14,840
we need deployments and services, but we certainly may need some of the other.

27
00:01:14,840 --> 00:01:16,940
Resource is as well,

28
00:01:16,940 --> 00:01:19,250
and that means that we're gonna have to take that

29
00:01:19,250 --> 00:01:22,240
Yamil from the Docker Compose file,

30
00:01:22,240 --> 00:01:26,690
translate it to whatever Kubernetes has for deployments,

31
00:01:26,690 --> 00:01:31,440
services, the pod template and anything else that's involved.

32
00:01:31,440 --> 00:01:34,960
So let's take a look at a Docker Compose XAML file and see what the

33
00:01:34,960 --> 00:01:39,440
mapping would look like to kubernetes resources.

34
00:01:39,440 --> 00:01:42,040
So in this example, we have the standard suspects we have.

35
00:01:42,040 --> 00:01:43,920
Our version are services.

36
00:01:43,920 --> 00:01:47,000
In this case, we just have a node services and notice.

37
00:01:47,000 --> 00:01:50,200
We have a container name image, ports volumes,

38
00:01:50,200 --> 00:01:53,140
some environment variables being loaded from a file,

39
00:01:53,140 --> 00:01:55,240
and then we have our bridge network.

40
00:01:55,240 --> 00:02:00,340
Now that's enough to get us thinking about how this would map over and

41
00:02:00,340 --> 00:02:03,440
which parts of the kubernetes XAML files would be involved.

42
00:02:03,440 --> 00:02:05,840
Let's take the first part of this.

43
00:02:05,840 --> 00:02:08,060
If we were to to find the container name,

44
00:02:08,060 --> 00:02:10,790
the image and the ports, Well, that's something that,

45
00:02:10,790 --> 00:02:11,120
if you know,

46
00:02:11,120 --> 00:02:15,120
deployments it all in pod templates we could put inside of

47
00:02:15,120 --> 00:02:18,540
the deployment Yamil and then in our speck,

48
00:02:18,540 --> 00:02:21,880
we point to the pod template and this type of information

49
00:02:21,880 --> 00:02:25,240
highlighted here could be put in that Yamil.

50
00:02:25,240 --> 00:02:27,930
So that be one of the first things now?

51
00:02:27,930 --> 00:02:29,340
Volumes.

52
00:02:29,340 --> 00:02:32,030
Okay, well, in Kubernetes, there's a lot of different volumes,

53
00:02:32,030 --> 00:02:35,150
so it really depends on the type of volume you want.

54
00:02:35,150 --> 00:02:38,730
But we'll sum it up by saying that would be a storage type of

55
00:02:38,730 --> 00:02:42,940
concept when it comes to the Yamil for kubernetes.

56
00:02:42,940 --> 00:02:45,140
What about environment variables?

57
00:02:45,140 --> 00:02:45,480
Well,

58
00:02:45,480 --> 00:02:49,000
config maps can do handle that and you can store that config

59
00:02:49,000 --> 00:02:51,860
map data in kubernetes and then have it exposed it either as

60
00:02:51,860 --> 00:02:54,140
files or environment variables.

61
00:02:54,140 --> 00:02:58,260
So we could also say that storage slash config maps would

62
00:02:58,260 --> 00:03:01,640
be used for that particular scenario.

63
00:03:01,640 --> 00:03:05,060
Of course, we need networking between multiple containers.

64
00:03:05,060 --> 00:03:06,850
I'm only showing one hair,

65
00:03:06,850 --> 00:03:11,340
but let's assume that we could have many services like we showed earlier.

66
00:03:11,340 --> 00:03:15,440
And so that would be, of course, the service concept.

67
00:03:15,440 --> 00:03:20,450
And instead of having the bridge network by default, we have our cluster IP s.

68
00:03:20,450 --> 00:03:23,450
But then we could have our Notepad services,

69
00:03:23,450 --> 00:03:29,040
load balancer services or whatever it may be that your application needs.

70
00:03:29,040 --> 00:03:31,290
So that's the type of process we're gonna have to think

71
00:03:31,290 --> 00:03:35,870
through as we convert Docker Compose into kubernetes

72
00:03:35,870 --> 00:03:38,140
because there is gonna be some work.

73
00:03:38,140 --> 00:03:41,040
Now, the good news is to do this locally,

74
00:03:41,040 --> 00:03:44,180
we can actually use some features in Docker desktop,

75
00:03:44,180 --> 00:03:47,950
and I'm gonna show you that coming up in the next module Later on,

76
00:03:47,950 --> 00:03:51,350
we're gonna talk about the tool called Composed that I mentioned in the

77
00:03:51,350 --> 00:03:56,750
course agenda and it would convert What you see here on the left over to

78
00:03:56,750 --> 00:03:59,740
the appropriate resource is on the right.

79
00:03:59,740 --> 00:04:03,520
So this composed tool can really help you out with that move

80
00:04:03,520 --> 00:04:06,520
so that you don't have to know all the map ings and write all

81
00:04:06,520 --> 00:04:08,740
that Yamil and get it right.

82
00:04:08,740 --> 00:04:11,940
It'll get you started in the right direction.

83
00:04:11,940 --> 00:04:15,650
So that's a wrap on this first module to review Docker Compose,

84
00:04:15,650 --> 00:04:20,220
review kubernetes and then start to discuss how we would map

85
00:04:20,220 --> 00:04:24,840
Docker Compose sections to our different Kubernetes resources.

86
00:04:24,840 --> 00:04:29,000
So let's go ahead and wrap up with the summary and then we'll move on from there.

