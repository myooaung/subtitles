1
1

00:00:00,000  -->  00:00:04,163
[MUSIC]
2

2

00:00:04,163  -->  00:00:05,391
Hello again, and welcome.
3

3

00:00:05,391  -->  00:00:07,951
This is a long video,
we're creating ourselves a fox,
4

4

00:00:07,951  -->  00:00:10,480
we're setting up a gravestone component.
5

5

00:00:10,480  -->  00:00:14,420
We're doing it so the fox can jump,
whereas the lizard can't jump, and
6

6

00:00:14,420  -->  00:00:18,770
lots of other great things in terms of
having multiple attackers in our game.
7

7

00:00:18,770  -->  00:00:20,275
So let's jump in and get started.
8

8

00:00:20,275  -->  00:00:23,454
Let's start with a quick reminder of what
I mean when I talk about the compondent
9

9

00:00:23,454  -->  00:00:24,553
system that we're using.
10

10

00:00:24,553  -->  00:00:26,104
So if we take the lizard, for example,
11

11

00:00:26,104  -->  00:00:28,040
the lizard has a whole
bunch of components on it.
12

12

00:00:28,040  -->  00:00:30,116
Some of them I've collapsed,
so it's easier to see.
13

13

00:00:30,116  -->  00:00:34,210
We've got transform, we got an animator,
we have an attacker script, and the fact
14

14

00:00:34,210  -->  00:00:39,040
that we have an attacker component, and
the attacker component is a script, so
15

15

00:00:39,040  -->  00:00:41,870
the fact that we have
an attacker component means that
16

16

00:00:41,870  -->  00:00:46,580
this game object is now an attacker,
because of the fact that that is there.
17

17

00:00:46,580  -->  00:00:50,730
The fact that we have a lizard
script means that it is a lizard.
18

18

00:00:50,730  -->  00:00:54,064
Now what we could do is we could
put the lizard functionality, and
19

19

00:00:54,064  -->  00:00:58,368
likewise we're making a fox in this video,
we could put the fox functionality, and
20

20

00:00:58,368  -->  00:01:01,643
the jello guy functionality,
and the java guy functionality,
21

21

00:01:01,643  -->  00:01:03,358
all within our attacker script.
22

22

00:01:03,358  -->  00:01:06,530
But what that means is the attacker
script is going to get gigantic.
23

23

00:01:06,530  -->  00:01:08,510
I'll just open it up so
we have a quick look at it.
24

24

00:01:08,510  -->  00:01:11,984
It's gonna get gigantic cuz it needs
to say, if you bump into something,
25

25

00:01:11,984  -->  00:01:15,122
then attack, and these are all
the ways that you need to attack, or
26

26

00:01:15,122  -->  00:01:16,546
this is how you do the attack.
27

27

00:01:16,546  -->  00:01:18,676
This is how you move, this is speed.
28

28

00:01:18,676  -->  00:01:23,237
Also, by the way, if you happen to be
a fox, then we'd like for you to jump over
29

29

00:01:23,237  -->  00:01:28,009
it, unless, of course, that it's not
a gravestone, then don't jump over it,
30

30

00:01:28,009  -->  00:01:32,227
attack it, but if you happen to be
a lizard then attack everything.
31

31

00:01:32,227  -->  00:01:36,340
By the way, if you are a jello guy then we
want you to not bump into anything at all.
32

32

00:01:36,340  -->  00:01:39,310
So it makes this attacker
class gigantic and
33

33

00:01:39,310  -->  00:01:42,140
figuring out what's going
on becomes a real pain.
34

34

00:01:42,140  -->  00:01:45,301
Each time we add something to it,
it becomes a pain.
35

35

00:01:45,301  -->  00:01:47,688
So at the moment when we say,
you know what, we've got a lizard, cool.
36

36

00:01:47,688  -->  00:01:49,185
Hey, let's add a fox.
37

37

00:01:49,185  -->  00:01:51,790
We don't need to go and
touch the attacker script at all.
38

38

00:01:51,790  -->  00:01:52,920
It stays as it is.
39

39

00:01:52,920  -->  00:01:57,160
We just go and add a new component that
we drop onto something that is the fox
40

40

00:01:57,160  -->  00:01:58,090
component.
41

41

00:01:58,090  -->  00:02:01,521
If we wanna get there and
say, okay, our defenders, or
42

42

00:02:01,521  -->  00:02:06,193
we want some of our defenders to shoot,
like our cactus here, then we give it
43

43

00:02:06,193  -->  00:02:10,798
a projectile shooter component,
now it shoots, it's as simple as that.
44

44

00:02:10,798  -->  00:02:14,519
In this video, we're creating a fox, so
let's go through the mechanics of that,
45

45

00:02:14,519  -->  00:02:17,600
and so if you don't wanna be setting
up the sprite and the animation,
46

46

00:02:17,600  -->  00:02:20,843
all that stuff yourself, then you can
just copy your lizard and make it,
47

47

00:02:20,843  -->  00:02:24,761
say, yellow, and give it a different name
and boom, there you go, you've got a fox.
48

48

00:02:24,761  -->  00:02:27,416
But if you wanna follow along,
then let's do this together.
49

49

00:02:27,416  -->  00:02:31,510
You can race me if your heart desires, but
I'll go through this nice and swiftly.
50

50

00:02:31,510  -->  00:02:32,917
I won't be explaining too much.
51

51

00:02:32,917  -->  00:02:34,970
Just going and creating our fox.
52

52

00:02:34,970  -->  00:02:40,250
So create an empty game object, fox,
give it a body as we've done before.
53

53

00:02:40,250  -->  00:02:45,190
Create empty body, make sure the body is
reset back to 0, which it is already.
54

54

00:02:45,190  -->  00:02:48,304
On the fox I'm going to add a component,
which is an animator.
55

55

00:02:48,304  -->  00:02:49,310
Cool.
56

56

00:02:49,310  -->  00:02:53,700
On the body I'm going to add
a component which is a Sprite Renderer.
57

57

00:02:53,700  -->  00:02:56,008
If I can spell it correctly,
Sprite Renderer.
58

58

00:02:56,008  -->  00:02:59,850
Okay I need to go slice up my Sprite, so
let's find my Sprites folder Not In Use.
59

59

00:02:59,850  -->  00:03:04,346
So I'm going to choose Fox Eating,
Fox Jump, and Fox Funning,
60

60

00:03:04,346  -->  00:03:08,859
drag those into a folder that
I've created already called Fox.
61

61

00:03:08,859  -->  00:03:10,060
There is my fox folder.
62

62

00:03:10,060  -->  00:03:12,839
If you don't have a fox folder you
need to make one of those, and
63

63

00:03:12,839  -->  00:03:14,211
then I highlight all of these.
64

64

00:03:14,211  -->  00:03:18,382
I know from playing around previously that
I need to make these a little bit smaller,
65

65

00:03:18,382  -->  00:03:20,863
so I'm gonna change my
Pixels Per Unit to 133.
66

66

00:03:20,863  -->  00:03:25,850
Click on Apply, and also know that we
need to change Sprite Mode to Multiple.
67

67

00:03:25,850  -->  00:03:29,574
Now, clicking on, oop, and
then click Apply, of course, thank you.
68

68

00:03:29,574  -->  00:03:32,764
Click on Fox Eating,
click on Sprite Editor.
69

69

00:03:32,764  -->  00:03:34,886
One, two, three, four, five by four.
70

70

00:03:34,886  -->  00:03:40,581
Now, I know from my previous
calculations that I was doing offscreen
71

71

00:03:40,581  -->  00:03:45,979
that if we grid by cell size,
and chop this up at 153 by 139,
72

72

00:03:45,979  -->  00:03:51,099
then we can slice, and
it should work out nicely, as it does.
73

73

00:03:51,099  -->  00:03:51,707
Great.
74

74

00:03:51,707  -->  00:03:52,330
Click Apply.
75

75

00:03:52,330  -->  00:03:54,713
Now, leaving this window open,
I can click on Jump.
76

76

00:03:54,713  -->  00:03:57,744
Do the same thing, Slice 153, 159, Slice.
77

77

00:03:57,744  -->  00:03:58,590
That all works good.
78

78

00:03:58,590  -->  00:04:01,940
Click Apply, and
then click on Fox Running.
79

79

00:04:01,940  -->  00:04:06,353
Slice, and Slice, and then click Apply.
80

80

00:04:06,353  -->  00:04:07,616
Excellent, that looks all good.
81

81

00:04:07,616  -->  00:04:08,465
Close down that window.
82

82

00:04:08,465  -->  00:04:13,127
Now, we've got our three sets of sprite
sheets and click on the Fox Body, and
83

83

00:04:13,127  -->  00:04:16,799
just give it a sprite,
now that I've chopped up my sprites.
84

84

00:04:16,799  -->  00:04:19,252
Just type in my search box at the top,
Fox.
85

85

00:04:19,252  -->  00:04:20,257
Choose one of these.
86

86

00:04:20,257  -->  00:04:21,711
Fox Running 2, I think.
87

87

00:04:21,711  -->  00:04:22,890
It looks fine.
88

88

00:04:22,890  -->  00:04:24,878
Okay, it looks the right size as after.
89

89

00:04:24,878  -->  00:04:30,193
I'm just gonna change Fox to be right
on the rounded point, so 4 and 3,
90

90

00:04:30,193  -->  00:04:35,331
and z of 0, and we can't see it now,
because we need to go to the Body,
91

91

00:04:35,331  -->  00:04:40,506
find the Sprite Renderer, and
ordering layer, we'll make this 5.
92

92

00:04:40,506  -->  00:04:42,392
There we go, right in the cell there.
93

93

00:04:42,392  -->  00:04:45,373
Actually you know what,
instead of being on 4,
94

94

00:04:45,373  -->  00:04:48,513
I'm gonna shift this to
the right to let's say 8.
95

95

00:04:48,513  -->  00:04:50,200
Okay, we've got the first parts of it.
96

96

00:04:50,200  -->  00:04:55,075
Probably a little bit low in our
lane way there, so click on Body.
97

97

00:04:55,075  -->  00:04:57,741
Okay, just move it up a little
bit into the middle so
98

98

00:04:57,741  -->  00:05:00,853
make sure that my projectiles
definitely will hit the fox.
99

99

00:05:00,853  -->  00:05:06,376
Okay, great now I'll click on FOX,
on Animation, Create.
100

100

00:05:06,376  -->  00:05:10,420
Where are we,
Assets &gt; Animations &gt; Attackers.
101

101

00:05:10,420  -->  00:05:16,820
We'll call this Fox Run,
Fox Run as in first animation.
102

102

00:05:16,820  -->  00:05:19,120
Add Property &gt; Body &gt; Sprite Renderer.
103

103

00:05:19,120  -->  00:05:23,430
Scroll down to the body, slide over
to the right, click out on the +, and
104

104

00:05:23,430  -->  00:05:27,760
then I want to, what is this, the Run,
yes the Run, so Fox Running here.
105

105

00:05:27,760  -->  00:05:32,120
Grab all those,
drag them over in to the first.
106

106

00:05:32,120  -->  00:05:35,300
Delete the last, change the samples to 24.
107

107

00:05:35,300  -->  00:05:38,469
Bingo, bongo, you've got it,
click on Play, just a little test.
108

108

00:05:38,469  -->  00:05:39,810
That looks like a cool run.
109

109

00:05:39,810  -->  00:05:41,280
Right, what's next?
110

110

00:05:41,280  -->  00:05:46,610
Click on Fox Run, Create New Clip,
and this will be Fox Jump.
111

111

00:05:47,670  -->  00:05:52,714
Okay, Fox Jump, Add Property,
drill down into Body &gt; Sprite Renderer,
112

112

00:05:52,714  -->  00:05:55,291
scroll down the bottom, click on +.
113

113

00:05:55,291  -->  00:05:56,020
Close that out.
114

114

00:05:56,020  -->  00:05:58,370
Find the Fox Jump.
115

115

00:05:58,370  -->  00:06:00,880
Highlight all these jump sprites.
116

116

00:06:00,880  -->  00:06:04,664
Drag those over into my animation window.
117

117

00:06:04,664  -->  00:06:05,743
Delete the last frame.
118

118

00:06:05,743  -->  00:06:07,830
Change the samples to 24 again.
119

119

00:06:07,830  -->  00:06:09,350
Click on play, do a quick test.
120

120

00:06:09,350  -->  00:06:10,330
Yes, he jumps, great.
121

121

00:06:11,620  -->  00:06:14,710
Now the last one we want,
click on the Fox Jump &gt; Create New Clip.
122

122

00:06:14,710  -->  00:06:16,530
This is Fox Attack.
123

123

00:06:18,690  -->  00:06:22,960
Okay, Fox Attack is coming
from our Fox Eating.
124

124

00:06:22,960  -->  00:06:27,970
Click on Add Property &gt; Body &gt;
Sprite Renderer, scroll down the bottom.
125

125

00:06:27,970  -->  00:06:31,749
We are gonna be absolute masters of this
by the time we're doing creating all these
126

126

00:06:31,749  -->  00:06:32,251
sprites.
127

127

00:06:32,251  -->  00:06:37,909
Highlight Fox Eating,
grab all of the characters.
128

128

00:06:37,909  -->  00:06:38,937
It includes some sprites.
129

129

00:06:38,937  -->  00:06:42,920
Delete the last frame,
change the samples to 24.
130

130

00:06:42,920  -->  00:06:44,457
There we go.
131

131

00:06:44,457  -->  00:06:46,126
Okay, let's check that one out as well.
132

132

00:06:46,126  -->  00:06:48,650
[NOISE] Okay, what's next?
133

133

00:06:48,650  -->  00:06:50,360
Well, let's set up our animator.
134

134

00:06:50,360  -->  00:06:54,565
Click on the Animator, give ourselves
a little bit more room, make sure we're
135

135

00:06:54,565  -->  00:06:58,515
selected on the Fox, and Fox Run came
in first, that's good, we want it to
136

136

00:06:58,515  -->  00:07:02,757
be running along, and then we want to
branch into either Fox Jump or Fox Attack.
137

137

00:07:02,757  -->  00:07:04,982
Now we're gonna use
a sightly different thing,
138

138

00:07:04,982  -->  00:07:08,413
a slightly different parameter here,
I'm gonna set myself up a trigger.
139

139

00:07:08,413  -->  00:07:12,847
So click on the little + in the animated
window, and click on Trigger.
140

140

00:07:12,847  -->  00:07:17,227
That means we're not toggling a bool from
is true to is false, we're just saying,
141

141

00:07:17,227  -->  00:07:20,367
make this happen right now,
kind of like pushing a button.
142

142

00:07:20,367  -->  00:07:24,380
Instead of an on off switch, this is just
a tap the button and make a thing happen.
143

143

00:07:24,380  -->  00:07:27,990
So this will be JumpTrigger,
144

144

00:07:27,990  -->  00:07:33,860
is what I'll call this, and
while I'm here, I'll also create a Bool.
145

145

00:07:33,860  -->  00:07:35,570
Oops, that's a Trigger, not a Bool, Rick.
146

146

00:07:35,570  -->  00:07:41,260
Create a Bool, and
this Bool we will call is Attacking.
147

147

00:07:43,120  -->  00:07:43,910
Okay.
148

148

00:07:43,910  -->  00:07:48,727
Now write some transitions from Fox Run
to Fox Jump, and from Fox Jump back to
149

149

00:07:48,727  -->  00:07:53,559
Fox Run, and from Fox Run to Fox Attack,
and from Fox Attack back to Fox Run.
150

150

00:07:53,559  -->  00:07:54,440
Why are we doing this?
151

151

00:07:54,440  -->  00:07:57,200
Well will run is gonna be
default save run, run, run, run.
152

152

00:07:57,200  -->  00:08:01,140
And if you encounter a gravestone,
then we're just going to trigger jump.
153

153

00:08:01,140  -->  00:08:03,380
Jump will play the whole way through
because it needs to jump up and
154

154

00:08:03,380  -->  00:08:05,040
then land on the ground again.
155

155

00:08:05,040  -->  00:08:06,960
And then it returns back to run.
156

156

00:08:06,960  -->  00:08:11,970
If in that instance,
it encounters some other sort of defender,
157

157

00:08:11,970  -->  00:08:14,730
then we will go into fox attack and
do the attacking.
158

158

00:08:14,730  -->  00:08:17,650
Once we've finished attacking,
we will continue to run again.
159

159

00:08:17,650  -->  00:08:19,670
Again we don't need
a connection between jump and
160

160

00:08:19,670  -->  00:08:23,425
attack because we don't want to be
toggling from attacking to jumping.
161

161

00:08:23,425  -->  00:08:26,210
There's no reason or from jumping
to attacking there's no reason,
162

162

00:08:26,210  -->  00:08:28,786
we're going to return back to fox run.
163

163

00:08:28,786  -->  00:08:34,210
So fox run to fox jump click on the plus
and the jump trigger that is great.
164

164

00:08:34,210  -->  00:08:38,160
Remove has exit time because we don't want
to worry about whether the fox is midway
165

165

00:08:38,160  -->  00:08:42,500
through a particular run but I'll change
my transition duration down to zero.
166

166

00:08:42,500  -->  00:08:46,930
And then for returning back,
this is where we leave on has exit time.
167

167

00:08:46,930  -->  00:08:49,800
Because we want the jump
to do its entire animation.
168

168

00:08:49,800  -->  00:08:52,230
And after it's finished
its whole animation,
169

169

00:08:52,230  -->  00:08:55,110
then we just say do whatever
you need to do, return back.
170

170

00:08:55,110  -->  00:08:56,280
So we don't need a condition here.
171

171

00:08:56,280  -->  00:08:58,550
We're just leaving on has exit time and
172

172

00:08:58,550  -->  00:09:01,630
I'll make my duration
zero as I like to do.
173

173

00:09:01,630  -->  00:09:05,150
Now, from fox run to fox attack,
what do we need to do here?
174

174

00:09:05,150  -->  00:09:07,540
We need to click +, and
instead of JumpTrigger,
175

175

00:09:07,540  -->  00:09:10,090
we're using isAttacking is true.
176

176

00:09:10,090  -->  00:09:11,910
Again, Transition Duration to 0.
177

177

00:09:11,910  -->  00:09:13,620
Remove Has Exit Time.
178

178

00:09:13,620  -->  00:09:18,100
Same thing for returning from attack
back to run, remove Has Exit Time
179

179

00:09:18,100  -->  00:09:21,330
cuz the attack ends immediately
after the defender is destroyed.
180

180

00:09:21,330  -->  00:09:23,490
Transition Duration at zero, and
181

181

00:09:23,490  -->  00:09:28,680
then we click our plus to say
that it is Attacking is False.
182

182

00:09:28,680  -->  00:09:30,330
Okay, that's a lot of great work in there.
183

183

00:09:30,330  -->  00:09:32,570
We've got our animator set up.
184

184

00:09:32,570  -->  00:09:34,230
Click on play, see how this is working.
185

185

00:09:34,230  -->  00:09:36,820
I want to see that the JumpTrigger
is working when I toggle that.
186

186

00:09:36,820  -->  00:09:40,540
So if I tap, it jumps,
tap, it jumps, okay,
187

187

00:09:40,540  -->  00:09:42,270
we haven't given it any
motion across screen yet.
188

188

00:09:42,270  -->  00:09:45,460
We'll do that in a moment And
then is attacking yep num, num,
189

189

00:09:45,460  -->  00:09:48,440
num, attacking good, is attacking awesome.
190

190

00:09:48,440  -->  00:09:52,450
Okay, now if you're clicking on is
attacking, and it's not working,
191

191

00:09:52,450  -->  00:09:55,400
that's because you've
already put on a script,
192

192

00:09:55,400  -->  00:09:59,670
the attacker script, let me go and see if
the fox has got that on yet, it does not.
193

193

00:09:59,670  -->  00:10:04,820
The attacker script has on our
update to force is not attacking.
194

194

00:10:04,820  -->  00:10:07,860
So that's why if you're
clicking that it's not working
195

195

00:10:07,860  -->  00:10:10,250
then that's the reason you've
already put on the attacker script.
196

196

00:10:10,250  -->  00:10:13,990
Let's go do that now,
let's put on the attacker script, great so
197

197

00:10:13,990  -->  00:10:17,270
we now,
this guy is officially an attacker.
198

198

00:10:17,270  -->  00:10:19,700
We'll add a box collider as well,
199

199

00:10:19,700  -->  00:10:23,670
box collider 2D, click on that
just to see it's in a good spot.
200

200

00:10:23,670  -->  00:10:29,000
I'm going to change the Box Collider,
if I can click on it properly without it
201

201

00:10:29,000  -->  00:10:34,520
accidentally clicking off, Edit Collider,
just to zing it down around our fox
202

202

00:10:37,990  -->  00:10:40,320
and bring it in a little bit, and
bring it in a little bit there.
203

203

00:10:40,320  -->  00:10:41,110
Okay, good one.
204

204

00:10:41,110  -->  00:10:43,790
Now the moment we've been waiting for
205

205

00:10:43,790  -->  00:10:47,550
which is to give our differentiating
functionality to our fox so
206

206

00:10:47,550  -->  00:10:53,140
that our fox jumps over these gravestones,
I'm gonna do this as a challenge for you.
207

207

00:10:53,140  -->  00:10:55,780
So I'd like for
you to create the fox component.
208

208

00:10:55,780  -->  00:10:58,900
So first step is to
create our Fox.cs script.
209

209

00:10:58,900  -->  00:11:00,120
And then the behavior we want,
210

210

00:11:00,120  -->  00:11:04,460
this is what we want in here to
modify our previous lizard code.
211

211

00:11:04,460  -->  00:11:06,480
So you can use that for inspiration.
212

212

00:11:06,480  -->  00:11:09,040
If we encounter a gravestone, jump.
213

213

00:11:09,040  -->  00:11:12,850
If we encounter anything else
that is an attacker, sorry,
214

214

00:11:12,850  -->  00:11:15,260
that is a defender, then attack.
215

215

00:11:15,260  -->  00:11:16,130
Okay, so there it is.
216

216

00:11:16,130  -->  00:11:16,820
There's your challenge.
217

217

00:11:16,820  -->  00:11:18,401
Jump in and take that on now, if you will.
218

218

00:11:20,959  -->  00:11:21,910
Okay, welcome back.
219

219

00:11:21,910  -->  00:11:23,010
How'd you get along with that challenge?
220

220

00:11:23,010  -->  00:11:24,470
How did you find that one?
221

221

00:11:24,470  -->  00:11:27,730
If you finding the challenges too
difficult or too easy or just right.
222

222

00:11:27,730  -->  00:11:30,090
Then please do let me no
in the discussion section.
223

223

00:11:30,090  -->  00:11:34,970
I always love to get that sort of feedback
and then to improve and modify as I go.
224

224

00:11:34,970  -->  00:11:36,690
So what I'm gonna do here
is cheat a little bit.
225

225

00:11:36,690  -->  00:11:43,110
I'm gonna take my lizard script and
duplicate and call this Fox.
226

226

00:11:43,110  -->  00:11:44,680
Now, it's gonna break something in there.
227

227

00:11:44,680  -->  00:11:45,460
What's it breaking?
228

228

00:11:45,460  -->  00:11:50,190
Well, it's breaking that within
our script, it's called Lizard.
229

229

00:11:50,190  -->  00:11:54,270
So let's open up Fox and
find where public class Lizard,
230

230

00:11:54,270  -->  00:11:56,070
this needs to be changed to Fox.
231

231

00:11:56,070  -->  00:12:00,070
I'll save that and then just hop
back into Unity, clear my console,
232

232

00:12:00,070  -->  00:12:04,450
make sure that it is now happy
with what we've done just there.
233

233

00:12:04,450  -->  00:12:05,850
Yeah, it looks happy.
234

234

00:12:05,850  -->  00:12:07,540
Not unhappy at all with that, great.
235

235

00:12:07,540  -->  00:12:11,370
Find our fox and
then attach the fox script to our fox.
236

236

00:12:12,490  -->  00:12:14,560
You can just grab it and
drag it down there.
237

237

00:12:14,560  -->  00:12:16,330
Excellent.
Now it is a fox.
238

238

00:12:16,330  -->  00:12:18,180
Let's have a look at our fox script.
239

239

00:12:18,180  -->  00:12:20,250
This is currently our lizard behavior.
240

240

00:12:20,250  -->  00:12:22,140
We're saying, what are we saying here?
241

241

00:12:22,140  -->  00:12:25,050
That if we're hitting a trigger, yes,
242

242

00:12:25,050  -->  00:12:27,790
then we wanna create this
notion of a gameObject.
243

243

00:12:27,790  -->  00:12:31,420
Yes, and then if the other object
is a defender, then attack.
244

244

00:12:31,420  -->  00:12:33,020
Well, we wanna do something before that.
245

245

00:12:33,020  -->  00:12:38,280
So we want to say, if this is a gravestone
246

246

00:12:38,280  -->  00:12:42,340
then do what we need to do,
then do stuff, basically.
247

247

00:12:42,340  -->  00:12:43,680
How do we know it's a gravestone?
248

248

00:12:43,680  -->  00:12:44,780
Well, there's a few ways we can do it.
249

249

00:12:44,780  -->  00:12:47,205
We can do the whole tag approach.
250

250

00:12:47,205  -->  00:12:51,145
Tag approach is okay, but it's adding
some string references in there.
251

251

00:12:51,145  -->  00:12:55,705
What if we create a gravestone class that
we, that the same way we were saying if
252

252

00:12:55,705  -->  00:13:00,250
it's a Defender because it's got
a Defender component, then do start.
253

253

00:13:00,250  -->  00:13:02,150
What if we say that if it's a gravestone,
254

254

00:13:02,150  -->  00:13:06,130
cuz it's got a gravestone component,
then let's do something.
255

255

00:13:06,130  -->  00:13:07,930
So that means we have to create a script.
256

256

00:13:07,930  -->  00:13:12,540
Generally it's bad habit just to create
a script that's completely empty just so
257

257

00:13:12,540  -->  00:13:14,380
you can call something as a class.
258

258

00:13:14,380  -->  00:13:18,690
But if we think we want some
functionality for the gravestone itself,
259

259

00:13:18,690  -->  00:13:20,500
then this is a great way to do it.
260

260

00:13:20,500  -->  00:13:23,420
So let's go and create ourselves,
and sorry if this
261

261

00:13:23,420  -->  00:13:27,040
challenge was a little bit random or I
left out a couple of details for you just
262

262

00:13:27,040  -->  00:13:29,930
to see how you would approach this and
how you'd go about figuring it out.
263

263

00:13:29,930  -->  00:13:32,530
So the interesting if you've done it
the same way as me if you've done it
264

264

00:13:32,530  -->  00:13:34,420
a different way then no problem.
265

265

00:13:34,420  -->  00:13:36,630
I'm creating a class here,
I'll call gravestone.
266

266

00:13:38,150  -->  00:13:39,750
Gravestone, I think is one word.
267

267

00:13:39,750  -->  00:13:42,270
So I'm just doing it with a small s there.
268

268

00:13:42,270  -->  00:13:43,850
We'll open that up.
269

269

00:13:43,850  -->  00:13:44,780
What do we wanna do in here?
270

270

00:13:44,780  -->  00:13:49,460
Well, I think we'll do some sort of if
someone comes and attacks you then do some
271

271

00:13:49,460  -->  00:13:53,830
sort of wobble or some sort of animation,
so breath some life into the Gravestone.
272

272

00:13:53,830  -->  00:13:58,690
And so we don't want just one something
enters the space of the Gravestone.
273

273

00:13:58,690  -->  00:14:00,900
We want wall it is staying in the space.
274

274

00:14:00,900  -->  00:14:04,030
So, while something is still
in your trigger volume.
275

275

00:14:04,030  -->  00:14:08,787
So it would, to do that we'll
say void OnTriggerStay2D and
276

276

00:14:08,787  -->  00:14:12,350
it's going to add Collider2D collision.
277

277

00:14:12,350  -->  00:14:17,080
We'll call this otherCollider just to
be super clear with our naming here,
278

278

00:14:17,080  -->  00:14:18,220
OtherCollider.
279

279

00:14:18,220  -->  00:14:22,210
Then we'll create a variable
that is of type Attacker.
280

280

00:14:22,210  -->  00:14:25,690
We'll call it Attacker and that's
going to equal getting that component,
281

281

00:14:25,690  -->  00:14:31,540
so otherCollider dot get Component,
and type Attacker.
282

282

00:14:31,540  -->  00:14:34,470
Okay, so similar to what we were doing
in our lizard script just before.
283

283

00:14:34,470  -->  00:14:40,035
We're saying here that if
the attacker that we've just created,
284

284

00:14:40,035  -->  00:14:45,020
if(attacker), so If the thing that's
bumped into me is an attacker then we
285

285

00:14:45,020  -->  00:14:46,310
wanna do something in here.
286

286

00:14:46,310  -->  00:14:48,430
Do some sort of animation.
287

287

00:14:48,430  -->  00:14:53,660
We'll get back to this in a little bit
cuz I wanna focus on the foxes part for
288

288

00:14:53,660  -->  00:14:54,290
this video.
289

289

00:14:54,290  -->  00:14:55,990
So I'm gonna add a TODO in here.
290

290

00:14:55,990  -->  00:15:01,400
TODO add some sort of animation.
291

291

00:15:01,400  -->  00:15:02,800
Okay, and then we'll save that up.
292

292

00:15:02,800  -->  00:15:04,430
Go back over into our Gravestone.
293

293

00:15:04,430  -->  00:15:06,816
I don't know why I keep
calling it a tombstone.
294

294

00:15:06,816  -->  00:15:12,310
Add Component, Gravestone.
295

295

00:15:12,310  -->  00:15:17,480
Okay, now this is officially a Gravestone,
cuz we have a Gravestone component on it.
296

296

00:15:17,480  -->  00:15:20,680
So then, back into our Fox script.
297

297

00:15:20,680  -->  00:15:25,930
We can say in here, now, that if
the other object is our Gravestones.
298

298

00:15:25,930  -->  00:15:29,705
So if(otherObject),
we're interested in the Object itself.
299

299

00:15:29,705  -->  00:15:33,230
.GetComponent, if it has
what sort of Component?
300

300

00:15:33,230  -->  00:15:35,220
If it has a Gravestone Component.
301

301

00:15:36,290  -->  00:15:37,430
Then what do we want to do?
302

302

00:15:37,430  -->  00:15:42,400
Well, we want to change
the fox's animator, or
303

303

00:15:42,400  -->  00:15:44,330
animation, you have the animator too.
304

304

00:15:44,330  -->  00:15:46,430
We're going to click on the fox again.
305

305

00:15:46,430  -->  00:15:47,050
Too.
306

306

00:15:47,050  -->  00:15:48,270
What's the trigger here?
307

307

00:15:48,270  -->  00:15:49,910
Is jump trigger.
308

308

00:15:51,200  -->  00:15:55,360
Okay, and the way we do that
is say GetComponent&lt;Animator&gt;
309

309

00:15:58,270  -->  00:16:02,440
.SetTrigger() is how
we're gonna call that.
310

310

00:16:02,440  -->  00:16:04,140
Well done if you figure that out.
311

311

00:16:04,140  -->  00:16:07,900
And this will be, let's go and
make sure we copy it.
312

312

00:16:07,900  -->  00:16:09,085
Click on that a couple of times.
313

313

00:16:09,085  -->  00:16:10,850
Copy back over into here.
314

314

00:16:10,850  -->  00:16:13,770
("jumpTrigger");.
315

315

00:16:13,770  -->  00:16:16,340
Okay, so I just want to acknowledge
that was a trickier challenge.
316

316

00:16:16,340  -->  00:16:18,280
I didn't give you all the pieces to it.
317

317

00:16:18,280  -->  00:16:22,600
I've gone and introduced this idea of
going creating a Gravestone class,
318

318

00:16:22,600  -->  00:16:27,060
we had the Defender class was, I was
hoping you'd use that as inspiration for
319

319

00:16:27,060  -->  00:16:29,473
how we knew we were hitting a Gravestone.
320

320

00:16:29,473  -->  00:16:33,240
And also for SetTrigger, I don't
think we've used SetTrigger before.
321

321

00:16:33,240  -->  00:16:36,240
So well done if you went figured
out all those pieces of the puzzle.
322

322

00:16:36,240  -->  00:16:38,079
This is how I've solved
it my particular way.
323

323

00:16:38,079  -->  00:16:40,010
And if you did it another
way that's great.
324

324

00:16:40,010  -->  00:16:42,780
One last thing we need to
do in here is else if.
325

325

00:16:42,780  -->  00:16:46,990
So if it's a gravestone then jump,
else if then attack.
326

326

00:16:46,990  -->  00:16:47,940
So save that up.
327

327

00:16:49,080  -->  00:16:51,800
Let's go and see if this works
before we celebrate too much.
328

328

00:16:51,800  -->  00:16:53,410
So we have a gravestone.
329

329

00:16:53,410  -->  00:16:54,450
We have a fox.
330

330

00:16:55,920  -->  00:16:56,830
Here's our fox.
331

331

00:16:58,320  -->  00:17:01,470
Run, run, run, run, run,
it doesn't jump, no problem,
332

332

00:17:01,470  -->  00:17:04,030
it's probably cuz we haven't
made our Box Collider Trigger.
333

333

00:17:04,030  -->  00:17:05,300
Let's make that a Trigger.
334

334

00:17:05,300  -->  00:17:06,818
And then we haven't made this a Prefab.
335

335

00:17:06,818  -->  00:17:11,200
Well, here we make it a Prefab,
drag then drop into my Prefab folder.
336

336

00:17:11,200  -->  00:17:15,000
Okay, GraveStone,
Box Collider we'll make that a Trigger.
337

337

00:17:15,000  -->  00:17:16,290
Okay, and you know what?
338

338

00:17:16,290  -->  00:17:17,920
I think I've forgotten
something in the animation.
339

339

00:17:17,920  -->  00:17:20,510
I've forgotten to set triggers
in the animation, trigger event,
340

340

00:17:20,510  -->  00:17:21,720
an animation event.
341

341

00:17:21,720  -->  00:17:22,400
Sorry about that.
342

342

00:17:22,400  -->  00:17:27,180
So Fox Run,
we need to give Fox Run a speed in here.
343

343

00:17:27,180  -->  00:17:30,440
So down at the start click on the event.
344

344

00:17:30,440  -->  00:17:32,710
Change this to be what?
345

345

00:17:32,710  -->  00:17:34,510
This is SetMovementSpeed.
346

346

00:17:34,510  -->  00:17:37,480
SetMovementSpeed of the fox,
we'll have it at one for now.
347

347

00:17:37,480  -->  00:17:38,910
We'll see how that feels.
348

348

00:17:38,910  -->  00:17:45,597
And then when we're on the Fox Jump, we
want to have the speed of zero, I believe.
349

349

00:17:45,597  -->  00:17:49,692
Let's see how that looks, cuz the
animation is doing the moving from right
350

350

00:17:49,692  -->  00:17:51,910
to left, so set movement speed of zero.
351

351

00:17:51,910  -->  00:17:53,204
This is a big video?
352

352

00:17:53,204  -->  00:17:55,080
Hope you're hanging in there.
353

353

00:17:55,080  -->  00:17:56,260
Fox Attack.
354

354

00:17:56,260  -->  00:17:58,700
When it's attacking we
wanna set that to 0.
355

355

00:17:58,700  -->  00:18:01,940
So as soon as Fox Attack is
called set movement speed to 0.
356

356

00:18:01,940  -->  00:18:05,500
And then where do we want to attack
to be round about there as well.
357

357

00:18:05,500  -->  00:18:08,020
I like a little bit of a pause
before the damage is done.
358

358

00:18:08,020  -->  00:18:11,790
Head out event,
this will be the strike current target.
359

359

00:18:11,790  -->  00:18:12,530
How much damage?
360

360

00:18:12,530  -->  00:18:15,373
Well I don't know,
we'll say the lizard does 20.
361

361

00:18:15,373  -->  00:18:17,260
We'll make the fox do 40.
362

362

00:18:17,260  -->  00:18:19,360
Fast, I want the fox to be
a little bit squishy though, so
363

363

00:18:19,360  -->  00:18:24,330
let's click on fox, add a health
component which it doesn't have yet.
364

364

00:18:24,330  -->  00:18:25,510
We've got a few things here haven't we.
365

365

00:18:25,510  -->  00:18:29,330
This is often how you find your forgotten
stuff is things don't work properly.
366

366

00:18:29,330  -->  00:18:34,520
Health will make this really squishy,
so like 50 for now, half of the lizard.
367

367

00:18:34,520  -->  00:18:36,260
Needs a couple of good shots.
368

368

00:18:36,260  -->  00:18:40,380
And then Death VFX,
we want to click the selector.
369

369

00:18:40,380  -->  00:18:44,990
Find our, what are we using for
Death VFX in here.
370

370

00:18:44,990  -->  00:18:49,670
I'll do it the other way, I'll go down
to my VFX and drag in explosion VFX.
371

371

00:18:49,670  -->  00:18:52,080
Drop that into there,
that should work nicely.
372

372

00:18:53,140  -->  00:18:54,970
Okay, so let's check if this works.
373

373

00:18:54,970  -->  00:18:57,270
I think we might've missed
something in here still.
374

374

00:18:58,290  -->  00:18:59,600
Dun dun dun dun dun.
375

375

00:18:59,600  -->  00:19:02,790
Not hitting the collider if I put
down someone, not hitting that.
376

376

00:19:04,140  -->  00:19:05,600
Let's have a look at point of comparison.
377

377

00:19:05,600  -->  00:19:06,750
I think I know what it is.
378

378

00:19:06,750  -->  00:19:08,950
Rigidbody 2D, that's probably what it is.
379

379

00:19:08,950  -->  00:19:10,120
Click on Fox.
380

380

00:19:10,120  -->  00:19:12,041
Add a RigidBody 2D.
381

381

00:19:12,041  -->  00:19:14,776
This is often why it's better just
to start by copying the lizard, so
382

382

00:19:14,776  -->  00:19:16,770
you know you've got all
the components in there.
383

383

00:19:16,770  -->  00:19:20,090
But I like to do it when I'm showing
you on the video, do it from scratch,
384

384

00:19:20,090  -->  00:19:22,010
just in case you've missed any steps.
385

385

00:19:22,010  -->  00:19:26,095
So RigidBody 2D, change this to Kinematic.
386

386

00:19:26,095  -->  00:19:28,890
We'll see if the rest of that's okay,
click on Apply.
387

387

00:19:28,890  -->  00:19:32,845
Now let's click on Play, see if the rigid
body 2D allows us to bump into things.
388

388

00:19:32,845  -->  00:19:35,048
[SOUND] Yay, it jumped.
389

389

00:19:35,048  -->  00:19:38,905
It didn't jump over it, though, it just
kinda jumped a couple of times in a weird
390

390

00:19:38,905  -->  00:19:41,312
way, and then, and
that ate it really fast.
391

391

00:19:41,312  -->  00:19:44,240
I got super quick at killing things.
392

392

00:19:44,240  -->  00:19:46,770
Okay, so that means that our animation
did just jump straight up and
393

393

00:19:46,770  -->  00:19:47,360
down on the jump.
394

394

00:19:47,360  -->  00:19:52,160
So in here, when we hit our movement
speed for the jump animation,
395

395

00:19:52,160  -->  00:19:55,340
I'll set this to, I don't know,
4, and see how that goes.
396

396

00:19:55,340  -->  00:19:58,170
If that does push it
past the gravestone so
397

397

00:19:58,170  -->  00:19:59,890
that it's not colliding with it anymore.
398

398

00:19:59,890  -->  00:20:02,530
So run, run, run, jump, ooh,
okay, that did jump over.
399

399

00:20:02,530  -->  00:20:07,009
It jumped way too far, so we'll put
it back to 1, see how that works.
400

400

00:20:08,140  -->  00:20:08,690
Click on one.
401

401

00:20:08,690  -->  00:20:09,460
This is exciting.
402

402

00:20:09,460  -->  00:20:10,780
We've nearly got it done.
403

403

00:20:10,780  -->  00:20:12,880
Run, run, run, and jump.
404

404

00:20:12,880  -->  00:20:14,370
Our Rook didn't quite jump far enough so
405

405

00:20:14,370  -->  00:20:17,317
I think a two is what we're
gonna be looking for here.
406

406

00:20:17,317  -->  00:20:22,345
[NOISE] Click on that [NOISE] Set
movement speed, change it to two,
407

407

00:20:22,345  -->  00:20:27,851
click on Play Run, run, run, run,
run, run, and big jump over it.
408

408

00:20:27,851  -->  00:20:29,310
Okay, that looks pretty good, I reckon.
409

409

00:20:29,310  -->  00:20:32,210
And then if we were to put down
a trophy it collides with that,
410

410

00:20:32,210  -->  00:20:34,910
eats it really fast and
then runs off again.
411

411

00:20:34,910  -->  00:20:36,160
Okay, so I think we've got it.
412

412

00:20:36,160  -->  00:20:38,050
We've created ourselves a fox.
413

413

00:20:38,050  -->  00:20:41,320
It has a fox component to say,
hey, I'm a fox.
414

414

00:20:41,320  -->  00:20:43,980
There's some different behavior
in the fox where we've gone and
415

415

00:20:43,980  -->  00:20:47,590
created this jumpTrigger to
jump over the gravestone.
416

416

00:20:47,590  -->  00:20:49,210
Great work, well done for
hanging in there.
417

417

00:20:49,210  -->  00:20:51,550
I know these lectures are big and long.
418

418

00:20:51,550  -->  00:20:54,460
We've been going through a lot of
this character creation type stuff.
419

419

00:20:54,460  -->  00:20:56,060
So we're nearly at the point
where I'm happy with it.
420

420

00:20:56,060  -->  00:20:58,800
And we can move on to other aspects
of what we're doing in our game.
421

421

00:20:58,800  -->  00:20:59,560
So great work.
422

422

00:20:59,560  -->  00:21:00,650
And I'll see you in the next video.
