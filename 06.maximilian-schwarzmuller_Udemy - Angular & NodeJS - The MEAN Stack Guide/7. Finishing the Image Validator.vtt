WEBVTT

00:02.340 --> 00:06.870
Quindi aggiungiamo che la convalida del tipo MIME ora qui nel listener di eventi.

00:06.870 --> 00:09.570
Ora sappiamo che abbiamo questo buffer di array.

00:09.600 --> 00:14.760
Per prima cosa creiamo un nuovo array con te e 8 array.

00:14.760 --> 00:21.150
Questo crea una nuova matrice di numeri interi senza segno a 8 bit e questa è la parte che intendevo quando alla

00:21.150 --> 00:22.430
fine diventiamo davvero avanzati.

00:22.440 --> 00:30.420
Puoi semplicemente pensare a questo come a un modo che ci permette di accedere o leggere determinati pattern nel file e non solo nel

00:30.420 --> 00:36.030
file, ma anche nei metadati del modulo che possiamo usare per analizzare il tipo di mente perché

00:36.030 --> 00:38.430
non solo vuoi controllare l'estensione del file.

00:38.460 --> 00:39.470
Questo potrebbe essere cambiato.

00:39.480 --> 00:42.370
Puoi caricare un PDA F come file j pick.

00:42.480 --> 00:48.570
Vogliamo davvero inferire quel tipo di file esaminando quel file e che tu e 8 array ci permettiamo

00:48.570 --> 00:49.630
di farlo.

00:49.710 --> 00:54.520
Questo è anche il motivo per cui leggiamo questo come un buffer di errore perché

00:54.520 --> 01:01.140
possiamo facilmente convertirlo in un tale utente e un tasso che possiamo convertire semplicemente passando di nuovo il risultato del lettore di file.

01:01.200 --> 01:04.170
No, in realtà, dobbiamo accedere a un sottoarray qui.

01:04.200 --> 01:05.240
0 2 4.

01:05.370 --> 01:09.030
Questa è semplicemente la parte che ci consente di ottenere quel tipo di mente.

01:09.170 --> 01:12.140
E se vuoi saperne di più su di te e sugli array e così via.

01:12.390 --> 01:14.910
Probabilmente non ne hai bisogno ma se vuoi.

01:14.940 --> 01:20.160
Dovresti immergerti in alcune risorse JavaScript avanzate ma questo è davvero qualcosa che raramente fai

01:20.160 --> 01:20.940
da solo.

01:20.940 --> 01:26.590
Quindi qui alla fine otteniamo un array che alla fine ci permetterà di dedurre bene il tipo di caduta.

01:26.760 --> 01:34.560
Ora per ottenere veramente quel tipo di caduta, dobbiamo leggere un certo modello e quel modello viene letto con

01:34.560 --> 01:36.110
un ciclo for.

01:36.450 --> 01:40.610
Ci sarà l'array che abbiamo qui.

01:40.650 --> 01:50.870
Quindi un ciclo normale per i. e. più piccola lunghezza R cioè plus plus e abbiamo bisogno

01:50.870 --> 01:59.540
di estrarre determinate informazioni da quell'array per quello tutto il commercio una nuova intestazione di variabile che inizialmente è una stringa vuota e quindi in quel

01:59.540 --> 02:06.200
ciclo for qui tutti allegare qualcosa carino e stringa con l'operatore Plus uguale I ' Alleghiamo l'elemento che stiamo

02:06.200 --> 02:12.560
attualmente osservando nel nostro ciclo e poi lo stringa e ho bisogno di passare un argomento di 60 per

02:12.590 --> 02:14.830
convertirlo in una stringa esadecimale.

02:14.870 --> 02:18.470
Ora stiamo costruendo una stringa di valori esadecimali.

02:18.470 --> 02:24.140
Ora possiamo cambiare l'intestazione che abbiamo costruito qui perché ora lo avremo già.

02:24.140 --> 02:26.680
Beh, immagino che sia stato un bel po 'di lavoro.

02:26.780 --> 02:35.420
Avremo una stringa che in realtà ha un modello ben definito per i diversi tipi di file.

02:35.480 --> 02:40.940
Ora ho effettivamente preparato un codice qui che trovi allegato a questo video.

02:41.030 --> 02:45.630
Puoi semplicemente copiarlo e incollarlo e sostituire con esso l'istruzione switch.

02:45.680 --> 02:47.730
È questo codice lì.

02:47.900 --> 02:56.000
Controllo alcuni modelli e questi sono davvero modelli che rappresentano determinati tipi di caduta pipì e formaggio e gli atti di

02:56.070 --> 03:03.790
forma sono precisi e puoi utilizzare il file JavaScript di google un tipo MIME per trovare altri esempi e istruzioni

03:03.790 --> 03:10.300
dettagliate su come funziona effettivamente e quali identificano qui sta per quale tipo di caduta non creare

03:11.140 --> 03:16.930
dove sto usando è una variabile valida, quindi creiamo anche questo è valido e impostiamolo

03:16.930 --> 03:18.330
su false inizialmente.

03:18.340 --> 03:25.780
Quindi supponiamo che la caduta non sia valida, ma la sovrascriverà se troviamo un G in crescita o un picco di caduta se abbiamo

03:25.780 --> 03:31.740
qualche altro tipo di mente che non corrisponde a uno di questi modelli, quindi lo consideriamo non valido.

03:31.740 --> 03:34.180
Ora questo era un bel po 'di lavoro e abbastanza avanzato.

03:34.270 --> 03:37.500
Lo dirò sicuramente ma ora abbiamo finito.

03:37.540 --> 03:43.330
Ora abbiamo quella variabile valida e ora tutto ciò che dobbiamo fare è usare l'osservatore che ho detto che potremmo

03:43.330 --> 03:48.500
usare per controllare l'osservabile e il modo in cui omette i dati per emettere i dati.

03:48.610 --> 03:52.500
Quindi controlleremo se è valido qui.

03:52.660 --> 03:59.770
E se lo farò chiamerò l'osservatore accanto ad emettere un nuovo valore e quel valore qui sarà

04:00.070 --> 04:08.410
no perché ricorda che devi tornare ora e tornare qui significa emettere nell'osservabile se è valido se non è

04:08.680 --> 04:13.990
valido tu invece emettere un altro valuta quello strano oggetto javascript.

04:14.050 --> 04:19.840
Ho detto che è possibile utilizzare qualsiasi codice di errore che si desidera come tipo MIME non valido.

04:19.840 --> 04:27.430
Questo dipende totalmente da te e passa qualsiasi valore tu voglia come vero, così ora ammettiamo questi due valori che stanno

04:27.490 --> 04:27.990
cercando.

04:28.020 --> 04:34.340
Chiamerò anche l'osservatore per far sapere agli abbonati che abbiamo finito.

04:35.580 --> 04:41.950
E ora dobbiamo solo restituire quell'osservabile. I seguenti sono osservabili che stiamo creando qui.

04:42.030 --> 04:47.510
Quindi alla fine di tutto ciò qui tornerò questo osservabile.

04:47.520 --> 04:51.260
E ora dovremmo avere un validatore di tipo fall valido.

04:51.360 --> 04:57.450
Possiamo ora collegarlo al nostro forum tornando al componente di creazione post e prima di

04:57.510 --> 04:58.610
tutto importiamolo.

04:58.770 --> 05:04.100
Quindi importiamo il validatore del tipo di mente dal nostro file di convalida del tipo MIME.

05:04.470 --> 05:07.720
Quindi il nome era MIME tipo questa funzione.

05:07.860 --> 05:09.830
Ho detto che i validatori sono funzioni.

05:09.840 --> 05:11.600
Quindi questo è esattamente ciò di cui abbiamo bisogno.

05:11.730 --> 05:19.020
E ora abbiamo aggiunto al controllo immagine qui non come un validatore, ma come un validatore asincrono angolare

05:19.020 --> 05:20.950
fa differenza tra questi.

05:20.970 --> 05:24.550
Lì semplicemente aggiungi il tipo MIME.

05:24.600 --> 05:30.700
Ora inizializziamo quell'immagine in un modo in cui accettiamo solo immagini e posso provarlo.

05:31.020 --> 05:38.840
Se salviamo tutto e torniamo al nostro forum non posso interessare qualcosa e scegliere un'immagine

05:38.840 --> 05:47.280
e se prendo quel file video qui e premo su Salva post vedi che non sta presentando.

05:47.410 --> 05:53.590
Se prendo la mia immagine dall'altra parte, la Che Peg non solo ottiene un'anteprima valida e dovremmo aggiustarla

05:53.590 --> 05:59.660
per non dare un'anteprima se non è valida, ma non solo ottengo che posso anche salvarla.

05:59.710 --> 06:00.690
Quindi sta funzionando.

06:00.690 --> 06:03.740
Continuiamo a non caricarlo ma la svalutazione sta funzionando.

06:03.900 --> 06:10.720
Ho appena detto che dovremmo anche andare al file di posta HT e assicurarci che la nostra

06:10.720 --> 06:21.430
anteprima non venga mostrata solo se qui abbiamo un valore di anteprima dell'immagine valido, ma vogliamo anche verificare se l'immagine del forum sia effettivamente valida perché se non

06:21.880 --> 06:25.530
è valida allora di certo non vogliamo mostrare l'anteprima.

06:25.880 --> 06:33.460
In questo modo salvati torniamo indietro e nuovo post e riprendiamo il nostro video qui di nuovo, non vediamo un'anteprima.

06:33.460 --> 06:39.220
Quindi ora stiamo facendo la validazione qui e la cosa interessante ora è che tutto il resto del forum funzionerà.

06:39.340 --> 06:42.790
Quindi, come qui in su Salva post, dove controlliamo se il modulo non è valido.

06:42.790 --> 06:44.680
Beh, l'hai già visto in azione.

06:44.680 --> 06:50.950
Non siamo stati in grado di inviare perché ha rilevato automaticamente che questo non è valido perché esegue

06:50.950 --> 06:57.700
tutti i validatori ogni volta che è necessario convalidare l'input che per il file si verifica quando chiamiamo valore

06:57.700 --> 07:05.050
di aggiornamento e validità e li esegue e il nostro validatore restituisce semplicemente qualcosa che non è null, il che significa

07:05.050 --> 07:09.470
che non è valido se non abbiamo un tipo MIME valido.

07:09.670 --> 07:11.430
Quindi questa è la convalida.

07:11.440 --> 07:14.800
Modifica Ora passiamo infine al caricamento del file.
