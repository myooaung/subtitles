WEBVTT
1
00:00:00.390 --> 00:00:02.470
So we've done fantastically well so far.

2
00:00:02.670 --> 00:00:09.530
We've got our main Twitter page which shows the latest tweets of all of our users.

3
00:00:09.690 --> 00:00:16.460
We've got these as time line which shows tweets of people that they are following.

4
00:00:16.510 --> 00:00:24.700
We've got the your tweets page which shows tweets on of our current user and the user can also post

5
00:00:24.700 --> 00:00:25.350
tweets.

6
00:00:25.420 --> 00:00:28.610
And of course logon and log out in a sophisticated manner.

7
00:00:28.960 --> 00:00:35.590
So all that's left is being able to search tweets and setting up public profiles as well.

8
00:00:36.530 --> 00:00:41.240
So let's start off with search.

9
00:00:41.510 --> 00:00:43.180
We're going to need a new page

10
00:00:46.110 --> 00:00:51.140
so I'll create a file search to pay HP

11
00:00:55.450 --> 00:00:56.160
open that up

12
00:00:59.810 --> 00:01:03.000
and we'll set up the indexed or ph pay as well.

13
00:01:14.700 --> 00:01:17.040
I have snatched up HP

14
00:01:20.720 --> 00:01:22.960
and I felt the need to open that again

15
00:01:27.320 --> 00:01:36.510
so I have good old high there and we're going to need to change the code for the search box so that

16
00:01:36.510 --> 00:01:37.320
it has

17
00:01:41.560 --> 00:01:42.470
an input

18
00:01:46.330 --> 00:01:57.590
with a type of hidden a name of page and a valley of search.

19
00:01:57.680 --> 00:02:04.330
So that should we direct the form submission to the home page or the search page.

20
00:02:07.270 --> 00:02:14.530
And the name for our search term will be too short for query

21
00:02:17.470 --> 00:02:18.010
Okay.

22
00:02:19.190 --> 00:02:27.070
So now we should be able to fill in the search box once that's all saved and I'm going to search for

23
00:02:27.160 --> 00:02:35.330
test what you research and you can see that's redirected to the search page with a queue of test and

24
00:02:35.330 --> 00:02:36.960
we've got our high there as well.

25
00:02:38.480 --> 00:02:41.060
Wonderful.

26
00:02:41.080 --> 00:02:44.540
So let's copy the home page code again.

27
00:02:47.930 --> 00:02:52.130
This time instead of recent tweets we're going to have search results

28
00:02:58.190 --> 00:02:59.950
and we'll have display tweets

29
00:03:03.230 --> 00:03:06.400
with A-type office search.

30
00:03:06.940 --> 00:03:09.050
Back over to functions dupped Page Pate

31
00:03:14.100 --> 00:03:15.290
will set this up him

32
00:03:18.490 --> 00:03:25.130
so if type is equal to search how are we going to set up a search.

33
00:03:25.210 --> 00:03:27.890
Or as always there are many ways that we could do it.

34
00:03:27.890 --> 00:03:33.620
The simplest way is to just look for the search term in the tweet content.

35
00:03:34.130 --> 00:03:41.130
So I'm going to say where tweet is like

36
00:03:43.920 --> 00:03:44.520
and then

37
00:03:51.680 --> 00:03:57.290
we use the present signs to look for anything and then

38
00:04:01.900 --> 00:04:07.100
they search string and then anything else.

39
00:04:07.210 --> 00:04:12.880
So that should allow us to search for whatever we want.

40
00:04:12.880 --> 00:04:24.040
And there we go test and test and I think it's probably worth in this case echoing

41
00:04:27.460 --> 00:04:32.380
showing results for and then

42
00:04:39.640 --> 00:04:40.910
that display that

43
00:04:46.260 --> 00:04:49.930
as so they know what they're searching for.

44
00:04:49.940 --> 00:04:57.100
I notice I've put my secure real escape string around that as well just in case they're trying to put

45
00:04:57.100 --> 00:05:03.350
any malicious code into your page and something going wrong.

46
00:05:06.010 --> 00:05:08.250
Sharing results for yes.

47
00:05:20.870 --> 00:05:21.870
That's right.

48
00:05:22.040 --> 00:05:30.920
And then that should do it.

49
00:05:31.180 --> 00:05:32.900
Things still going wrong.

50
00:05:32.940 --> 00:05:37.110
Same results for Calabrian escapes during the there.

51
00:05:37.420 --> 00:05:37.890
Yep.

52
00:05:40.150 --> 00:05:42.680
And of course you single quite at the very end

53
00:05:45.710 --> 00:05:49.240
began.

54
00:05:49.410 --> 00:05:53.630
So that was easy enough to going to pop search results in there.

55
00:05:53.640 --> 00:06:03.760
And of course we could update that very easily with anything we wanted could search for this etc..

56
00:06:03.960 --> 00:06:08.150
So no that's not a particularly sophisticated search system to do that.

57
00:06:08.160 --> 00:06:14.750
We'd have to write a lot more code or use some kind of HP plugin but it gets the job done.

58
00:06:15.540 --> 00:06:21.500
So all that remains then is to show public profiles.

59
00:06:21.810 --> 00:06:27.780
So we'll will need one more page which has a name of public profiles.

60
00:06:28.830 --> 00:06:29.890
So let's set that up

61
00:06:34.850 --> 00:06:37.700
and open it up.

62
00:06:38.480 --> 00:06:44.640
And we'll also set it up an index to pay HP

63
00:06:57.980 --> 00:07:00.400
and where we go down the bottom now

64
00:07:04.530 --> 00:07:06.920
because we'll start off with a friendly hello

65
00:07:11.160 --> 00:07:14.680
and then we want to be able to do two things on the public profiles page.

66
00:07:14.910 --> 00:07:18.330
We want to be able to show a list of everyone on the site.

67
00:07:18.600 --> 00:07:24.920
And if a certain user is selected to show the tweets of that particular user.

68
00:07:25.350 --> 00:07:29.040
So first things first copy the

69
00:07:33.470 --> 00:07:38.190
home page code.

70
00:07:38.440 --> 00:07:43.180
And what we'll do is we'll check for the existence

71
00:07:48.690 --> 00:07:50.310
of a user ID

72
00:08:01.590 --> 00:08:03.300
and display

73
00:08:09.440 --> 00:08:10.990
different results.

74
00:08:13.440 --> 00:08:20.730
Depending on whether there is one say if there isn't then

75
00:08:26.380 --> 00:08:28.150
let's have active users.

76
00:08:29.810 --> 00:08:30.350
And

77
00:08:34.840 --> 00:08:43.580
we'll have a function to do this called display uses which of course will set up in functions that page

78
00:08:49.550 --> 00:08:51.500
should be pretty straightforward.

79
00:08:52.040 --> 00:09:00.130
We just want to grab all of the users and display their e-mail addresses.

80
00:09:00.230 --> 00:09:01.640
So let's find some carryed

81
00:09:05.250 --> 00:09:06.280
to do that for us.

82
00:09:06.280 --> 00:09:14.620
I'm just going to copy that chunk say hey we're going to selects everything from uses

83
00:09:18.210 --> 00:09:27.510
and I'm going to limit it to 10 and then I'm not going to check that there are any because there will

84
00:09:27.510 --> 00:09:29.990
definitely be at least my test ones that I've put in the

85
00:09:36.080 --> 00:09:38.030
Remember we'll need a global

86
00:09:44.550 --> 00:09:48.760
link and then find out I'm just going to L.K.

87
00:09:55.480 --> 00:09:58.500
email day.

88
00:09:58.540 --> 00:10:00.120
Yep it's been a particularly beautiful

89
00:10:10.500 --> 00:10:21.200
put them in paragraph tags.

90
00:10:21.200 --> 00:10:22.150
There we go.

91
00:10:22.610 --> 00:10:29.570
So you might want to create some kind of user search or pagination system which shows the first 10 and

92
00:10:29.570 --> 00:10:31.840
then you can click to view the next 10 if you like.

93
00:10:31.850 --> 00:10:36.350
That's fairly straightforward so I'm not going to go through that here but what I do want to do is link

94
00:10:36.350 --> 00:10:43.120
up each of these active users so that they're actually a link

95
00:10:47.750 --> 00:10:48.200
to

96
00:10:50.930 --> 00:10:56.430
pages equal to a public profiles and user ID is equal to a

97
00:11:02.170 --> 00:11:18.550
in fact from the users table it's just ID.

98
00:11:18.740 --> 00:11:21.840
So let's just check that.

99
00:11:21.860 --> 00:11:23.690
So they're now all nicely linked up.

100
00:11:23.690 --> 00:11:27.640
If I choose to have to come.

101
00:11:27.770 --> 00:11:35.540
So we now have a user ID in RL as well which means that we are in this section here.

102
00:11:36.050 --> 00:11:39.780
So what we want to do is display tweets

103
00:11:45.600 --> 00:11:48.560
from a specific user.

104
00:11:48.700 --> 00:11:57.780
So I'm going to call using just the user ID.

105
00:11:58.010 --> 00:12:05.990
And then finally over in functions or PH We will add a new Where clause and this time we can check to

106
00:12:05.990 --> 00:12:13.490
see if type is equal to something because we don't know what it be critical just be a number but we

107
00:12:13.490 --> 00:12:15.260
can use numeric

108
00:12:21.970 --> 00:12:29.890
to see if it's a user ID.

109
00:12:29.940 --> 00:12:31.810
So just to check that that's working.

110
00:12:31.980 --> 00:12:35.920
I'm going to echo type and we should get an eye.

111
00:12:36.060 --> 00:12:37.330
There we go.

112
00:12:38.160 --> 00:12:38.780
Wonderful.

113
00:12:38.790 --> 00:12:40.020
Yep so that's loads.

114
00:12:40.090 --> 00:12:54.150
But I haven't included my where clause yet so that's that and we want where user ID equals and then

115
00:13:01.490 --> 00:13:04.540
we'll have my secure ally real escape string

116
00:13:07.760 --> 00:13:11.230
type and then that will show

117
00:13:16.150 --> 00:13:18.990
the tweets of that particular user

118
00:13:21.870 --> 00:13:31.740
and it will be good to see which user where following here so we can actually use this carryed we're

119
00:13:31.800 --> 00:13:33.420
going to get the uses

120
00:13:36.120 --> 00:13:36.980
we want.

121
00:13:39.780 --> 00:13:41.510
To use type than

122
00:13:47.100 --> 00:13:52.890
the user and then we can just echo H2 and

123
00:13:58.020 --> 00:13:59.790
we'll have the user name

124
00:14:04.650 --> 00:14:07.080
or in our case the e-mail address

125
00:14:13.650 --> 00:14:15.190
and that wheat's

126
00:14:21.540 --> 00:14:22.810
there we go.

127
00:14:23.130 --> 00:14:24.350
And that's it.

128
00:14:24.690 --> 00:14:35.160
We've actually created a remarkably complete Twitter clone where we can search the existing user's tweets.

129
00:14:35.440 --> 00:14:36.550
We can post a tweet

130
00:14:42.030 --> 00:14:44.310
that was posted successfully.

131
00:14:44.310 --> 00:14:48.810
We can say it straight away on the timeline.

132
00:14:49.050 --> 00:14:54.810
We can view the tweets of the people that we're following and we can follow them and unfollow them using

133
00:14:54.840 --> 00:14:56.560
AJAX.

134
00:14:57.300 --> 00:15:07.080
We can view a list of our own tweets and view all of the public profiles and view their tweets or not.

135
00:15:07.080 --> 00:15:12.830
If they don't have any one very small thing that's just come to mind actually as I did the run through

136
00:15:12.830 --> 00:15:19.560
is that we get to link up these links to the public profiles.

137
00:15:19.670 --> 00:15:21.220
So let's just quickly do that.

138
00:15:23.540 --> 00:15:27.650
When we're displaying the tweets we don't just want to show the use of e-mail.

139
00:15:27.710 --> 00:15:29.690
We want to link to

140
00:15:39.800 --> 00:15:43.230
the user ID

141
00:15:48.060 --> 00:15:53.290
says Click the link that this is going to be

142
00:15:58.630 --> 00:16:02.830
something like page it was public profile and user id

143
00:16:05.490 --> 00:16:09.850
he calls and then the user ID.

144
00:16:10.030 --> 00:16:12.610
So let's just test that there we go.

145
00:16:12.620 --> 00:16:20.090
They're now all linked up so if I click on one of those links to that particular profile so great i

146
00:16:20.090 --> 00:16:20.870
hope you enjoyed that.

147
00:16:20.870 --> 00:16:23.250
I really like the app that we've ended up with.

148
00:16:23.480 --> 00:16:31.400
And I like the structure as well that the views are now separated from the major functions of the code

149
00:16:31.430 --> 00:16:37.310
indexed page is just used to display which ever page we want and we've got functions to contain the

150
00:16:37.310 --> 00:16:44.960
main logic of the app and actions is essentially our API which we can then call to do things like post

151
00:16:44.960 --> 00:16:48.290
a tweet or lock the user in.

152
00:16:48.500 --> 00:16:52.900
I hope you enjoy them and I hope it's inspired you to create something similar.

153
00:16:53.180 --> 00:16:58.670
And once you've built what will be the next big social network do tweet me a link and I'll forward it

154
00:16:58.670 --> 00:16:59.540
to the world.
