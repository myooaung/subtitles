WEBVTT
1

00:00:00.000  -->  00:00:07.080
Hello and welcome back to the course on

2

00:00:07.080  -->  00:00:08.910
R programming and in today's tutorial

3

00:00:08.910  -->  00:00:10.860
we're going to learn some new geometries.

4

00:00:10.860  -->  00:00:11.940
We're going to be talking about

5

00:00:11.940  -->  00:00:14.519
histograms and density charts and

6

00:00:14.519  -->  00:00:16.199
actually as you already know, histograms

7

00:00:16.199  -->  00:00:18.600
are also statistics. So it's going to be

8

00:00:18.600  -->  00:00:20.189
something like this. We're going to be

9

00:00:20.189  -->  00:00:21.960
talking about geometries and we're going

10

00:00:21.960  -->  00:00:23.910
to be talking about statistics at the same time.

11

00:00:23.910  -->  00:00:27.570
So let's go into R studio,

12

00:00:27.570  -->  00:00:31.199
ok, histograms and density charts

13

00:00:31.199  -->  00:00:33.690
so far we've only been working of points

14

00:00:33.690  -->  00:00:35.340
and a little bit with lines. How about

15

00:00:35.340  -->  00:00:37.890
we create a new one? So let's start with

16

00:00:37.890  -->  00:00:42.690
a new variable, let's start with s and we'll call

17

00:00:42.690  -->  00:00:45.719
GGplot, here we'll say as we usually do

18

00:00:45.719  -->  00:00:48.300
data equals movies and then

19

00:00:48.300  -->  00:00:53.520
aesthetics x equals budget millions and

20

00:00:53.520  -->  00:00:55.469
that's all. We're actually not going to

21

00:00:55.469  -->  00:00:58.649
use a second aesthetic. We're not going

22

00:00:58.649  -->  00:01:01.410
to use the y-axis, why well because we

23

00:01:01.410  -->  00:01:02.850
won't need one as you'll see just now.

24

00:01:02.850  -->  00:01:05.729
We're going to use s and we're going to

25

00:01:05.729  -->  00:01:08.220
create, we're going to add a geometry and

26

00:01:08.220  -->  00:01:10.530
the geom is going to be geom underscore

27

00:01:10.530  -->  00:01:13.170
histogram and here we're going to say

28

00:01:13.170  -->  00:01:16.080
binwidth equals 10.

29

00:01:16.080  -->  00:01:18.479
So that's how we want to bin all

30

00:01:18.479  -->  00:01:21.210
variable x for this histogram. So if I run

31

00:01:21.210  -->  00:01:25.500
s now, if I run s plus what you'll see is a

32

00:01:25.500  -->  00:01:28.320
histogram that appeared, so basically

33

00:01:28.320  -->  00:01:31.140
binwidth is controlling how wide these

34

00:01:31.140  -->  00:01:33.150
been R's and I'm just saying 10 million

35

00:01:33.150  -->  00:01:35.460
in each bin so that zero to ten that's

36

00:01:35.460  -->  00:01:37.770
ten to twenty twenty to thirty and

37

00:01:37.770  -->  00:01:39.900
basically each one of these bars is telling

38

00:01:39.900  -->  00:01:42.720
us how many movies fall into that bin. so

39

00:01:42.720  -->  00:01:44.640
how many movies they were in our data

40

00:01:44.640  -->  00:01:47.970
set. There's about 25-50, so I don't know,

41

00:01:47.970  -->  00:01:52.619
like around 30, 32, 35 movies with 0 to

42

00:01:52.619  -->  00:01:54.299
10 million budget and then there's

43

00:01:54.299  -->  00:01:57.540
between just under 75 or on 70 movies,

44

00:01:57.540  -->  00:02:00.240
well if on to 20 million dollar budget,

45

00:02:00.240  -->  00:02:02.909
there's are about a hundred twenty

46

00:02:02.909  -->  00:02:05.759
movies with a budget of 20 to 30 million

47

00:02:05.759  -->  00:02:07.619
dollars and so on. So that's how this is

48

00:02:07.619  -->  00:02:09.179
histogram works, you can change the bin width.

49

00:02:09.179  -->  00:02:11.370
You can make it five and you'll have

50

00:02:11.370  -->  00:02:12.390
more,

51

00:02:12.390  -->  00:02:14.760
you can make it 50 then you'll have less

52

00:02:14.760  -->  00:02:18.030
and so on. So we're going to keep it a 10.

53

00:02:18.030  -->  00:02:19.890
That's how you construct a histogram and

54

00:02:19.890  -->  00:02:21.600
now you can also see why we only needed

55

00:02:21.600  -->  00:02:24.510
one aesthetic X that's because that's

56

00:02:24.510  -->  00:02:26.069
all we have. We have the budget millions

57

00:02:26.069  -->  00:02:28.050
and then this new variable over here

58

00:02:28.050  -->  00:02:30.630
which is count is generated by R and

59

00:02:30.630  -->  00:02:32.160
that's why it's also it's not just a

60

00:02:32.160  -->  00:02:33.780
geometry it's actually a statistic

61

00:02:33.780  -->  00:02:36.480
because R is aggregating values, first of all

62

00:02:36.480  -->  00:02:38.640
it was creating these bins for you and then

63

00:02:38.640  -->  00:02:40.800
it's aggregating your rows or your

64

00:02:40.800  -->  00:02:42.239
observations, your data set into

65

00:02:42.239  -->  00:02:43.590
these bins and that's where the

66

00:02:43.590  -->  00:02:45.840
statistical part comes from. Alright so

67

00:02:45.840  -->  00:02:47.790
it looks like a skewed normal

68

00:02:47.790  -->  00:02:50.970
distribution so most movies have a lower

69

00:02:50.970  -->  00:02:53.340
budget somewhere, somewhere around 30

70

00:02:53.340  -->  00:02:55.650
million plus minus a couple 10 million.

71

00:02:55.650  -->  00:02:57.870
Alright so how do we add color to this?

72

00:02:57.870  -->  00:02:59.880
Well this is going to be a bit of a

73

00:02:59.880  -->  00:03:01.170
surprise.

74

00:03:01.170  -->  00:03:04.650
Add color we're going to say, I 'll just

75

00:03:04.650  -->  00:03:06.600
copy this line going to copy this line

76

00:03:06.600  -->  00:03:09.959
and here we'll say comma. Now we want to

77

00:03:09.959  -->  00:03:11.970
map the color. We want to map the color

78

00:03:11.970  -->  00:03:14.730
to genre right? We don't want to set the

79

00:03:14.730  -->  00:03:16.290
color. We could set the color so I could

80

00:03:16.290  -->  00:03:19.230
just say, oh well okay, I'm going to

81

00:03:19.230  -->  00:03:20.850
secure a way, the secret is it's

82

00:03:20.850  -->  00:03:23.280
not color it's fill. So if I say fill

83

00:03:23.280  -->  00:03:27.239
equals lets say green, well in quotation

84

00:03:27.239  -->  00:03:28.140
marks.

85

00:03:28.140  -->  00:03:30.810
You'll see that became green, but I want

86

00:03:30.810  -->  00:03:32.459
to that's setting the color I don't want

87

00:03:32.459  -->  00:03:34.110
to set the color I want to map the color.

88

00:03:34.110  -->  00:03:36.959
I want to say aesthetics and because

89

00:03:36.959  -->  00:03:38.820
it's more complex process remember, so

90

00:03:38.820  -->  00:03:42.000
we're going to fill equals genre and

91

00:03:42.000  -->  00:03:43.709
color is reserved for something else here,

92

00:03:43.709  -->  00:03:46.230
color is the outline. Fill is the

93

00:03:46.230  -->  00:03:48.540
fill of these boxes. So there we go, you

94

00:03:48.540  -->  00:03:50.910
can see now it looks some looks a little

95

00:03:50.910  -->  00:03:54.660
bit like like these squares that

96

00:03:54.660  -->  00:03:56.820
and the colors are similar sometimes. So

97

00:03:56.820  -->  00:03:59.310
it looks like they're merging into each

98

00:03:59.310  -->  00:04:01.019
other and we don't want that. We wanted

99

00:04:01.019  -->  00:04:03.660
separate, right? So let's add a border, add

100

00:04:03.660  -->  00:04:06.450
a border and I 'm going to copy this

101

00:04:06.450  -->  00:04:09.570
again but the border now I don't want to

102

00:04:09.570  -->  00:04:11.220
map it I want to set it. I want to say

103

00:04:11.220  -->  00:04:12.900
that's not going to put it inside these

104

00:04:12.900  -->  00:04:14.579
aesthetic I 'm just gonna to aesthetic

105

00:04:14.579  -->  00:04:16.709
function. I 'm just going to say color equals

106

00:04:16.709  -->  00:04:20.489
black right? So let me make some

107

00:04:20.489  -->  00:04:24.300
space and if I run this now. You can see

108

00:04:24.300  -->  00:04:26.130
that looks much better like

109

00:04:26.130  -->  00:04:27.990
that don't you agree? When you have this

110

00:04:27.990  -->  00:04:30.330
black border around it it makes it stand

111

00:04:30.330  -->  00:04:33.810
out like pop out so much more. So that's

112

00:04:33.810  -->  00:04:36.180
a great one and this is going to be our

113

00:04:36.180  -->  00:04:40.260
chart number three, right? This is going

114

00:04:40.260  -->  00:04:42.600
to be chart number three but in fact

115

00:04:42.600  -->  00:04:47.070
we will also we will improve it at the

116

00:04:47.070  -->  00:04:48.660
end of the section, we'll improve this

117

00:04:48.660  -->  00:04:50.850
chart a little bit. So we won't copy it

118

00:04:50.850  -->  00:04:53.490
into the visualization into the

119

00:04:53.490  -->  00:04:54.540
presentation yet.

120

00:04:54.540  -->  00:04:57.180
Alright and finally for today I wanted

121

00:04:57.180  -->  00:04:58.920
to show you how to create density chart.

122

00:04:58.920  -->  00:05:02.280
Now you might not need them ever

123

00:05:02.280  -->  00:05:05.580
sometimes you may need them density

124

00:05:05.580  -->  00:05:09.000
charts. So they basically illustrate the

125

00:05:09.000  -->  00:05:11.400
probability density function so instead

126

00:05:11.400  -->  00:05:13.920
of S geom histogram.  I'm going to say S

127

00:05:13.920  -->  00:05:17.760
geom density. Now inside I want, so if

128

00:05:17.760  -->  00:05:19.380
I run that, you'll see that's the

129

00:05:19.380  -->  00:05:22.590
density of course it's not not a

130

00:05:22.590  -->  00:05:25.410
beautiful yet. It looks cool right? Looks

131

00:05:25.410  -->  00:05:27.780
smooth but let's make it even better.

132

00:05:27.780  -->  00:05:31.260
We'll say aesthetics fill equals a genre.

133

00:05:31.260  -->  00:05:33.750
Just like we did before with the plot,

134

00:05:33.750  -->  00:05:34.740
so there we go.

135

00:05:34.740  -->  00:05:36.090
The only problem here is that they're

136

00:05:36.090  -->  00:05:37.920
all behind each other, so they're not on

137

00:05:37.920  -->  00:05:39.840
top of each other you can't really see what's

138

00:05:39.840  -->  00:05:43.170
going on. So we're going to add a

139

00:05:43.170  -->  00:05:45.000
secret parameter here which is called

140

00:05:45.000  -->  00:05:48.180
position and equals just type in position

141

00:05:48.180  -->  00:05:51.270
stack. So if you' run that, you'll see

142

00:05:51.270  -->  00:05:52.560
that they're stacked on top of each

143

00:05:52.560  -->  00:05:54.330
other and we got pretty cool visualization

144

00:05:54.330  -->  00:05:57.060
here worth, worth looking at.

145

00:05:57.060  -->  00:05:58.440
Although we won't included in R

146

00:05:58.440  -->  00:06:01.320
presentation because it's really hard to

147

00:06:01.320  -->  00:06:04.740
explain to executive what a probability

148

00:06:04.740  -->  00:06:07.170
density function is over here and you

149

00:06:07.170  -->  00:06:09.180
know that every single point has a

150

00:06:09.180  -->  00:06:11.610
probability of 0 but the probability of

151

00:06:11.610  -->  00:06:15.240
a certain band is given by its area that

152

00:06:15.240  -->  00:06:17.790
is a nightmare and I really don't

153

00:06:17.790  -->  00:06:20.460
recommend doing that. So we're not going to

154

00:06:20.460  -->  00:06:23.040
add this all the beautiful chart into

155

00:06:23.040  -->  00:06:25.500
our presentation. We'll add the bar charts

156

00:06:25.500  -->  00:06:28.020
and histograms instead. I which it's also

157

00:06:28.020  -->  00:06:30.720
pretty pretty good and will actually

158

00:06:30.720  -->  00:06:31.950
improve it even more.

159

00:06:31.950  -->  00:06:33.870
Alright so there we go, that's how to

160

00:06:33.870  -->  00:06:36.240
create a density chart and if you ever

161

00:06:36.240  -->  00:06:38.160
need them due to the nature of your work

162

00:06:38.160  -->  00:06:38.770
and

163

00:06:38.770  -->  00:06:40.810
and you need the geom density function

164

00:06:40.810  -->  00:06:43.509
also we learned the geom histogram today

165

00:06:43.509  -->  00:06:46.150
and we practice some aesthetics mapping

166

00:06:46.150  -->  00:06:48.039
vs setting you can already see how

167

00:06:48.039  -->  00:06:51.400
they're coming in handy in our chart

168

00:06:51.400  -->  00:06:52.539
creation process.

169

00:06:52.539  -->  00:06:54.190
Alright that's all for today, learned a

170

00:06:54.190  -->  00:06:56.590
couple of new things. Give that a go,

171

00:06:56.590  -->  00:06:58.750
maybe try some try some of those on your

172

00:06:58.750  -->  00:07:01.449
own and I will see you next time. Until

173

00:07:01.449  -->  00:07:13.639
then, happy coding.
