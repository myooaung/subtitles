WEBVTT
1

00:00:00.270  -->  00:00:02.610
Hi welcome come back in this what you were looking at.

2

00:00:02.610  -->  00:00:05.450
ORDER BY which is another sequel clause.

3

00:00:05.610  -->  00:00:09.580
But first let's go over the challenge that we sent in the last video.

4

00:00:09.750  -->  00:00:14.000
It wasn't really that fantastically explained but I encourage you to have a go.

5

00:00:14.010  -->  00:00:20.460
Nevertheless I'm calculating how much in total customers have spent in your business.

6

00:00:20.790  -->  00:00:25.110
I would recommend putting the video given that I go if you haven't already and then keep moving forwards

7

00:00:25.130  -->  00:00:27.800
.

8

00:00:28.200  -->  00:00:31.190
It's actually simpler than you may think originally.

9

00:00:31.890  -->  00:00:35.160
The first thing to do is to figure out all your purchases.

10

00:00:35.220  -->  00:00:42.120
So select staff from purchases that gives you all your purchases.

11

00:00:42.480  -->  00:00:46.400
And then we're going to get which items were bought in each of those.

12

00:00:46.440  -->  00:00:55.110
So we going to do in in a join in a join items on purchases top item underscore ID equals items not

13

00:00:55.110  -->  00:00:56.600
ID.

14

00:00:56.610  -->  00:01:02.670
So that gives you the purchases and for each purchase which item was bought and that has a price associated

15

00:01:02.670  -->  00:01:04.800
with it.

16

00:01:04.800  -->  00:01:14.250
So now instead of selecting stock we have to do is select some of items price and that adds all of them

17

00:01:14.250  -->  00:01:20.050
together and it gives you the sum which is a 488 point or eight.

18

00:01:20.190  -->  00:01:27.090
And that's the total that your customers have spent in your business with that challenge out of the

19

00:01:27.090  -->  00:01:28.420
way I hope you've got that right.

20

00:01:28.440  -->  00:01:33.700
Let's move on to a quite simple Plaut which is the order by.

21

00:01:34.140  -->  00:01:37.590
And in order to look at it has some use for this clause.

22

00:01:37.740  -->  00:01:42.750
I'm going to go back to finding out how much each customer spent in your business.

23

00:01:42.750  -->  00:01:53.040
So once again I'm going to select staff from items from items and I'm going to do an inner join on purchases

24

00:01:53.040  -->  00:01:54.810
for purchases.

25

00:01:54.840  -->  00:02:00.690
Item ID equals items ID and as you know this is going to give me the items on each purchase and then

26

00:02:00.690  -->  00:02:06.700
I'm going to do an inner join again on customers for customer purchases.

27

00:02:06.900  -->  00:02:14.340
Daut customer id equal customers dot ID and that is going to give me for each purchase both the item

28

00:02:14.490  -->  00:02:16.740
and the customer.

29

00:02:16.800  -->  00:02:26.940
So now I'm going to select only the customer name first name customers or last name and the item price

30

00:02:29.310  -->  00:02:31.210
and then I'm going to group by item.

31

00:02:31.400  -->  00:02:37.400
So I group my customer group by customers not ID.

32

00:02:37.530  -->  00:02:39.730
And now I no longer can select the price.

33

00:02:39.730  -->  00:02:42.920
So I have to do a.

34

00:02:43.720  -->  00:02:46.180
And that gives me how much each customer spent.

35

00:02:46.230  -->  00:02:47.890
And we looked at this in the last video.

36

00:02:48.150  -->  00:02:55.500
But finally I can order this by how much they spent so I can for example get the top most customers

37

00:02:55.500  -->  00:03:00.250
spending the top order by AM.

38

00:03:00.620  -->  00:03:11.150
And I have to give this an alias as total spen order by total spend and press play.

39

00:03:11.550  -->  00:03:14.260
And that gives me them ordered.

40

00:03:15.270  -->  00:03:15.960
OK.

41

00:03:15.960  -->  00:03:23.580
So remember to give that an alias so you can order by it a bit more easily and then you can just order

42

00:03:23.580  -->  00:03:25.720
by and then it orders ascending.

43

00:03:25.860  -->  00:03:30.060
So the smallest number is at the top and the largest number is at the bottom.

44

00:03:30.060  -->  00:03:32.920
If we wanted to order the other direction.

45

00:03:32.940  -->  00:03:41.670
So the top most spending the top then we just see desk for descending and that puts the top most spend

46

00:03:41.670  -->  00:03:44.250
at the top.

47

00:03:44.250  -->  00:03:50.880
Similarly if you only wanted the first customer the top most spend in your business you could at the

48

00:03:50.880  -->  00:03:53.480
end add limit 1.

49

00:03:53.700  -->  00:03:58.030
And I'm just gonna put that in this video as well because it's a very simple keyword.

50

00:03:58.080  -->  00:04:00.710
I don't really want to make you go through another video just for that.

51

00:04:00.960  -->  00:04:08.280
Limit one or only gives you the first row limit to only gives you two most top pros and so on.

52

00:04:08.790  -->  00:04:15.600
So this is how you do an order by and you can do desk for descending or ask for ascending although that's

53

00:04:15.600  -->  00:04:16.230
the default.

54

00:04:16.260  -->  00:04:23.100
You don't have to do that and then limit it just use to limit the number of rows that are being returned

55

00:04:23.310  -->  00:04:25.020
and that's all.

56

00:04:25.020  -->  00:04:26.640
So this is everything for this video.

57

00:04:26.640  -->  00:04:33.310
Now let's move on into the next set of videos which are going to deal with essentially engaging with

58

00:04:33.630  -->  00:04:38.310
goodness through the command line in creating tables and things like that towards a user
