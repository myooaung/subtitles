1
00:00:01,000 --> 00:00:03,620
[Autogenerated] now will make some changes to the serverless

2
00:00:03,620 --> 00:00:07,950
template file to ensure that your serverless application has

3
00:00:07,950 --> 00:00:10,500
the right permissions that it needs.

4
00:00:10,500 --> 00:00:12,860
As you've experienced before this AP,

5
00:00:12,860 --> 00:00:16,680
I needs to be able to access the systems manager to read the

6
00:00:16,680 --> 00:00:21,640
parameter store and it needs access to the VPC where the rds

7
00:00:21,640 --> 00:00:23,440
instance and her database live.

8
00:00:23,440 --> 00:00:27,600
That means the serverless application needs to have a few more sets.

9
00:00:27,600 --> 00:00:29,060
Permissions weaken.

10
00:00:29,060 --> 00:00:32,600
Tie the application to some of the standard policies in

11
00:00:32,600 --> 00:00:37,940
AWS notice under the A S p net core function properties

12
00:00:37,940 --> 00:00:40,440
that the role property is No.

13
00:00:40,440 --> 00:00:45,440
But there is a policy listed inside the policies property and

14
00:00:45,440 --> 00:00:48,640
this is where we'll add two more policies.

15
00:00:48,640 --> 00:00:51,860
One is called Amazon S S M.

16
00:00:51,860 --> 00:00:53,700
Read Onley access.

17
00:00:53,700 --> 00:01:00,290
Where S S M refers to the systems manager There's an extra s there.

18
00:01:00,290 --> 00:01:05,740
That's because the service used to be called simple Systems Manager.

19
00:01:05,740 --> 00:01:14,780
The second policy we need to add is called AWS Lambda VPC access execution role.

20
00:01:14,780 --> 00:01:21,650
The purpose of this role isn't for giving access to the RTs vpc Instead,

21
00:01:21,650 --> 00:01:27,460
it gives the function permission tow wire up a connection to the VPC.

22
00:01:27,460 --> 00:01:32,050
If you preferred you could create a role that encapsulated all three of these

23
00:01:32,050 --> 00:01:37,130
policies and then add that to the role property instead of having these three

24
00:01:37,130 --> 00:01:44,000
policies listed under the policies property. But this is the path I'm choosing for the demo.

