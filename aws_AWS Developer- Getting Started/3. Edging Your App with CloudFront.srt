1
00:00:00,940 --> 00:00:03,600
[Autogenerated] one thing that I love about cloudfront is that

2
00:00:03,600 --> 00:00:07,230
it works with any existing applications,

3
00:00:07,230 --> 00:00:10,500
there's no changes required at the code level to

4
00:00:10,500 --> 00:00:13,210
benefit from what cloudfront offers.

5
00:00:13,210 --> 00:00:17,450
As you'll see there is enough fine grain control when configuring a

6
00:00:17,450 --> 00:00:21,440
cloudfront distribution that you can achieve very impressive results

7
00:00:21,440 --> 00:00:24,210
by just setting up a few behaviors.

8
00:00:24,210 --> 00:00:27,840
So let's get started open the AWS management console

9
00:00:27,840 --> 00:00:30,040
and go to the cloud front dashboard.

10
00:00:30,040 --> 00:00:33,590
We're going to create a cloudfront distribution to cash our

11
00:00:33,590 --> 00:00:37,140
entire elastic beanstalk application,

12
00:00:37,140 --> 00:00:40,940
click on the create a cloudfront distribution button.

13
00:00:40,940 --> 00:00:44,480
We'll start by choosing the origin for the distribution,

14
00:00:44,480 --> 00:00:49,440
click into the input field and look for the elastic load balancer section.

15
00:00:49,440 --> 00:00:52,180
Then choose the load balancer with a name that

16
00:00:52,180 --> 00:00:55,340
starts with something like a W S E B.

17
00:00:55,340 --> 00:01:00,840
This is how elastic beanstalk names the load balancers that it creates.

18
00:01:00,840 --> 00:01:04,200
The rest of these default origin settings will work for us.

19
00:01:04,200 --> 00:01:08,440
So scroll down to the default cache behavior setting.

20
00:01:08,440 --> 00:01:12,470
This is going to define how cloudfront responds to requests,

21
00:01:12,470 --> 00:01:13,290
caches,

22
00:01:13,290 --> 00:01:18,850
content and handles cookies will be able to set up additional behaviors after

23
00:01:18,850 --> 00:01:24,090
the distribution is created which we will but this one will be the default

24
00:01:24,090 --> 00:01:27,740
behavior for the viewer protocol policy option.

25
00:01:27,740 --> 00:01:33,710
We want to redirect any http requests to HTTPS to

26
00:01:33,710 --> 00:01:35,730
make our application more secure.

27
00:01:35,730 --> 00:01:38,180
So select that option allowed.

28
00:01:38,180 --> 00:01:42,750
Http methods is an important setting because Pizza lovers will respond

29
00:01:42,750 --> 00:01:48,910
to many different http methods like get and post So click the radio

30
00:01:48,910 --> 00:01:54,300
button for get head options put post patch and delete now we need to

31
00:01:54,300 --> 00:01:59,690
create a custom cache policy mostly because we need to cash based on our

32
00:01:59,690 --> 00:02:05,000
application cookie click this create policy link and it'll open the form

33
00:02:05,000 --> 00:02:06,440
in a new tab.

34
00:02:06,440 --> 00:02:07,760
You can name the policy,

35
00:02:07,760 --> 00:02:14,640
Pizza Dash Lovers dash cache then scroll to the cash key setting section.

36
00:02:14,640 --> 00:02:17,530
We do use query strings in some places in the apps,

37
00:02:17,530 --> 00:02:22,820
so go ahead and choose all in the drop-down Next in the cookies drop down,

38
00:02:22,820 --> 00:02:28,560
choose includes specified cookies and in the input field that pops up under

39
00:02:28,560 --> 00:02:36,300
allow type P Z Z the number four and life with a Y L Y F E.

40
00:02:36,300 --> 00:02:41,160
Pizza for life another benefit of forwarding this cookie is that if it

41
00:02:41,160 --> 00:02:45,410
changes cloudfront will treat that as a different request than the one

42
00:02:45,410 --> 00:02:49,340
before which will be important for dynamic content.

43
00:02:49,340 --> 00:02:52,140
Now you can click create,

44
00:02:52,140 --> 00:02:55,570
go back to the distribution creation tab and click the

45
00:02:55,570 --> 00:02:58,070
refresh button next to the cash policy,

46
00:02:58,070 --> 00:03:04,820
drop-down then choose the Pizza Lovers cache policy and that drop-down now

47
00:03:04,820 --> 00:03:08,860
scroll down to the setting section for the price class option,

48
00:03:08,860 --> 00:03:13,220
you can select the cloudfront edge locations that will be used,

49
00:03:13,220 --> 00:03:17,000
there aren't a ton of options as you can see but each have

50
00:03:17,000 --> 00:03:18,870
a different price associated with them.

51
00:03:18,870 --> 00:03:23,240
So keep that in mind when selecting one for your production applications,

52
00:03:23,240 --> 00:03:27,590
it is the most expensive class but just leave it as use all edge

53
00:03:27,590 --> 00:03:32,080
locations Now all the other defaults here are good so go ahead and

54
00:03:32,080 --> 00:03:34,840
scroll to the bottom and click create distribution.

55
00:03:34,840 --> 00:03:38,210
Now, cloudfront does take some time to set everything up,

56
00:03:38,210 --> 00:03:40,430
about 10 minutes per distribution.

57
00:03:40,430 --> 00:03:42,360
I found in the next clip,

58
00:03:42,360 --> 00:03:49,000
we're going to configure some settings and then see what our app finally looks like being served with cloudfront.

