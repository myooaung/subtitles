1
00:00:00,940 --> 00:00:03,200
[Autogenerated] Let's create an application and elastic

2
00:00:03,200 --> 00:00:06,140
beanstalk and deploy Pizza Lovers.

3
00:00:06,140 --> 00:00:08,920
This process is going to be much less painful than the

4
00:00:08,920 --> 00:00:11,270
process we've been following until now,

5
00:00:11,270 --> 00:00:15,540
elastic beanstalk is going to take care of all of that for us.

6
00:00:15,540 --> 00:00:20,570
Go to the elastic beanstalk dashboard in the AWS management console will set

7
00:00:20,570 --> 00:00:23,890
up an application and an environment at the same time.

8
00:00:23,890 --> 00:00:29,100
So click the create application button, let's name the application.

9
00:00:29,100 --> 00:00:31,840
Pizza Dash Lovers.

10
00:00:31,840 --> 00:00:36,740
Now scroll down and in the platform drop down select node,

11
00:00:36,740 --> 00:00:42,860
then select the highest version of node available now in application code,

12
00:00:42,860 --> 00:00:46,640
select the upload your code radio button.

13
00:00:46,640 --> 00:00:52,740
It expects a zip of our entire application so we need to zip it up.

14
00:00:52,740 --> 00:00:56,630
You can do this however you want but I'll use the zip

15
00:00:56,630 --> 00:01:01,210
executable in my command prompt back in the console,

16
00:01:01,210 --> 00:01:06,840
click the choose file button and select the zip file you made and uploaded.

17
00:01:06,840 --> 00:01:10,860
Let's give this application version a name that will make it easier to

18
00:01:10,860 --> 00:01:16,040
identify if we ever need to enter first release.

19
00:01:16,040 --> 00:01:19,440
Now click the configure more options button so we can

20
00:01:19,440 --> 00:01:22,550
continue setting this environment up here is the

21
00:01:22,550 --> 00:01:24,990
configuration screen for your environment.

22
00:01:24,990 --> 00:01:29,050
It's basically the same as the configuration options you'll use

23
00:01:29,050 --> 00:01:32,480
after the environment is already created first.

24
00:01:32,480 --> 00:01:36,530
We need to ensure the application is in our Pizza Vpc.

25
00:01:36,530 --> 00:01:40,460
So scroll down to the network box and click edit in

26
00:01:40,460 --> 00:01:43,940
the VPc drop down select Pizza VPc,

27
00:01:43,940 --> 00:01:47,540
then select the checkbox to give the instance is a public

28
00:01:47,540 --> 00:01:53,040
iP Next select both of the sub nets that are available

29
00:01:53,040 --> 00:01:56,040
and then you can click save.

30
00:01:56,040 --> 00:01:58,980
Now we'll attach the Pizza E C two S.

31
00:01:58,980 --> 00:01:59,290
G.

32
00:01:59,290 --> 00:02:01,740
Security group to the instances,

33
00:02:01,740 --> 00:02:06,680
scroll to the instances box and click edit at the bottom.

34
00:02:06,680 --> 00:02:13,170
You can see the two security groups section, select Pizza E C two S G.

35
00:02:13,170 --> 00:02:15,040
And then click safe.

36
00:02:15,040 --> 00:02:18,500
Next we'll configure the key pair and roll for the instances.

37
00:02:18,500 --> 00:02:23,110
Go to the security box and click on edit in the ec.

38
00:02:23,110 --> 00:02:23,890
Two key pair.

39
00:02:23,890 --> 00:02:29,720
Drop down select pizza keys and then in the I am instance role.

40
00:02:29,720 --> 00:02:32,760
Drop down select Pizza E C.

41
00:02:32,760 --> 00:02:33,940
To roll.

42
00:02:33,940 --> 00:02:36,040
Now you can click save.

43
00:02:36,040 --> 00:02:38,990
We still need to configure the environment to create a load

44
00:02:38,990 --> 00:02:41,890
balanced auto scaled group of instances.

45
00:02:41,890 --> 00:02:44,710
You can see in the capacity section that it has just

46
00:02:44,710 --> 00:02:47,190
configured to launch a single instance.

47
00:02:47,190 --> 00:02:52,300
So click edit in the capacity box now change the environment type.

48
00:02:52,300 --> 00:02:54,740
Drop down to load balanced.

49
00:02:54,740 --> 00:02:59,810
We can leave the instances at one and one obviously there won't be any

50
00:02:59,810 --> 00:03:04,620
scaling up or down if we leave the max and men at the same value but

51
00:03:04,620 --> 00:03:08,700
the load balancer will allow us to configure some more things and how

52
00:03:08,700 --> 00:03:12,320
are elastic being stalked more closely look like our manual load

53
00:03:12,320 --> 00:03:14,440
balanced configuration.

54
00:03:14,440 --> 00:03:16,440
Go ahead and click save.

55
00:03:16,440 --> 00:03:18,890
Now we need to configure the load balancers so go to

56
00:03:18,890 --> 00:03:21,490
the load balancer box and click edit.

57
00:03:21,490 --> 00:03:26,020
The load balancer is initially configured to route from port 82.

58
00:03:26,020 --> 00:03:27,180
Port 80 on.

59
00:03:27,180 --> 00:03:29,740
Our instances are instances.

60
00:03:29,740 --> 00:03:31,920
Will be listening on port 3000.

61
00:03:31,920 --> 00:03:35,850
So in the process is section select the single

62
00:03:35,850 --> 00:03:38,500
process and then click the actions.

63
00:03:38,500 --> 00:03:46,440
Drop down and select edit, Change the port to be 3000 and then click Save.

64
00:03:46,440 --> 00:03:50,640
Now the load balancer is all set up, so go ahead and click save again.

65
00:03:50,640 --> 00:03:54,010
Now we've made all the changes we want to so you can click

66
00:03:54,010 --> 00:03:57,040
create app at the bottom of the screen,

67
00:03:57,040 --> 00:04:00,970
elastic beanstalk is going to create all the resources needed for your

68
00:04:00,970 --> 00:04:04,910
application environment and deploy the code to the Ec.

69
00:04:04,910 --> 00:04:07,430
Two instances in reality,

70
00:04:07,430 --> 00:04:12,470
elastic beanstalk is using CloudFormation to accomplish a lot of this.

71
00:04:12,470 --> 00:04:15,560
If you navigate to the CloudFormation dashboard,

72
00:04:15,560 --> 00:04:19,330
you'll see a new stack created by elastic beanstalk

73
00:04:19,330 --> 00:04:23,340
which has the status create in progress.

74
00:04:23,340 --> 00:04:27,440
Go back to elastic beanstalk and select the pizza lovers environment.

75
00:04:27,440 --> 00:04:30,360
You should still see this command line, looking output,

76
00:04:30,360 --> 00:04:40,000
listing the events of the environment creation. This will take a few minutes so let's prepare something else for our application

