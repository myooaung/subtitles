WEBVTT
1
00:00:00.940 --> 00:00:04.260
[Autogenerated] for your first CloudWatch alarm I thought it would be best to

2
00:00:04.260 --> 00:00:08.940
set up a billing alarm in case anything we do charges us.

3
00:00:08.940 --> 00:00:13.170
This is pretty important to have regardless as AWS charges have a

4
00:00:13.170 --> 00:00:17.410
tendency to sneak up on you if you aren't paying attention especially

5
00:00:17.410 --> 00:00:19.620
since they bill at the end of the month.

6
00:00:19.620 --> 00:00:25.450
Trust me on this, I'm speaking from experience in your AWS management console,

7
00:00:25.450 --> 00:00:28.140
go to the CloudWatch dashboard.

8
00:00:28.140 --> 00:00:32.290
The CloudWatch Service has a lot of different functionalities.

9
00:00:32.290 --> 00:00:35.680
There are the dashboards where you can view the status of

10
00:00:35.680 --> 00:00:37.940
different metrics for your resources,

11
00:00:37.940 --> 00:00:43.440
alarms where you can perform automated actions based on metric thresholds,

12
00:00:43.440 --> 00:00:49.010
logs where you can import and analyze logs from all sorts of AWS

13
00:00:49.010 --> 00:00:53.540
resources and there are so many more I swear there seemed to be more

14
00:00:53.540 --> 00:00:56.840
features added to CloudWatch every single day.

15
00:00:56.840 --> 00:01:01.230
The alarms option is what we want but there is something unique

16
00:01:01.230 --> 00:01:04.820
about billing alerts that we need to take care of.

17
00:01:04.820 --> 00:01:09.790
First billing alerts are currently only available in the north Virginia

18
00:01:09.790 --> 00:01:14.300
region and they have to be enabled from the billing dashboard So let's

19
00:01:14.300 --> 00:01:17.040
enable building alerts on our account,

20
00:01:17.040 --> 00:01:19.770
ensure that you are still in the north Virginia region

21
00:01:19.770 --> 00:01:21.860
since we changed it in the last clip,

22
00:01:21.860 --> 00:01:25.930
then click on your name in the top right of the screen and select

23
00:01:25.930 --> 00:01:29.780
my billing dashboard on the left hand side,

24
00:01:29.780 --> 00:01:36.750
select billing preferences and then check the box for receive billing alerts,

25
00:01:36.750 --> 00:01:40.840
then save the change by clicking save preferences.

26
00:01:40.840 --> 00:01:44.440
This will enable us to create an alarm for billing.

27
00:01:44.440 --> 00:01:49.360
Now go back to the CloudWatch dashboard select the alarms menu

28
00:01:49.360 --> 00:01:52.680
option on the left side of the screen to expand it and then

29
00:01:52.680 --> 00:01:56.000
select the all alarms sub option.

30
00:01:56.000 --> 00:02:01.400
You could also select the billing option which would pre set some filters for

31
00:02:01.400 --> 00:02:06.620
your list but I actually want you to get the full vanilla experience of

32
00:02:06.620 --> 00:02:09.510
creating a cloudwatch alarm from scratch instead.

33
00:02:09.510 --> 00:02:12.140
Now click the create alarm button,

34
00:02:12.140 --> 00:02:16.810
you may have noticed by now that AWS kind of goes between calling these things,

35
00:02:16.810 --> 00:02:19.740
billing alerts and billing alarms.

36
00:02:19.740 --> 00:02:24.630
They're basically the same thing as far as I can tell though in the next screen

37
00:02:24.630 --> 00:02:29.770
click the select metric button in the select metric modal.

38
00:02:29.770 --> 00:02:34.290
You should see only a couple of services available in the metric section.

39
00:02:34.290 --> 00:02:38.610
CloudWatch will only show you available metrics to set alarms on for

40
00:02:38.610 --> 00:02:42.340
services that you currently have resources created for.

41
00:02:42.340 --> 00:02:46.940
We haven't yet created any ec two instances or dynamodb tables

42
00:02:46.940 --> 00:02:51.440
which is why those metrics don't appear here to select now select

43
00:02:51.440 --> 00:02:57.000
billing and then total estimated charge and then select the list

44
00:02:57.000 --> 00:03:00.440
option for usd currency.

45
00:03:00.440 --> 00:03:04.040
Then click the select metric button.

46
00:03:04.040 --> 00:03:07.580
Now we need to set the time period which the alarm will

47
00:03:07.580 --> 00:03:12.440
use to evaluate whether a threshold was crossed or not

48
00:03:12.440 --> 00:03:14.470
for estimated billing charges.

49
00:03:14.470 --> 00:03:20.540
This doesn't quite matter as much so we can just leave it at six hours.

50
00:03:20.540 --> 00:03:25.740
Now scroll down to the condition section here is where we'll define

51
00:03:25.740 --> 00:03:29.540
the amount that we want to use as a threshold.

52
00:03:29.540 --> 00:03:34.190
Leave the static threshold type and the operator of greater

53
00:03:34.190 --> 00:03:38.770
selected in the threshold value enter the dollar amount that

54
00:03:38.770 --> 00:03:41.340
you want to use as a threshold.

55
00:03:41.340 --> 00:03:46.210
I usually set mine to $5 but feel free to set yours to a

56
00:03:46.210 --> 00:03:48.490
different value that you're comfortable with.

57
00:03:48.490 --> 00:03:52.940
Now click next and take a look at the notification section.

58
00:03:52.940 --> 00:03:57.240
We want to be notified when the alarm has entered the alarm state.

59
00:03:57.240 --> 00:04:00.040
So leave this option selected.

60
00:04:00.040 --> 00:04:05.420
We'll also use an existing sNS topic so leave the radio option

61
00:04:05.420 --> 00:04:10.360
selected and click in the following input box to select the admin

62
00:04:10.360 --> 00:04:13.540
underscore email topic that we created.

63
00:04:13.540 --> 00:04:17.560
The next two sections are for actions that CloudWatch can take on ec.

64
00:04:17.560 --> 00:04:19.540
Two instances.

65
00:04:19.540 --> 00:04:22.320
Now click the next button here.

66
00:04:22.320 --> 00:04:27.300
We get to name the alarm for our reference later I'll name mine

67
00:04:27.300 --> 00:04:31.740
something really creative like billing alarm.

68
00:04:31.740 --> 00:04:37.140
Now click next and we can preview all of the options we selected.

69
00:04:37.140 --> 00:04:38.430
Everything looks good here.

70
00:04:38.430 --> 00:04:44.940
So click the create alarm button and will be taken back to the alarms list.

71
00:04:44.940 --> 00:04:49.000
The billing alarm we just created will be in the insufficient data

72
00:04:49.000 --> 00:04:53.240
state which just means it hasn't connected to the billing system yet

73
00:04:53.240 --> 00:04:56.100
and gotten any data and that's fine.

74
00:04:56.100 --> 00:05:01.460
Just refresh the list and it should then show is okay now we're all set

75
00:05:01.460 --> 00:05:04.740
and will be notified if the alarm ever gets triggered.

76
00:05:04.740 --> 00:05:07.380
Throughout the course we will be utilizing CloudWatch for

77
00:05:07.380 --> 00:05:10.140
many of the other services we interact with.

78
00:05:10.140 --> 00:05:15.920
In fact, many services use CloudWatch implicitly for managing automatic behavior.

79
00:05:15.920 --> 00:05:23.000
We will continue to see CloudWatch as we move throughout this course, so this won't be the last you see of it.

