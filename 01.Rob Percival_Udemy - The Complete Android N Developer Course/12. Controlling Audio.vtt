WEBVTT
1
00:00:00.910 --> 00:00:05.560
Now that we've learned how to add video to our apps we're going to see how to do the same with audio.

2
00:00:05.860 --> 00:00:10.180
But this time we're going to take things a little bit further and actually show you how we can create

3
00:00:10.180 --> 00:00:15.940
buttons to allow the user to interact with the audio directly and then we get full control over what

4
00:00:15.940 --> 00:00:17.810
those buttons actually do.

5
00:00:18.280 --> 00:00:23.210
So fairly straightforward but very powerful as well.

6
00:00:23.230 --> 00:00:27.020
Let's start in the usual way by creating a new project

7
00:00:29.910 --> 00:00:31.710
I'm going to call this sound demo

8
00:00:34.490 --> 00:00:39.650
and then usual settings blank activity and all the defaults there.

9
00:00:41.220 --> 00:00:48.510
While that's getting created Let's jump over to crame to download a sound file so you can use any sound

10
00:00:48.510 --> 00:00:52.620
file you like for this but I'm going to get mine from sound Bible dot com.

11
00:00:53.040 --> 00:00:57.930
And there's a huge range you can get all for free.

12
00:00:57.930 --> 00:01:00.770
I've just selected the funny sounds there and we'll go for that.

13
00:01:00.770 --> 00:01:05.530
The kids love one always good sir.

14
00:01:07.680 --> 00:01:08.310
Very nice.

15
00:01:08.310 --> 00:01:09.960
Warms your heart doesn't it.

16
00:01:10.360 --> 00:01:12.890
So just click on the name of the sound effect.

17
00:01:12.900 --> 00:01:18.990
You want to use and then I would recommend clicking on the MP3.

18
00:01:19.090 --> 00:01:20.470
It's going to get annoying actually isn't it.

19
00:01:20.480 --> 00:01:25.300
But that we have and then I'm just going to download mine to the desktop.

20
00:01:25.370 --> 00:01:28.380
You might want to rename it to something simple.

21
00:01:28.400 --> 00:01:29.690
I'm going to call mine loff

22
00:01:33.370 --> 00:01:38.370
and then we can import that into our app.

23
00:01:38.380 --> 00:01:40.190
We're now ready to go.

24
00:01:40.930 --> 00:01:48.360
So you may remember from the last one that what we're going to do is to create a rez folder in the restful

25
00:01:48.370 --> 00:01:55.910
that we're going to create a new directory called roll and that's where we're going to store and P3

26
00:01:55.920 --> 00:01:57.110
file.

27
00:01:57.130 --> 00:02:01.410
It doesn't appear there automatically but if you make it smaller and bigger again it should be there

28
00:02:01.420 --> 00:02:08.800
it is fantastic so if you're on Windows you can just drag and drop your laugh or MP3 file straight in.

29
00:02:08.950 --> 00:02:12.220
Unfortunately on Mac that doesn't work at the moment.

30
00:02:12.220 --> 00:02:17.020
It's worth giving it a try because it may have been fixed in a later version of Android studio but if

31
00:02:17.020 --> 00:02:22.300
like me that doesn't work for you you just need to drag and drop it in.

32
00:02:22.330 --> 00:02:30.910
So we'll do that by control clicking or right clicking on the raw folder and then it's revealed in Finder.

33
00:02:32.220 --> 00:02:38.630
And then just double click on it and drag laughter MP 3

34
00:02:42.250 --> 00:02:44.760
right in that there we go.

35
00:02:44.950 --> 00:02:48.880
And then sometimes will appear that automatically.

36
00:02:49.020 --> 00:02:49.890
There you go.

37
00:02:50.320 --> 00:02:52.380
It has now appeared.

38
00:02:52.720 --> 00:03:00.150
If it doesn't just control click or right click and synchronize roll and then that will appear great.

39
00:03:00.190 --> 00:03:03.750
So we've got I left to file in the app.

40
00:03:03.910 --> 00:03:09.750
Now it's just a matter of playing it so we can do that with a couple of lines of code.

41
00:03:09.850 --> 00:03:11.400
In main activity.

42
00:03:14.450 --> 00:03:17.360
So first thing is as before we need to import

43
00:03:21.330 --> 00:03:32.550
the media plan so import Android media Dopp media player.

44
00:03:33.130 --> 00:03:34.540
There it is.

45
00:03:34.540 --> 00:03:38.530
And then we can actually play the thing with just two lines of code.

46
00:03:39.160 --> 00:03:48.250
So we're going to create a media play a variable using media Placide that's the type of the variable

47
00:03:48.250 --> 00:03:56.500
that we're creating I'll call it and play a and we're going to create it using media player to create

48
00:03:57.610 --> 00:03:58.200
it.

49
00:03:58.590 --> 00:04:00.440
And I'm going to do things slightly differently this time.

50
00:04:00.480 --> 00:04:09.150
We still need a context which as before is just this but this time I'm going to create it with the file

51
00:04:09.150 --> 00:04:10.380
itself.

52
00:04:10.380 --> 00:04:17.110
So I'm going to use dot roll to offer results is raw to get the revolver.

53
00:04:17.340 --> 00:04:18.870
And then there it is.

54
00:04:18.940 --> 00:04:19.340
LOF

55
00:04:23.310 --> 00:04:28.860
So that creates the media play with that specific file and then to play it.

56
00:04:29.040 --> 00:04:38.940
We need to do is type player don't start simple as that.

57
00:04:39.340 --> 00:04:46.330
So now if we run that we should find that it creates the media play object and we get the lovely laughing

58
00:04:46.330 --> 00:04:49.270
sound coming out of our app.

59
00:04:51.260 --> 00:04:56.030
It we go I'm just going to choose that device and then run that

60
00:05:01.720 --> 00:05:03.340
and wait for it.

61
00:05:10.860 --> 00:05:11.690
There we go.

62
00:05:12.030 --> 00:05:13.520
I hope you had that.

63
00:05:13.560 --> 00:05:15.800
So that played on a.

64
00:05:15.830 --> 00:05:18.700
I here this S&amp;M app.

65
00:05:18.780 --> 00:05:20.760
So now we've got sound up and running.

66
00:05:20.820 --> 00:05:26.550
I'm going to give you a quick challenge and that is going to be to alter our app so that we have two

67
00:05:26.550 --> 00:05:27.160
buttons.

68
00:05:27.180 --> 00:05:33.990
One is play and the other is pause and instead of then playing the sound file the moment the app has

69
00:05:33.990 --> 00:05:38.060
run it plays it every time the user clicks play.

70
00:05:38.220 --> 00:05:42.450
And of course pause we want to pause the sound from playing.

71
00:05:42.570 --> 00:05:46.800
Now I haven't shown you have to do pause before so you might need to do a quick bit of googling to try

72
00:05:46.800 --> 00:05:49.460
and work out what the pause command is.

73
00:05:49.950 --> 00:05:52.190
But I think you might be able to do that.

74
00:05:52.310 --> 00:05:52.680
All right.

75
00:05:52.710 --> 00:05:55.240
So maybe it's post video and give that a shot.

76
00:05:55.260 --> 00:05:55.920
Good luck.

77
00:06:02.490 --> 00:06:03.110
All right.

78
00:06:03.310 --> 00:06:16.150
Well I'm going to jump over here first to activity in SML to add those buttons and let's just get rid

79
00:06:16.150 --> 00:06:20.020
of locks for the moment.

80
00:06:20.200 --> 00:06:24.760
So I'm just going to drag in two buttons.

81
00:06:28.920 --> 00:06:31.020
Not interested in layout tool here.

82
00:06:38.510 --> 00:06:43.960
So that one is going to be my play button.

83
00:06:44.940 --> 00:06:46.520
So the idea to play button

84
00:06:50.420 --> 00:06:51.900
and we'll update is

85
00:06:57.410 --> 00:07:00.910
and then same with pause

86
00:07:04.740 --> 00:07:05.830
pauses.

87
00:07:06.230 --> 00:07:07.660
There we go hands.

88
00:07:07.970 --> 00:07:09.990
I'm going to change the unclick

89
00:07:14.040 --> 00:07:15.670
attribute t to.

90
00:07:15.690 --> 00:07:17.680
Pause.

91
00:07:19.370 --> 00:07:21.830
Woodier.

92
00:07:21.960 --> 00:07:29.020
And then for the play button you might be surprised to hear that I'm going to call that play or.

93
00:07:31.320 --> 00:07:34.290
Would say that's what we need here.

94
00:07:34.300 --> 00:07:46.760
So let's jump back over to main activity Java and create our methods to play and was.

95
00:07:46.820 --> 00:07:56.030
So let's play first went public void and then play Wardy And

96
00:07:59.740 --> 00:08:05.330
and this is being called by a view which we'll call you which we know with the button but we don't really

97
00:08:05.330 --> 00:08:07.430
care about.

98
00:08:08.470 --> 00:08:11.610
And this is where we want to play the audio.

99
00:08:12.510 --> 00:08:22.040
So the obvious thing would be to just take the code from there and pop it in there.

100
00:08:22.340 --> 00:08:27.730
That will work but we'll then have some problems when we want to pause the audio.

101
00:08:28.270 --> 00:08:34.360
So let's just see what happens if we want to create our pause

102
00:08:39.350 --> 00:08:43.540
ODI method assignments before.

103
00:08:43.790 --> 00:08:54.330
Now if you figured out what the post command is if I write that in him it turns out to be in play a

104
00:08:54.480 --> 00:08:55.340
dot pause

105
00:08:58.730 --> 00:09:00.440
simple enough.

106
00:09:00.440 --> 00:09:01.490
If you didn't figure that out.

107
00:09:01.520 --> 00:09:02.410
Shame on you.

108
00:09:02.720 --> 00:09:09.560
But of course if we move that into here the play A variable is only defined in this method up here.

109
00:09:09.560 --> 00:09:15.130
So what we're going to need to do is define the play a variable outside of these two methods.

110
00:09:17.820 --> 00:09:19.130
Again that's simple enough.

111
00:09:19.130 --> 00:09:28.100
I'm just going to take the bit of code that defines and play a variable and pop it right outside of

112
00:09:28.100 --> 00:09:29.620
those two methods.

113
00:09:30.290 --> 00:09:35.330
And then of course we don't need to define it again because it already exists.

114
00:09:35.330 --> 00:09:40.580
So now we've got a global and play a variable which we can access anywhere in our code.

115
00:09:40.880 --> 00:09:52.590
And just before we run that we just need to add Android don't the don't v.

116
00:09:52.840 --> 00:09:59.700
Otherwise it won't pick up on those.

117
00:09:59.730 --> 00:10:07.650
So you might be wondering exactly whether this is going to start and restart the order every time or

118
00:10:07.650 --> 00:10:15.170
whether it's actually going to stop and then start again where it was before.

119
00:10:15.440 --> 00:10:21.950
So maybe have a quick think about that and what you expect to happen and then we'll find out when we

120
00:10:21.950 --> 00:10:22.500
run the apps.

121
00:10:22.520 --> 00:10:23.090
First of all

122
00:10:26.860 --> 00:10:29.430
put sound on my machine before I panic.

123
00:10:30.800 --> 00:10:31.240
There we go.

124
00:10:31.280 --> 00:10:33.150
OK so we've got our play button working.

125
00:10:35.000 --> 00:10:38.410
And Paul was definitely works because the order had stopped

126
00:10:41.050 --> 00:10:44.170
but the play button actually restarts.

127
00:10:44.510 --> 00:10:53.240
So if I can make that clear for you I'll post it near the end but the play button actually restarts

128
00:10:53.240 --> 00:10:54.170
it.

129
00:10:54.760 --> 00:11:01.120
So we might have been able to anticipate that what we need today to fix it is to define

130
00:11:04.180 --> 00:11:11.590
and play a variable or say what we want and play a variable to contain in the uncreate method.

131
00:11:11.630 --> 00:11:18.380
So this will then create a media play with this particular sound file and then this just starts playback

132
00:11:18.500 --> 00:11:21.090
and pauses playback.

133
00:11:21.110 --> 00:11:26.630
So now we should get the behavior that we want to the pause button is actually pause rather than stop

134
00:11:27.290 --> 00:11:28.610
which is what was happening.

135
00:11:29.950 --> 00:11:30.820
Just now.

136
00:11:31.010 --> 00:11:33.480
Well to be fair to the buttons it was a pause button.

137
00:11:33.480 --> 00:11:41.120
It was the restarting that was actually setting it back to the beginning again.

138
00:11:41.370 --> 00:11:43.080
Tell us take a look now.

139
00:11:46.550 --> 00:11:47.060
There you go.

140
00:11:47.060 --> 00:11:49.030
So hopefully you can hear the difference there.

141
00:11:51.750 --> 00:11:57.300
If we now just play we only get the very last bit of the video.

142
00:11:58.340 --> 00:11:58.670
Great.

143
00:11:58.680 --> 00:12:05.730
So you could use that to create an effective stop button as well but you'd probably be better off using

144
00:12:05.730 --> 00:12:07.980
the official player.

145
00:12:08.190 --> 00:12:15.160
Don't stop if you wanted to actually stop the audio rather than pause it.

146
00:12:15.780 --> 00:12:16.140
Great.

147
00:12:16.170 --> 00:12:19.230
So we've created our audio player in the next video.

148
00:12:19.230 --> 00:12:23.130
We're going to go on and create some more controls for this app.

149
00:12:23.130 --> 00:12:30.390
Specifically we're going to add a volume control and a seek control which allows you to go to anywhere

150
00:12:30.930 --> 00:12:32.420
in the piece of audio.

151
00:12:32.790 --> 00:12:38.250
That's pretty much everything you need for an audio player app and it will also introduce us to the

152
00:12:38.250 --> 00:12:40.700
slider or as they're known in Android.

153
00:12:40.700 --> 00:12:45.430
They seek power which will allow the user to drag a point on a bar back and forth.

154
00:12:45.450 --> 00:12:50.130
So they're very useful particularly in media players and we'll see how to use those in the next lecture.

155
00:12:50.250 --> 00:12:51.050
You see.
