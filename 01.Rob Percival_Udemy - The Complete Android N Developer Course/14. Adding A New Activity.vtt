WEBVTT
1
00:00:00.270 --> 00:00:05.910
All the apps that we built so far have one thing in common they only have a single activity or screen

2
00:00:06.150 --> 00:00:09.180
to display information to the user.

3
00:00:09.180 --> 00:00:13.170
The more complex apps are we're going to build in the rest of the Course will often require more than

4
00:00:13.170 --> 00:00:14.080
one activity.

5
00:00:14.280 --> 00:00:20.520
So now we're going to find out how to add a second activity to our app and switch and pass data between

6
00:00:20.790 --> 00:00:22.930
two activities.

7
00:00:23.010 --> 00:00:26.900
So if we get a call there's multiple activities

8
00:00:29.670 --> 00:00:40.470
demo and we use a marshmallow API even though we could be doing this with a low API nothing that we're

9
00:00:40.470 --> 00:00:42.810
doing is Marshmallow specific.

10
00:00:43.410 --> 00:00:47.860
So here we go initially to add a second activity is very very easy.

11
00:00:47.910 --> 00:00:58.500
We just go to file new activity and then we just pick the activity that we want.

12
00:00:58.570 --> 00:01:03.190
If you want to look at the specific activities then you can.

13
00:01:03.550 --> 00:01:08.200
So let's just quickly go to the gallery and then this is what we're familiar with.

14
00:01:08.200 --> 00:01:11.750
We'll keep to a nice empty activity.

15
00:01:13.850 --> 00:01:14.790
So I'll call this

16
00:01:18.290 --> 00:01:22.030
second activity leave the name is activity second.

17
00:01:22.370 --> 00:01:24.990
The package name is the same as before.

18
00:01:27.160 --> 00:01:27.910
So here we go.

19
00:01:27.910 --> 00:01:36.820
You can see we've now got two activities and inside our layout although we've got two Excel files to

20
00:01:36.820 --> 00:01:41.090
describe the two different activities.

21
00:01:41.680 --> 00:01:46.940
So now we've got our second activity how are we going to access it from the first.

22
00:01:47.440 --> 00:01:51.190
We'll just run the app in the background to get things displaying

23
00:01:54.950 --> 00:02:01.520
them more about the rendering problems just because things are still starting up.

24
00:02:01.630 --> 00:02:03.570
So I'm going to bring in a button

25
00:02:06.760 --> 00:02:11.040
doesn't really matter where we have it in the app to just that.

26
00:02:11.040 --> 00:02:18.910
And this is this button is going to allow users to switch from the first activity to the second.

27
00:02:18.980 --> 00:02:32.630
So I'm going to change the text to jump to a second activity and we'll add in an enclave method of two

28
00:02:32.700 --> 00:02:36.020
second activity

29
00:02:38.870 --> 00:02:41.910
came just jacked that up a bit.

30
00:02:43.260 --> 00:02:46.590
And then we'll take a quick look at have the second activity.

31
00:02:46.710 --> 00:02:49.170
So that's just blank at the moment which is fine.

32
00:02:49.190 --> 00:02:54.310
All we want to do is to be sure that we have successfully jumped to the second activity.

33
00:02:56.340 --> 00:03:02.610
So then over in the main activity you have a file we'll write our usual code to do something when that

34
00:03:02.910 --> 00:03:04.500
pattern is clicked.

35
00:03:04.500 --> 00:03:19.500
So public FOID to second activity call by our putten view and then we're going to write our code to

36
00:03:19.530 --> 00:03:26.650
jump to the second activity and we do this by creating something called intent.

37
00:03:27.090 --> 00:03:32.340
And intent is essentially something that changes the target of our code.

38
00:03:32.460 --> 00:03:37.130
So it might be jumping to a second activity or even to a different.

39
00:03:38.040 --> 00:03:46.470
And I'm going to call the intent intent and this is going to be a new intent within the application

40
00:03:46.470 --> 00:03:52.610
context within this app and we want to jump to the second activity.

41
00:03:53.610 --> 00:03:55.810
So we're going to call that second activity.

42
00:03:55.830 --> 00:04:05.300
What it is called second activity taught class so that will navigate to the second activity when we

43
00:04:05.300 --> 00:04:07.090
start this intent.

44
00:04:07.490 --> 00:04:11.780
And we do that using start activity

45
00:04:14.770 --> 00:04:16.920
using the intent that we've just created

46
00:04:20.240 --> 00:04:26.050
so that we don't we should now be able to jump to the second connected connectivity activity.

47
00:04:26.420 --> 00:04:30.320
So you can see our original app once that's built

48
00:04:33.110 --> 00:04:37.540
should update with the New button.

49
00:04:37.550 --> 00:04:38.240
Here we go.

50
00:04:38.320 --> 00:04:43.370
So let's tap the button and you can see we jumped to the second activity.

51
00:04:43.460 --> 00:04:44.460
So simple as that.

52
00:04:44.570 --> 00:04:46.970
Here's a quick challenge for you to practice doing that.

53
00:04:47.090 --> 00:04:53.580
Can you create a button on the second activity which jumps back to the first activity.

54
00:04:53.600 --> 00:04:54.600
Simple as that.

55
00:04:54.620 --> 00:05:02.590
Go for it.

56
00:05:02.620 --> 00:05:03.230
All right.

57
00:05:03.230 --> 00:05:04.210
Have you managed it.

58
00:05:05.940 --> 00:05:09.130
It really it's very similar to what we've done already.

59
00:05:09.300 --> 00:05:12.090
So dragging a button to the second activity

60
00:05:17.100 --> 00:05:19.810
back to main activity

61
00:05:23.030 --> 00:05:30.190
will give it an on click of back to main and then either in the second activity you have a file

62
00:05:33.510 --> 00:05:40.410
or create a method a public void back to Main

63
00:05:44.370 --> 00:05:45.710
with how about.

64
00:05:48.170 --> 00:05:50.240
And then we create our intent

65
00:05:53.130 --> 00:05:54.740
which is a new intent

66
00:05:57.200 --> 00:06:02.280
using the application context.

67
00:06:02.540 --> 00:06:11.050
And this time we want to go back to main activity class.

68
00:06:11.270 --> 00:06:15.460
And then finally we start that act.

69
00:06:15.500 --> 00:06:25.250
Tippett te using the intent that we just created.

70
00:06:25.260 --> 00:06:27.490
All right so let's see that in action.

71
00:06:29.620 --> 00:06:31.920
The first activity should work as before.

72
00:06:32.100 --> 00:06:37.560
But the second activity will now have a button which links that back to the main activity.

73
00:06:38.160 --> 00:06:38.830
Here we go.

74
00:06:38.880 --> 00:06:46.010
So let's jump to the second activity and then back to the main activity and there we go.

75
00:06:46.340 --> 00:06:50.070
So we can jump back and forward as many times as we like now.

76
00:06:51.430 --> 00:06:51.730
Great.

77
00:06:51.740 --> 00:06:54.280
So we've now got two activities and we can jump between them.

78
00:06:54.320 --> 00:06:59.750
Obviously we could extend that to as many activities as we like but a common thing to want to do is

79
00:06:59.750 --> 00:07:04.600
to pass variables back and forth between the activities.

80
00:07:04.670 --> 00:07:06.230
So let's see how we do that.

81
00:07:08.950 --> 00:07:18.430
So let's say we've got a variable that we want to pass to the second activity from the first we would

82
00:07:18.430 --> 00:07:29.210
take our intent and we would put an extra or an extra bit of information with our intent.

83
00:07:30.090 --> 00:07:38.990
And we might have something like a username and then that you and I might be Rob simple as that.

84
00:07:39.410 --> 00:07:47.570
Then in the second activity when we want to receive that variable we would actually get an see the uncreate

85
00:07:47.570 --> 00:07:51.010
method.

86
00:07:51.060 --> 00:08:02.120
So when the activity is displayed and again we create an intent and this one is going to get the intent

87
00:08:02.220 --> 00:08:09.530
that brought the user to this activity and then create a quick toast

88
00:08:14.300 --> 00:08:19.630
and we're going to display the value that we received.

89
00:08:19.650 --> 00:08:23.870
So it's get and we have to specify the type of data.

90
00:08:24.000 --> 00:08:27.090
So we're sending and receiving a string.

91
00:08:27.090 --> 00:08:34.130
So it get string extra and the name of the variable that we want to get is username

92
00:08:37.670 --> 00:08:38.690
OK.

93
00:08:39.570 --> 00:08:42.570
So let's take a look at that.

94
00:08:42.570 --> 00:08:50.970
Now when we jump to the second activity it should give us a little pop up with the value of the variable

95
00:08:50.970 --> 00:08:57.550
that we've passed to it and that's the best way to share data between different activities.

96
00:08:59.700 --> 00:09:00.340
Here we go.

97
00:09:00.370 --> 00:09:06.320
So jump to set connectivity and there you see the robber appeared for us then.

98
00:09:06.460 --> 00:09:07.070
All right.

99
00:09:07.120 --> 00:09:09.870
So now a fairly big challenge for you to put this together.

100
00:09:10.210 --> 00:09:18.670
A common use of two activities is to have in the main activity a table which shows for example a collection

101
00:09:18.670 --> 00:09:19.580
of username.

102
00:09:20.080 --> 00:09:25.600
And then when one of those is tapped on it jumps to a second activity which allows you to send a tweet

103
00:09:25.600 --> 00:09:26.680
to that user.

104
00:09:26.950 --> 00:09:29.260
Post a photo or whatever it might be.

105
00:09:29.650 --> 00:09:37.210
So the challenge is to remember how to set up a table within the first activity and then have the name

106
00:09:37.210 --> 00:09:39.400
of four friends in that table.

107
00:09:39.440 --> 00:09:46.450
And then when you tap on them it's simply the second activity says hello to whoever that person was

108
00:09:46.450 --> 00:09:48.070
that they used the tap on.

109
00:09:48.520 --> 00:09:49.590
That's it.

110
00:09:49.600 --> 00:09:52.280
Best of luck pulls the video and give it a shot.

111
00:09:57.770 --> 00:09:58.120
All right.

112
00:09:58.130 --> 00:10:15.140
I thought well I'm going to start by getting rid of the two second activity and say getting rid of the

113
00:10:15.160 --> 00:10:19.940
too user interface elements in the first activity.

114
00:10:20.190 --> 00:10:23.460
And now let's bring in our list view.

115
00:10:24.360 --> 00:10:26.940
There's been a while since we've done one of these.

116
00:10:27.890 --> 00:10:30.260
Hopefully you remember how they work.

117
00:10:30.440 --> 00:10:33.300
So I'm going to drag in my list few here.

118
00:10:36.660 --> 00:10:45.710
And I'll give it an idea just over the last few there get right then we're going to go to main activity

119
00:10:45.740 --> 00:10:48.470
and write some code to set up our list.

120
00:10:49.940 --> 00:10:52.930
So first off let's find it.

121
00:10:52.940 --> 00:10:57.950
It's a list view that view here as well.

122
00:10:58.070 --> 00:11:06.850
We're going to want to cast this to a list view and find it by its ID resources ID list.

123
00:11:08.980 --> 00:11:16.880
Then I'm going to create an array list of strings to represent my list of friends.

124
00:11:20.750 --> 00:11:29.780
And this is going to be a new array list of strings.

125
00:11:29.900 --> 00:11:36.290
Then I'll take my list and add some names to it.

126
00:11:36.640 --> 00:11:37.910
So we'll start with Monica

127
00:11:42.060 --> 00:11:45.730
maybe Chandler you see where this is getting

128
00:11:48.980 --> 00:11:49.600
Jerry

129
00:11:54.510 --> 00:11:56.160
and Rachel.

130
00:11:56.340 --> 00:11:59.680
Sorry Phoebe and Ross but we only had room for four.

131
00:12:00.600 --> 00:12:05.870
Right now I'm just going to get my rainless to display on my list.

132
00:12:06.780 --> 00:12:09.430
So if you remember I create an array adapter

133
00:12:12.240 --> 00:12:13.760
which I'll call array adapter.

134
00:12:13.920 --> 00:12:16.660
And this is going to be a new array adapter.

135
00:12:19.220 --> 00:12:32.890
Using this activity has the context and then the format is going to be Android or are lay out a simple

136
00:12:32.890 --> 00:12:38.940
list item one and the list.

137
00:12:39.010 --> 00:12:56.790
We're going to link it up with his friends and then we set our adapter to attach to the Great.

138
00:12:56.790 --> 00:13:01.140
So before we go any further let's just quickly check that that's worked.

139
00:13:01.170 --> 00:13:10.920
We should now see on the main activity that we have a list of four friends in our list view and there

140
00:13:10.940 --> 00:13:12.240
we go.

141
00:13:13.020 --> 00:13:16.600
Now of course I can tap on them but nothing will happen.

142
00:13:18.440 --> 00:13:23.380
So we now need some code to do something when an item is clicked on our list view.

143
00:13:23.660 --> 00:13:25.330
Again we have done this before.

144
00:13:25.920 --> 00:13:35.710
So hopefully you remember we use List View set on item click listener and this is going to be a new

145
00:13:37.330 --> 00:13:44.710
adapter view the dots on item clicked Lisner

146
00:13:51.950 --> 00:14:03.420
and I've got a parenthesis out of place that now will allow Android studio to implement the required

147
00:14:03.420 --> 00:14:05.080
method.

148
00:14:05.100 --> 00:14:05.880
All right click

149
00:14:11.690 --> 00:14:13.260
Wonderfalls of that much we've done before.

150
00:14:13.290 --> 00:14:23.750
And then we just need to create our intent and jump into the second activity passing the variable to

151
00:14:23.750 --> 00:14:25.510
it.

152
00:14:25.860 --> 00:14:30.160
So as before create the intent it's a new intent

153
00:14:35.380 --> 00:14:37.490
using the application context.

154
00:14:39.430 --> 00:14:44.230
And then we're going to jump to second activity plus

155
00:14:47.140 --> 00:14:51.070
then we just need to add that extra bit of data to the intent.

156
00:14:51.070 --> 00:15:00.790
So we're going to put extra It's going to have a variable name of name and the value is going to be

157
00:15:00.790 --> 00:15:06.180
friends don't get it.

158
00:15:06.740 --> 00:15:08.990
And then we use the variable i hear

159
00:15:12.790 --> 00:15:17.360
to represent the number of the wire that the user has tapped.

160
00:15:18.070 --> 00:15:26.550
And then we just start the activity intent.

161
00:15:27.240 --> 00:15:28.330
One small issue here.

162
00:15:28.420 --> 00:15:34.840
Yes because the friends list is being accessed from a method here.

163
00:15:34.930 --> 00:15:45.540
We have to set the variable type to be final so it can be accessed from within this method.

164
00:15:45.540 --> 00:15:51.890
OK so now all that remains is to write our code for a second activity.

165
00:15:52.060 --> 00:15:54.680
And in fact it's going to be very very similar.

166
00:15:54.700 --> 00:16:03.490
The only difference is that the name that we want to display has a variable name of name this time rather

167
00:16:03.490 --> 00:16:08.290
than username or item.

168
00:16:08.320 --> 00:16:09.130
So let's give it a try.

169
00:16:09.130 --> 00:16:11.920
We shouldn't be able to tap on any one of these four.

170
00:16:12.160 --> 00:16:18.630
And the variable name will be passed to the second activity which will then display it as a toast

171
00:16:23.240 --> 00:16:26.250
and that we got back to the main activity.

172
00:16:26.250 --> 00:16:30.530
We can try again if we want to wonderful.

173
00:16:31.180 --> 00:16:34.750
OK so now you can add as many activities as you like.

174
00:16:34.960 --> 00:16:40.750
You know how to switch between them and you also know how to parse variables between them.

175
00:16:40.810 --> 00:16:44.660
Now then that takes us to the final app of this section which is a pretty big one.

176
00:16:44.830 --> 00:16:48.710
The biggest you built so far in fact and that is memorable places.
