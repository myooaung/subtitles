WEBVTT
X-TIMESTAMP-MAP=LOCAL:00:00:00.000,MPEGTS:0

00:00:00.000 --> 00:00:00.230
Hello,

00:00:00.230 --> 00:00:00.850
folks.

00:00:00.850 --> 00:00:03.450
Welcome to another episode on city cake.

00:00:03.450 --> 00:00:09.120
This time we're going to learn how to important existing cloudformation templates into your

00:00:09.120 --> 00:00:09.460
city.

00:00:09.460 --> 00:00:10.250
Haystack,

00:00:10.250 --> 00:00:12.770
If you're running an enterprise,

00:00:12.770 --> 00:00:15.050
are working for an organization over project,

00:00:15.050 --> 00:00:19.360
it is quite possible that you might have written a lot of templates on you might be using

00:00:19.360 --> 00:00:24.890
them or using them as a custom resource in your environment on when you want to move to

00:00:24.890 --> 00:00:25.480
syndicate.

00:00:25.480 --> 00:00:29.650
You don't have to leave all those templates and start writing your stack from the scratch.

00:00:29.650 --> 00:00:32.950
You can go ahead and important star formation templates into your city.

00:00:32.950 --> 00:00:34.350
Que stacks on,

00:00:34.350 --> 00:00:35.180
deploy them.

00:00:35.180 --> 00:00:37.450
So that is what I'm going to show right now.

00:00:37.450 --> 00:00:40.510
So this is the product that we're going to use me.

00:00:40.510 --> 00:00:45.860
I have created a directly called us stack from your information on under that I also

00:00:45.860 --> 00:00:47.260
created a sample template,

00:00:47.260 --> 00:00:47.790
Andi,

00:00:47.790 --> 00:00:52.870
I just Googled it and found a simple template which we would be going toe try and run it.

00:00:52.870 --> 00:00:55.680
So this template is going to create As to resources.

00:00:55.680 --> 00:01:00.480
One is an encrypted pocket which is nothing but an s three bucket which enables that deport

00:01:00.480 --> 00:01:01.060
encryption.

00:01:01.060 --> 00:01:03.140
This template particle is going to look great.

00:01:03.140 --> 00:01:04.940
One more resource,

00:01:04.940 --> 00:01:07.700
which is going to be on SSN parameter on.

00:01:07.700 --> 00:01:09.790
Then it is going to be a simple string parameter.

00:01:09.790 --> 00:01:11.050
It has a value.

00:01:11.050 --> 00:01:13.130
So this is the template that we want to run.

00:01:13.130 --> 00:01:17.300
Let us assume that this is an existing temperate in an environment that you want to reuse

00:01:17.300 --> 00:01:17.510
it.

00:01:17.510 --> 00:01:20.130
So I'm going to show you how you can do that.

00:01:20.130 --> 00:01:21.470
So this is going to be extracted.

00:01:21.470 --> 00:01:22.130
We're building.

00:01:22.130 --> 00:01:25.690
And I named this a stack class as stacked from floor formation template.

00:01:25.690 --> 00:01:26.500
The first thing is,

00:01:26.500 --> 00:01:30.210
we need to read the suggestion template into a file on for that.

00:01:30.210 --> 00:01:34.190
I have imported Jason already so that the school head and read the fight.

00:01:34.190 --> 00:01:35.480
As always,

00:01:35.480 --> 00:01:39.000
I would like to be pretty careful about flights being existing or not existing.

00:01:39.000 --> 00:01:40.280
You can just go ahead and read it,

00:01:40.280 --> 00:01:43.600
but I always try to use a try catch so that if that is in failure,

00:01:43.600 --> 00:01:47.870
I can notify our gracefully fall from favour case off,

00:01:47.870 --> 00:01:48.920
not able to read a fight.

00:01:48.920 --> 00:01:50.720
So this is typical by down here,

00:01:50.720 --> 00:01:53.560
nothing to do with city capes or trying open the file,

00:01:53.560 --> 00:01:55.610
give the fight.

00:01:55.610 --> 00:01:58.380
But So we have waited having it from the root of the delicacy.

00:01:58.380 --> 00:02:03.800
So this is going to be stacks followed by the final game.

00:02:03.800 --> 00:02:04.120
Okay,

00:02:04.120 --> 00:02:05.530
we got over part ready,

00:02:05.530 --> 00:02:10.590
and then I'm just going to say we're going to open this file for read only more on open it

00:02:10.590 --> 00:02:11.450
as find.

00:02:11.450 --> 00:02:16.810
So I'm going name this variable or the contents off that is going to be called us a cf in

00:02:16.810 --> 00:02:17.440
template.

00:02:17.440 --> 00:02:21.930
Then I'm just going to Lord this interrogation on fire.

00:02:21.930 --> 00:02:26.780
Now the all the contents off this file are from the suggestion has been imported.

00:02:26.780 --> 00:02:30.370
It toe my cfn high underscore template variable.

00:02:30.370 --> 00:02:33.950
So just goingto close this tried catch.

00:02:33.950 --> 00:02:38.050
I say that this violence not existing,

00:02:38.050 --> 00:02:44.770
unable to read different Empoli if there is an editor or if the fighters not to that force

00:02:44.770 --> 00:02:45.300
any reason,

00:02:45.300 --> 00:02:47.080
it is just going to print over and message saying,

00:02:47.080 --> 00:02:49.060
unable to read If I so now the finest there.

00:02:49.060 --> 00:02:52.180
So let us go ahead and start building our template.

00:02:52.180 --> 00:03:01.860
So I'm going to call this as resources from CFN template.

00:03:01.860 --> 00:03:04.330
So we're going to use the court morning under core.

00:03:04.330 --> 00:03:08.750
We have something called a see if an influence That is what we're going to do on undersea.

00:03:08.750 --> 00:03:09.420
If are included,

00:03:09.420 --> 00:03:10.750
they're going to scope it to this.

00:03:10.750 --> 00:03:12.640
A stack itself on that.

00:03:12.640 --> 00:03:18.140
Just going to call this a sir con Stone in front on finally,

00:03:18.140 --> 00:03:19.170
the template itself.

00:03:19.170 --> 00:03:23.340
The template is going to be myself and template displaced it there.

00:03:23.340 --> 00:03:25.210
So now we got our stack.

00:03:25.210 --> 00:03:26.460
So if you remember,

00:03:26.460 --> 00:03:28.130
if I go back to my template,

00:03:28.130 --> 00:03:32.620
we have an encrypted a packet for some reason you want to use is the source into your stack

00:03:32.620 --> 00:03:32.620
.

00:03:32.620 --> 00:03:36.800
What we can do is I'm just going to show you how you can pick up the attributes for In this

00:03:36.800 --> 00:03:37.060
case,

00:03:37.060 --> 00:03:39.850
I'm going to pick up the in character,

00:03:39.850 --> 00:03:44.340
but get Aaron equal to Cordaro function.

00:03:44.340 --> 00:03:47.130
This is going to be typical for formation.

00:03:47.130 --> 00:03:47.550
Function.

00:03:47.550 --> 00:03:49.050
Get attributes variable.

00:03:49.050 --> 00:03:50.770
So I want to get attributes.

00:03:50.770 --> 00:03:53.340
I'm going to give the resource name here.

00:03:53.340 --> 00:03:54.250
The results name is called.

00:03:54.250 --> 00:03:55.230
It's encrypted buckets.

00:03:55.230 --> 00:03:57.780
So we're going to say for this per source,

00:03:57.780 --> 00:03:59.150
Give me that here.

00:03:59.150 --> 00:04:02.450
And so now this is stored in this variable.

00:04:02.450 --> 00:04:04.400
We can go ahead and use that anywhere.

00:04:04.400 --> 00:04:06.460
So I'm going to show you quickly hoped.

00:04:06.460 --> 00:04:06.760
Oh,

00:04:06.760 --> 00:04:17.830
you Today so under this really will be how something called us to strength.

00:04:17.830 --> 00:04:22.750
So the air and you will be converted into a string on then will be added.

00:04:22.750 --> 00:04:23.250
Here,

00:04:23.250 --> 00:04:28.290
let us go ahead and synthesizer stack on day,

00:04:28.290 --> 00:04:30.130
see if everything is good,

00:04:30.130 --> 00:04:31.950
then we can go ahead and deploy it.

00:04:31.950 --> 00:04:34.950
So if you want to go ahead and take it or you can just do a syndicate,

00:04:34.950 --> 00:04:36.090
if what it is going to do,

00:04:36.090 --> 00:04:39.330
it is going to list out the formation template that is going to be deployed.

00:04:39.330 --> 00:04:42.050
You can see here the sister and a template.

00:04:42.050 --> 00:04:42.580
If I do,

00:04:42.580 --> 00:04:43.460
the city gets sent.

00:04:43.460 --> 00:04:44.040
Also,

00:04:44.040 --> 00:04:48.290
it is going to read their template Invitation for I landed printed out here.

00:04:48.290 --> 00:04:50.380
So let's go ahead and deploy.

00:04:50.380 --> 00:04:51.320
So no,

00:04:51.320 --> 00:04:53.150
my stack is deployment escort Oh,

00:04:53.150 --> 00:04:54.580
our information service.

00:04:54.580 --> 00:04:56.840
So and see that it's a stack that is deployed.

00:04:56.840 --> 00:04:58.090
Let us go to the resource section.

00:04:58.090 --> 00:05:02.430
We should be seeing to resources when I say encrypted packets that the constant asset Let

00:05:02.430 --> 00:05:04.650
me just open it into different tabs.

00:05:04.650 --> 00:05:05.610
Andi,

00:05:05.610 --> 00:05:06.930
if I go here,

00:05:06.930 --> 00:05:10.360
I should be seeing the parameter here on the perimeter store.

00:05:10.360 --> 00:05:15.240
You can see here the fish parameter that was created from the cloud formation template like

00:05:15.240 --> 00:05:15.540
white.

00:05:15.540 --> 00:05:17.140
I got a packet on.

00:05:17.140 --> 00:05:18.910
Even if I could My output section,

00:05:18.910 --> 00:05:22.540
I will be able to find the air off that bucket it back over here.

00:05:22.540 --> 00:05:25.960
And apparently you can copy this from here only.

00:05:25.960 --> 00:05:32.500
Think Look up the air and let me just go in and confirm that.

00:05:32.500 --> 00:05:32.830
Yep.

00:05:32.830 --> 00:05:37.230
This is the same bucket and the same air and that we're getting from the stack.

00:05:37.230 --> 00:05:38.850
This is how you important,

00:05:38.850 --> 00:05:43.160
existing template into your stack and start using the resources that was built in the stack

00:05:43.160 --> 00:05:43.770
itself.

00:05:43.770 --> 00:05:44.420
Tried us.

00:05:44.420 --> 00:05:45.370
If you have problems,

00:05:45.370 --> 00:05:47.360
put them in the comments or a Q and A section.

00:05:47.360 --> 00:05:48.850
I try and help them with you.

00:05:48.850 --> 00:05:49.920
Thanks for watching.

00:05:49.920 --> 00:05:50.520
Happy look.

