WEBVTT
1
00:00:04.800 --> 00:00:06.750
Hello everybody and welcome back.

2
00:00:06.750 --> 00:00:11.730
In this lecture we're going to jump straight into a challenge of opening the door anywhere.

3
00:00:11.730 --> 00:00:17.280
Now this isn't as scary as it might first seem you've already got the knowledge necessary I believe

4
00:00:17.310 --> 00:00:22.320
all I need to do is point you in the right direction and it's easy to get caught out.

5
00:00:22.320 --> 00:00:28.290
That's the reason why I really want you to just go through your code and make sure that it makes logical

6
00:00:28.290 --> 00:00:29.700
sense as you step through.

7
00:00:30.720 --> 00:00:31.050
OK.

8
00:00:31.070 --> 00:00:32.990
So here is your tip.

9
00:00:33.030 --> 00:00:35.900
It's basically the member variables that we need to set up.

10
00:00:36.060 --> 00:00:41.760
So you need to set the initial values for the following member variables and initial your which is critical

11
00:00:41.760 --> 00:00:44.870
otherwise it won't work current your.

12
00:00:45.000 --> 00:00:51.700
And they target your now the target your will end up changing again in the next lecture.

13
00:00:51.700 --> 00:00:56.230
Very exciting we're going gonna expose that value to the properties you can have your doors open at

14
00:00:56.230 --> 00:01:01.480
various angles and remember to step through your code step by step.

15
00:01:01.570 --> 00:01:07.260
And it sounds like a very logical thing to say but it really does help you try and work out where in

16
00:01:07.260 --> 00:01:09.300
your code you need to put certain things.

17
00:01:09.790 --> 00:01:13.120
So go ahead pause the video now expect this to take you maybe.

18
00:01:13.300 --> 00:01:18.910
Well if you're if you're already going Yeah I know this might take five 10 minutes though otherwise

19
00:01:18.910 --> 00:01:21.490
it may take a little bit longer and that's okay.

20
00:01:21.580 --> 00:01:26.800
The first time I started doing code like this it may have taken me just playing around having fun up

21
00:01:26.800 --> 00:01:27.530
to an hour.

22
00:01:27.580 --> 00:01:29.710
That's absolutely fine if it takes you that long.

23
00:01:29.740 --> 00:01:33.650
It really does help you solidify your knowledge by playing with it and having fun.

24
00:01:34.060 --> 00:01:36.820
So go ahead pause a video now and give that a go

25
00:01:40.010 --> 00:01:41.360
OK everybody welcome back.

26
00:01:41.360 --> 00:01:46.470
Let's go ahead now and type up the code we need to open the door anywhere.

27
00:01:46.540 --> 00:01:47.870
OK everybody welcome back.

28
00:01:47.870 --> 00:01:52.230
Let's go ahead over into the header file and declare some of the variables that we need.

29
00:01:52.750 --> 00:01:53.290
OK.

30
00:01:53.300 --> 00:01:56.180
And also sort out our indentation.

31
00:01:56.180 --> 00:01:57.670
Now I'll target your here.

32
00:01:57.680 --> 00:02:01.550
I'm not sure we're going to be initializing it with a value here.

33
00:02:01.560 --> 00:02:08.890
The value will depend on its initial your plus whatever we decide an open door happens to be.

34
00:02:08.900 --> 00:02:14.540
So let's go ahead and set up that initial yaw because that's something we're going to need.

35
00:02:14.540 --> 00:02:20.840
And we also are going to have to have a currency or we need to keep track of where the door currently

36
00:02:20.840 --> 00:02:21.380
is.

37
00:02:21.380 --> 00:02:23.320
So we can update it.

38
00:02:23.380 --> 00:02:27.130
That's also going to be a float as well.

39
00:02:27.140 --> 00:02:32.330
So there are a member variables all set up and the whitespace removed.

40
00:02:32.360 --> 00:02:32.630
OK.

41
00:02:32.660 --> 00:02:36.210
So with all of those set let's go over to the implementation now.

42
00:02:36.440 --> 00:02:40.040
OK so the first thing we need to do is in fact begin play.

43
00:02:40.070 --> 00:02:44.500
So over here we need to set what the initial your happens to be.

44
00:02:44.510 --> 00:02:50.390
So it will be the position of the door in the world not sorry not the position the rotation the your

45
00:02:50.390 --> 00:02:56.660
value of whatever the door is or whatever it has this component on it essentially so.

46
00:02:56.700 --> 00:03:05.360
So that's come up initial I know your that's not also completing let's check the header file.

47
00:03:05.700 --> 00:03:06.100
Yes.

48
00:03:06.170 --> 00:03:13.050
I can't spell initial save that come back initial your equals sources again to equal.

49
00:03:13.050 --> 00:03:21.290
Well it's going to equal and get owner get active rotation and then the your value.

50
00:03:21.460 --> 00:03:22.080
Okay.

51
00:03:22.190 --> 00:03:24.460
So you probably recognize this from before.

52
00:03:24.460 --> 00:03:28.390
This is what we were printing out to our to our log.

53
00:03:28.430 --> 00:03:29.330
Very useful.

54
00:03:29.330 --> 00:03:29.600
Okay.

55
00:03:29.630 --> 00:03:31.410
So it got the oil.

56
00:03:31.420 --> 00:03:33.020
Yeah that's fine.

57
00:03:33.020 --> 00:03:35.830
Now what's the currency all going to be.

58
00:03:35.870 --> 00:03:42.510
So the current jaw is just going to be the initial your to begin with.

59
00:03:42.550 --> 00:03:43.390
It's as simple as that.

60
00:03:43.390 --> 00:03:48.850
We're not going to change it at this point in time the moment the game plays the current in the initial

61
00:03:48.850 --> 00:03:50.590
your are exactly the same.

62
00:03:50.590 --> 00:03:51.780
So that's absolutely fine.

63
00:03:51.790 --> 00:03:58.480
Now our target your this is where we're going to break away from having an absolute figure to a relative

64
00:03:58.480 --> 00:03:58.990
one.

65
00:03:59.020 --> 00:04:04.420
So our target your has to equal wherever the initial your is.

66
00:04:04.540 --> 00:04:09.300
And plus whatever we consider an open door to be.

67
00:04:09.460 --> 00:04:12.600
So at the moment I'm going for 90 degrees.

68
00:04:12.730 --> 00:04:15.910
Now I'm not sure that needs to be minus 90 or plus 90.

69
00:04:15.910 --> 00:04:20.170
Whether you want your doors opening inwards or outwards you can decide that later on.

70
00:04:20.200 --> 00:04:26.800
And essentially this itself this 90 point f that is something that potentially later on we can take

71
00:04:26.800 --> 00:04:32.380
out and make it use a defined when we're setting up the game so then each of the doors can have a different

72
00:04:32.470 --> 00:04:33.460
opening states.

73
00:04:33.680 --> 00:04:34.330
Okay.

74
00:04:34.630 --> 00:04:37.160
Semicolon on the end of that.

75
00:04:37.180 --> 00:04:37.440
Okay.

76
00:04:37.450 --> 00:04:41.630
So let's go down to the tick component and work out what we need to do here.

77
00:04:41.650 --> 00:04:47.050
I'm not going to comment that out and keep it for reference for the moment and let's see what else do

78
00:04:47.050 --> 00:04:47.950
we need to do here.

79
00:04:47.950 --> 00:04:52.950
So we are going to at the end we're going to open the door.

80
00:04:52.960 --> 00:04:58.750
We're going to set the actor rotation to the whatever the doors rotation is at that moment in time so

81
00:04:58.820 --> 00:05:03.640
set actor rotation is the last thing that we're going to be doing.

82
00:05:03.640 --> 00:05:04.360
Okay.

83
00:05:04.610 --> 00:05:07.060
Ball going a bit backwards but we need somewhere to start.

84
00:05:07.060 --> 00:05:13.780
So why not their and because we need to set the actor rotation we need to actually have an F rotating

85
00:05:13.780 --> 00:05:14.730
we can put in there.

86
00:05:14.810 --> 00:05:19.000
So we are going to have to declare a Doors rotation.

87
00:05:19.000 --> 00:05:23.890
In this case I could call it open door again but I want to be clear that it's something different in

88
00:05:23.890 --> 00:05:24.740
this case.

89
00:05:24.850 --> 00:05:30.130
So I'm going to call it door rotation and we can we can code this in straightaway so we're going to

90
00:05:30.130 --> 00:05:39.690
get oh now parentheses arrow operator gets acts rotation and that's all we need there.

91
00:05:39.770 --> 00:05:43.840
So this will be an F rotates which we can pop into here.

92
00:05:44.060 --> 00:05:47.000
So we might as well coat that scene straightaway as well.

93
00:05:47.000 --> 00:05:48.790
So this is where we get.

94
00:05:48.830 --> 00:06:01.650
Oh no once again the arrow operator we go into sex actor rotation to the doors rotation Okay so that's

95
00:06:01.650 --> 00:06:04.500
the two last two lines of RKO done.

96
00:06:04.620 --> 00:06:08.160
Well maybe not the last two lines but two of the important ones.

97
00:06:08.790 --> 00:06:11.730
So now we need to update what the current yaw is.

98
00:06:11.730 --> 00:06:19.770
So on this particular take on this particular frame our current yaw will be assigned to what ever the

99
00:06:19.770 --> 00:06:25.840
results of this f math learn is going to be current colon colon learn.

100
00:06:26.020 --> 00:06:28.810
I'm going to put my semicolon on the end straight away.

101
00:06:28.950 --> 00:06:36.870
So we're going to start at whatever the current yaw is which will be initially on the first frame it'll

102
00:06:36.880 --> 00:06:43.360
be the same as the initial yaw and then we're going to learn between that value and our target your

103
00:06:43.660 --> 00:06:46.960
absolutely fine at a particular rate.

104
00:06:47.020 --> 00:06:53.920
So we've already worked out that nought point two is roughly a good speed for its open up.

105
00:06:54.490 --> 00:06:55.170
Okay.

106
00:06:55.270 --> 00:07:00.890
So at this point we're going to look between the current jaw and the target your.

107
00:07:00.910 --> 00:07:01.570
That's fine.

108
00:07:01.570 --> 00:07:06.440
So that will update current yaw but we're not using current your anywhere.

109
00:07:06.820 --> 00:07:12.190
So what we can do here is then assign the value of the current yaw to the.

110
00:07:12.210 --> 00:07:22.640
Door rotations your instead so door rotation dot your and assign it the value of the current your SO

111
00:07:22.640 --> 00:07:30.530
THAT WOULD HAVE incremented the door rotation by whatever the results of this on line 37 happen to be

112
00:07:31.660 --> 00:07:32.570
okay.

113
00:07:32.720 --> 00:07:42.770
Let's have a quick eyeball of code looking good let's save that over and I'm real I'm going to compile.

114
00:07:42.770 --> 00:07:50.810
Now if my compile has worked what we should see is both of these doors will open they will open inwards

115
00:07:50.930 --> 00:07:51.970
so into the room.

116
00:07:52.540 --> 00:07:52.910
Okay.

117
00:07:52.920 --> 00:07:55.770
So the compilers complete this go ahead and press play.

118
00:07:55.970 --> 00:07:57.940
Would you look at that.

119
00:07:57.950 --> 00:07:58.380
Yes.

120
00:07:58.380 --> 00:08:02.060
Now it's a vector that is incredibly satisfying.

121
00:08:02.060 --> 00:08:06.980
We've not only got the doors opening how we wanted to but we've also solved that problem that you're

122
00:08:06.980 --> 00:08:12.650
going to come across time and time again when you're think you're rotating something by a certain value

123
00:08:12.850 --> 00:08:19.810
but you forget that you create an absolute value rather than having a starting point from which to rotate.

124
00:08:19.850 --> 00:08:22.950
But this is perfect that's exactly what I wanted to see.

125
00:08:23.000 --> 00:08:24.920
How are you guys getting on.

126
00:08:24.980 --> 00:08:29.150
I mean the really exciting thing here is you can now put doors at any angle.

127
00:08:29.150 --> 00:08:35.670
If I was to go and grab the door and door frame just here and rotate it round you know just to there.

128
00:08:35.740 --> 00:08:40.780
So it's facing the player straightaway it's opening to the right amount.

129
00:08:40.910 --> 00:08:46.070
And of course if we wanted to because we sorted out the collisions as well we can walk through both

130
00:08:46.070 --> 00:08:47.060
of those doors.

131
00:08:47.070 --> 00:08:48.100
That's brilliant.

132
00:08:48.110 --> 00:08:52.110
So the scope of your games just increased massively as well.

133
00:08:52.130 --> 00:08:53.810
How are you guys getting on.

134
00:08:53.840 --> 00:08:57.890
Let me now over in the discussions and I'll see you will in the next lecture.
