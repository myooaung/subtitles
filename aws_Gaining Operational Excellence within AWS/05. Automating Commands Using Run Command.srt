1
00:00:01,240 --> 00:00:04,340
[Autogenerated] All right, let's pick back up where we left off.

2
00:00:04,340 --> 00:00:08,390
In the previous clip, we created an association IDE,

3
00:00:08,390 --> 00:00:13,040
and set up our inventory for our managed instance.

4
00:00:13,040 --> 00:00:15,930
And we see this instantiate right here.

5
00:00:15,930 --> 00:00:20,640
Now, the next thing I want to show you is a run command.

6
00:00:20,640 --> 00:00:25,640
So run commands Allow us to execute and automation document,

7
00:00:25,640 --> 00:00:30,530
which will take a look at here shortly and we can target instances that we

8
00:00:30,530 --> 00:00:35,340
want to run these on remotely slow click on run command.

9
00:00:35,340 --> 00:00:38,840
And this takes us to our command document selection screen.

10
00:00:38,840 --> 00:00:42,940
There's a lot of documents provided by a W S.

11
00:00:42,940 --> 00:00:44,520
But if you create your own,

12
00:00:44,520 --> 00:00:48,560
you can actually go ahead and filter by owner and see Hey,

13
00:00:48,560 --> 00:00:50,970
I want the ones owned by me now.

14
00:00:50,970 --> 00:00:57,940
What I'm going to do is actually go ahead and filter to Linux platform.

15
00:00:57,940 --> 00:01:03,240
This will knock out the windows ones or at least the windows specific ones.

16
00:01:03,240 --> 00:01:07,040
And I want to go ahead and I'm gonna find runtime

17
00:01:07,040 --> 00:01:10,740
sell script so I'll select this.

18
00:01:10,740 --> 00:01:14,930
You can see we can provide a version and under here there is default

19
00:01:14,930 --> 00:01:18,870
version of latest version or the actual version number.

20
00:01:18,870 --> 00:01:22,740
This allows some flexibility in your execution.

21
00:01:22,740 --> 00:01:25,080
You'll see there's a description provided to us.

22
00:01:25,080 --> 00:01:29,940
So this is running a shell script or specifying commands that

23
00:01:29,940 --> 00:01:34,170
we want to run on our target server and at the bottom here we

24
00:01:34,170 --> 00:01:36,280
have our command parameters.

25
00:01:36,280 --> 00:01:42,040
So this is where we actually create our shell script or command to run.

26
00:01:42,040 --> 00:01:46,900
Now I'll go ahead and I'm going to run a simple touch command to create a file.

27
00:01:46,900 --> 00:01:48,480
So let me do that here.

28
00:01:48,480 --> 00:01:51,530
And all we're doing here is I'm creating a file.

29
00:01:51,530 --> 00:01:56,040
And then I'm echoing a simple it worked statement into it.

30
00:01:56,040 --> 00:01:59,550
We can specify a working directory if we wanted to,

31
00:01:59,550 --> 00:02:03,840
will leave the default, and then we have an execution time out.

32
00:02:03,840 --> 00:02:08,290
The default is one hour, so if our command hasn't completed within an hour,

33
00:02:08,290 --> 00:02:09,530
it would time out.

34
00:02:09,530 --> 00:02:14,440
But you can also go up to 48 hours as seen here.

35
00:02:14,440 --> 00:02:16,940
I'll leave the default for now,

36
00:02:16,940 --> 00:02:20,890
and the next selection that we have is our targets.

37
00:02:20,890 --> 00:02:26,240
Now you'll notice this is similar to when we created our inventory collection.

38
00:02:26,240 --> 00:02:27,760
In the previous clip.

39
00:02:27,760 --> 00:02:34,840
We can specify by tags we can choose manually or we can choose a resource group.

40
00:02:34,840 --> 00:02:38,900
Now I cover resource groups in my other course on Pluralsight,

41
00:02:38,900 --> 00:02:42,420
and it's called Managing A W s Operations.

42
00:02:42,420 --> 00:02:46,480
So if you wanna learn more about those, I recommend you take that course.

43
00:02:46,480 --> 00:02:49,440
But for now, we'll choose manually.

44
00:02:49,440 --> 00:02:53,040
I'll go ahead and select all which is really just one,

45
00:02:53,040 --> 00:02:55,130
and then we have our other parameters.

46
00:02:55,130 --> 00:03:00,580
So we can type a comment about what we're doing and we can specify a time out

47
00:03:00,580 --> 00:03:05,400
for the command in seconds will leave the default here.

48
00:03:05,400 --> 00:03:09,740
The next thing that we can do is specify a rate control,

49
00:03:09,740 --> 00:03:12,530
so we can specify a concurrency.

50
00:03:12,530 --> 00:03:16,940
So we want this to execute on up to 50 targets at a time,

51
00:03:16,940 --> 00:03:20,880
or we can do a percentage, and then we have an error threshold.

52
00:03:20,880 --> 00:03:23,380
So how many errors are we allowing,

53
00:03:23,380 --> 00:03:29,240
or how many failures are we allowing and still consider this successful?

54
00:03:29,240 --> 00:03:34,540
I'll leave it at zero, and the next thing we have here is output options.

55
00:03:34,540 --> 00:03:39,270
So it's going to write all of these command outputs to an S3 bucket,

56
00:03:39,270 --> 00:03:41,840
and I'll choose a bucket here from the list.

57
00:03:41,840 --> 00:03:44,510
I'll choose my old Pluralsight CloudTrail bucket

58
00:03:44,510 --> 00:03:46,940
that we used in our previous demos.

59
00:03:46,940 --> 00:03:48,580
We can give it a prefix.

60
00:03:48,580 --> 00:03:51,540
So maybe I want to type in S S m.

61
00:03:51,540 --> 00:03:55,240
And then we can also output this to CloudWatch.

62
00:03:55,240 --> 00:03:59,280
So if we wanted to push these logs to a log group and then maybe

63
00:03:59,280 --> 00:04:03,340
trigger or collect off of that we can do that as well.

64
00:04:03,340 --> 00:04:05,660
We have SMS notifications.

65
00:04:05,660 --> 00:04:11,780
So we can send a notification to a topic based on certain events.

66
00:04:11,780 --> 00:04:17,440
So maybe we want to notify that were completed with this execution.

67
00:04:17,440 --> 00:04:23,210
And then finally, it shows you the equivalent A W s CLI command.

68
00:04:23,210 --> 00:04:27,300
So this is a pretty handy part that you won't be tested over.

69
00:04:27,300 --> 00:04:31,530
But it's awesome to have this because then you can build off of this and

70
00:04:31,530 --> 00:04:34,840
make your own without having to leverage the console.

71
00:04:34,840 --> 00:04:37,190
Now, before I click on run down here,

72
00:04:37,190 --> 00:04:40,820
I just want to show you the instance and verify

73
00:04:40,820 --> 00:04:43,640
that that file does not exist yet.

74
00:04:43,640 --> 00:04:45,310
So I'm SSH it in.

75
00:04:45,310 --> 00:04:51,060
And if we go to opt here, you'll see we don't have that testing file.

76
00:04:51,060 --> 00:04:56,640
So now if I go back to the console, I click on run,

77
00:04:56,640 --> 00:05:00,640
we'll see this is in progress and I'll pause really quickly.

78
00:05:00,640 --> 00:05:03,080
And then when it's done, I'll resume now.

79
00:05:03,080 --> 00:05:05,470
It was done pretty quickly because it's a simple

80
00:05:05,470 --> 00:05:09,440
command we can CR status here at the top,

81
00:05:09,440 --> 00:05:11,340
our targets in the middle,

82
00:05:11,340 --> 00:05:15,340
and then we can look at our description and our parameters.

83
00:05:15,340 --> 00:05:22,010
So now if I go back to my instance and I ls that directory again,

84
00:05:22,010 --> 00:05:23,260
we see our file.

85
00:05:23,260 --> 00:05:27,990
So this executed that shell command on our instantiate

86
00:05:27,990 --> 00:05:30,540
Oatley without having the log in.

87
00:05:30,540 --> 00:05:35,330
And if I cat that file, you can see Hey, it worked.

88
00:05:35,330 --> 00:05:36,370
So that's awesome.

89
00:05:36,370 --> 00:05:42,540
We've now executed a shell command remotely without having to log in to do it.

90
00:05:42,540 --> 00:05:48,090
Now this is just a single example of what you can do with run command.

91
00:05:48,090 --> 00:05:52,840
And in the next clip, I'll run through how we can manage patching,

92
00:05:52,840 --> 00:05:56,810
which leverages these run command documents to automate,

93
00:05:56,810 --> 00:05:58,940
are patching procedures.

94
00:05:58,940 --> 00:06:07,000
So let's go ahead and take a break. And in the next clip will start looking at ST manager and Patch manager

