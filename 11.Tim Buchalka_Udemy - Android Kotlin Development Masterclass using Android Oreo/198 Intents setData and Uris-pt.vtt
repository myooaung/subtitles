WEBVTT
1

00:00:05.650 --> 00:00:12.600

Ento, no vdeo anterior, vimos como o aplicativo lidar com a situao em que o usurio conhece as permisses.



2

00:00:12.610 --> 00:00:18.410

No  apenas outra permisso que podemos solicitar ao Texas novamente quando eles tentarem executar a funo



3

00:00:18.410 --> 00:00:22.410

que precisa da permisso para visualizar os detalhes de contato nesse caso.



4

00:00:22.470 --> 00:00:27.200

Se o usurio negar a permisso e levar a caixa dizendo que no quer ser perguntado novamente.



5

00:00:27.220 --> 00:00:32.690

Agora, as configuraes do aplicativo so necessrias para que possam testar as permisses e conceder o acesso



6

00:00:32.750 --> 00:00:33.830

que eu quero.



7

00:00:34.240 --> 00:00:36.130

Ento, ns temos uma boa soluo agora.



8

00:00:36.310 --> 00:00:41.360

E lembre-se de que usamos uma lanchonete para exibir a mensagem ao usurio e tambm para fornecer



9

00:00:41.360 --> 00:00:42.020

um link.



10

00:00:42.110 --> 00:00:47.990

Eles poderiam tocar para ir em frente e conceder a permisso ou lanchonete  limitada a duas linhas de texto.



11

00:00:48.110 --> 00:00:52.640

Portanto, no h muita informao que voc possa fornecer ao usurio se voc quiser dar uma



12

00:00:52.640 --> 00:00:57.890

explicao mais detalhada do motivo pelo qual o aplicativo precisa de uma permisso especfica, ento  melhor usar



13

00:00:57.890 --> 00:01:00.510

uma caixa de dilogo em vez de uma lanchonete.



14

00:01:00.620 --> 00:01:02.460

O princpio  exatamente o mesmo.



15

00:01:02.630 --> 00:01:08.910

Ento, vamos continuar com nosso aplicativo de exemplo e ver agora como proceder quando essa permisso for negada.



16

00:01:09.380 --> 00:01:11.810

Ento, precisa fazer uma das duas coisas.



17

00:01:11.810 --> 00:01:16.760

Quando detecta que a permisso no foi concedida, ela precisa solicitar a permisso



18

00:01:16.760 --> 00:01:19.940

ou precisa levar o usurio s configuraes do aplicativo.



19

00:01:19.940 --> 00:01:25.400

Agora, essas duas tarefas so simples, foram realmente solicitadas permisso usando o mtodo de permisses de solicitao



20

00:01:25.400 --> 00:01:31.580

e iniciando a tela de configuraes do aplicativo  feito usando uma inteno e o mtodo de atividade de



21

00:01:31.640 --> 00:01:36.400

incio que eu estava dizendo antes do bit complicado est funcionando qual tarefa executar.



22

00:01:36.410 --> 00:01:42.620

Ento, como podemos dizer se o usurio permanentemente no tem a permisso, mas tomando a caixa ou apenas manteve denie na



23

00:01:42.950 --> 00:01:43.940

caixa de dilogo.



24

00:01:44.240 --> 00:01:46.630

Acontece que no  muito difcil.



25

00:01:46.820 --> 00:01:50.700

O Google pensou sobre isso e eu forneo um mtodo com um nome atraente.



26

00:01:50.720 --> 00:01:51.530

Espere por isso.



27

00:01:51.530 --> 00:01:54.550

Deve mostrar as permisses de solicitao sendo eliminadas.



28

00:01:55.010 --> 00:02:00.770

Assim, podemos usar isso em nosso cdigo real, em vez de apenas mostrar a mensagem de texto que  exibida no momento.



29

00:02:00.770 --> 00:02:03.920

Ento, esta codificao e, em seguida, vai passar por isso e explicar o que faz.



30

00:02:03.920 --> 00:02:07.350

Primeiro, vou comear alterando o texto em que o usurio clicar.



31

00:02:07.430 --> 00:02:11.210

Em outras palavras, o texto em si.



32

00:02:11.290 --> 00:02:13.220

Ento, o que queremos fazer primeiro.



33

00:02:13.400 --> 00:02:19.480

Vai mudar o texto do Curdy, em vez disso,  mostrado na tela que o usurio ir clicar no



34

00:02:19.480 --> 00:02:23.520

texto da ao para traduzir para um acesso de concesso do site.



35

00:02:24.430 --> 00:02:27.700

Ento dentro do carro que ser executado quando for tocado.



36

00:02:27.870 --> 00:02:36.370

Ele nunca interrompe uma entrada de registro bloqueada at o dia em que um clique na barra de lanches  iniciado.



37

00:02:37.390 --> 00:02:45.430

Que vamos adicionar e se ele soubesse se parnteses que a atividade compactar ponto deve mostrar ou solicitar permisso do



38

00:02:45.430 --> 00:02:54.790

russo como e entre parnteses essa vrgula nos lida chamamos de contexto Ento vamos fechar os olhos do Bryce Ento eu imprimo um



39

00:02:54.790 --> 00:03:00.630

bloco de cpia no o outro por enquanto eu s vou fazer um vazio



40

00:03:00.800 --> 00:03:03.830

mais eu vou apagar brinde a cada dia.



41

00:03:03.920 --> 00:03:10.990

No primeiro caso fossem, eu vou fazer isso Eu olhei para os parnteses para tir-los e 



42

00:03:10.990 --> 00:03:17.960

uma espcie de lanchonete, clique em dois pontos chamando as permisses de busca, para ser consistente 



43

00:03:21.170 --> 00:03:28.800

que o que eu vou fazer  copiar o O lanamento ocorreu aqui a partir de 938, porque



44

00:03:29.160 --> 00:03:34.380

vamos executar esse cdigo exato e isso ser postado imediatamente abaixo desse



45

00:03:34.820 --> 00:03:35.800

log hoje.



46

00:03:36.440 --> 00:03:41.200

E apenas voc pode avaliar isso e colocar isso na prxima lei.



47

00:03:41.450 --> 00:03:51.280

E vamos tambm abaixo do outro colocar um log l olhou para cima dia sntese Snack Tecoma bar em coisas clique.



48

00:03:51.370 --> 00:03:53.160

 muito claro que o que aconteceu l.



49

00:03:53.580 --> 00:03:54.760

Tudo bem ento o que deve ser feito.



50

00:03:54.830 --> 00:04:00.720

Bem, ento eu em algum registro Em primeiro lugar on-line 64 para que possamos ver as barras



51

00:04:01.150 --> 00:04:08.520

em um mtodo de clique sendo frio chamando Devo solicitar permisso de lgica na linha 65 e estamos testando para ver se



52

00:04:08.520 --> 00:04:10.320

ele retorna True ou false.



53

00:04:10.320 --> 00:04:12.160

Agora vou explicar esse mtodo em seguida.



54

00:04:12.300 --> 00:04:18.120

Mas se apenas retornar true, ento, nesse caso, vamos ver a entrada e, em seguida, chamaremos



55

00:04:18.120 --> 00:04:22.050

esse mtodo para solicitar as permisses novamente, como fizemos anteriormente.



56

00:04:22.050 --> 00:04:23.180

Ento isso  bem simples.



57

00:04:23.400 --> 00:04:29.170

Se ele retornar falso, levaremos o usurio para a pgina de configuraes do aplicativo.



58

00:04:29.190 --> 00:04:31.300

Ento vamos dar uma olhada e ver o que  este mtodo.



59

00:04:31.300 --> 00:04:33.830

Ento, vou apenas clicar e trazer a



60

00:04:37.040 --> 00:04:37.690

documentao agora.



61

00:04:37.740 --> 00:04:43.670

Smith Est na biblioteca de suporte compatibilidade no pacote de suporte Android totalmente para nossa atividade de aplicativo compacto para



62

00:04:43.990 --> 00:04:49.090

que possamos us-lo no carro que se destina a ser executado em verses do Android antes de



63

00:04:49.090 --> 00:04:49.620

muito difamado.



64

00:04:49.850 --> 00:04:54.590

Agora voc pode estar se perguntando por que no usamos apenas a verso do framework porque esse



65

00:04:54.590 --> 00:05:01.100

mtodo nunca ser cdigo se o aplicativo estiver rodando no IPR 22 anteriormente, mas o carto Kampar com eu tentar usar uma verso do



66

00:05:01.510 --> 00:05:04.180

framework com um caso mnimo do Mysti menos de 23.



67

00:05:04.220 --> 00:05:10.250

Da a razo para usarmos a verso compacta apenas para verificar que o que podemos fazer



68

00:05:10.250 --> 00:05:19.460

 simplesmente copiar uma cpia dessa linha temporariamente para copiar nosso comentrio para fora dessa linha e mudar isso no compacto da atividade e



69

00:05:20.180 --> 00:05:26.890

voc pode dizer que tem um erro o cdigo atual requer IPR nvel 23 mnimo atual  17.



70

00:05:27.300 --> 00:05:33.420

Bem, por que isso  algo que eu recomendo que voc faa se quiser testar algo assim.



71

00:05:33.560 --> 00:05:36.790

Placate a linha de cdigo e, em seguida, v em frente e, na verdade, verifique-o.



72

00:05:36.800 --> 00:05:39.350

E ele  muito cdigo original para voltar para voc.



73

00:05:39.350 --> 00:05:41.300

Tudo bem ento e como voc pode ver l.



74

00:05:41.660 --> 00:05:46.190

Ento, e o que  verdade, basicamente eu avisei que o carto no compilaria a menos que ns o colocssemos



75

00:05:46.190 --> 00:05:48.300

ou um erro no dia 23 de abril ou mais.



76

00:05:48.500 --> 00:05:53.180

Da a razo pela qual estou usando a atividade em comparao com todos os concorrentes em que



77

00:05:53.240 --> 00:05:54.520

suporta verses anteriores ao marshmallow.



78

00:05:54.920 --> 00:05:57.810

Portanto, esse mtodo deve pedir permisso ao Tusshar e como



79

00:06:00.900 --> 00:06:06.300

ele  usado para decidir se devemos mostrar algum tipo de interface de usurio ao usurio explicando por que



80

00:06:06.300 --> 00:06:07.030

precisamos da permisso.



81

00:06:07.320 --> 00:06:12.330

Portanto, o mtodo deve ser usado como a documentao diz apenas se voc no



82

00:06:12.420 --> 00:06:18.570

tiver a permisso e o contexto no qual a permisso  solicitada no comunicar claramente ao usurio



83

00:06:18.570 --> 00:06:21.310

qual seria o benefcio de conceder essa permisso.



84

00:06:21.360 --> 00:06:26.150

Ento, eu acho que isso implica que ns no deveramos us-lo porque j  bastante bvio



85

00:06:26.190 --> 00:06:30.430

porque o aplicativo de contexto precisa acessar o banco de dados de contatos do telefone.



86

00:06:30.480 --> 00:06:36.660

Pode ser bvio, mas igualmente bvio, se o usurio negou o acesso, ento precisamos avis-lo de



87

00:06:36.660 --> 00:06:37.580

alguma forma.



88

00:06:37.770 --> 00:06:41.510

Portanto, no tome esse comentrio como uma regra que deve ser um byte, no importa o qu.



89

00:06:41.530 --> 00:06:43.220

Trate isso como um deus.



90

00:06:43.230 --> 00:06:49.320

Ento, aqui, caso precisemos fazer alguma coisa, se o aplicativo no puder acessar o banco de dados e se isso



91

00:06:49.320 --> 00:06:51.910

envolver o uso desse mtodo muito til, assim seja.



92

00:06:51.990 --> 00:06:57.030

Uma coisa que falta nesta documentao  o que o valor retornado significa.



93

00:06:57.060 --> 00:07:01.770

Apenas diz se voc pode usar para mostrar permisso ou raciocinar que eu disse que voc obtm um



94

00:07:01.770 --> 00:07:02.480

verdadeiro ou falso.



95

00:07:02.610 --> 00:07:05.520

Mas no h nenhuma indicao real do porqu.



96

00:07:06.180 --> 00:07:11.430

Infelizmente voc no pode verificar o cdigo-fonte para descobrir o que est acontecendo, porque



97

00:07:11.430 --> 00:07:17.790

eventualmente ele acaba chamando admitido na classe abstrata do gerenciador de pacotes, um mtodo abstrato no tem cdigo-fonte.



98

00:07:17.940 --> 00:07:22.800

Ento a documentao que estamos usando  bem informativa e vai trazer



99

00:07:22.800 --> 00:07:25.200

esse link para a tela novamente.



100

00:07:30.780 --> 00:07:34.150

Isso  bastante informativo, como eu disse, mas infelizmente isso mudou agora.



101

00:07:34.170 --> 00:07:36.090

Na verdade,  um pouco menos informativo.



102

00:07:36.250 --> 00:07:41.790

Chegou aqui ns temos este contedo para explicar por que o aplicativo  permisses para clicar sobre isso.



103

00:07:41.790 --> 00:07:47.690

Isso realmente descreve o comportamento que voc pode ver na tela que eles conhecem basicamente descreve o



104

00:07:47.690 --> 00:07:48.580

comportamento do show.



105

00:07:48.690 --> 00:07:50.600

Eu deveria pedir permisso.



106

00:07:50.650 --> 00:07:51.900

Chanel No.



107

00:07:51.960 --> 00:07:57.460

Ele costumava ter esse sorriso bonito que eu vou trazer na tela, mas que agora est sendo removido, o que est atrs



108

00:07:57.460 --> 00:07:58.480

de voc no mudou.



109

00:07:58.490 --> 00:08:02.150

E superamos muito o falso valor de retorno em nosso cdigo.



110

00:08:02.150 --> 00:08:04.640

Agora analisamos o problema de documentao com o Google.



111

00:08:04.700 --> 00:08:08.800

Assim, a nota estar de volta quando voc visitar o site novamente.



112

00:08:08.870 --> 00:08:14.300

Ento, estabelecemos neste ponto que o mtodo retornar verdadeiro se o usurio negou anteriormente a



113

00:08:14.300 --> 00:08:20.600

solicitao, que  o que queremos obter, porque queremos solicitar novamente que concedam acesso de forma bastante inteligente.



114

00:08:20.930 --> 00:08:26.870

Isso permitir que seja falso se o usurio tiver escolhido para perguntar novamente opo, tomando a caixa.



115

00:08:26.870 --> 00:08:32.450

Isso significa que ele fornece uma maneira de dizer a ele para usar como apenas uma nota para solicitar ser retornado verdadeiro ou



116

00:08:32.450 --> 00:08:33.770

se eu assinalar a caixa.



117

00:08:33.830 --> 00:08:35.490

Nesse caso, vamos ser falsos.



118

00:08:35.480 --> 00:08:40.640

Agora voc tem que ser um pouco cuidadoso ou no vai apenas chamar este mito por todo o



119

00:08:40.640 --> 00:08:46.640

lugar porque ele tambm retornar falso se j tivermos a permisso e isso fizer sentido se voc pensar sobre isso se



120

00:08:46.640 --> 00:08:50.800

o usurio tiver dado permisso ento no h No adianta explicar por que eles precisam.



121

00:08:51.170 --> 00:08:55.670

Ento, uma vez que voc tenha verificado e descoberto que seu aplicativo no tem permisso, no o



122

00:08:55.670 --> 00:09:01.850

deixe permitir que voc decida se deseja apenas perguntar novamente ou se precisa fazer mais, como levar o caso s configuraes ou talvez



123

00:09:02.240 --> 00:09:06.150

exibir uma caixa de dilogo com mais informao ou o que voc tem a fazer.



124

00:09:06.500 --> 00:09:10.820

Ento, se voc est executando aplicativos para o mundo corporativo, onde o aplicativo ser executado em



125

00:09:10.820 --> 00:09:15.830

dispositivos que so controlados centralmente pelas empresas Arteta Patman, ento voc teria que ser um pouco mais cuidadoso.



126

00:09:16.220 --> 00:09:22.070

Isso porque o mtodo de permisso de fechamento deve permitir que o mtodo russo retorne false se o Departamento de



127

00:09:22.430 --> 00:09:26.760

Estado tiver implantado uma poltica que impea os usurios de conceder a permisso necessria.



128

00:09:27.110 --> 00:09:30.650

Ento, nesse cenrio, lev-los para as configuraes  ftil.



129

00:09:30.980 --> 00:09:36.240

Mas ns no cobrimos as polticas de divrcio neste curso, mas  til apenas estar ciente desse comentrio.



130

00:09:36.260 --> 00:09:38.830

Se voc acabar produzindo aplicativos corporativos.



131

00:09:39.020 --> 00:09:41.580

Tudo bem, vamos voltar para a Austrlia.



132

00:09:42.050 --> 00:09:46.840

Ento, no deveramos ter cortado esse cdigo em primeiro lugar, a menos que a permisso fosse negada.



133

00:09:47.030 --> 00:09:52.330

E agora verificamos e descobrimos que a comisso foi negada apenas, e no permanentemente negada.



134

00:09:52.550 --> 00:09:58.990

E  por isso que o compacto de atividade deve mostrar o mtodo de permisso de solicitao retornando true.



135

00:09:59.390 --> 00:10:04.340

Ento, voc viu que eu acabei de postar no mesmo carto que usamos anteriormente para solicitar



136

00:10:04.340 --> 00:10:05.160

permisso do usurio.



137

00:10:05.360 --> 00:10:09.920

Ento, esperanosamente, neste momento, agora que eles viram como mensagem de neckband ao tentar



138

00:10:09.920 --> 00:10:12.290

exibir os contatos do telefone, eu concederei acesso.



139

00:10:12.590 --> 00:10:14.050

Ento, isso  verdade se retornou verdadeiro.



140

00:10:14.210 --> 00:10:21.160

Mas se o mtodo retornar false Isso deve mostrar a permisso de solicitao ou a justificativa de que devemos



141

00:10:21.320 --> 00:10:22.430

marcar a caixa.



142

00:10:22.430 --> 00:10:27.610

Ento, nesse caso, usamos apenas uma inteno de interromper a atividade de configuraes do aplicativo.



143

00:10:27.680 --> 00:10:29.740

Ento, vamos adicionar o carto ao local para fazer isso.



144

00:10:29.810 --> 00:10:32.810

Vai estar aqui.



145

00:10:32.900 --> 00:10:38.090

Ento, o tipo que voc quer para aquele comentrio Pursley que no



146

00:10:44.610 --> 00:10:45.720

est permanentemente alto



147

00:10:48.700 --> 00:10:52.480

e ela os leva direto para as configuraes.



148

00:10:52.750 --> 00:10:57.240

Ento, o carto atual est indo, vamos comear com os logs Eu



149

00:10:58.160 --> 00:11:04.450

olhei os parnteses para cima e vai ser lanchonete desmarque configuraes de lanamento de clon e



150

00:11:08.280 --> 00:11:09.330

comear a evoluir.



151

00:11:09.610 --> 00:11:12.350

Inteno  igual a inteno.



152

00:11:12.380 --> 00:11:22.450

O capital Y entre parnteses que vai a inteno no a ao  igual ao ponto do ajuste.



153

00:11:22.690 --> 00:11:30.190

Isso tem que ser ao sobre os detalhes do aplicativo da escola e vamos para as configuraes que so vlidas.



154

00:11:30.190 --> 00:11:37.170

Voc est certo  igual ao seu bastante mantido voc de potes e entre parnteses.



155

00:11:37.350 --> 00:11:44.680

Aspas duplas palavra pacote pacote comma dot nome do pacote, em seguida.



156

00:11:44.700 --> 00:11:45.880

Agora, como



157

00:11:49.470 --> 00:11:54.870

o terceiro argumento, tentaremos usar o seu direito.



158

00:11:55.230 --> 00:11:56.790

Quero dizer,



159

00:11:59.480 --> 00:12:03.570

isso comea a atividade inicial entre parnteses.



160

00:12:04.730 --> 00:12:06.190

Ento eu diria ler assim antes.



161

00:12:06.230 --> 00:12:12.310

No Reino Unido, por exemplo, criamos uma nova inteno e depois uma atividade de incio a frio para



162

00:12:12.310 --> 00:12:14.380

iniciar as atividades descritas pela inteno.



163

00:12:14.740 --> 00:12:21.080

Esta inteno  um pouco diferente porque especificamos que precisamos dela para que o mtodo de ao set precise



164

00:12:21.520 --> 00:12:24.310

de uma string especificando a ao a ser executada.



165

00:12:24.380 --> 00:12:30.650

E aqui queremos lanar o aplicativo de configuraes e ter uma configurao aberta e de aplicativos agora sendo



166

00:12:30.680 --> 00:12:35.260

o Kotla, acessamos o curso de ao em vez de ir pelo setter.



167

00:12:35.670 --> 00:12:39.860

E se voc quisesse, poderia trazer a documentao do mtodo de seduo, mas isso no diz



168

00:12:39.860 --> 00:12:41.890

mais do que o que acabei de mencionar.



169

00:12:41.960 --> 00:12:46.490

Agora a documentao para esta constante Sua ao sobre o aplicativo da escola e sua data de corte foi



170

00:12:46.490 --> 00:12:48.550

tipo de configurao de pontuao  muito mais informativa.



171

00:12:48.590 --> 00:12:50.580

Completando a documentao para isso.



172

00:12:50.580 --> 00:12:56.630

Ento, isso est nos dizendo aqui que ele mostra detalhes sobre um aplicativo especfico e tambm temos que usar



173

00:12:56.630 --> 00:13:00.880

o esquema de pacote e especificar o nome do pacote de aplicativos nas tendas.



174

00:13:00.900 --> 00:13:04.490

Voc est agora recebendo o pacote de aplicativos neles  fcil.



175

00:13:04.490 --> 00:13:08.000

Ns apenas suckhole o pacote get e mtodo em um contexto.



176

00:13:08.000 --> 00:13:12.560

Agora, a maneira mais fcil de obter um contexto de dentro do ouvinte  usar isso



177

00:13:12.560 --> 00:13:14.980

para se referir  instncia atual da minha atividade.



178

00:13:15.560 --> 00:13:17.090

Da o uso dessa ideia aqui.



179

00:13:17.160 --> 00:13:24.680

Agora, quando seu y consiste em um esquema, como Hastey tape yes ou fall ou, neste caso, o esquema  seguido



180

00:13:24.680 --> 00:13:28.490

por um SS PE ou por uma parte especfica do esquema.



181

00:13:28.490 --> 00:13:32.340

Nesse caso,  apenas o pacote.



182

00:13:33.460 --> 00:13:40.610

Ento, obviamente, essa primeira parte foi o nome do que eu falei e agora usamos o mtodo Yervoy from



183

00:13:40.610 --> 00:13:45.600

pots para iniciar o ano ou precisamos passar os dados para a inteno.



184

00:13:46.010 --> 00:13:50.780

Agora vamos usar seus olhos um pouco, ento vou discuti-los mais detalhadamente mais



185

00:13:50.780 --> 00:13:51.830

adiante no curso.



186

00:13:51.830 --> 00:13:57.580

Por agora, embora o que eu vou fazer  tambm aproveitar a oportunidade para registrar o seu porque isso  criado, s quero dizer



187

00:13:57.580 --> 00:13:59.280

que voc pode ver o que parece.



188

00:13:59.570 --> 00:14:01.880

Vou colocar uma mensagem de log l.



189

00:14:02.960 --> 00:14:16.270

Eu tenho um parntese Tecoma, claro, indo para a lanchonete Kallen spice unclick chamando.



190

00:14:16.400 --> 00:14:17.340

Voc est certo.



191

00:14:17.360 --> 00:14:21.490

 o dlar no seu celular.



192

00:14:21.500 --> 00:14:28.210

Ento ligamos on-line que  eu. T. o mtodo de atividade pensamento MICKOLUS para lanar as configuraes Parmalat.



193

00:14:28.220 --> 00:14:29.760

Agora isso deve ser tudo que precisamos.



194

00:14:29.840 --> 00:14:34.090

Mas infelizmente esse cdigo faz algo que realmente devemos evitar.



195

00:14:34.490 --> 00:14:38.430

E no prximo eu vou executar o aplicativo e ver o que  isso e como ele se comporta.



196

00:14:38.450 --> 00:14:39.780

Eu vou te ver no prximo vdeo.



