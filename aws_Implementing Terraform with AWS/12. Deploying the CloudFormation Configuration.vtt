WEBVTT
1
00:00:01.140 --> 00:00:03.490
[Autogenerated] All right, We're back in commands dot Txt.

2
00:00:03.490 --> 00:00:06.750
And we are ready to deploy this terra form configuration.

3
00:00:06.750 --> 00:00:11.840
First thing we do is fill out the bucket name and the dynamo DB table.

4
00:00:11.840 --> 00:00:14.410
I'm gonna grab the bucket name and paste it in here,

5
00:00:14.410 --> 00:00:17.740
and we'll scroll over to the Dynamo DB table.

6
00:00:17.740 --> 00:00:20.730
Go ahead and grab that from a Notepad file I have open.

7
00:00:20.730 --> 00:00:21.400
There we go.

8
00:00:21.400 --> 00:00:23.360
All right, so we've got that set up.

9
00:00:23.360 --> 00:00:29.640
We're using the seam S3 bucket that we used for the previous exercise.

10
00:00:29.640 --> 00:00:32.290
Go ahead and open up the terminal down below and well

11
00:00:32.290 --> 00:00:36.540
paced in this initialization command.

12
00:00:36.540 --> 00:00:36.960
There we go.

13
00:00:36.960 --> 00:00:39.050
So it'll set up the S3 back end.

14
00:00:39.050 --> 00:00:42.140
Download those plug ins for us,

15
00:00:42.140 --> 00:00:47.340
and then we will go ahead and run Terra form plan.

16
00:00:47.340 --> 00:00:49.220
All right, Got terra form plan.

17
00:00:49.220 --> 00:00:57.340
Go ahead and run that.

18
00:00:57.340 --> 00:00:57.650
Okay?

19
00:00:57.650 --> 00:01:02.100
It has successfully run our plan, and lastly, we will run the Terra form.

20
00:01:02.100 --> 00:01:04.650
Apply now.

21
00:01:04.650 --> 00:01:05.300
Fortunately,

22
00:01:05.300 --> 00:01:07.840
this won't take nearly as long as setting up the database

23
00:01:07.840 --> 00:01:10.610
because it's really just creating a lambda function and the

24
00:01:10.610 --> 00:01:14.290
Dynamo DB table and then updating with those network interfaces

25
00:01:14.290 --> 00:01:17.470
in the VPC while it's creating.

26
00:01:17.470 --> 00:01:19.940
Let's go over to the console and we can.

27
00:01:19.940 --> 00:01:22.930
Look at what's going on with our CloudFormation stack.

28
00:01:22.930 --> 00:01:26.390
All right, here we are in the console and we're looking at CloudFormation.

29
00:01:26.390 --> 00:01:29.470
We've got a stack that is create in progress.

30
00:01:29.470 --> 00:01:32.740
We can Click through on that stack and go to events.

31
00:01:32.740 --> 00:01:36.280
We can see the at it started to roll through, creating some of the resources.

32
00:01:36.280 --> 00:01:38.500
The Dynamo DB table is complete.

33
00:01:38.500 --> 00:01:39.110
We scroll up.

34
00:01:39.110 --> 00:01:42.480
It looks like the Lambda role is complete and it looks

35
00:01:42.480 --> 00:01:45.920
like the land of function is in progress.

36
00:01:45.920 --> 00:01:48.750
So let's go over to the land of service and I'll open it up.

37
00:01:48.750 --> 00:01:50.840
In a separate tab.

38
00:01:50.840 --> 00:01:54.640
We could see we have one lambda function.

39
00:01:54.640 --> 00:01:56.810
It's still being configured,

40
00:01:56.810 --> 00:02:00.700
but if we scroll down here and go past the function code,

41
00:02:00.700 --> 00:02:04.170
we'll get to the VPC Info and we can.

42
00:02:04.170 --> 00:02:06.370
See, it's using the Dev VPC.

43
00:02:06.370 --> 00:02:08.390
That's what we wanted in the sub nets.

44
00:02:08.390 --> 00:02:08.650
We can.

45
00:02:08.650 --> 00:02:10.930
See, it's using the two public sub nets.

46
00:02:10.930 --> 00:02:14.340
That's what we wanted and it's using the Lambda Security Group.

47
00:02:14.340 --> 00:02:15.100
So that's awesome.

48
00:02:15.100 --> 00:02:19.890
It was able to integrate with our existing Dev vpc for this function.

49
00:02:19.890 --> 00:02:24.230
If we go back to CloudFormation and now we can see the at

50
00:02:24.230 --> 00:02:26.710
the land of function creation is complete,

51
00:02:26.710 --> 00:02:29.640
which means that the entire stack is done creating.

52
00:02:29.640 --> 00:02:30.650
So we're all set.

53
00:02:30.650 --> 00:02:31.620
That stack should be done.

54
00:02:31.620 --> 00:02:33.920
If we go back to Terra form we can.

55
00:02:33.920 --> 00:02:34.190
See,

56
00:02:34.190 --> 00:02:38.080
it successfully completed its run and it has the template output

57
00:02:38.080 --> 00:02:41.000
here of the function are in and the table name.

58
00:02:41.000 --> 00:02:49.000
So it looks like everything was deployed successfully. We used that CloudFormation template to deploy a stack using terra form.

